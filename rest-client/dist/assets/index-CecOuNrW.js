(function () {
  const e = document.createElement("link").relList;
  if (e && e.supports && e.supports("modulepreload")) return;
  for (const o of document.querySelectorAll('link[rel="modulepreload"]')) s(o);
  new MutationObserver((o) => {
    for (const l of o)
      if (l.type === "childList")
        for (const c of l.addedNodes)
          c.tagName === "LINK" && c.rel === "modulepreload" && s(c);
  }).observe(document, { childList: !0, subtree: !0 });
  function t(o) {
    const l = {};
    return (
      o.integrity && (l.integrity = o.integrity),
      o.referrerPolicy && (l.referrerPolicy = o.referrerPolicy),
      o.crossOrigin === "use-credentials"
        ? (l.credentials = "include")
        : o.crossOrigin === "anonymous"
          ? (l.credentials = "omit")
          : (l.credentials = "same-origin"),
      l
    );
  }
  function s(o) {
    if (o.ep) return;
    o.ep = !0;
    const l = t(o);
    fetch(o.href, l);
  }
})();
function Z0(r) {
  return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, "default")
    ? r.default
    : r;
}
var mp = { exports: {} },
  Ql = {};
/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var N_;
function TA() {
  if (N_) return Ql;
  N_ = 1;
  var r = Symbol.for("react.transitional.element"),
    e = Symbol.for("react.fragment");
  function t(s, o, l) {
    var c = null;
    if (
      (l !== void 0 && (c = "" + l),
      o.key !== void 0 && (c = "" + o.key),
      "key" in o)
    ) {
      l = {};
      for (var d in o) d !== "key" && (l[d] = o[d]);
    } else l = o;
    return (
      (o = l.ref),
      { $$typeof: r, type: s, key: c, ref: o !== void 0 ? o : null, props: l }
    );
  }
  return ((Ql.Fragment = e), (Ql.jsx = t), (Ql.jsxs = t), Ql);
}
var D_;
function SA() {
  return (D_ || ((D_ = 1), (mp.exports = TA())), mp.exports);
}
var X = SA(),
  gp = { exports: {} },
  qe = {};
/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var O_;
function bA() {
  if (O_) return qe;
  O_ = 1;
  var r = Symbol.for("react.transitional.element"),
    e = Symbol.for("react.portal"),
    t = Symbol.for("react.fragment"),
    s = Symbol.for("react.strict_mode"),
    o = Symbol.for("react.profiler"),
    l = Symbol.for("react.consumer"),
    c = Symbol.for("react.context"),
    d = Symbol.for("react.forward_ref"),
    m = Symbol.for("react.suspense"),
    g = Symbol.for("react.memo"),
    v = Symbol.for("react.lazy"),
    T = Symbol.iterator;
  function b(O) {
    return O === null || typeof O != "object"
      ? null
      : ((O = (T && O[T]) || O["@@iterator"]),
        typeof O == "function" ? O : null);
  }
  var A = {
      isMounted: function () {
        return !1;
      },
      enqueueForceUpdate: function () {},
      enqueueReplaceState: function () {},
      enqueueSetState: function () {},
    },
    D = Object.assign,
    J = {};
  function B(O, te, fe) {
    ((this.props = O),
      (this.context = te),
      (this.refs = J),
      (this.updater = fe || A));
  }
  ((B.prototype.isReactComponent = {}),
    (B.prototype.setState = function (O, te) {
      if (typeof O != "object" && typeof O != "function" && O != null)
        throw Error(
          "takes an object of state variables to update or a function which returns an object of state variables.",
        );
      this.updater.enqueueSetState(this, O, te, "setState");
    }),
    (B.prototype.forceUpdate = function (O) {
      this.updater.enqueueForceUpdate(this, O, "forceUpdate");
    }));
  function Q() {}
  Q.prototype = B.prototype;
  function Z(O, te, fe) {
    ((this.props = O),
      (this.context = te),
      (this.refs = J),
      (this.updater = fe || A));
  }
  var ie = (Z.prototype = new Q());
  ((ie.constructor = Z), D(ie, B.prototype), (ie.isPureReactComponent = !0));
  var pe = Array.isArray,
    le = { H: null, A: null, T: null, S: null, V: null },
    k = Object.prototype.hasOwnProperty;
  function x(O, te, fe, ue, Ee, He) {
    return (
      (fe = He.ref),
      {
        $$typeof: r,
        type: O,
        key: te,
        ref: fe !== void 0 ? fe : null,
        props: He,
      }
    );
  }
  function R(O, te) {
    return x(O.type, te, void 0, void 0, void 0, O.props);
  }
  function C(O) {
    return typeof O == "object" && O !== null && O.$$typeof === r;
  }
  function M(O) {
    var te = { "=": "=0", ":": "=2" };
    return (
      "$" +
      O.replace(/[=:]/g, function (fe) {
        return te[fe];
      })
    );
  }
  var V = /\/+/g;
  function j(O, te) {
    return typeof O == "object" && O !== null && O.key != null
      ? M("" + O.key)
      : te.toString(36);
  }
  function I() {}
  function Ie(O) {
    switch (O.status) {
      case "fulfilled":
        return O.value;
      case "rejected":
        throw O.reason;
      default:
        switch (
          (typeof O.status == "string"
            ? O.then(I, I)
            : ((O.status = "pending"),
              O.then(
                function (te) {
                  O.status === "pending" &&
                    ((O.status = "fulfilled"), (O.value = te));
                },
                function (te) {
                  O.status === "pending" &&
                    ((O.status = "rejected"), (O.reason = te));
                },
              )),
          O.status)
        ) {
          case "fulfilled":
            return O.value;
          case "rejected":
            throw O.reason;
        }
    }
    throw O;
  }
  function Ke(O, te, fe, ue, Ee) {
    var He = typeof O;
    (He === "undefined" || He === "boolean") && (O = null);
    var Ne = !1;
    if (O === null) Ne = !0;
    else
      switch (He) {
        case "bigint":
        case "string":
        case "number":
          Ne = !0;
          break;
        case "object":
          switch (O.$$typeof) {
            case r:
            case e:
              Ne = !0;
              break;
            case v:
              return ((Ne = O._init), Ke(Ne(O._payload), te, fe, ue, Ee));
          }
      }
    if (Ne)
      return (
        (Ee = Ee(O)),
        (Ne = ue === "" ? "." + j(O, 0) : ue),
        pe(Ee)
          ? ((fe = ""),
            Ne != null && (fe = Ne.replace(V, "$&/") + "/"),
            Ke(Ee, te, fe, "", function (Wn) {
              return Wn;
            }))
          : Ee != null &&
            (C(Ee) &&
              (Ee = R(
                Ee,
                fe +
                  (Ee.key == null || (O && O.key === Ee.key)
                    ? ""
                    : ("" + Ee.key).replace(V, "$&/") + "/") +
                  Ne,
              )),
            te.push(Ee)),
        1
      );
    Ne = 0;
    var kt = ue === "" ? "." : ue + ":";
    if (pe(O))
      for (var gt = 0; gt < O.length; gt++)
        ((ue = O[gt]), (He = kt + j(ue, gt)), (Ne += Ke(ue, te, fe, He, Ee)));
    else if (((gt = b(O)), typeof gt == "function"))
      for (O = gt.call(O), gt = 0; !(ue = O.next()).done; )
        ((ue = ue.value),
          (He = kt + j(ue, gt++)),
          (Ne += Ke(ue, te, fe, He, Ee)));
    else if (He === "object") {
      if (typeof O.then == "function") return Ke(Ie(O), te, fe, ue, Ee);
      throw (
        (te = String(O)),
        Error(
          "Objects are not valid as a React child (found: " +
            (te === "[object Object]"
              ? "object with keys {" + Object.keys(O).join(", ") + "}"
              : te) +
            "). If you meant to render a collection of children, use an array instead.",
        )
      );
    }
    return Ne;
  }
  function G(O, te, fe) {
    if (O == null) return O;
    var ue = [],
      Ee = 0;
    return (
      Ke(O, ue, "", "", function (He) {
        return te.call(fe, He, Ee++);
      }),
      ue
    );
  }
  function ce(O) {
    if (O._status === -1) {
      var te = O._result;
      ((te = te()),
        te.then(
          function (fe) {
            (O._status === 0 || O._status === -1) &&
              ((O._status = 1), (O._result = fe));
          },
          function (fe) {
            (O._status === 0 || O._status === -1) &&
              ((O._status = 2), (O._result = fe));
          },
        ),
        O._status === -1 && ((O._status = 0), (O._result = te)));
    }
    if (O._status === 1) return O._result.default;
    throw O._result;
  }
  var ge =
    typeof reportError == "function"
      ? reportError
      : function (O) {
          if (
            typeof window == "object" &&
            typeof window.ErrorEvent == "function"
          ) {
            var te = new window.ErrorEvent("error", {
              bubbles: !0,
              cancelable: !0,
              message:
                typeof O == "object" &&
                O !== null &&
                typeof O.message == "string"
                  ? String(O.message)
                  : String(O),
              error: O,
            });
            if (!window.dispatchEvent(te)) return;
          } else if (
            typeof process == "object" &&
            typeof process.emit == "function"
          ) {
            process.emit("uncaughtException", O);
            return;
          }
          console.error(O);
        };
  function Ve() {}
  return (
    (qe.Children = {
      map: G,
      forEach: function (O, te, fe) {
        G(
          O,
          function () {
            te.apply(this, arguments);
          },
          fe,
        );
      },
      count: function (O) {
        var te = 0;
        return (
          G(O, function () {
            te++;
          }),
          te
        );
      },
      toArray: function (O) {
        return (
          G(O, function (te) {
            return te;
          }) || []
        );
      },
      only: function (O) {
        if (!C(O))
          throw Error(
            "React.Children.only expected to receive a single React element child.",
          );
        return O;
      },
    }),
    (qe.Component = B),
    (qe.Fragment = t),
    (qe.Profiler = o),
    (qe.PureComponent = Z),
    (qe.StrictMode = s),
    (qe.Suspense = m),
    (qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = le),
    (qe.__COMPILER_RUNTIME = {
      __proto__: null,
      c: function (O) {
        return le.H.useMemoCache(O);
      },
    }),
    (qe.cache = function (O) {
      return function () {
        return O.apply(null, arguments);
      };
    }),
    (qe.cloneElement = function (O, te, fe) {
      if (O == null)
        throw Error(
          "The argument must be a React element, but you passed " + O + ".",
        );
      var ue = D({}, O.props),
        Ee = O.key,
        He = void 0;
      if (te != null)
        for (Ne in (te.ref !== void 0 && (He = void 0),
        te.key !== void 0 && (Ee = "" + te.key),
        te))
          !k.call(te, Ne) ||
            Ne === "key" ||
            Ne === "__self" ||
            Ne === "__source" ||
            (Ne === "ref" && te.ref === void 0) ||
            (ue[Ne] = te[Ne]);
      var Ne = arguments.length - 2;
      if (Ne === 1) ue.children = fe;
      else if (1 < Ne) {
        for (var kt = Array(Ne), gt = 0; gt < Ne; gt++)
          kt[gt] = arguments[gt + 2];
        ue.children = kt;
      }
      return x(O.type, Ee, void 0, void 0, He, ue);
    }),
    (qe.createContext = function (O) {
      return (
        (O = {
          $$typeof: c,
          _currentValue: O,
          _currentValue2: O,
          _threadCount: 0,
          Provider: null,
          Consumer: null,
        }),
        (O.Provider = O),
        (O.Consumer = { $$typeof: l, _context: O }),
        O
      );
    }),
    (qe.createElement = function (O, te, fe) {
      var ue,
        Ee = {},
        He = null;
      if (te != null)
        for (ue in (te.key !== void 0 && (He = "" + te.key), te))
          k.call(te, ue) &&
            ue !== "key" &&
            ue !== "__self" &&
            ue !== "__source" &&
            (Ee[ue] = te[ue]);
      var Ne = arguments.length - 2;
      if (Ne === 1) Ee.children = fe;
      else if (1 < Ne) {
        for (var kt = Array(Ne), gt = 0; gt < Ne; gt++)
          kt[gt] = arguments[gt + 2];
        Ee.children = kt;
      }
      if (O && O.defaultProps)
        for (ue in ((Ne = O.defaultProps), Ne))
          Ee[ue] === void 0 && (Ee[ue] = Ne[ue]);
      return x(O, He, void 0, void 0, null, Ee);
    }),
    (qe.createRef = function () {
      return { current: null };
    }),
    (qe.forwardRef = function (O) {
      return { $$typeof: d, render: O };
    }),
    (qe.isValidElement = C),
    (qe.lazy = function (O) {
      return { $$typeof: v, _payload: { _status: -1, _result: O }, _init: ce };
    }),
    (qe.memo = function (O, te) {
      return { $$typeof: g, type: O, compare: te === void 0 ? null : te };
    }),
    (qe.startTransition = function (O) {
      var te = le.T,
        fe = {};
      le.T = fe;
      try {
        var ue = O(),
          Ee = le.S;
        (Ee !== null && Ee(fe, ue),
          typeof ue == "object" &&
            ue !== null &&
            typeof ue.then == "function" &&
            ue.then(Ve, ge));
      } catch (He) {
        ge(He);
      } finally {
        le.T = te;
      }
    }),
    (qe.unstable_useCacheRefresh = function () {
      return le.H.useCacheRefresh();
    }),
    (qe.use = function (O) {
      return le.H.use(O);
    }),
    (qe.useActionState = function (O, te, fe) {
      return le.H.useActionState(O, te, fe);
    }),
    (qe.useCallback = function (O, te) {
      return le.H.useCallback(O, te);
    }),
    (qe.useContext = function (O) {
      return le.H.useContext(O);
    }),
    (qe.useDebugValue = function () {}),
    (qe.useDeferredValue = function (O, te) {
      return le.H.useDeferredValue(O, te);
    }),
    (qe.useEffect = function (O, te, fe) {
      var ue = le.H;
      if (typeof fe == "function")
        throw Error(
          "useEffect CRUD overload is not enabled in this build of React.",
        );
      return ue.useEffect(O, te);
    }),
    (qe.useId = function () {
      return le.H.useId();
    }),
    (qe.useImperativeHandle = function (O, te, fe) {
      return le.H.useImperativeHandle(O, te, fe);
    }),
    (qe.useInsertionEffect = function (O, te) {
      return le.H.useInsertionEffect(O, te);
    }),
    (qe.useLayoutEffect = function (O, te) {
      return le.H.useLayoutEffect(O, te);
    }),
    (qe.useMemo = function (O, te) {
      return le.H.useMemo(O, te);
    }),
    (qe.useOptimistic = function (O, te) {
      return le.H.useOptimistic(O, te);
    }),
    (qe.useReducer = function (O, te, fe) {
      return le.H.useReducer(O, te, fe);
    }),
    (qe.useRef = function (O) {
      return le.H.useRef(O);
    }),
    (qe.useState = function (O) {
      return le.H.useState(O);
    }),
    (qe.useSyncExternalStore = function (O, te, fe) {
      return le.H.useSyncExternalStore(O, te, fe);
    }),
    (qe.useTransition = function () {
      return le.H.useTransition();
    }),
    (qe.version = "19.1.1"),
    qe
  );
}
var M_;
function Rm() {
  return (M_ || ((M_ = 1), (gp.exports = bA())), gp.exports);
}
var U = Rm();
const wA = Z0(U);
var yp = { exports: {} },
  Xl = {},
  vp = { exports: {} },
  _p = {};
/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var P_;
function AA() {
  return (
    P_ ||
      ((P_ = 1),
      (function (r) {
        function e(G, ce) {
          var ge = G.length;
          G.push(ce);
          e: for (; 0 < ge; ) {
            var Ve = (ge - 1) >>> 1,
              O = G[Ve];
            if (0 < o(O, ce)) ((G[Ve] = ce), (G[ge] = O), (ge = Ve));
            else break e;
          }
        }
        function t(G) {
          return G.length === 0 ? null : G[0];
        }
        function s(G) {
          if (G.length === 0) return null;
          var ce = G[0],
            ge = G.pop();
          if (ge !== ce) {
            G[0] = ge;
            e: for (var Ve = 0, O = G.length, te = O >>> 1; Ve < te; ) {
              var fe = 2 * (Ve + 1) - 1,
                ue = G[fe],
                Ee = fe + 1,
                He = G[Ee];
              if (0 > o(ue, ge))
                Ee < O && 0 > o(He, ue)
                  ? ((G[Ve] = He), (G[Ee] = ge), (Ve = Ee))
                  : ((G[Ve] = ue), (G[fe] = ge), (Ve = fe));
              else if (Ee < O && 0 > o(He, ge))
                ((G[Ve] = He), (G[Ee] = ge), (Ve = Ee));
              else break e;
            }
          }
          return ce;
        }
        function o(G, ce) {
          var ge = G.sortIndex - ce.sortIndex;
          return ge !== 0 ? ge : G.id - ce.id;
        }
        if (
          ((r.unstable_now = void 0),
          typeof performance == "object" &&
            typeof performance.now == "function")
        ) {
          var l = performance;
          r.unstable_now = function () {
            return l.now();
          };
        } else {
          var c = Date,
            d = c.now();
          r.unstable_now = function () {
            return c.now() - d;
          };
        }
        var m = [],
          g = [],
          v = 1,
          T = null,
          b = 3,
          A = !1,
          D = !1,
          J = !1,
          B = !1,
          Q = typeof setTimeout == "function" ? setTimeout : null,
          Z = typeof clearTimeout == "function" ? clearTimeout : null,
          ie = typeof setImmediate < "u" ? setImmediate : null;
        function pe(G) {
          for (var ce = t(g); ce !== null; ) {
            if (ce.callback === null) s(g);
            else if (ce.startTime <= G)
              (s(g), (ce.sortIndex = ce.expirationTime), e(m, ce));
            else break;
            ce = t(g);
          }
        }
        function le(G) {
          if (((J = !1), pe(G), !D))
            if (t(m) !== null) ((D = !0), k || ((k = !0), j()));
            else {
              var ce = t(g);
              ce !== null && Ke(le, ce.startTime - G);
            }
        }
        var k = !1,
          x = -1,
          R = 5,
          C = -1;
        function M() {
          return B ? !0 : !(r.unstable_now() - C < R);
        }
        function V() {
          if (((B = !1), k)) {
            var G = r.unstable_now();
            C = G;
            var ce = !0;
            try {
              e: {
                ((D = !1), J && ((J = !1), Z(x), (x = -1)), (A = !0));
                var ge = b;
                try {
                  t: {
                    for (
                      pe(G), T = t(m);
                      T !== null && !(T.expirationTime > G && M());

                    ) {
                      var Ve = T.callback;
                      if (typeof Ve == "function") {
                        ((T.callback = null), (b = T.priorityLevel));
                        var O = Ve(T.expirationTime <= G);
                        if (((G = r.unstable_now()), typeof O == "function")) {
                          ((T.callback = O), pe(G), (ce = !0));
                          break t;
                        }
                        (T === t(m) && s(m), pe(G));
                      } else s(m);
                      T = t(m);
                    }
                    if (T !== null) ce = !0;
                    else {
                      var te = t(g);
                      (te !== null && Ke(le, te.startTime - G), (ce = !1));
                    }
                  }
                  break e;
                } finally {
                  ((T = null), (b = ge), (A = !1));
                }
                ce = void 0;
              }
            } finally {
              ce ? j() : (k = !1);
            }
          }
        }
        var j;
        if (typeof ie == "function")
          j = function () {
            ie(V);
          };
        else if (typeof MessageChannel < "u") {
          var I = new MessageChannel(),
            Ie = I.port2;
          ((I.port1.onmessage = V),
            (j = function () {
              Ie.postMessage(null);
            }));
        } else
          j = function () {
            Q(V, 0);
          };
        function Ke(G, ce) {
          x = Q(function () {
            G(r.unstable_now());
          }, ce);
        }
        ((r.unstable_IdlePriority = 5),
          (r.unstable_ImmediatePriority = 1),
          (r.unstable_LowPriority = 4),
          (r.unstable_NormalPriority = 3),
          (r.unstable_Profiling = null),
          (r.unstable_UserBlockingPriority = 2),
          (r.unstable_cancelCallback = function (G) {
            G.callback = null;
          }),
          (r.unstable_forceFrameRate = function (G) {
            0 > G || 125 < G
              ? console.error(
                  "forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported",
                )
              : (R = 0 < G ? Math.floor(1e3 / G) : 5);
          }),
          (r.unstable_getCurrentPriorityLevel = function () {
            return b;
          }),
          (r.unstable_next = function (G) {
            switch (b) {
              case 1:
              case 2:
              case 3:
                var ce = 3;
                break;
              default:
                ce = b;
            }
            var ge = b;
            b = ce;
            try {
              return G();
            } finally {
              b = ge;
            }
          }),
          (r.unstable_requestPaint = function () {
            B = !0;
          }),
          (r.unstable_runWithPriority = function (G, ce) {
            switch (G) {
              case 1:
              case 2:
              case 3:
              case 4:
              case 5:
                break;
              default:
                G = 3;
            }
            var ge = b;
            b = G;
            try {
              return ce();
            } finally {
              b = ge;
            }
          }),
          (r.unstable_scheduleCallback = function (G, ce, ge) {
            var Ve = r.unstable_now();
            switch (
              (typeof ge == "object" && ge !== null
                ? ((ge = ge.delay),
                  (ge = typeof ge == "number" && 0 < ge ? Ve + ge : Ve))
                : (ge = Ve),
              G)
            ) {
              case 1:
                var O = -1;
                break;
              case 2:
                O = 250;
                break;
              case 5:
                O = 1073741823;
                break;
              case 4:
                O = 1e4;
                break;
              default:
                O = 5e3;
            }
            return (
              (O = ge + O),
              (G = {
                id: v++,
                callback: ce,
                priorityLevel: G,
                startTime: ge,
                expirationTime: O,
                sortIndex: -1,
              }),
              ge > Ve
                ? ((G.sortIndex = ge),
                  e(g, G),
                  t(m) === null &&
                    G === t(g) &&
                    (J ? (Z(x), (x = -1)) : (J = !0), Ke(le, ge - Ve)))
                : ((G.sortIndex = O),
                  e(m, G),
                  D || A || ((D = !0), k || ((k = !0), j()))),
              G
            );
          }),
          (r.unstable_shouldYield = M),
          (r.unstable_wrapCallback = function (G) {
            var ce = b;
            return function () {
              var ge = b;
              b = ce;
              try {
                return G.apply(this, arguments);
              } finally {
                b = ge;
              }
            };
          }));
      })(_p)),
    _p
  );
}
var L_;
function RA() {
  return (L_ || ((L_ = 1), (vp.exports = AA())), vp.exports);
}
var Ep = { exports: {} },
  gn = {};
/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var V_;
function CA() {
  if (V_) return gn;
  V_ = 1;
  var r = Rm();
  function e(m) {
    var g = "https://react.dev/errors/" + m;
    if (1 < arguments.length) {
      g += "?args[]=" + encodeURIComponent(arguments[1]);
      for (var v = 2; v < arguments.length; v++)
        g += "&args[]=" + encodeURIComponent(arguments[v]);
    }
    return (
      "Minified React error #" +
      m +
      "; visit " +
      g +
      " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
    );
  }
  function t() {}
  var s = {
      d: {
        f: t,
        r: function () {
          throw Error(e(522));
        },
        D: t,
        C: t,
        L: t,
        m: t,
        X: t,
        S: t,
        M: t,
      },
      p: 0,
      findDOMNode: null,
    },
    o = Symbol.for("react.portal");
  function l(m, g, v) {
    var T =
      3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
    return {
      $$typeof: o,
      key: T == null ? null : "" + T,
      children: m,
      containerInfo: g,
      implementation: v,
    };
  }
  var c = r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;
  function d(m, g) {
    if (m === "font") return "";
    if (typeof g == "string") return g === "use-credentials" ? g : "";
  }
  return (
    (gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = s),
    (gn.createPortal = function (m, g) {
      var v =
        2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
      if (!g || (g.nodeType !== 1 && g.nodeType !== 9 && g.nodeType !== 11))
        throw Error(e(299));
      return l(m, g, null, v);
    }),
    (gn.flushSync = function (m) {
      var g = c.T,
        v = s.p;
      try {
        if (((c.T = null), (s.p = 2), m)) return m();
      } finally {
        ((c.T = g), (s.p = v), s.d.f());
      }
    }),
    (gn.preconnect = function (m, g) {
      typeof m == "string" &&
        (g
          ? ((g = g.crossOrigin),
            (g =
              typeof g == "string"
                ? g === "use-credentials"
                  ? g
                  : ""
                : void 0))
          : (g = null),
        s.d.C(m, g));
    }),
    (gn.prefetchDNS = function (m) {
      typeof m == "string" && s.d.D(m);
    }),
    (gn.preinit = function (m, g) {
      if (typeof m == "string" && g && typeof g.as == "string") {
        var v = g.as,
          T = d(v, g.crossOrigin),
          b = typeof g.integrity == "string" ? g.integrity : void 0,
          A = typeof g.fetchPriority == "string" ? g.fetchPriority : void 0;
        v === "style"
          ? s.d.S(m, typeof g.precedence == "string" ? g.precedence : void 0, {
              crossOrigin: T,
              integrity: b,
              fetchPriority: A,
            })
          : v === "script" &&
            s.d.X(m, {
              crossOrigin: T,
              integrity: b,
              fetchPriority: A,
              nonce: typeof g.nonce == "string" ? g.nonce : void 0,
            });
      }
    }),
    (gn.preinitModule = function (m, g) {
      if (typeof m == "string")
        if (typeof g == "object" && g !== null) {
          if (g.as == null || g.as === "script") {
            var v = d(g.as, g.crossOrigin);
            s.d.M(m, {
              crossOrigin: v,
              integrity: typeof g.integrity == "string" ? g.integrity : void 0,
              nonce: typeof g.nonce == "string" ? g.nonce : void 0,
            });
          }
        } else g == null && s.d.M(m);
    }),
    (gn.preload = function (m, g) {
      if (
        typeof m == "string" &&
        typeof g == "object" &&
        g !== null &&
        typeof g.as == "string"
      ) {
        var v = g.as,
          T = d(v, g.crossOrigin);
        s.d.L(m, v, {
          crossOrigin: T,
          integrity: typeof g.integrity == "string" ? g.integrity : void 0,
          nonce: typeof g.nonce == "string" ? g.nonce : void 0,
          type: typeof g.type == "string" ? g.type : void 0,
          fetchPriority:
            typeof g.fetchPriority == "string" ? g.fetchPriority : void 0,
          referrerPolicy:
            typeof g.referrerPolicy == "string" ? g.referrerPolicy : void 0,
          imageSrcSet:
            typeof g.imageSrcSet == "string" ? g.imageSrcSet : void 0,
          imageSizes: typeof g.imageSizes == "string" ? g.imageSizes : void 0,
          media: typeof g.media == "string" ? g.media : void 0,
        });
      }
    }),
    (gn.preloadModule = function (m, g) {
      if (typeof m == "string")
        if (g) {
          var v = d(g.as, g.crossOrigin);
          s.d.m(m, {
            as: typeof g.as == "string" && g.as !== "script" ? g.as : void 0,
            crossOrigin: v,
            integrity: typeof g.integrity == "string" ? g.integrity : void 0,
          });
        } else s.d.m(m);
    }),
    (gn.requestFormReset = function (m) {
      s.d.r(m);
    }),
    (gn.unstable_batchedUpdates = function (m, g) {
      return m(g);
    }),
    (gn.useFormState = function (m, g, v) {
      return c.H.useFormState(m, g, v);
    }),
    (gn.useFormStatus = function () {
      return c.H.useHostTransitionStatus();
    }),
    (gn.version = "19.1.1"),
    gn
  );
}
var U_;
function eT() {
  if (U_) return Ep.exports;
  U_ = 1;
  function r() {
    if (
      !(
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" ||
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"
      )
    )
      try {
        __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r);
      } catch (e) {
        console.error(e);
      }
  }
  return (r(), (Ep.exports = CA()), Ep.exports);
}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var k_;
function IA() {
  if (k_) return Xl;
  k_ = 1;
  var r = RA(),
    e = Rm(),
    t = eT();
  function s(n) {
    var i = "https://react.dev/errors/" + n;
    if (1 < arguments.length) {
      i += "?args[]=" + encodeURIComponent(arguments[1]);
      for (var a = 2; a < arguments.length; a++)
        i += "&args[]=" + encodeURIComponent(arguments[a]);
    }
    return (
      "Minified React error #" +
      n +
      "; visit " +
      i +
      " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
    );
  }
  function o(n) {
    return !(!n || (n.nodeType !== 1 && n.nodeType !== 9 && n.nodeType !== 11));
  }
  function l(n) {
    var i = n,
      a = n;
    if (n.alternate) for (; i.return; ) i = i.return;
    else {
      n = i;
      do ((i = n), (i.flags & 4098) !== 0 && (a = i.return), (n = i.return));
      while (n);
    }
    return i.tag === 3 ? a : null;
  }
  function c(n) {
    if (n.tag === 13) {
      var i = n.memoizedState;
      if (
        (i === null && ((n = n.alternate), n !== null && (i = n.memoizedState)),
        i !== null)
      )
        return i.dehydrated;
    }
    return null;
  }
  function d(n) {
    if (l(n) !== n) throw Error(s(188));
  }
  function m(n) {
    var i = n.alternate;
    if (!i) {
      if (((i = l(n)), i === null)) throw Error(s(188));
      return i !== n ? null : n;
    }
    for (var a = n, u = i; ; ) {
      var f = a.return;
      if (f === null) break;
      var p = f.alternate;
      if (p === null) {
        if (((u = f.return), u !== null)) {
          a = u;
          continue;
        }
        break;
      }
      if (f.child === p.child) {
        for (p = f.child; p; ) {
          if (p === a) return (d(f), n);
          if (p === u) return (d(f), i);
          p = p.sibling;
        }
        throw Error(s(188));
      }
      if (a.return !== u.return) ((a = f), (u = p));
      else {
        for (var E = !1, S = f.child; S; ) {
          if (S === a) {
            ((E = !0), (a = f), (u = p));
            break;
          }
          if (S === u) {
            ((E = !0), (u = f), (a = p));
            break;
          }
          S = S.sibling;
        }
        if (!E) {
          for (S = p.child; S; ) {
            if (S === a) {
              ((E = !0), (a = p), (u = f));
              break;
            }
            if (S === u) {
              ((E = !0), (u = p), (a = f));
              break;
            }
            S = S.sibling;
          }
          if (!E) throw Error(s(189));
        }
      }
      if (a.alternate !== u) throw Error(s(190));
    }
    if (a.tag !== 3) throw Error(s(188));
    return a.stateNode.current === a ? n : i;
  }
  function g(n) {
    var i = n.tag;
    if (i === 5 || i === 26 || i === 27 || i === 6) return n;
    for (n = n.child; n !== null; ) {
      if (((i = g(n)), i !== null)) return i;
      n = n.sibling;
    }
    return null;
  }
  var v = Object.assign,
    T = Symbol.for("react.element"),
    b = Symbol.for("react.transitional.element"),
    A = Symbol.for("react.portal"),
    D = Symbol.for("react.fragment"),
    J = Symbol.for("react.strict_mode"),
    B = Symbol.for("react.profiler"),
    Q = Symbol.for("react.provider"),
    Z = Symbol.for("react.consumer"),
    ie = Symbol.for("react.context"),
    pe = Symbol.for("react.forward_ref"),
    le = Symbol.for("react.suspense"),
    k = Symbol.for("react.suspense_list"),
    x = Symbol.for("react.memo"),
    R = Symbol.for("react.lazy"),
    C = Symbol.for("react.activity"),
    M = Symbol.for("react.memo_cache_sentinel"),
    V = Symbol.iterator;
  function j(n) {
    return n === null || typeof n != "object"
      ? null
      : ((n = (V && n[V]) || n["@@iterator"]),
        typeof n == "function" ? n : null);
  }
  var I = Symbol.for("react.client.reference");
  function Ie(n) {
    if (n == null) return null;
    if (typeof n == "function")
      return n.$$typeof === I ? null : n.displayName || n.name || null;
    if (typeof n == "string") return n;
    switch (n) {
      case D:
        return "Fragment";
      case B:
        return "Profiler";
      case J:
        return "StrictMode";
      case le:
        return "Suspense";
      case k:
        return "SuspenseList";
      case C:
        return "Activity";
    }
    if (typeof n == "object")
      switch (n.$$typeof) {
        case A:
          return "Portal";
        case ie:
          return (n.displayName || "Context") + ".Provider";
        case Z:
          return (n._context.displayName || "Context") + ".Consumer";
        case pe:
          var i = n.render;
          return (
            (n = n.displayName),
            n ||
              ((n = i.displayName || i.name || ""),
              (n = n !== "" ? "ForwardRef(" + n + ")" : "ForwardRef")),
            n
          );
        case x:
          return (
            (i = n.displayName || null),
            i !== null ? i : Ie(n.type) || "Memo"
          );
        case R:
          ((i = n._payload), (n = n._init));
          try {
            return Ie(n(i));
          } catch {}
      }
    return null;
  }
  var Ke = Array.isArray,
    G = e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,
    ce = t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,
    ge = { pending: !1, data: null, method: null, action: null },
    Ve = [],
    O = -1;
  function te(n) {
    return { current: n };
  }
  function fe(n) {
    0 > O || ((n.current = Ve[O]), (Ve[O] = null), O--);
  }
  function ue(n, i) {
    (O++, (Ve[O] = n.current), (n.current = i));
  }
  var Ee = te(null),
    He = te(null),
    Ne = te(null),
    kt = te(null);
  function gt(n, i) {
    switch ((ue(Ne, i), ue(He, n), ue(Ee, null), i.nodeType)) {
      case 9:
      case 11:
        n = (n = i.documentElement) && (n = n.namespaceURI) ? i_(n) : 0;
        break;
      default:
        if (((n = i.tagName), (i = i.namespaceURI)))
          ((i = i_(i)), (n = s_(i, n)));
        else
          switch (n) {
            case "svg":
              n = 1;
              break;
            case "math":
              n = 2;
              break;
            default:
              n = 0;
          }
    }
    (fe(Ee), ue(Ee, n));
  }
  function Wn() {
    (fe(Ee), fe(He), fe(Ne));
  }
  function wt(n) {
    n.memoizedState !== null && ue(kt, n);
    var i = Ee.current,
      a = s_(i, n.type);
    i !== a && (ue(He, n), ue(Ee, a));
  }
  function dn(n) {
    (He.current === n && (fe(Ee), fe(He)),
      kt.current === n && (fe(kt), (ql._currentValue = ge)));
  }
  var Or = Object.prototype.hasOwnProperty,
    ai = r.unstable_scheduleCallback,
    bn = r.unstable_cancelCallback,
    Bs = r.unstable_shouldYield,
    Na = r.unstable_requestPaint,
    wn = r.unstable_now,
    Wo = r.unstable_getCurrentPriorityLevel,
    Hs = r.unstable_ImmediatePriority,
    ji = r.unstable_UserBlockingPriority,
    oi = r.unstable_NormalPriority,
    vr = r.unstable_LowPriority,
    Jn = r.unstable_IdlePriority,
    zi = r.log,
    Bi = r.unstable_setDisableYieldValue,
    lt = null,
    Ge = null;
  function pn(n) {
    if (
      (typeof zi == "function" && Bi(n),
      Ge && typeof Ge.setStrictMode == "function")
    )
      try {
        Ge.setStrictMode(lt, n);
      } catch {}
  }
  var jt = Math.clz32 ? Math.clz32 : Mr,
    Da = Math.log,
    Zn = Math.LN2;
  function Mr(n) {
    return ((n >>>= 0), n === 0 ? 32 : (31 - ((Da(n) / Zn) | 0)) | 0);
  }
  var Pr = 256,
    Lr = 4194304;
  function kn(n) {
    var i = n & 42;
    if (i !== 0) return i;
    switch (n & -n) {
      case 1:
        return 1;
      case 2:
        return 2;
      case 4:
        return 4;
      case 8:
        return 8;
      case 16:
        return 16;
      case 32:
        return 32;
      case 64:
        return 64;
      case 128:
        return 128;
      case 256:
      case 512:
      case 1024:
      case 2048:
      case 4096:
      case 8192:
      case 16384:
      case 32768:
      case 65536:
      case 131072:
      case 262144:
      case 524288:
      case 1048576:
      case 2097152:
        return n & 4194048;
      case 4194304:
      case 8388608:
      case 16777216:
      case 33554432:
        return n & 62914560;
      case 67108864:
        return 67108864;
      case 134217728:
        return 134217728;
      case 268435456:
        return 268435456;
      case 536870912:
        return 536870912;
      case 1073741824:
        return 0;
      default:
        return n;
    }
  }
  function li(n, i, a) {
    var u = n.pendingLanes;
    if (u === 0) return 0;
    var f = 0,
      p = n.suspendedLanes,
      E = n.pingedLanes;
    n = n.warmLanes;
    var S = u & 134217727;
    return (
      S !== 0
        ? ((u = S & ~p),
          u !== 0
            ? (f = kn(u))
            : ((E &= S),
              E !== 0
                ? (f = kn(E))
                : a || ((a = S & ~n), a !== 0 && (f = kn(a)))))
        : ((S = u & ~p),
          S !== 0
            ? (f = kn(S))
            : E !== 0
              ? (f = kn(E))
              : a || ((a = u & ~n), a !== 0 && (f = kn(a)))),
      f === 0
        ? 0
        : i !== 0 &&
            i !== f &&
            (i & p) === 0 &&
            ((p = f & -f),
            (a = i & -i),
            p >= a || (p === 32 && (a & 4194048) !== 0))
          ? i
          : f
    );
  }
  function er(n, i) {
    return (n.pendingLanes & ~(n.suspendedLanes & ~n.pingedLanes) & i) === 0;
  }
  function Hi(n, i) {
    switch (n) {
      case 1:
      case 2:
      case 4:
      case 8:
      case 64:
        return i + 250;
      case 16:
      case 32:
      case 128:
      case 256:
      case 512:
      case 1024:
      case 2048:
      case 4096:
      case 8192:
      case 16384:
      case 32768:
      case 65536:
      case 131072:
      case 262144:
      case 524288:
      case 1048576:
      case 2097152:
        return i + 5e3;
      case 4194304:
      case 8388608:
      case 16777216:
      case 33554432:
        return -1;
      case 67108864:
      case 134217728:
      case 268435456:
      case 536870912:
      case 1073741824:
        return -1;
      default:
        return -1;
    }
  }
  function ui() {
    var n = Pr;
    return ((Pr <<= 1), (Pr & 4194048) === 0 && (Pr = 256), n);
  }
  function Fs() {
    var n = Lr;
    return ((Lr <<= 1), (Lr & 62914560) === 0 && (Lr = 4194304), n);
  }
  function tr(n) {
    for (var i = [], a = 0; 31 > a; a++) i.push(n);
    return i;
  }
  function _r(n, i) {
    ((n.pendingLanes |= i),
      i !== 268435456 &&
        ((n.suspendedLanes = 0), (n.pingedLanes = 0), (n.warmLanes = 0)));
  }
  function Fi(n, i, a, u, f, p) {
    var E = n.pendingLanes;
    ((n.pendingLanes = a),
      (n.suspendedLanes = 0),
      (n.pingedLanes = 0),
      (n.warmLanes = 0),
      (n.expiredLanes &= a),
      (n.entangledLanes &= a),
      (n.errorRecoveryDisabledLanes &= a),
      (n.shellSuspendCounter = 0));
    var S = n.entanglements,
      N = n.expirationTimes,
      $ = n.hiddenUpdates;
    for (a = E & ~a; 0 < a; ) {
      var ne = 31 - jt(a),
        se = 1 << ne;
      ((S[ne] = 0), (N[ne] = -1));
      var Y = $[ne];
      if (Y !== null)
        for ($[ne] = null, ne = 0; ne < Y.length; ne++) {
          var W = Y[ne];
          W !== null && (W.lane &= -536870913);
        }
      a &= ~se;
    }
    (u !== 0 && An(n, u, 0),
      p !== 0 && f === 0 && n.tag !== 0 && (n.suspendedLanes |= p & ~(E & ~i)));
  }
  function An(n, i, a) {
    ((n.pendingLanes |= i), (n.suspendedLanes &= ~i));
    var u = 31 - jt(i);
    ((n.entangledLanes |= i),
      (n.entanglements[u] = n.entanglements[u] | 1073741824 | (a & 4194090)));
  }
  function Vr(n, i) {
    var a = (n.entangledLanes |= i);
    for (n = n.entanglements; a; ) {
      var u = 31 - jt(a),
        f = 1 << u;
      ((f & i) | (n[u] & i) && (n[u] |= i), (a &= ~f));
    }
  }
  function Ur(n) {
    switch (n) {
      case 2:
        n = 1;
        break;
      case 8:
        n = 4;
        break;
      case 32:
        n = 16;
        break;
      case 256:
      case 512:
      case 1024:
      case 2048:
      case 4096:
      case 8192:
      case 16384:
      case 32768:
      case 65536:
      case 131072:
      case 262144:
      case 524288:
      case 1048576:
      case 2097152:
      case 4194304:
      case 8388608:
      case 16777216:
      case 33554432:
        n = 128;
        break;
      case 268435456:
        n = 134217728;
        break;
      default:
        n = 0;
    }
    return n;
  }
  function qi(n) {
    return (
      (n &= -n),
      2 < n ? (8 < n ? ((n & 134217727) !== 0 ? 32 : 268435456) : 8) : 2
    );
  }
  function P() {
    var n = ce.p;
    return n !== 0 ? n : ((n = window.event), n === void 0 ? 32 : w_(n.type));
  }
  function H(n, i) {
    var a = ce.p;
    try {
      return ((ce.p = n), i());
    } finally {
      ce.p = a;
    }
  }
  var K = Math.random().toString(36).slice(2),
    ae = "__reactFiber$" + K,
    he = "__reactProps$" + K,
    ye = "__reactContainer$" + K,
    Re = "__reactEvents$" + K,
    be = "__reactListeners$" + K,
    we = "__reactHandles$" + K,
    xe = "__reactResources$" + K,
    Ae = "__reactMarker$" + K;
  function _e(n) {
    (delete n[ae], delete n[he], delete n[Re], delete n[be], delete n[we]);
  }
  function Fe(n) {
    var i = n[ae];
    if (i) return i;
    for (var a = n.parentNode; a; ) {
      if ((i = a[ye] || a[ae])) {
        if (
          ((a = i.alternate),
          i.child !== null || (a !== null && a.child !== null))
        )
          for (n = u_(n); n !== null; ) {
            if ((a = n[ae])) return a;
            n = u_(n);
          }
        return i;
      }
      ((n = a), (a = n.parentNode));
    }
    return null;
  }
  function Ze(n) {
    if ((n = n[ae] || n[ye])) {
      var i = n.tag;
      if (i === 5 || i === 6 || i === 13 || i === 26 || i === 27 || i === 3)
        return n;
    }
    return null;
  }
  function dt(n) {
    var i = n.tag;
    if (i === 5 || i === 26 || i === 27 || i === 6) return n.stateNode;
    throw Error(s(33));
  }
  function ut(n) {
    var i = n[xe];
    return (
      i ||
        (i = n[xe] =
          { hoistableStyles: new Map(), hoistableScripts: new Map() }),
      i
    );
  }
  function je(n) {
    n[Ae] = !0;
  }
  var ct = new Set(),
    On = {};
  function sn(n, i) {
    (Wt(n, i), Wt(n + "Capture", i));
  }
  function Wt(n, i) {
    for (On[n] = i, n = 0; n < i.length; n++) ct.add(i[n]);
  }
  var Rn = RegExp(
      "^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$",
    ),
    Gi = {},
    jn = {};
  function nr(n) {
    return Or.call(jn, n)
      ? !0
      : Or.call(Gi, n)
        ? !1
        : Rn.test(n)
          ? (jn[n] = !0)
          : ((Gi[n] = !0), !1);
  }
  function zn(n, i, a) {
    if (nr(i))
      if (a === null) n.removeAttribute(i);
      else {
        switch (typeof a) {
          case "undefined":
          case "function":
          case "symbol":
            n.removeAttribute(i);
            return;
          case "boolean":
            var u = i.toLowerCase().slice(0, 5);
            if (u !== "data-" && u !== "aria-") {
              n.removeAttribute(i);
              return;
            }
        }
        n.setAttribute(i, "" + a);
      }
  }
  function Cn(n, i, a) {
    if (a === null) n.removeAttribute(i);
    else {
      switch (typeof a) {
        case "undefined":
        case "function":
        case "symbol":
        case "boolean":
          n.removeAttribute(i);
          return;
      }
      n.setAttribute(i, "" + a);
    }
  }
  function Me(n, i, a, u) {
    if (u === null) n.removeAttribute(a);
    else {
      switch (typeof u) {
        case "undefined":
        case "function":
        case "symbol":
        case "boolean":
          n.removeAttribute(a);
          return;
      }
      n.setAttributeNS(i, a, "" + u);
    }
  }
  var At, Er;
  function an(n) {
    if (At === void 0)
      try {
        throw Error();
      } catch (a) {
        var i = a.stack.trim().match(/\n( *(at )?)/);
        ((At = (i && i[1]) || ""),
          (Er =
            -1 <
            a.stack.indexOf(`
    at`)
              ? " (<anonymous>)"
              : -1 < a.stack.indexOf("@")
                ? "@unknown:0:0"
                : ""));
      }
    return (
      `
` +
      At +
      n +
      Er
    );
  }
  var St = !1;
  function Tr(n, i) {
    if (!n || St) return "";
    St = !0;
    var a = Error.prepareStackTrace;
    Error.prepareStackTrace = void 0;
    try {
      var u = {
        DetermineComponentFrameRoot: function () {
          try {
            if (i) {
              var se = function () {
                throw Error();
              };
              if (
                (Object.defineProperty(se.prototype, "props", {
                  set: function () {
                    throw Error();
                  },
                }),
                typeof Reflect == "object" && Reflect.construct)
              ) {
                try {
                  Reflect.construct(se, []);
                } catch (W) {
                  var Y = W;
                }
                Reflect.construct(n, [], se);
              } else {
                try {
                  se.call();
                } catch (W) {
                  Y = W;
                }
                n.call(se.prototype);
              }
            } else {
              try {
                throw Error();
              } catch (W) {
                Y = W;
              }
              (se = n()) &&
                typeof se.catch == "function" &&
                se.catch(function () {});
            }
          } catch (W) {
            if (W && Y && typeof W.stack == "string") return [W.stack, Y.stack];
          }
          return [null, null];
        },
      };
      u.DetermineComponentFrameRoot.displayName = "DetermineComponentFrameRoot";
      var f = Object.getOwnPropertyDescriptor(
        u.DetermineComponentFrameRoot,
        "name",
      );
      f &&
        f.configurable &&
        Object.defineProperty(u.DetermineComponentFrameRoot, "name", {
          value: "DetermineComponentFrameRoot",
        });
      var p = u.DetermineComponentFrameRoot(),
        E = p[0],
        S = p[1];
      if (E && S) {
        var N = E.split(`
`),
          $ = S.split(`
`);
        for (
          f = u = 0;
          u < N.length && !N[u].includes("DetermineComponentFrameRoot");

        )
          u++;
        for (; f < $.length && !$[f].includes("DetermineComponentFrameRoot"); )
          f++;
        if (u === N.length || f === $.length)
          for (
            u = N.length - 1, f = $.length - 1;
            1 <= u && 0 <= f && N[u] !== $[f];

          )
            f--;
        for (; 1 <= u && 0 <= f; u--, f--)
          if (N[u] !== $[f]) {
            if (u !== 1 || f !== 1)
              do
                if ((u--, f--, 0 > f || N[u] !== $[f])) {
                  var ne =
                    `
` + N[u].replace(" at new ", " at ");
                  return (
                    n.displayName &&
                      ne.includes("<anonymous>") &&
                      (ne = ne.replace("<anonymous>", n.displayName)),
                    ne
                  );
                }
              while (1 <= u && 0 <= f);
            break;
          }
      }
    } finally {
      ((St = !1), (Error.prepareStackTrace = a));
    }
    return (a = n ? n.displayName || n.name : "") ? an(a) : "";
  }
  function $i(n) {
    switch (n.tag) {
      case 26:
      case 27:
      case 5:
        return an(n.type);
      case 16:
        return an("Lazy");
      case 13:
        return an("Suspense");
      case 19:
        return an("SuspenseList");
      case 0:
      case 15:
        return Tr(n.type, !1);
      case 11:
        return Tr(n.type.render, !1);
      case 1:
        return Tr(n.type, !0);
      case 31:
        return an("Activity");
      default:
        return "";
    }
  }
  function Ki(n) {
    try {
      var i = "";
      do ((i += $i(n)), (n = n.return));
      while (n);
      return i;
    } catch (a) {
      return (
        `
Error generating stack: ` +
        a.message +
        `
` +
        a.stack
      );
    }
  }
  function In(n) {
    switch (typeof n) {
      case "bigint":
      case "boolean":
      case "number":
      case "string":
      case "undefined":
        return n;
      case "object":
        return n;
      default:
        return "";
    }
  }
  function Jo(n) {
    var i = n.type;
    return (
      (n = n.nodeName) &&
      n.toLowerCase() === "input" &&
      (i === "checkbox" || i === "radio")
    );
  }
  function _f(n) {
    var i = Jo(n) ? "checked" : "value",
      a = Object.getOwnPropertyDescriptor(n.constructor.prototype, i),
      u = "" + n[i];
    if (
      !n.hasOwnProperty(i) &&
      typeof a < "u" &&
      typeof a.get == "function" &&
      typeof a.set == "function"
    ) {
      var f = a.get,
        p = a.set;
      return (
        Object.defineProperty(n, i, {
          configurable: !0,
          get: function () {
            return f.call(this);
          },
          set: function (E) {
            ((u = "" + E), p.call(this, E));
          },
        }),
        Object.defineProperty(n, i, { enumerable: a.enumerable }),
        {
          getValue: function () {
            return u;
          },
          setValue: function (E) {
            u = "" + E;
          },
          stopTracking: function () {
            ((n._valueTracker = null), delete n[i]);
          },
        }
      );
    }
  }
  function Oa(n) {
    n._valueTracker || (n._valueTracker = _f(n));
  }
  function Zo(n) {
    if (!n) return !1;
    var i = n._valueTracker;
    if (!i) return !0;
    var a = i.getValue(),
      u = "";
    return (
      n && (u = Jo(n) ? (n.checked ? "true" : "false") : n.value),
      (n = u),
      n !== a ? (i.setValue(n), !0) : !1
    );
  }
  function qs(n) {
    if (
      ((n = n || (typeof document < "u" ? document : void 0)), typeof n > "u")
    )
      return null;
    try {
      return n.activeElement || n.body;
    } catch {
      return n.body;
    }
  }
  var Ef = /[\n"\\]/g;
  function zt(n) {
    return n.replace(Ef, function (i) {
      return "\\" + i.charCodeAt(0).toString(16) + " ";
    });
  }
  function Bn(n, i, a, u, f, p, E, S) {
    ((n.name = ""),
      E != null &&
      typeof E != "function" &&
      typeof E != "symbol" &&
      typeof E != "boolean"
        ? (n.type = E)
        : n.removeAttribute("type"),
      i != null
        ? E === "number"
          ? ((i === 0 && n.value === "") || n.value != i) &&
            (n.value = "" + In(i))
          : n.value !== "" + In(i) && (n.value = "" + In(i))
        : (E !== "submit" && E !== "reset") || n.removeAttribute("value"),
      i != null
        ? Yi(n, E, In(i))
        : a != null
          ? Yi(n, E, In(a))
          : u != null && n.removeAttribute("value"),
      f == null && p != null && (n.defaultChecked = !!p),
      f != null &&
        (n.checked = f && typeof f != "function" && typeof f != "symbol"),
      S != null &&
      typeof S != "function" &&
      typeof S != "symbol" &&
      typeof S != "boolean"
        ? (n.name = "" + In(S))
        : n.removeAttribute("name"));
  }
  function Gs(n, i, a, u, f, p, E, S) {
    if (
      (p != null &&
        typeof p != "function" &&
        typeof p != "symbol" &&
        typeof p != "boolean" &&
        (n.type = p),
      i != null || a != null)
    ) {
      if (!((p !== "submit" && p !== "reset") || i != null)) return;
      ((a = a != null ? "" + In(a) : ""),
        (i = i != null ? "" + In(i) : a),
        S || i === n.value || (n.value = i),
        (n.defaultValue = i));
    }
    ((u = u ?? f),
      (u = typeof u != "function" && typeof u != "symbol" && !!u),
      (n.checked = S ? n.checked : !!u),
      (n.defaultChecked = !!u),
      E != null &&
        typeof E != "function" &&
        typeof E != "symbol" &&
        typeof E != "boolean" &&
        (n.name = E));
  }
  function Yi(n, i, a) {
    (i === "number" && qs(n.ownerDocument) === n) ||
      n.defaultValue === "" + a ||
      (n.defaultValue = "" + a);
  }
  function ci(n, i, a, u) {
    if (((n = n.options), i)) {
      i = {};
      for (var f = 0; f < a.length; f++) i["$" + a[f]] = !0;
      for (a = 0; a < n.length; a++)
        ((f = i.hasOwnProperty("$" + n[a].value)),
          n[a].selected !== f && (n[a].selected = f),
          f && u && (n[a].defaultSelected = !0));
    } else {
      for (a = "" + In(a), i = null, f = 0; f < n.length; f++) {
        if (n[f].value === a) {
          ((n[f].selected = !0), u && (n[f].defaultSelected = !0));
          return;
        }
        i !== null || n[f].disabled || (i = n[f]);
      }
      i !== null && (i.selected = !0);
    }
  }
  function yt(n, i, a) {
    if (
      i != null &&
      ((i = "" + In(i)), i !== n.value && (n.value = i), a == null)
    ) {
      n.defaultValue !== i && (n.defaultValue = i);
      return;
    }
    n.defaultValue = a != null ? "" + In(a) : "";
  }
  function $s(n, i, a, u) {
    if (i == null) {
      if (u != null) {
        if (a != null) throw Error(s(92));
        if (Ke(u)) {
          if (1 < u.length) throw Error(s(93));
          u = u[0];
        }
        a = u;
      }
      (a == null && (a = ""), (i = a));
    }
    ((a = In(i)),
      (n.defaultValue = a),
      (u = n.textContent),
      u === a && u !== "" && u !== null && (n.value = u));
  }
  function rr(n, i) {
    if (i) {
      var a = n.firstChild;
      if (a && a === n.lastChild && a.nodeType === 3) {
        a.nodeValue = i;
        return;
      }
    }
    n.textContent = i;
  }
  var Ks = new Set(
    "animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(
      " ",
    ),
  );
  function ju(n, i, a) {
    var u = i.indexOf("--") === 0;
    a == null || typeof a == "boolean" || a === ""
      ? u
        ? n.setProperty(i, "")
        : i === "float"
          ? (n.cssFloat = "")
          : (n[i] = "")
      : u
        ? n.setProperty(i, a)
        : typeof a != "number" || a === 0 || Ks.has(i)
          ? i === "float"
            ? (n.cssFloat = a)
            : (n[i] = ("" + a).trim())
          : (n[i] = a + "px");
  }
  function el(n, i, a) {
    if (i != null && typeof i != "object") throw Error(s(62));
    if (((n = n.style), a != null)) {
      for (var u in a)
        !a.hasOwnProperty(u) ||
          (i != null && i.hasOwnProperty(u)) ||
          (u.indexOf("--") === 0
            ? n.setProperty(u, "")
            : u === "float"
              ? (n.cssFloat = "")
              : (n[u] = ""));
      for (var f in i)
        ((u = i[f]), i.hasOwnProperty(f) && a[f] !== u && ju(n, f, u));
    } else for (var p in i) i.hasOwnProperty(p) && ju(n, p, i[p]);
  }
  function tl(n) {
    if (n.indexOf("-") === -1) return !1;
    switch (n) {
      case "annotation-xml":
      case "color-profile":
      case "font-face":
      case "font-face-src":
      case "font-face-uri":
      case "font-face-format":
      case "font-face-name":
      case "missing-glyph":
        return !1;
      default:
        return !0;
    }
  }
  var Tf = new Map([
      ["acceptCharset", "accept-charset"],
      ["htmlFor", "for"],
      ["httpEquiv", "http-equiv"],
      ["crossOrigin", "crossorigin"],
      ["accentHeight", "accent-height"],
      ["alignmentBaseline", "alignment-baseline"],
      ["arabicForm", "arabic-form"],
      ["baselineShift", "baseline-shift"],
      ["capHeight", "cap-height"],
      ["clipPath", "clip-path"],
      ["clipRule", "clip-rule"],
      ["colorInterpolation", "color-interpolation"],
      ["colorInterpolationFilters", "color-interpolation-filters"],
      ["colorProfile", "color-profile"],
      ["colorRendering", "color-rendering"],
      ["dominantBaseline", "dominant-baseline"],
      ["enableBackground", "enable-background"],
      ["fillOpacity", "fill-opacity"],
      ["fillRule", "fill-rule"],
      ["floodColor", "flood-color"],
      ["floodOpacity", "flood-opacity"],
      ["fontFamily", "font-family"],
      ["fontSize", "font-size"],
      ["fontSizeAdjust", "font-size-adjust"],
      ["fontStretch", "font-stretch"],
      ["fontStyle", "font-style"],
      ["fontVariant", "font-variant"],
      ["fontWeight", "font-weight"],
      ["glyphName", "glyph-name"],
      ["glyphOrientationHorizontal", "glyph-orientation-horizontal"],
      ["glyphOrientationVertical", "glyph-orientation-vertical"],
      ["horizAdvX", "horiz-adv-x"],
      ["horizOriginX", "horiz-origin-x"],
      ["imageRendering", "image-rendering"],
      ["letterSpacing", "letter-spacing"],
      ["lightingColor", "lighting-color"],
      ["markerEnd", "marker-end"],
      ["markerMid", "marker-mid"],
      ["markerStart", "marker-start"],
      ["overlinePosition", "overline-position"],
      ["overlineThickness", "overline-thickness"],
      ["paintOrder", "paint-order"],
      ["panose-1", "panose-1"],
      ["pointerEvents", "pointer-events"],
      ["renderingIntent", "rendering-intent"],
      ["shapeRendering", "shape-rendering"],
      ["stopColor", "stop-color"],
      ["stopOpacity", "stop-opacity"],
      ["strikethroughPosition", "strikethrough-position"],
      ["strikethroughThickness", "strikethrough-thickness"],
      ["strokeDasharray", "stroke-dasharray"],
      ["strokeDashoffset", "stroke-dashoffset"],
      ["strokeLinecap", "stroke-linecap"],
      ["strokeLinejoin", "stroke-linejoin"],
      ["strokeMiterlimit", "stroke-miterlimit"],
      ["strokeOpacity", "stroke-opacity"],
      ["strokeWidth", "stroke-width"],
      ["textAnchor", "text-anchor"],
      ["textDecoration", "text-decoration"],
      ["textRendering", "text-rendering"],
      ["transformOrigin", "transform-origin"],
      ["underlinePosition", "underline-position"],
      ["underlineThickness", "underline-thickness"],
      ["unicodeBidi", "unicode-bidi"],
      ["unicodeRange", "unicode-range"],
      ["unitsPerEm", "units-per-em"],
      ["vAlphabetic", "v-alphabetic"],
      ["vHanging", "v-hanging"],
      ["vIdeographic", "v-ideographic"],
      ["vMathematical", "v-mathematical"],
      ["vectorEffect", "vector-effect"],
      ["vertAdvY", "vert-adv-y"],
      ["vertOriginX", "vert-origin-x"],
      ["vertOriginY", "vert-origin-y"],
      ["wordSpacing", "word-spacing"],
      ["writingMode", "writing-mode"],
      ["xmlnsXlink", "xmlns:xlink"],
      ["xHeight", "x-height"],
    ]),
    Sf =
      /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;
  function Ma(n) {
    return Sf.test("" + n)
      ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')"
      : n;
  }
  var hi = null;
  function ir(n) {
    return (
      (n = n.target || n.srcElement || window),
      n.correspondingUseElement && (n = n.correspondingUseElement),
      n.nodeType === 3 ? n.parentNode : n
    );
  }
  var fi = null,
    di = null;
  function nl(n) {
    var i = Ze(n);
    if (i && (n = i.stateNode)) {
      var a = n[he] || null;
      e: switch (((n = i.stateNode), i.type)) {
        case "input":
          if (
            (Bn(
              n,
              a.value,
              a.defaultValue,
              a.defaultValue,
              a.checked,
              a.defaultChecked,
              a.type,
              a.name,
            ),
            (i = a.name),
            a.type === "radio" && i != null)
          ) {
            for (a = n; a.parentNode; ) a = a.parentNode;
            for (
              a = a.querySelectorAll(
                'input[name="' + zt("" + i) + '"][type="radio"]',
              ),
                i = 0;
              i < a.length;
              i++
            ) {
              var u = a[i];
              if (u !== n && u.form === n.form) {
                var f = u[he] || null;
                if (!f) throw Error(s(90));
                Bn(
                  u,
                  f.value,
                  f.defaultValue,
                  f.defaultValue,
                  f.checked,
                  f.defaultChecked,
                  f.type,
                  f.name,
                );
              }
            }
            for (i = 0; i < a.length; i++)
              ((u = a[i]), u.form === n.form && Zo(u));
          }
          break e;
        case "textarea":
          yt(n, a.value, a.defaultValue);
          break e;
        case "select":
          ((i = a.value), i != null && ci(n, !!a.multiple, i, !1));
      }
    }
  }
  var kr = !1;
  function zu(n, i, a) {
    if (kr) return n(i, a);
    kr = !0;
    try {
      var u = n(i);
      return u;
    } finally {
      if (
        ((kr = !1),
        (fi !== null || di !== null) &&
          (Mc(), fi && ((i = fi), (n = di), (di = fi = null), nl(i), n)))
      )
        for (i = 0; i < n.length; i++) nl(n[i]);
    }
  }
  function Ys(n, i) {
    var a = n.stateNode;
    if (a === null) return null;
    var u = a[he] || null;
    if (u === null) return null;
    a = u[i];
    e: switch (i) {
      case "onClick":
      case "onClickCapture":
      case "onDoubleClick":
      case "onDoubleClickCapture":
      case "onMouseDown":
      case "onMouseDownCapture":
      case "onMouseMove":
      case "onMouseMoveCapture":
      case "onMouseUp":
      case "onMouseUpCapture":
      case "onMouseEnter":
        ((u = !u.disabled) ||
          ((n = n.type),
          (u = !(
            n === "button" ||
            n === "input" ||
            n === "select" ||
            n === "textarea"
          ))),
          (n = !u));
        break e;
      default:
        n = !1;
    }
    if (n) return null;
    if (a && typeof a != "function") throw Error(s(231, i, typeof a));
    return a;
  }
  var Sr = !(
      typeof window > "u" ||
      typeof window.document > "u" ||
      typeof window.document.createElement > "u"
    ),
    sr = !1;
  if (Sr)
    try {
      var Qs = {};
      (Object.defineProperty(Qs, "passive", {
        get: function () {
          sr = !0;
        },
      }),
        window.addEventListener("test", Qs, Qs),
        window.removeEventListener("test", Qs, Qs));
    } catch {
      sr = !1;
    }
  var jr = null,
    Qi = null,
    pi = null;
  function rl() {
    if (pi) return pi;
    var n,
      i = Qi,
      a = i.length,
      u,
      f = "value" in jr ? jr.value : jr.textContent,
      p = f.length;
    for (n = 0; n < a && i[n] === f[n]; n++);
    var E = a - n;
    for (u = 1; u <= E && i[a - u] === f[p - u]; u++);
    return (pi = f.slice(n, 1 < u ? 1 - u : void 0));
  }
  function zr(n) {
    var i = n.keyCode;
    return (
      "charCode" in n
        ? ((n = n.charCode), n === 0 && i === 13 && (n = 13))
        : (n = i),
      n === 10 && (n = 13),
      32 <= n || n === 13 ? n : 0
    );
  }
  function Br() {
    return !0;
  }
  function il() {
    return !1;
  }
  function Jt(n) {
    function i(a, u, f, p, E) {
      ((this._reactName = a),
        (this._targetInst = f),
        (this.type = u),
        (this.nativeEvent = p),
        (this.target = E),
        (this.currentTarget = null));
      for (var S in n)
        n.hasOwnProperty(S) && ((a = n[S]), (this[S] = a ? a(p) : p[S]));
      return (
        (this.isDefaultPrevented = (
          p.defaultPrevented != null ? p.defaultPrevented : p.returnValue === !1
        )
          ? Br
          : il),
        (this.isPropagationStopped = il),
        this
      );
    }
    return (
      v(i.prototype, {
        preventDefault: function () {
          this.defaultPrevented = !0;
          var a = this.nativeEvent;
          a &&
            (a.preventDefault
              ? a.preventDefault()
              : typeof a.returnValue != "unknown" && (a.returnValue = !1),
            (this.isDefaultPrevented = Br));
        },
        stopPropagation: function () {
          var a = this.nativeEvent;
          a &&
            (a.stopPropagation
              ? a.stopPropagation()
              : typeof a.cancelBubble != "unknown" && (a.cancelBubble = !0),
            (this.isPropagationStopped = Br));
        },
        persist: function () {},
        isPersistent: Br,
      }),
      i
    );
  }
  var ft = {
      eventPhase: 0,
      bubbles: 0,
      cancelable: 0,
      timeStamp: function (n) {
        return n.timeStamp || Date.now();
      },
      defaultPrevented: 0,
      isTrusted: 0,
    },
    Pa = Jt(ft),
    Xs = v({}, ft, { view: 0, detail: 0 }),
    Bu = Jt(Xs),
    La,
    Va,
    Hr,
    Ws = v({}, Xs, {
      screenX: 0,
      screenY: 0,
      clientX: 0,
      clientY: 0,
      pageX: 0,
      pageY: 0,
      ctrlKey: 0,
      shiftKey: 0,
      altKey: 0,
      metaKey: 0,
      getModifierState: ea,
      button: 0,
      buttons: 0,
      relatedTarget: function (n) {
        return n.relatedTarget === void 0
          ? n.fromElement === n.srcElement
            ? n.toElement
            : n.fromElement
          : n.relatedTarget;
      },
      movementX: function (n) {
        return "movementX" in n
          ? n.movementX
          : (n !== Hr &&
              (Hr && n.type === "mousemove"
                ? ((La = n.screenX - Hr.screenX), (Va = n.screenY - Hr.screenY))
                : (Va = La = 0),
              (Hr = n)),
            La);
      },
      movementY: function (n) {
        return "movementY" in n ? n.movementY : Va;
      },
    }),
    ar = Jt(Ws),
    Hu = v({}, Ws, { dataTransfer: 0 }),
    bf = Jt(Hu),
    Js = v({}, Xs, { relatedTarget: 0 }),
    Ua = Jt(Js),
    sl = v({}, ft, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }),
    ka = Jt(sl),
    Fu = v({}, ft, {
      clipboardData: function (n) {
        return "clipboardData" in n ? n.clipboardData : window.clipboardData;
      },
    }),
    ja = Jt(Fu),
    wf = v({}, ft, { data: 0 }),
    al = Jt(wf),
    Zs = {
      Esc: "Escape",
      Spacebar: " ",
      Left: "ArrowLeft",
      Up: "ArrowUp",
      Right: "ArrowRight",
      Down: "ArrowDown",
      Del: "Delete",
      Win: "OS",
      Menu: "ContextMenu",
      Apps: "ContextMenu",
      Scroll: "ScrollLock",
      MozPrintableKey: "Unidentified",
    },
    qu = {
      8: "Backspace",
      9: "Tab",
      12: "Clear",
      13: "Enter",
      16: "Shift",
      17: "Control",
      18: "Alt",
      19: "Pause",
      20: "CapsLock",
      27: "Escape",
      32: " ",
      33: "PageUp",
      34: "PageDown",
      35: "End",
      36: "Home",
      37: "ArrowLeft",
      38: "ArrowUp",
      39: "ArrowRight",
      40: "ArrowDown",
      45: "Insert",
      46: "Delete",
      112: "F1",
      113: "F2",
      114: "F3",
      115: "F4",
      116: "F5",
      117: "F6",
      118: "F7",
      119: "F8",
      120: "F9",
      121: "F10",
      122: "F11",
      123: "F12",
      144: "NumLock",
      145: "ScrollLock",
      224: "Meta",
    },
    Gu = {
      Alt: "altKey",
      Control: "ctrlKey",
      Meta: "metaKey",
      Shift: "shiftKey",
    };
  function ol(n) {
    var i = this.nativeEvent;
    return i.getModifierState
      ? i.getModifierState(n)
      : (n = Gu[n])
        ? !!i[n]
        : !1;
  }
  function ea() {
    return ol;
  }
  var $u = v({}, Xs, {
      key: function (n) {
        if (n.key) {
          var i = Zs[n.key] || n.key;
          if (i !== "Unidentified") return i;
        }
        return n.type === "keypress"
          ? ((n = zr(n)), n === 13 ? "Enter" : String.fromCharCode(n))
          : n.type === "keydown" || n.type === "keyup"
            ? qu[n.keyCode] || "Unidentified"
            : "";
      },
      code: 0,
      location: 0,
      ctrlKey: 0,
      shiftKey: 0,
      altKey: 0,
      metaKey: 0,
      repeat: 0,
      locale: 0,
      getModifierState: ea,
      charCode: function (n) {
        return n.type === "keypress" ? zr(n) : 0;
      },
      keyCode: function (n) {
        return n.type === "keydown" || n.type === "keyup" ? n.keyCode : 0;
      },
      which: function (n) {
        return n.type === "keypress"
          ? zr(n)
          : n.type === "keydown" || n.type === "keyup"
            ? n.keyCode
            : 0;
      },
    }),
    za = Jt($u),
    Ku = v({}, Ws, {
      pointerId: 0,
      width: 0,
      height: 0,
      pressure: 0,
      tangentialPressure: 0,
      tiltX: 0,
      tiltY: 0,
      twist: 0,
      pointerType: 0,
      isPrimary: 0,
    }),
    ll = Jt(Ku),
    mi = v({}, Xs, {
      touches: 0,
      targetTouches: 0,
      changedTouches: 0,
      altKey: 0,
      metaKey: 0,
      ctrlKey: 0,
      shiftKey: 0,
      getModifierState: ea,
    }),
    Yu = Jt(mi),
    Qu = v({}, ft, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }),
    Xu = Jt(Qu),
    Wu = v({}, Ws, {
      deltaX: function (n) {
        return "deltaX" in n
          ? n.deltaX
          : "wheelDeltaX" in n
            ? -n.wheelDeltaX
            : 0;
      },
      deltaY: function (n) {
        return "deltaY" in n
          ? n.deltaY
          : "wheelDeltaY" in n
            ? -n.wheelDeltaY
            : "wheelDelta" in n
              ? -n.wheelDelta
              : 0;
      },
      deltaZ: 0,
      deltaMode: 0,
    }),
    Ba = Jt(Wu),
    xn = v({}, ft, { newState: 0, oldState: 0 }),
    Ju = Jt(xn),
    Zu = [9, 13, 27, 32],
    Fr = Sr && "CompositionEvent" in window,
    h = null;
  Sr && "documentMode" in document && (h = document.documentMode);
  var y = Sr && "TextEvent" in window && !h,
    _ = Sr && (!Fr || (h && 8 < h && 11 >= h)),
    w = " ",
    F = !1;
  function ee(n, i) {
    switch (n) {
      case "keyup":
        return Zu.indexOf(i.keyCode) !== -1;
      case "keydown":
        return i.keyCode !== 229;
      case "keypress":
      case "mousedown":
      case "focusout":
        return !0;
      default:
        return !1;
    }
  }
  function me(n) {
    return (
      (n = n.detail),
      typeof n == "object" && "data" in n ? n.data : null
    );
  }
  var tt = !1;
  function $t(n, i) {
    switch (n) {
      case "compositionend":
        return me(i);
      case "keypress":
        return i.which !== 32 ? null : ((F = !0), w);
      case "textInput":
        return ((n = i.data), n === w && F ? null : n);
      default:
        return null;
    }
  }
  function nt(n, i) {
    if (tt)
      return n === "compositionend" || (!Fr && ee(n, i))
        ? ((n = rl()), (pi = Qi = jr = null), (tt = !1), n)
        : null;
    switch (n) {
      case "paste":
        return null;
      case "keypress":
        if (!(i.ctrlKey || i.altKey || i.metaKey) || (i.ctrlKey && i.altKey)) {
          if (i.char && 1 < i.char.length) return i.char;
          if (i.which) return String.fromCharCode(i.which);
        }
        return null;
      case "compositionend":
        return _ && i.locale !== "ko" ? null : i.data;
      default:
        return null;
    }
  }
  var Zt = {
    color: !0,
    date: !0,
    datetime: !0,
    "datetime-local": !0,
    email: !0,
    month: !0,
    number: !0,
    password: !0,
    range: !0,
    search: !0,
    tel: !0,
    text: !0,
    time: !0,
    url: !0,
    week: !0,
  };
  function Kt(n) {
    var i = n && n.nodeName && n.nodeName.toLowerCase();
    return i === "input" ? !!Zt[n.type] : i === "textarea";
  }
  function gi(n, i, a, u) {
    (fi ? (di ? di.push(u) : (di = [u])) : (fi = u),
      (i = jc(i, "onChange")),
      0 < i.length &&
        ((a = new Pa("onChange", "change", null, a, u)),
        n.push({ event: a, listeners: i })));
  }
  var on = null,
    qr = null;
  function ul(n) {
    Zv(n, 0);
  }
  function ec(n) {
    var i = dt(n);
    if (Zo(i)) return n;
  }
  function Eg(n, i) {
    if (n === "change") return i;
  }
  var Tg = !1;
  if (Sr) {
    var Af;
    if (Sr) {
      var Rf = "oninput" in document;
      if (!Rf) {
        var Sg = document.createElement("div");
        (Sg.setAttribute("oninput", "return;"),
          (Rf = typeof Sg.oninput == "function"));
      }
      Af = Rf;
    } else Af = !1;
    Tg = Af && (!document.documentMode || 9 < document.documentMode);
  }
  function bg() {
    on && (on.detachEvent("onpropertychange", wg), (qr = on = null));
  }
  function wg(n) {
    if (n.propertyName === "value" && ec(qr)) {
      var i = [];
      (gi(i, qr, n, ir(n)), zu(ul, i));
    }
  }
  function Wb(n, i, a) {
    n === "focusin"
      ? (bg(), (on = i), (qr = a), on.attachEvent("onpropertychange", wg))
      : n === "focusout" && bg();
  }
  function Jb(n) {
    if (n === "selectionchange" || n === "keyup" || n === "keydown")
      return ec(qr);
  }
  function Zb(n, i) {
    if (n === "click") return ec(i);
  }
  function ew(n, i) {
    if (n === "input" || n === "change") return ec(i);
  }
  function tw(n, i) {
    return (n === i && (n !== 0 || 1 / n === 1 / i)) || (n !== n && i !== i);
  }
  var Hn = typeof Object.is == "function" ? Object.is : tw;
  function cl(n, i) {
    if (Hn(n, i)) return !0;
    if (
      typeof n != "object" ||
      n === null ||
      typeof i != "object" ||
      i === null
    )
      return !1;
    var a = Object.keys(n),
      u = Object.keys(i);
    if (a.length !== u.length) return !1;
    for (u = 0; u < a.length; u++) {
      var f = a[u];
      if (!Or.call(i, f) || !Hn(n[f], i[f])) return !1;
    }
    return !0;
  }
  function Ag(n) {
    for (; n && n.firstChild; ) n = n.firstChild;
    return n;
  }
  function Rg(n, i) {
    var a = Ag(n);
    n = 0;
    for (var u; a; ) {
      if (a.nodeType === 3) {
        if (((u = n + a.textContent.length), n <= i && u >= i))
          return { node: a, offset: i - n };
        n = u;
      }
      e: {
        for (; a; ) {
          if (a.nextSibling) {
            a = a.nextSibling;
            break e;
          }
          a = a.parentNode;
        }
        a = void 0;
      }
      a = Ag(a);
    }
  }
  function Cg(n, i) {
    return n && i
      ? n === i
        ? !0
        : n && n.nodeType === 3
          ? !1
          : i && i.nodeType === 3
            ? Cg(n, i.parentNode)
            : "contains" in n
              ? n.contains(i)
              : n.compareDocumentPosition
                ? !!(n.compareDocumentPosition(i) & 16)
                : !1
      : !1;
  }
  function Ig(n) {
    n =
      n != null &&
      n.ownerDocument != null &&
      n.ownerDocument.defaultView != null
        ? n.ownerDocument.defaultView
        : window;
    for (var i = qs(n.document); i instanceof n.HTMLIFrameElement; ) {
      try {
        var a = typeof i.contentWindow.location.href == "string";
      } catch {
        a = !1;
      }
      if (a) n = i.contentWindow;
      else break;
      i = qs(n.document);
    }
    return i;
  }
  function Cf(n) {
    var i = n && n.nodeName && n.nodeName.toLowerCase();
    return (
      i &&
      ((i === "input" &&
        (n.type === "text" ||
          n.type === "search" ||
          n.type === "tel" ||
          n.type === "url" ||
          n.type === "password")) ||
        i === "textarea" ||
        n.contentEditable === "true")
    );
  }
  var nw = Sr && "documentMode" in document && 11 >= document.documentMode,
    Ha = null,
    If = null,
    hl = null,
    xf = !1;
  function xg(n, i, a) {
    var u =
      a.window === a ? a.document : a.nodeType === 9 ? a : a.ownerDocument;
    xf ||
      Ha == null ||
      Ha !== qs(u) ||
      ((u = Ha),
      "selectionStart" in u && Cf(u)
        ? (u = { start: u.selectionStart, end: u.selectionEnd })
        : ((u = (
            (u.ownerDocument && u.ownerDocument.defaultView) ||
            window
          ).getSelection()),
          (u = {
            anchorNode: u.anchorNode,
            anchorOffset: u.anchorOffset,
            focusNode: u.focusNode,
            focusOffset: u.focusOffset,
          })),
      (hl && cl(hl, u)) ||
        ((hl = u),
        (u = jc(If, "onSelect")),
        0 < u.length &&
          ((i = new Pa("onSelect", "select", null, i, a)),
          n.push({ event: i, listeners: u }),
          (i.target = Ha))));
  }
  function ta(n, i) {
    var a = {};
    return (
      (a[n.toLowerCase()] = i.toLowerCase()),
      (a["Webkit" + n] = "webkit" + i),
      (a["Moz" + n] = "moz" + i),
      a
    );
  }
  var Fa = {
      animationend: ta("Animation", "AnimationEnd"),
      animationiteration: ta("Animation", "AnimationIteration"),
      animationstart: ta("Animation", "AnimationStart"),
      transitionrun: ta("Transition", "TransitionRun"),
      transitionstart: ta("Transition", "TransitionStart"),
      transitioncancel: ta("Transition", "TransitionCancel"),
      transitionend: ta("Transition", "TransitionEnd"),
    },
    Nf = {},
    Ng = {};
  Sr &&
    ((Ng = document.createElement("div").style),
    "AnimationEvent" in window ||
      (delete Fa.animationend.animation,
      delete Fa.animationiteration.animation,
      delete Fa.animationstart.animation),
    "TransitionEvent" in window || delete Fa.transitionend.transition);
  function na(n) {
    if (Nf[n]) return Nf[n];
    if (!Fa[n]) return n;
    var i = Fa[n],
      a;
    for (a in i) if (i.hasOwnProperty(a) && a in Ng) return (Nf[n] = i[a]);
    return n;
  }
  var Dg = na("animationend"),
    Og = na("animationiteration"),
    Mg = na("animationstart"),
    rw = na("transitionrun"),
    iw = na("transitionstart"),
    sw = na("transitioncancel"),
    Pg = na("transitionend"),
    Lg = new Map(),
    Df =
      "abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(
        " ",
      );
  Df.push("scrollEnd");
  function br(n, i) {
    (Lg.set(n, i), sn(i, [n]));
  }
  var Vg = new WeakMap();
  function or(n, i) {
    if (typeof n == "object" && n !== null) {
      var a = Vg.get(n);
      return a !== void 0
        ? a
        : ((i = { value: n, source: i, stack: Ki(i) }), Vg.set(n, i), i);
    }
    return { value: n, source: i, stack: Ki(i) };
  }
  var lr = [],
    qa = 0,
    Of = 0;
  function tc() {
    for (var n = qa, i = (Of = qa = 0); i < n; ) {
      var a = lr[i];
      lr[i++] = null;
      var u = lr[i];
      lr[i++] = null;
      var f = lr[i];
      lr[i++] = null;
      var p = lr[i];
      if (((lr[i++] = null), u !== null && f !== null)) {
        var E = u.pending;
        (E === null ? (f.next = f) : ((f.next = E.next), (E.next = f)),
          (u.pending = f));
      }
      p !== 0 && Ug(a, f, p);
    }
  }
  function nc(n, i, a, u) {
    ((lr[qa++] = n),
      (lr[qa++] = i),
      (lr[qa++] = a),
      (lr[qa++] = u),
      (Of |= u),
      (n.lanes |= u),
      (n = n.alternate),
      n !== null && (n.lanes |= u));
  }
  function Mf(n, i, a, u) {
    return (nc(n, i, a, u), rc(n));
  }
  function Ga(n, i) {
    return (nc(n, null, null, i), rc(n));
  }
  function Ug(n, i, a) {
    n.lanes |= a;
    var u = n.alternate;
    u !== null && (u.lanes |= a);
    for (var f = !1, p = n.return; p !== null; )
      ((p.childLanes |= a),
        (u = p.alternate),
        u !== null && (u.childLanes |= a),
        p.tag === 22 &&
          ((n = p.stateNode), n === null || n._visibility & 1 || (f = !0)),
        (n = p),
        (p = p.return));
    return n.tag === 3
      ? ((p = n.stateNode),
        f &&
          i !== null &&
          ((f = 31 - jt(a)),
          (n = p.hiddenUpdates),
          (u = n[f]),
          u === null ? (n[f] = [i]) : u.push(i),
          (i.lane = a | 536870912)),
        p)
      : null;
  }
  function rc(n) {
    if (50 < Vl) throw ((Vl = 0), (jd = null), Error(s(185)));
    for (var i = n.return; i !== null; ) ((n = i), (i = n.return));
    return n.tag === 3 ? n.stateNode : null;
  }
  var $a = {};
  function aw(n, i, a, u) {
    ((this.tag = n),
      (this.key = a),
      (this.sibling =
        this.child =
        this.return =
        this.stateNode =
        this.type =
        this.elementType =
          null),
      (this.index = 0),
      (this.refCleanup = this.ref = null),
      (this.pendingProps = i),
      (this.dependencies =
        this.memoizedState =
        this.updateQueue =
        this.memoizedProps =
          null),
      (this.mode = u),
      (this.subtreeFlags = this.flags = 0),
      (this.deletions = null),
      (this.childLanes = this.lanes = 0),
      (this.alternate = null));
  }
  function Fn(n, i, a, u) {
    return new aw(n, i, a, u);
  }
  function Pf(n) {
    return ((n = n.prototype), !(!n || !n.isReactComponent));
  }
  function yi(n, i) {
    var a = n.alternate;
    return (
      a === null
        ? ((a = Fn(n.tag, i, n.key, n.mode)),
          (a.elementType = n.elementType),
          (a.type = n.type),
          (a.stateNode = n.stateNode),
          (a.alternate = n),
          (n.alternate = a))
        : ((a.pendingProps = i),
          (a.type = n.type),
          (a.flags = 0),
          (a.subtreeFlags = 0),
          (a.deletions = null)),
      (a.flags = n.flags & 65011712),
      (a.childLanes = n.childLanes),
      (a.lanes = n.lanes),
      (a.child = n.child),
      (a.memoizedProps = n.memoizedProps),
      (a.memoizedState = n.memoizedState),
      (a.updateQueue = n.updateQueue),
      (i = n.dependencies),
      (a.dependencies =
        i === null ? null : { lanes: i.lanes, firstContext: i.firstContext }),
      (a.sibling = n.sibling),
      (a.index = n.index),
      (a.ref = n.ref),
      (a.refCleanup = n.refCleanup),
      a
    );
  }
  function kg(n, i) {
    n.flags &= 65011714;
    var a = n.alternate;
    return (
      a === null
        ? ((n.childLanes = 0),
          (n.lanes = i),
          (n.child = null),
          (n.subtreeFlags = 0),
          (n.memoizedProps = null),
          (n.memoizedState = null),
          (n.updateQueue = null),
          (n.dependencies = null),
          (n.stateNode = null))
        : ((n.childLanes = a.childLanes),
          (n.lanes = a.lanes),
          (n.child = a.child),
          (n.subtreeFlags = 0),
          (n.deletions = null),
          (n.memoizedProps = a.memoizedProps),
          (n.memoizedState = a.memoizedState),
          (n.updateQueue = a.updateQueue),
          (n.type = a.type),
          (i = a.dependencies),
          (n.dependencies =
            i === null
              ? null
              : { lanes: i.lanes, firstContext: i.firstContext })),
      n
    );
  }
  function ic(n, i, a, u, f, p) {
    var E = 0;
    if (((u = n), typeof n == "function")) Pf(n) && (E = 1);
    else if (typeof n == "string")
      E = lA(n, a, Ee.current)
        ? 26
        : n === "html" || n === "head" || n === "body"
          ? 27
          : 5;
    else
      e: switch (n) {
        case C:
          return ((n = Fn(31, a, i, f)), (n.elementType = C), (n.lanes = p), n);
        case D:
          return ra(a.children, f, p, i);
        case J:
          ((E = 8), (f |= 24));
          break;
        case B:
          return (
            (n = Fn(12, a, i, f | 2)),
            (n.elementType = B),
            (n.lanes = p),
            n
          );
        case le:
          return (
            (n = Fn(13, a, i, f)),
            (n.elementType = le),
            (n.lanes = p),
            n
          );
        case k:
          return ((n = Fn(19, a, i, f)), (n.elementType = k), (n.lanes = p), n);
        default:
          if (typeof n == "object" && n !== null)
            switch (n.$$typeof) {
              case Q:
              case ie:
                E = 10;
                break e;
              case Z:
                E = 9;
                break e;
              case pe:
                E = 11;
                break e;
              case x:
                E = 14;
                break e;
              case R:
                ((E = 16), (u = null));
                break e;
            }
          ((E = 29),
            (a = Error(s(130, n === null ? "null" : typeof n, ""))),
            (u = null));
      }
    return (
      (i = Fn(E, a, i, f)),
      (i.elementType = n),
      (i.type = u),
      (i.lanes = p),
      i
    );
  }
  function ra(n, i, a, u) {
    return ((n = Fn(7, n, u, i)), (n.lanes = a), n);
  }
  function Lf(n, i, a) {
    return ((n = Fn(6, n, null, i)), (n.lanes = a), n);
  }
  function Vf(n, i, a) {
    return (
      (i = Fn(4, n.children !== null ? n.children : [], n.key, i)),
      (i.lanes = a),
      (i.stateNode = {
        containerInfo: n.containerInfo,
        pendingChildren: null,
        implementation: n.implementation,
      }),
      i
    );
  }
  var Ka = [],
    Ya = 0,
    sc = null,
    ac = 0,
    ur = [],
    cr = 0,
    ia = null,
    vi = 1,
    _i = "";
  function sa(n, i) {
    ((Ka[Ya++] = ac), (Ka[Ya++] = sc), (sc = n), (ac = i));
  }
  function jg(n, i, a) {
    ((ur[cr++] = vi), (ur[cr++] = _i), (ur[cr++] = ia), (ia = n));
    var u = vi;
    n = _i;
    var f = 32 - jt(u) - 1;
    ((u &= ~(1 << f)), (a += 1));
    var p = 32 - jt(i) + f;
    if (30 < p) {
      var E = f - (f % 5);
      ((p = (u & ((1 << E) - 1)).toString(32)),
        (u >>= E),
        (f -= E),
        (vi = (1 << (32 - jt(i) + f)) | (a << f) | u),
        (_i = p + n));
    } else ((vi = (1 << p) | (a << f) | u), (_i = n));
  }
  function Uf(n) {
    n.return !== null && (sa(n, 1), jg(n, 1, 0));
  }
  function kf(n) {
    for (; n === sc; )
      ((sc = Ka[--Ya]), (Ka[Ya] = null), (ac = Ka[--Ya]), (Ka[Ya] = null));
    for (; n === ia; )
      ((ia = ur[--cr]),
        (ur[cr] = null),
        (_i = ur[--cr]),
        (ur[cr] = null),
        (vi = ur[--cr]),
        (ur[cr] = null));
  }
  var Nn = null,
    Dt = null,
    ht = !1,
    aa = null,
    Gr = !1,
    jf = Error(s(519));
  function oa(n) {
    var i = Error(s(418, ""));
    throw (pl(or(i, n)), jf);
  }
  function zg(n) {
    var i = n.stateNode,
      a = n.type,
      u = n.memoizedProps;
    switch (((i[ae] = n), (i[he] = u), a)) {
      case "dialog":
        (We("cancel", i), We("close", i));
        break;
      case "iframe":
      case "object":
      case "embed":
        We("load", i);
        break;
      case "video":
      case "audio":
        for (a = 0; a < kl.length; a++) We(kl[a], i);
        break;
      case "source":
        We("error", i);
        break;
      case "img":
      case "image":
      case "link":
        (We("error", i), We("load", i));
        break;
      case "details":
        We("toggle", i);
        break;
      case "input":
        (We("invalid", i),
          Gs(
            i,
            u.value,
            u.defaultValue,
            u.checked,
            u.defaultChecked,
            u.type,
            u.name,
            !0,
          ),
          Oa(i));
        break;
      case "select":
        We("invalid", i);
        break;
      case "textarea":
        (We("invalid", i), $s(i, u.value, u.defaultValue, u.children), Oa(i));
    }
    ((a = u.children),
      (typeof a != "string" && typeof a != "number" && typeof a != "bigint") ||
      i.textContent === "" + a ||
      u.suppressHydrationWarning === !0 ||
      r_(i.textContent, a)
        ? (u.popover != null && (We("beforetoggle", i), We("toggle", i)),
          u.onScroll != null && We("scroll", i),
          u.onScrollEnd != null && We("scrollend", i),
          u.onClick != null && (i.onclick = zc),
          (i = !0))
        : (i = !1),
      i || oa(n));
  }
  function Bg(n) {
    for (Nn = n.return; Nn; )
      switch (Nn.tag) {
        case 5:
        case 13:
          Gr = !1;
          return;
        case 27:
        case 3:
          Gr = !0;
          return;
        default:
          Nn = Nn.return;
      }
  }
  function fl(n) {
    if (n !== Nn) return !1;
    if (!ht) return (Bg(n), (ht = !0), !1);
    var i = n.tag,
      a;
    if (
      ((a = i !== 3 && i !== 27) &&
        ((a = i === 5) &&
          ((a = n.type),
          (a =
            !(a !== "form" && a !== "button") || tp(n.type, n.memoizedProps))),
        (a = !a)),
      a && Dt && oa(n),
      Bg(n),
      i === 13)
    ) {
      if (((n = n.memoizedState), (n = n !== null ? n.dehydrated : null), !n))
        throw Error(s(317));
      e: {
        for (n = n.nextSibling, i = 0; n; ) {
          if (n.nodeType === 8)
            if (((a = n.data), a === "/$")) {
              if (i === 0) {
                Dt = Ar(n.nextSibling);
                break e;
              }
              i--;
            } else (a !== "$" && a !== "$!" && a !== "$?") || i++;
          n = n.nextSibling;
        }
        Dt = null;
      }
    } else
      i === 27
        ? ((i = Dt), hs(n.type) ? ((n = sp), (sp = null), (Dt = n)) : (Dt = i))
        : (Dt = Nn ? Ar(n.stateNode.nextSibling) : null);
    return !0;
  }
  function dl() {
    ((Dt = Nn = null), (ht = !1));
  }
  function Hg() {
    var n = aa;
    return (
      n !== null &&
        (Ln === null ? (Ln = n) : Ln.push.apply(Ln, n), (aa = null)),
      n
    );
  }
  function pl(n) {
    aa === null ? (aa = [n]) : aa.push(n);
  }
  var zf = te(null),
    la = null,
    Ei = null;
  function Xi(n, i, a) {
    (ue(zf, i._currentValue), (i._currentValue = a));
  }
  function Ti(n) {
    ((n._currentValue = zf.current), fe(zf));
  }
  function Bf(n, i, a) {
    for (; n !== null; ) {
      var u = n.alternate;
      if (
        ((n.childLanes & i) !== i
          ? ((n.childLanes |= i), u !== null && (u.childLanes |= i))
          : u !== null && (u.childLanes & i) !== i && (u.childLanes |= i),
        n === a)
      )
        break;
      n = n.return;
    }
  }
  function Hf(n, i, a, u) {
    var f = n.child;
    for (f !== null && (f.return = n); f !== null; ) {
      var p = f.dependencies;
      if (p !== null) {
        var E = f.child;
        p = p.firstContext;
        e: for (; p !== null; ) {
          var S = p;
          p = f;
          for (var N = 0; N < i.length; N++)
            if (S.context === i[N]) {
              ((p.lanes |= a),
                (S = p.alternate),
                S !== null && (S.lanes |= a),
                Bf(p.return, a, n),
                u || (E = null));
              break e;
            }
          p = S.next;
        }
      } else if (f.tag === 18) {
        if (((E = f.return), E === null)) throw Error(s(341));
        ((E.lanes |= a),
          (p = E.alternate),
          p !== null && (p.lanes |= a),
          Bf(E, a, n),
          (E = null));
      } else E = f.child;
      if (E !== null) E.return = f;
      else
        for (E = f; E !== null; ) {
          if (E === n) {
            E = null;
            break;
          }
          if (((f = E.sibling), f !== null)) {
            ((f.return = E.return), (E = f));
            break;
          }
          E = E.return;
        }
      f = E;
    }
  }
  function ml(n, i, a, u) {
    n = null;
    for (var f = i, p = !1; f !== null; ) {
      if (!p) {
        if ((f.flags & 524288) !== 0) p = !0;
        else if ((f.flags & 262144) !== 0) break;
      }
      if (f.tag === 10) {
        var E = f.alternate;
        if (E === null) throw Error(s(387));
        if (((E = E.memoizedProps), E !== null)) {
          var S = f.type;
          Hn(f.pendingProps.value, E.value) ||
            (n !== null ? n.push(S) : (n = [S]));
        }
      } else if (f === kt.current) {
        if (((E = f.alternate), E === null)) throw Error(s(387));
        E.memoizedState.memoizedState !== f.memoizedState.memoizedState &&
          (n !== null ? n.push(ql) : (n = [ql]));
      }
      f = f.return;
    }
    (n !== null && Hf(i, n, a, u), (i.flags |= 262144));
  }
  function oc(n) {
    for (n = n.firstContext; n !== null; ) {
      if (!Hn(n.context._currentValue, n.memoizedValue)) return !0;
      n = n.next;
    }
    return !1;
  }
  function ua(n) {
    ((la = n),
      (Ei = null),
      (n = n.dependencies),
      n !== null && (n.firstContext = null));
  }
  function mn(n) {
    return Fg(la, n);
  }
  function lc(n, i) {
    return (la === null && ua(n), Fg(n, i));
  }
  function Fg(n, i) {
    var a = i._currentValue;
    if (((i = { context: i, memoizedValue: a, next: null }), Ei === null)) {
      if (n === null) throw Error(s(308));
      ((Ei = i),
        (n.dependencies = { lanes: 0, firstContext: i }),
        (n.flags |= 524288));
    } else Ei = Ei.next = i;
    return a;
  }
  var ow =
      typeof AbortController < "u"
        ? AbortController
        : function () {
            var n = [],
              i = (this.signal = {
                aborted: !1,
                addEventListener: function (a, u) {
                  n.push(u);
                },
              });
            this.abort = function () {
              ((i.aborted = !0),
                n.forEach(function (a) {
                  return a();
                }));
            };
          },
    lw = r.unstable_scheduleCallback,
    uw = r.unstable_NormalPriority,
    Yt = {
      $$typeof: ie,
      Consumer: null,
      Provider: null,
      _currentValue: null,
      _currentValue2: null,
      _threadCount: 0,
    };
  function Ff() {
    return { controller: new ow(), data: new Map(), refCount: 0 };
  }
  function gl(n) {
    (n.refCount--,
      n.refCount === 0 &&
        lw(uw, function () {
          n.controller.abort();
        }));
  }
  var yl = null,
    qf = 0,
    Qa = 0,
    Xa = null;
  function cw(n, i) {
    if (yl === null) {
      var a = (yl = []);
      ((qf = 0),
        (Qa = $d()),
        (Xa = {
          status: "pending",
          value: void 0,
          then: function (u) {
            a.push(u);
          },
        }));
    }
    return (qf++, i.then(qg, qg), i);
  }
  function qg() {
    if (--qf === 0 && yl !== null) {
      Xa !== null && (Xa.status = "fulfilled");
      var n = yl;
      ((yl = null), (Qa = 0), (Xa = null));
      for (var i = 0; i < n.length; i++) (0, n[i])();
    }
  }
  function hw(n, i) {
    var a = [],
      u = {
        status: "pending",
        value: null,
        reason: null,
        then: function (f) {
          a.push(f);
        },
      };
    return (
      n.then(
        function () {
          ((u.status = "fulfilled"), (u.value = i));
          for (var f = 0; f < a.length; f++) (0, a[f])(i);
        },
        function (f) {
          for (u.status = "rejected", u.reason = f, f = 0; f < a.length; f++)
            (0, a[f])(void 0);
        },
      ),
      u
    );
  }
  var Gg = G.S;
  G.S = function (n, i) {
    (typeof i == "object" &&
      i !== null &&
      typeof i.then == "function" &&
      cw(n, i),
      Gg !== null && Gg(n, i));
  };
  var ca = te(null);
  function Gf() {
    var n = ca.current;
    return n !== null ? n : bt.pooledCache;
  }
  function uc(n, i) {
    i === null ? ue(ca, ca.current) : ue(ca, i.pool);
  }
  function $g() {
    var n = Gf();
    return n === null ? null : { parent: Yt._currentValue, pool: n };
  }
  var vl = Error(s(460)),
    Kg = Error(s(474)),
    cc = Error(s(542)),
    $f = { then: function () {} };
  function Yg(n) {
    return ((n = n.status), n === "fulfilled" || n === "rejected");
  }
  function hc() {}
  function Qg(n, i, a) {
    switch (
      ((a = n[a]),
      a === void 0 ? n.push(i) : a !== i && (i.then(hc, hc), (i = a)),
      i.status)
    ) {
      case "fulfilled":
        return i.value;
      case "rejected":
        throw ((n = i.reason), Wg(n), n);
      default:
        if (typeof i.status == "string") i.then(hc, hc);
        else {
          if (((n = bt), n !== null && 100 < n.shellSuspendCounter))
            throw Error(s(482));
          ((n = i),
            (n.status = "pending"),
            n.then(
              function (u) {
                if (i.status === "pending") {
                  var f = i;
                  ((f.status = "fulfilled"), (f.value = u));
                }
              },
              function (u) {
                if (i.status === "pending") {
                  var f = i;
                  ((f.status = "rejected"), (f.reason = u));
                }
              },
            ));
        }
        switch (i.status) {
          case "fulfilled":
            return i.value;
          case "rejected":
            throw ((n = i.reason), Wg(n), n);
        }
        throw ((_l = i), vl);
    }
  }
  var _l = null;
  function Xg() {
    if (_l === null) throw Error(s(459));
    var n = _l;
    return ((_l = null), n);
  }
  function Wg(n) {
    if (n === vl || n === cc) throw Error(s(483));
  }
  var Wi = !1;
  function Kf(n) {
    n.updateQueue = {
      baseState: n.memoizedState,
      firstBaseUpdate: null,
      lastBaseUpdate: null,
      shared: { pending: null, lanes: 0, hiddenCallbacks: null },
      callbacks: null,
    };
  }
  function Yf(n, i) {
    ((n = n.updateQueue),
      i.updateQueue === n &&
        (i.updateQueue = {
          baseState: n.baseState,
          firstBaseUpdate: n.firstBaseUpdate,
          lastBaseUpdate: n.lastBaseUpdate,
          shared: n.shared,
          callbacks: null,
        }));
  }
  function Ji(n) {
    return { lane: n, tag: 0, payload: null, callback: null, next: null };
  }
  function Zi(n, i, a) {
    var u = n.updateQueue;
    if (u === null) return null;
    if (((u = u.shared), (pt & 2) !== 0)) {
      var f = u.pending;
      return (
        f === null ? (i.next = i) : ((i.next = f.next), (f.next = i)),
        (u.pending = i),
        (i = rc(n)),
        Ug(n, null, a),
        i
      );
    }
    return (nc(n, u, i, a), rc(n));
  }
  function El(n, i, a) {
    if (
      ((i = i.updateQueue), i !== null && ((i = i.shared), (a & 4194048) !== 0))
    ) {
      var u = i.lanes;
      ((u &= n.pendingLanes), (a |= u), (i.lanes = a), Vr(n, a));
    }
  }
  function Qf(n, i) {
    var a = n.updateQueue,
      u = n.alternate;
    if (u !== null && ((u = u.updateQueue), a === u)) {
      var f = null,
        p = null;
      if (((a = a.firstBaseUpdate), a !== null)) {
        do {
          var E = {
            lane: a.lane,
            tag: a.tag,
            payload: a.payload,
            callback: null,
            next: null,
          };
          (p === null ? (f = p = E) : (p = p.next = E), (a = a.next));
        } while (a !== null);
        p === null ? (f = p = i) : (p = p.next = i);
      } else f = p = i;
      ((a = {
        baseState: u.baseState,
        firstBaseUpdate: f,
        lastBaseUpdate: p,
        shared: u.shared,
        callbacks: u.callbacks,
      }),
        (n.updateQueue = a));
      return;
    }
    ((n = a.lastBaseUpdate),
      n === null ? (a.firstBaseUpdate = i) : (n.next = i),
      (a.lastBaseUpdate = i));
  }
  var Xf = !1;
  function Tl() {
    if (Xf) {
      var n = Xa;
      if (n !== null) throw n;
    }
  }
  function Sl(n, i, a, u) {
    Xf = !1;
    var f = n.updateQueue;
    Wi = !1;
    var p = f.firstBaseUpdate,
      E = f.lastBaseUpdate,
      S = f.shared.pending;
    if (S !== null) {
      f.shared.pending = null;
      var N = S,
        $ = N.next;
      ((N.next = null), E === null ? (p = $) : (E.next = $), (E = N));
      var ne = n.alternate;
      ne !== null &&
        ((ne = ne.updateQueue),
        (S = ne.lastBaseUpdate),
        S !== E &&
          (S === null ? (ne.firstBaseUpdate = $) : (S.next = $),
          (ne.lastBaseUpdate = N)));
    }
    if (p !== null) {
      var se = f.baseState;
      ((E = 0), (ne = $ = N = null), (S = p));
      do {
        var Y = S.lane & -536870913,
          W = Y !== S.lane;
        if (W ? (rt & Y) === Y : (u & Y) === Y) {
          (Y !== 0 && Y === Qa && (Xf = !0),
            ne !== null &&
              (ne = ne.next =
                {
                  lane: 0,
                  tag: S.tag,
                  payload: S.payload,
                  callback: null,
                  next: null,
                }));
          e: {
            var Ue = n,
              De = S;
            Y = i;
            var Et = a;
            switch (De.tag) {
              case 1:
                if (((Ue = De.payload), typeof Ue == "function")) {
                  se = Ue.call(Et, se, Y);
                  break e;
                }
                se = Ue;
                break e;
              case 3:
                Ue.flags = (Ue.flags & -65537) | 128;
              case 0:
                if (
                  ((Ue = De.payload),
                  (Y = typeof Ue == "function" ? Ue.call(Et, se, Y) : Ue),
                  Y == null)
                )
                  break e;
                se = v({}, se, Y);
                break e;
              case 2:
                Wi = !0;
            }
          }
          ((Y = S.callback),
            Y !== null &&
              ((n.flags |= 64),
              W && (n.flags |= 8192),
              (W = f.callbacks),
              W === null ? (f.callbacks = [Y]) : W.push(Y)));
        } else
          ((W = {
            lane: Y,
            tag: S.tag,
            payload: S.payload,
            callback: S.callback,
            next: null,
          }),
            ne === null ? (($ = ne = W), (N = se)) : (ne = ne.next = W),
            (E |= Y));
        if (((S = S.next), S === null)) {
          if (((S = f.shared.pending), S === null)) break;
          ((W = S),
            (S = W.next),
            (W.next = null),
            (f.lastBaseUpdate = W),
            (f.shared.pending = null));
        }
      } while (!0);
      (ne === null && (N = se),
        (f.baseState = N),
        (f.firstBaseUpdate = $),
        (f.lastBaseUpdate = ne),
        p === null && (f.shared.lanes = 0),
        (os |= E),
        (n.lanes = E),
        (n.memoizedState = se));
    }
  }
  function Jg(n, i) {
    if (typeof n != "function") throw Error(s(191, n));
    n.call(i);
  }
  function Zg(n, i) {
    var a = n.callbacks;
    if (a !== null)
      for (n.callbacks = null, n = 0; n < a.length; n++) Jg(a[n], i);
  }
  var Wa = te(null),
    fc = te(0);
  function ey(n, i) {
    ((n = Ii), ue(fc, n), ue(Wa, i), (Ii = n | i.baseLanes));
  }
  function Wf() {
    (ue(fc, Ii), ue(Wa, Wa.current));
  }
  function Jf() {
    ((Ii = fc.current), fe(Wa), fe(fc));
  }
  var es = 0,
    $e = null,
    vt = null,
    Bt = null,
    dc = !1,
    Ja = !1,
    ha = !1,
    pc = 0,
    bl = 0,
    Za = null,
    fw = 0;
  function Mt() {
    throw Error(s(321));
  }
  function Zf(n, i) {
    if (i === null) return !1;
    for (var a = 0; a < i.length && a < n.length; a++)
      if (!Hn(n[a], i[a])) return !1;
    return !0;
  }
  function ed(n, i, a, u, f, p) {
    return (
      (es = p),
      ($e = i),
      (i.memoizedState = null),
      (i.updateQueue = null),
      (i.lanes = 0),
      (G.H = n === null || n.memoizedState === null ? Uy : ky),
      (ha = !1),
      (p = a(u, f)),
      (ha = !1),
      Ja && (p = ny(i, a, u, f)),
      ty(n),
      p
    );
  }
  function ty(n) {
    G.H = Ec;
    var i = vt !== null && vt.next !== null;
    if (((es = 0), (Bt = vt = $e = null), (dc = !1), (bl = 0), (Za = null), i))
      throw Error(s(300));
    n === null ||
      en ||
      ((n = n.dependencies), n !== null && oc(n) && (en = !0));
  }
  function ny(n, i, a, u) {
    $e = n;
    var f = 0;
    do {
      if ((Ja && (Za = null), (bl = 0), (Ja = !1), 25 <= f))
        throw Error(s(301));
      if (((f += 1), (Bt = vt = null), n.updateQueue != null)) {
        var p = n.updateQueue;
        ((p.lastEffect = null),
          (p.events = null),
          (p.stores = null),
          p.memoCache != null && (p.memoCache.index = 0));
      }
      ((G.H = _w), (p = i(a, u)));
    } while (Ja);
    return p;
  }
  function dw() {
    var n = G.H,
      i = n.useState()[0];
    return (
      (i = typeof i.then == "function" ? wl(i) : i),
      (n = n.useState()[0]),
      (vt !== null ? vt.memoizedState : null) !== n && ($e.flags |= 1024),
      i
    );
  }
  function td() {
    var n = pc !== 0;
    return ((pc = 0), n);
  }
  function nd(n, i, a) {
    ((i.updateQueue = n.updateQueue), (i.flags &= -2053), (n.lanes &= ~a));
  }
  function rd(n) {
    if (dc) {
      for (n = n.memoizedState; n !== null; ) {
        var i = n.queue;
        (i !== null && (i.pending = null), (n = n.next));
      }
      dc = !1;
    }
    ((es = 0), (Bt = vt = $e = null), (Ja = !1), (bl = pc = 0), (Za = null));
  }
  function Mn() {
    var n = {
      memoizedState: null,
      baseState: null,
      baseQueue: null,
      queue: null,
      next: null,
    };
    return (Bt === null ? ($e.memoizedState = Bt = n) : (Bt = Bt.next = n), Bt);
  }
  function Ht() {
    if (vt === null) {
      var n = $e.alternate;
      n = n !== null ? n.memoizedState : null;
    } else n = vt.next;
    var i = Bt === null ? $e.memoizedState : Bt.next;
    if (i !== null) ((Bt = i), (vt = n));
    else {
      if (n === null)
        throw $e.alternate === null ? Error(s(467)) : Error(s(310));
      ((vt = n),
        (n = {
          memoizedState: vt.memoizedState,
          baseState: vt.baseState,
          baseQueue: vt.baseQueue,
          queue: vt.queue,
          next: null,
        }),
        Bt === null ? ($e.memoizedState = Bt = n) : (Bt = Bt.next = n));
    }
    return Bt;
  }
  function id() {
    return { lastEffect: null, events: null, stores: null, memoCache: null };
  }
  function wl(n) {
    var i = bl;
    return (
      (bl += 1),
      Za === null && (Za = []),
      (n = Qg(Za, n, i)),
      (i = $e),
      (Bt === null ? i.memoizedState : Bt.next) === null &&
        ((i = i.alternate),
        (G.H = i === null || i.memoizedState === null ? Uy : ky)),
      n
    );
  }
  function mc(n) {
    if (n !== null && typeof n == "object") {
      if (typeof n.then == "function") return wl(n);
      if (n.$$typeof === ie) return mn(n);
    }
    throw Error(s(438, String(n)));
  }
  function sd(n) {
    var i = null,
      a = $e.updateQueue;
    if ((a !== null && (i = a.memoCache), i == null)) {
      var u = $e.alternate;
      u !== null &&
        ((u = u.updateQueue),
        u !== null &&
          ((u = u.memoCache),
          u != null &&
            (i = {
              data: u.data.map(function (f) {
                return f.slice();
              }),
              index: 0,
            })));
    }
    if (
      (i == null && (i = { data: [], index: 0 }),
      a === null && ((a = id()), ($e.updateQueue = a)),
      (a.memoCache = i),
      (a = i.data[i.index]),
      a === void 0)
    )
      for (a = i.data[i.index] = Array(n), u = 0; u < n; u++) a[u] = M;
    return (i.index++, a);
  }
  function Si(n, i) {
    return typeof i == "function" ? i(n) : i;
  }
  function gc(n) {
    var i = Ht();
    return ad(i, vt, n);
  }
  function ad(n, i, a) {
    var u = n.queue;
    if (u === null) throw Error(s(311));
    u.lastRenderedReducer = a;
    var f = n.baseQueue,
      p = u.pending;
    if (p !== null) {
      if (f !== null) {
        var E = f.next;
        ((f.next = p.next), (p.next = E));
      }
      ((i.baseQueue = f = p), (u.pending = null));
    }
    if (((p = n.baseState), f === null)) n.memoizedState = p;
    else {
      i = f.next;
      var S = (E = null),
        N = null,
        $ = i,
        ne = !1;
      do {
        var se = $.lane & -536870913;
        if (se !== $.lane ? (rt & se) === se : (es & se) === se) {
          var Y = $.revertLane;
          if (Y === 0)
            (N !== null &&
              (N = N.next =
                {
                  lane: 0,
                  revertLane: 0,
                  action: $.action,
                  hasEagerState: $.hasEagerState,
                  eagerState: $.eagerState,
                  next: null,
                }),
              se === Qa && (ne = !0));
          else if ((es & Y) === Y) {
            (($ = $.next), Y === Qa && (ne = !0));
            continue;
          } else
            ((se = {
              lane: 0,
              revertLane: $.revertLane,
              action: $.action,
              hasEagerState: $.hasEagerState,
              eagerState: $.eagerState,
              next: null,
            }),
              N === null ? ((S = N = se), (E = p)) : (N = N.next = se),
              ($e.lanes |= Y),
              (os |= Y));
          ((se = $.action),
            ha && a(p, se),
            (p = $.hasEagerState ? $.eagerState : a(p, se)));
        } else
          ((Y = {
            lane: se,
            revertLane: $.revertLane,
            action: $.action,
            hasEagerState: $.hasEagerState,
            eagerState: $.eagerState,
            next: null,
          }),
            N === null ? ((S = N = Y), (E = p)) : (N = N.next = Y),
            ($e.lanes |= se),
            (os |= se));
        $ = $.next;
      } while ($ !== null && $ !== i);
      if (
        (N === null ? (E = p) : (N.next = S),
        !Hn(p, n.memoizedState) && ((en = !0), ne && ((a = Xa), a !== null)))
      )
        throw a;
      ((n.memoizedState = p),
        (n.baseState = E),
        (n.baseQueue = N),
        (u.lastRenderedState = p));
    }
    return (f === null && (u.lanes = 0), [n.memoizedState, u.dispatch]);
  }
  function od(n) {
    var i = Ht(),
      a = i.queue;
    if (a === null) throw Error(s(311));
    a.lastRenderedReducer = n;
    var u = a.dispatch,
      f = a.pending,
      p = i.memoizedState;
    if (f !== null) {
      a.pending = null;
      var E = (f = f.next);
      do ((p = n(p, E.action)), (E = E.next));
      while (E !== f);
      (Hn(p, i.memoizedState) || (en = !0),
        (i.memoizedState = p),
        i.baseQueue === null && (i.baseState = p),
        (a.lastRenderedState = p));
    }
    return [p, u];
  }
  function ry(n, i, a) {
    var u = $e,
      f = Ht(),
      p = ht;
    if (p) {
      if (a === void 0) throw Error(s(407));
      a = a();
    } else a = i();
    var E = !Hn((vt || f).memoizedState, a);
    (E && ((f.memoizedState = a), (en = !0)), (f = f.queue));
    var S = ay.bind(null, u, f, n);
    if (
      (Al(2048, 8, S, [n]),
      f.getSnapshot !== i || E || (Bt !== null && Bt.memoizedState.tag & 1))
    ) {
      if (
        ((u.flags |= 2048),
        eo(9, yc(), sy.bind(null, u, f, a, i), null),
        bt === null)
      )
        throw Error(s(349));
      p || (es & 124) !== 0 || iy(u, i, a);
    }
    return a;
  }
  function iy(n, i, a) {
    ((n.flags |= 16384),
      (n = { getSnapshot: i, value: a }),
      (i = $e.updateQueue),
      i === null
        ? ((i = id()), ($e.updateQueue = i), (i.stores = [n]))
        : ((a = i.stores), a === null ? (i.stores = [n]) : a.push(n)));
  }
  function sy(n, i, a, u) {
    ((i.value = a), (i.getSnapshot = u), oy(i) && ly(n));
  }
  function ay(n, i, a) {
    return a(function () {
      oy(i) && ly(n);
    });
  }
  function oy(n) {
    var i = n.getSnapshot;
    n = n.value;
    try {
      var a = i();
      return !Hn(n, a);
    } catch {
      return !0;
    }
  }
  function ly(n) {
    var i = Ga(n, 2);
    i !== null && Yn(i, n, 2);
  }
  function ld(n) {
    var i = Mn();
    if (typeof n == "function") {
      var a = n;
      if (((n = a()), ha)) {
        pn(!0);
        try {
          a();
        } finally {
          pn(!1);
        }
      }
    }
    return (
      (i.memoizedState = i.baseState = n),
      (i.queue = {
        pending: null,
        lanes: 0,
        dispatch: null,
        lastRenderedReducer: Si,
        lastRenderedState: n,
      }),
      i
    );
  }
  function uy(n, i, a, u) {
    return ((n.baseState = a), ad(n, vt, typeof u == "function" ? u : Si));
  }
  function pw(n, i, a, u, f) {
    if (_c(n)) throw Error(s(485));
    if (((n = i.action), n !== null)) {
      var p = {
        payload: f,
        action: n,
        next: null,
        isTransition: !0,
        status: "pending",
        value: null,
        reason: null,
        listeners: [],
        then: function (E) {
          p.listeners.push(E);
        },
      };
      (G.T !== null ? a(!0) : (p.isTransition = !1),
        u(p),
        (a = i.pending),
        a === null
          ? ((p.next = i.pending = p), cy(i, p))
          : ((p.next = a.next), (i.pending = a.next = p)));
    }
  }
  function cy(n, i) {
    var a = i.action,
      u = i.payload,
      f = n.state;
    if (i.isTransition) {
      var p = G.T,
        E = {};
      G.T = E;
      try {
        var S = a(f, u),
          N = G.S;
        (N !== null && N(E, S), hy(n, i, S));
      } catch ($) {
        ud(n, i, $);
      } finally {
        G.T = p;
      }
    } else
      try {
        ((p = a(f, u)), hy(n, i, p));
      } catch ($) {
        ud(n, i, $);
      }
  }
  function hy(n, i, a) {
    a !== null && typeof a == "object" && typeof a.then == "function"
      ? a.then(
          function (u) {
            fy(n, i, u);
          },
          function (u) {
            return ud(n, i, u);
          },
        )
      : fy(n, i, a);
  }
  function fy(n, i, a) {
    ((i.status = "fulfilled"),
      (i.value = a),
      dy(i),
      (n.state = a),
      (i = n.pending),
      i !== null &&
        ((a = i.next),
        a === i ? (n.pending = null) : ((a = a.next), (i.next = a), cy(n, a))));
  }
  function ud(n, i, a) {
    var u = n.pending;
    if (((n.pending = null), u !== null)) {
      u = u.next;
      do ((i.status = "rejected"), (i.reason = a), dy(i), (i = i.next));
      while (i !== u);
    }
    n.action = null;
  }
  function dy(n) {
    n = n.listeners;
    for (var i = 0; i < n.length; i++) (0, n[i])();
  }
  function py(n, i) {
    return i;
  }
  function my(n, i) {
    if (ht) {
      var a = bt.formState;
      if (a !== null) {
        e: {
          var u = $e;
          if (ht) {
            if (Dt) {
              t: {
                for (var f = Dt, p = Gr; f.nodeType !== 8; ) {
                  if (!p) {
                    f = null;
                    break t;
                  }
                  if (((f = Ar(f.nextSibling)), f === null)) {
                    f = null;
                    break t;
                  }
                }
                ((p = f.data), (f = p === "F!" || p === "F" ? f : null));
              }
              if (f) {
                ((Dt = Ar(f.nextSibling)), (u = f.data === "F!"));
                break e;
              }
            }
            oa(u);
          }
          u = !1;
        }
        u && (i = a[0]);
      }
    }
    return (
      (a = Mn()),
      (a.memoizedState = a.baseState = i),
      (u = {
        pending: null,
        lanes: 0,
        dispatch: null,
        lastRenderedReducer: py,
        lastRenderedState: i,
      }),
      (a.queue = u),
      (a = Py.bind(null, $e, u)),
      (u.dispatch = a),
      (u = ld(!1)),
      (p = pd.bind(null, $e, !1, u.queue)),
      (u = Mn()),
      (f = { state: i, dispatch: null, action: n, pending: null }),
      (u.queue = f),
      (a = pw.bind(null, $e, f, p, a)),
      (f.dispatch = a),
      (u.memoizedState = n),
      [i, a, !1]
    );
  }
  function gy(n) {
    var i = Ht();
    return yy(i, vt, n);
  }
  function yy(n, i, a) {
    if (
      ((i = ad(n, i, py)[0]),
      (n = gc(Si)[0]),
      typeof i == "object" && i !== null && typeof i.then == "function")
    )
      try {
        var u = wl(i);
      } catch (E) {
        throw E === vl ? cc : E;
      }
    else u = i;
    i = Ht();
    var f = i.queue,
      p = f.dispatch;
    return (
      a !== i.memoizedState &&
        (($e.flags |= 2048), eo(9, yc(), mw.bind(null, f, a), null)),
      [u, p, n]
    );
  }
  function mw(n, i) {
    n.action = i;
  }
  function vy(n) {
    var i = Ht(),
      a = vt;
    if (a !== null) return yy(i, a, n);
    (Ht(), (i = i.memoizedState), (a = Ht()));
    var u = a.queue.dispatch;
    return ((a.memoizedState = n), [i, u, !1]);
  }
  function eo(n, i, a, u) {
    return (
      (n = { tag: n, create: a, deps: u, inst: i, next: null }),
      (i = $e.updateQueue),
      i === null && ((i = id()), ($e.updateQueue = i)),
      (a = i.lastEffect),
      a === null
        ? (i.lastEffect = n.next = n)
        : ((u = a.next), (a.next = n), (n.next = u), (i.lastEffect = n)),
      n
    );
  }
  function yc() {
    return { destroy: void 0, resource: void 0 };
  }
  function _y() {
    return Ht().memoizedState;
  }
  function vc(n, i, a, u) {
    var f = Mn();
    ((u = u === void 0 ? null : u),
      ($e.flags |= n),
      (f.memoizedState = eo(1 | i, yc(), a, u)));
  }
  function Al(n, i, a, u) {
    var f = Ht();
    u = u === void 0 ? null : u;
    var p = f.memoizedState.inst;
    vt !== null && u !== null && Zf(u, vt.memoizedState.deps)
      ? (f.memoizedState = eo(i, p, a, u))
      : (($e.flags |= n), (f.memoizedState = eo(1 | i, p, a, u)));
  }
  function Ey(n, i) {
    vc(8390656, 8, n, i);
  }
  function Ty(n, i) {
    Al(2048, 8, n, i);
  }
  function Sy(n, i) {
    return Al(4, 2, n, i);
  }
  function by(n, i) {
    return Al(4, 4, n, i);
  }
  function wy(n, i) {
    if (typeof i == "function") {
      n = n();
      var a = i(n);
      return function () {
        typeof a == "function" ? a() : i(null);
      };
    }
    if (i != null)
      return (
        (n = n()),
        (i.current = n),
        function () {
          i.current = null;
        }
      );
  }
  function Ay(n, i, a) {
    ((a = a != null ? a.concat([n]) : null), Al(4, 4, wy.bind(null, i, n), a));
  }
  function cd() {}
  function Ry(n, i) {
    var a = Ht();
    i = i === void 0 ? null : i;
    var u = a.memoizedState;
    return i !== null && Zf(i, u[1]) ? u[0] : ((a.memoizedState = [n, i]), n);
  }
  function Cy(n, i) {
    var a = Ht();
    i = i === void 0 ? null : i;
    var u = a.memoizedState;
    if (i !== null && Zf(i, u[1])) return u[0];
    if (((u = n()), ha)) {
      pn(!0);
      try {
        n();
      } finally {
        pn(!1);
      }
    }
    return ((a.memoizedState = [u, i]), u);
  }
  function hd(n, i, a) {
    return a === void 0 || (es & 1073741824) !== 0
      ? (n.memoizedState = i)
      : ((n.memoizedState = a), (n = Nv()), ($e.lanes |= n), (os |= n), a);
  }
  function Iy(n, i, a, u) {
    return Hn(a, i)
      ? a
      : Wa.current !== null
        ? ((n = hd(n, a, u)), Hn(n, i) || (en = !0), n)
        : (es & 42) === 0
          ? ((en = !0), (n.memoizedState = a))
          : ((n = Nv()), ($e.lanes |= n), (os |= n), i);
  }
  function xy(n, i, a, u, f) {
    var p = ce.p;
    ce.p = p !== 0 && 8 > p ? p : 8;
    var E = G.T,
      S = {};
    ((G.T = S), pd(n, !1, i, a));
    try {
      var N = f(),
        $ = G.S;
      if (
        ($ !== null && $(S, N),
        N !== null && typeof N == "object" && typeof N.then == "function")
      ) {
        var ne = hw(N, u);
        Rl(n, i, ne, Kn(n));
      } else Rl(n, i, u, Kn(n));
    } catch (se) {
      Rl(n, i, { then: function () {}, status: "rejected", reason: se }, Kn());
    } finally {
      ((ce.p = p), (G.T = E));
    }
  }
  function gw() {}
  function fd(n, i, a, u) {
    if (n.tag !== 5) throw Error(s(476));
    var f = Ny(n).queue;
    xy(
      n,
      f,
      i,
      ge,
      a === null
        ? gw
        : function () {
            return (Dy(n), a(u));
          },
    );
  }
  function Ny(n) {
    var i = n.memoizedState;
    if (i !== null) return i;
    i = {
      memoizedState: ge,
      baseState: ge,
      baseQueue: null,
      queue: {
        pending: null,
        lanes: 0,
        dispatch: null,
        lastRenderedReducer: Si,
        lastRenderedState: ge,
      },
      next: null,
    };
    var a = {};
    return (
      (i.next = {
        memoizedState: a,
        baseState: a,
        baseQueue: null,
        queue: {
          pending: null,
          lanes: 0,
          dispatch: null,
          lastRenderedReducer: Si,
          lastRenderedState: a,
        },
        next: null,
      }),
      (n.memoizedState = i),
      (n = n.alternate),
      n !== null && (n.memoizedState = i),
      i
    );
  }
  function Dy(n) {
    var i = Ny(n).next.queue;
    Rl(n, i, {}, Kn());
  }
  function dd() {
    return mn(ql);
  }
  function Oy() {
    return Ht().memoizedState;
  }
  function My() {
    return Ht().memoizedState;
  }
  function yw(n) {
    for (var i = n.return; i !== null; ) {
      switch (i.tag) {
        case 24:
        case 3:
          var a = Kn();
          n = Ji(a);
          var u = Zi(i, n, a);
          (u !== null && (Yn(u, i, a), El(u, i, a)),
            (i = { cache: Ff() }),
            (n.payload = i));
          return;
      }
      i = i.return;
    }
  }
  function vw(n, i, a) {
    var u = Kn();
    ((a = {
      lane: u,
      revertLane: 0,
      action: a,
      hasEagerState: !1,
      eagerState: null,
      next: null,
    }),
      _c(n)
        ? Ly(i, a)
        : ((a = Mf(n, i, a, u)), a !== null && (Yn(a, n, u), Vy(a, i, u))));
  }
  function Py(n, i, a) {
    var u = Kn();
    Rl(n, i, a, u);
  }
  function Rl(n, i, a, u) {
    var f = {
      lane: u,
      revertLane: 0,
      action: a,
      hasEagerState: !1,
      eagerState: null,
      next: null,
    };
    if (_c(n)) Ly(i, f);
    else {
      var p = n.alternate;
      if (
        n.lanes === 0 &&
        (p === null || p.lanes === 0) &&
        ((p = i.lastRenderedReducer), p !== null)
      )
        try {
          var E = i.lastRenderedState,
            S = p(E, a);
          if (((f.hasEagerState = !0), (f.eagerState = S), Hn(S, E)))
            return (nc(n, i, f, 0), bt === null && tc(), !1);
        } catch {
        } finally {
        }
      if (((a = Mf(n, i, f, u)), a !== null))
        return (Yn(a, n, u), Vy(a, i, u), !0);
    }
    return !1;
  }
  function pd(n, i, a, u) {
    if (
      ((u = {
        lane: 2,
        revertLane: $d(),
        action: u,
        hasEagerState: !1,
        eagerState: null,
        next: null,
      }),
      _c(n))
    ) {
      if (i) throw Error(s(479));
    } else ((i = Mf(n, a, u, 2)), i !== null && Yn(i, n, 2));
  }
  function _c(n) {
    var i = n.alternate;
    return n === $e || (i !== null && i === $e);
  }
  function Ly(n, i) {
    Ja = dc = !0;
    var a = n.pending;
    (a === null ? (i.next = i) : ((i.next = a.next), (a.next = i)),
      (n.pending = i));
  }
  function Vy(n, i, a) {
    if ((a & 4194048) !== 0) {
      var u = i.lanes;
      ((u &= n.pendingLanes), (a |= u), (i.lanes = a), Vr(n, a));
    }
  }
  var Ec = {
      readContext: mn,
      use: mc,
      useCallback: Mt,
      useContext: Mt,
      useEffect: Mt,
      useImperativeHandle: Mt,
      useLayoutEffect: Mt,
      useInsertionEffect: Mt,
      useMemo: Mt,
      useReducer: Mt,
      useRef: Mt,
      useState: Mt,
      useDebugValue: Mt,
      useDeferredValue: Mt,
      useTransition: Mt,
      useSyncExternalStore: Mt,
      useId: Mt,
      useHostTransitionStatus: Mt,
      useFormState: Mt,
      useActionState: Mt,
      useOptimistic: Mt,
      useMemoCache: Mt,
      useCacheRefresh: Mt,
    },
    Uy = {
      readContext: mn,
      use: mc,
      useCallback: function (n, i) {
        return ((Mn().memoizedState = [n, i === void 0 ? null : i]), n);
      },
      useContext: mn,
      useEffect: Ey,
      useImperativeHandle: function (n, i, a) {
        ((a = a != null ? a.concat([n]) : null),
          vc(4194308, 4, wy.bind(null, i, n), a));
      },
      useLayoutEffect: function (n, i) {
        return vc(4194308, 4, n, i);
      },
      useInsertionEffect: function (n, i) {
        vc(4, 2, n, i);
      },
      useMemo: function (n, i) {
        var a = Mn();
        i = i === void 0 ? null : i;
        var u = n();
        if (ha) {
          pn(!0);
          try {
            n();
          } finally {
            pn(!1);
          }
        }
        return ((a.memoizedState = [u, i]), u);
      },
      useReducer: function (n, i, a) {
        var u = Mn();
        if (a !== void 0) {
          var f = a(i);
          if (ha) {
            pn(!0);
            try {
              a(i);
            } finally {
              pn(!1);
            }
          }
        } else f = i;
        return (
          (u.memoizedState = u.baseState = f),
          (n = {
            pending: null,
            lanes: 0,
            dispatch: null,
            lastRenderedReducer: n,
            lastRenderedState: f,
          }),
          (u.queue = n),
          (n = n.dispatch = vw.bind(null, $e, n)),
          [u.memoizedState, n]
        );
      },
      useRef: function (n) {
        var i = Mn();
        return ((n = { current: n }), (i.memoizedState = n));
      },
      useState: function (n) {
        n = ld(n);
        var i = n.queue,
          a = Py.bind(null, $e, i);
        return ((i.dispatch = a), [n.memoizedState, a]);
      },
      useDebugValue: cd,
      useDeferredValue: function (n, i) {
        var a = Mn();
        return hd(a, n, i);
      },
      useTransition: function () {
        var n = ld(!1);
        return (
          (n = xy.bind(null, $e, n.queue, !0, !1)),
          (Mn().memoizedState = n),
          [!1, n]
        );
      },
      useSyncExternalStore: function (n, i, a) {
        var u = $e,
          f = Mn();
        if (ht) {
          if (a === void 0) throw Error(s(407));
          a = a();
        } else {
          if (((a = i()), bt === null)) throw Error(s(349));
          (rt & 124) !== 0 || iy(u, i, a);
        }
        f.memoizedState = a;
        var p = { value: a, getSnapshot: i };
        return (
          (f.queue = p),
          Ey(ay.bind(null, u, p, n), [n]),
          (u.flags |= 2048),
          eo(9, yc(), sy.bind(null, u, p, a, i), null),
          a
        );
      },
      useId: function () {
        var n = Mn(),
          i = bt.identifierPrefix;
        if (ht) {
          var a = _i,
            u = vi;
          ((a = (u & ~(1 << (32 - jt(u) - 1))).toString(32) + a),
            (i = "" + i + "R" + a),
            (a = pc++),
            0 < a && (i += "H" + a.toString(32)),
            (i += ""));
        } else ((a = fw++), (i = "" + i + "r" + a.toString(32) + ""));
        return (n.memoizedState = i);
      },
      useHostTransitionStatus: dd,
      useFormState: my,
      useActionState: my,
      useOptimistic: function (n) {
        var i = Mn();
        i.memoizedState = i.baseState = n;
        var a = {
          pending: null,
          lanes: 0,
          dispatch: null,
          lastRenderedReducer: null,
          lastRenderedState: null,
        };
        return (
          (i.queue = a),
          (i = pd.bind(null, $e, !0, a)),
          (a.dispatch = i),
          [n, i]
        );
      },
      useMemoCache: sd,
      useCacheRefresh: function () {
        return (Mn().memoizedState = yw.bind(null, $e));
      },
    },
    ky = {
      readContext: mn,
      use: mc,
      useCallback: Ry,
      useContext: mn,
      useEffect: Ty,
      useImperativeHandle: Ay,
      useInsertionEffect: Sy,
      useLayoutEffect: by,
      useMemo: Cy,
      useReducer: gc,
      useRef: _y,
      useState: function () {
        return gc(Si);
      },
      useDebugValue: cd,
      useDeferredValue: function (n, i) {
        var a = Ht();
        return Iy(a, vt.memoizedState, n, i);
      },
      useTransition: function () {
        var n = gc(Si)[0],
          i = Ht().memoizedState;
        return [typeof n == "boolean" ? n : wl(n), i];
      },
      useSyncExternalStore: ry,
      useId: Oy,
      useHostTransitionStatus: dd,
      useFormState: gy,
      useActionState: gy,
      useOptimistic: function (n, i) {
        var a = Ht();
        return uy(a, vt, n, i);
      },
      useMemoCache: sd,
      useCacheRefresh: My,
    },
    _w = {
      readContext: mn,
      use: mc,
      useCallback: Ry,
      useContext: mn,
      useEffect: Ty,
      useImperativeHandle: Ay,
      useInsertionEffect: Sy,
      useLayoutEffect: by,
      useMemo: Cy,
      useReducer: od,
      useRef: _y,
      useState: function () {
        return od(Si);
      },
      useDebugValue: cd,
      useDeferredValue: function (n, i) {
        var a = Ht();
        return vt === null ? hd(a, n, i) : Iy(a, vt.memoizedState, n, i);
      },
      useTransition: function () {
        var n = od(Si)[0],
          i = Ht().memoizedState;
        return [typeof n == "boolean" ? n : wl(n), i];
      },
      useSyncExternalStore: ry,
      useId: Oy,
      useHostTransitionStatus: dd,
      useFormState: vy,
      useActionState: vy,
      useOptimistic: function (n, i) {
        var a = Ht();
        return vt !== null
          ? uy(a, vt, n, i)
          : ((a.baseState = n), [n, a.queue.dispatch]);
      },
      useMemoCache: sd,
      useCacheRefresh: My,
    },
    to = null,
    Cl = 0;
  function Tc(n) {
    var i = Cl;
    return ((Cl += 1), to === null && (to = []), Qg(to, n, i));
  }
  function Il(n, i) {
    ((i = i.props.ref), (n.ref = i !== void 0 ? i : null));
  }
  function Sc(n, i) {
    throw i.$$typeof === T
      ? Error(s(525))
      : ((n = Object.prototype.toString.call(i)),
        Error(
          s(
            31,
            n === "[object Object]"
              ? "object with keys {" + Object.keys(i).join(", ") + "}"
              : n,
          ),
        ));
  }
  function jy(n) {
    var i = n._init;
    return i(n._payload);
  }
  function zy(n) {
    function i(z, L) {
      if (n) {
        var q = z.deletions;
        q === null ? ((z.deletions = [L]), (z.flags |= 16)) : q.push(L);
      }
    }
    function a(z, L) {
      if (!n) return null;
      for (; L !== null; ) (i(z, L), (L = L.sibling));
      return null;
    }
    function u(z) {
      for (var L = new Map(); z !== null; )
        (z.key !== null ? L.set(z.key, z) : L.set(z.index, z), (z = z.sibling));
      return L;
    }
    function f(z, L) {
      return ((z = yi(z, L)), (z.index = 0), (z.sibling = null), z);
    }
    function p(z, L, q) {
      return (
        (z.index = q),
        n
          ? ((q = z.alternate),
            q !== null
              ? ((q = q.index), q < L ? ((z.flags |= 67108866), L) : q)
              : ((z.flags |= 67108866), L))
          : ((z.flags |= 1048576), L)
      );
    }
    function E(z) {
      return (n && z.alternate === null && (z.flags |= 67108866), z);
    }
    function S(z, L, q, re) {
      return L === null || L.tag !== 6
        ? ((L = Lf(q, z.mode, re)), (L.return = z), L)
        : ((L = f(L, q)), (L.return = z), L);
    }
    function N(z, L, q, re) {
      var Te = q.type;
      return Te === D
        ? ne(z, L, q.props.children, re, q.key)
        : L !== null &&
            (L.elementType === Te ||
              (typeof Te == "object" &&
                Te !== null &&
                Te.$$typeof === R &&
                jy(Te) === L.type))
          ? ((L = f(L, q.props)), Il(L, q), (L.return = z), L)
          : ((L = ic(q.type, q.key, q.props, null, z.mode, re)),
            Il(L, q),
            (L.return = z),
            L);
    }
    function $(z, L, q, re) {
      return L === null ||
        L.tag !== 4 ||
        L.stateNode.containerInfo !== q.containerInfo ||
        L.stateNode.implementation !== q.implementation
        ? ((L = Vf(q, z.mode, re)), (L.return = z), L)
        : ((L = f(L, q.children || [])), (L.return = z), L);
    }
    function ne(z, L, q, re, Te) {
      return L === null || L.tag !== 7
        ? ((L = ra(q, z.mode, re, Te)), (L.return = z), L)
        : ((L = f(L, q)), (L.return = z), L);
    }
    function se(z, L, q) {
      if (
        (typeof L == "string" && L !== "") ||
        typeof L == "number" ||
        typeof L == "bigint"
      )
        return ((L = Lf("" + L, z.mode, q)), (L.return = z), L);
      if (typeof L == "object" && L !== null) {
        switch (L.$$typeof) {
          case b:
            return (
              (q = ic(L.type, L.key, L.props, null, z.mode, q)),
              Il(q, L),
              (q.return = z),
              q
            );
          case A:
            return ((L = Vf(L, z.mode, q)), (L.return = z), L);
          case R:
            var re = L._init;
            return ((L = re(L._payload)), se(z, L, q));
        }
        if (Ke(L) || j(L))
          return ((L = ra(L, z.mode, q, null)), (L.return = z), L);
        if (typeof L.then == "function") return se(z, Tc(L), q);
        if (L.$$typeof === ie) return se(z, lc(z, L), q);
        Sc(z, L);
      }
      return null;
    }
    function Y(z, L, q, re) {
      var Te = L !== null ? L.key : null;
      if (
        (typeof q == "string" && q !== "") ||
        typeof q == "number" ||
        typeof q == "bigint"
      )
        return Te !== null ? null : S(z, L, "" + q, re);
      if (typeof q == "object" && q !== null) {
        switch (q.$$typeof) {
          case b:
            return q.key === Te ? N(z, L, q, re) : null;
          case A:
            return q.key === Te ? $(z, L, q, re) : null;
          case R:
            return ((Te = q._init), (q = Te(q._payload)), Y(z, L, q, re));
        }
        if (Ke(q) || j(q)) return Te !== null ? null : ne(z, L, q, re, null);
        if (typeof q.then == "function") return Y(z, L, Tc(q), re);
        if (q.$$typeof === ie) return Y(z, L, lc(z, q), re);
        Sc(z, q);
      }
      return null;
    }
    function W(z, L, q, re, Te) {
      if (
        (typeof re == "string" && re !== "") ||
        typeof re == "number" ||
        typeof re == "bigint"
      )
        return ((z = z.get(q) || null), S(L, z, "" + re, Te));
      if (typeof re == "object" && re !== null) {
        switch (re.$$typeof) {
          case b:
            return (
              (z = z.get(re.key === null ? q : re.key) || null),
              N(L, z, re, Te)
            );
          case A:
            return (
              (z = z.get(re.key === null ? q : re.key) || null),
              $(L, z, re, Te)
            );
          case R:
            var Ye = re._init;
            return ((re = Ye(re._payload)), W(z, L, q, re, Te));
        }
        if (Ke(re) || j(re))
          return ((z = z.get(q) || null), ne(L, z, re, Te, null));
        if (typeof re.then == "function") return W(z, L, q, Tc(re), Te);
        if (re.$$typeof === ie) return W(z, L, q, lc(L, re), Te);
        Sc(L, re);
      }
      return null;
    }
    function Ue(z, L, q, re) {
      for (
        var Te = null, Ye = null, Ce = L, Pe = (L = 0), nn = null;
        Ce !== null && Pe < q.length;
        Pe++
      ) {
        Ce.index > Pe ? ((nn = Ce), (Ce = null)) : (nn = Ce.sibling);
        var ot = Y(z, Ce, q[Pe], re);
        if (ot === null) {
          Ce === null && (Ce = nn);
          break;
        }
        (n && Ce && ot.alternate === null && i(z, Ce),
          (L = p(ot, L, Pe)),
          Ye === null ? (Te = ot) : (Ye.sibling = ot),
          (Ye = ot),
          (Ce = nn));
      }
      if (Pe === q.length) return (a(z, Ce), ht && sa(z, Pe), Te);
      if (Ce === null) {
        for (; Pe < q.length; Pe++)
          ((Ce = se(z, q[Pe], re)),
            Ce !== null &&
              ((L = p(Ce, L, Pe)),
              Ye === null ? (Te = Ce) : (Ye.sibling = Ce),
              (Ye = Ce)));
        return (ht && sa(z, Pe), Te);
      }
      for (Ce = u(Ce); Pe < q.length; Pe++)
        ((nn = W(Ce, z, Pe, q[Pe], re)),
          nn !== null &&
            (n &&
              nn.alternate !== null &&
              Ce.delete(nn.key === null ? Pe : nn.key),
            (L = p(nn, L, Pe)),
            Ye === null ? (Te = nn) : (Ye.sibling = nn),
            (Ye = nn)));
      return (
        n &&
          Ce.forEach(function (gs) {
            return i(z, gs);
          }),
        ht && sa(z, Pe),
        Te
      );
    }
    function De(z, L, q, re) {
      if (q == null) throw Error(s(151));
      for (
        var Te = null,
          Ye = null,
          Ce = L,
          Pe = (L = 0),
          nn = null,
          ot = q.next();
        Ce !== null && !ot.done;
        Pe++, ot = q.next()
      ) {
        Ce.index > Pe ? ((nn = Ce), (Ce = null)) : (nn = Ce.sibling);
        var gs = Y(z, Ce, ot.value, re);
        if (gs === null) {
          Ce === null && (Ce = nn);
          break;
        }
        (n && Ce && gs.alternate === null && i(z, Ce),
          (L = p(gs, L, Pe)),
          Ye === null ? (Te = gs) : (Ye.sibling = gs),
          (Ye = gs),
          (Ce = nn));
      }
      if (ot.done) return (a(z, Ce), ht && sa(z, Pe), Te);
      if (Ce === null) {
        for (; !ot.done; Pe++, ot = q.next())
          ((ot = se(z, ot.value, re)),
            ot !== null &&
              ((L = p(ot, L, Pe)),
              Ye === null ? (Te = ot) : (Ye.sibling = ot),
              (Ye = ot)));
        return (ht && sa(z, Pe), Te);
      }
      for (Ce = u(Ce); !ot.done; Pe++, ot = q.next())
        ((ot = W(Ce, z, Pe, ot.value, re)),
          ot !== null &&
            (n &&
              ot.alternate !== null &&
              Ce.delete(ot.key === null ? Pe : ot.key),
            (L = p(ot, L, Pe)),
            Ye === null ? (Te = ot) : (Ye.sibling = ot),
            (Ye = ot)));
      return (
        n &&
          Ce.forEach(function (EA) {
            return i(z, EA);
          }),
        ht && sa(z, Pe),
        Te
      );
    }
    function Et(z, L, q, re) {
      if (
        (typeof q == "object" &&
          q !== null &&
          q.type === D &&
          q.key === null &&
          (q = q.props.children),
        typeof q == "object" && q !== null)
      ) {
        switch (q.$$typeof) {
          case b:
            e: {
              for (var Te = q.key; L !== null; ) {
                if (L.key === Te) {
                  if (((Te = q.type), Te === D)) {
                    if (L.tag === 7) {
                      (a(z, L.sibling),
                        (re = f(L, q.props.children)),
                        (re.return = z),
                        (z = re));
                      break e;
                    }
                  } else if (
                    L.elementType === Te ||
                    (typeof Te == "object" &&
                      Te !== null &&
                      Te.$$typeof === R &&
                      jy(Te) === L.type)
                  ) {
                    (a(z, L.sibling),
                      (re = f(L, q.props)),
                      Il(re, q),
                      (re.return = z),
                      (z = re));
                    break e;
                  }
                  a(z, L);
                  break;
                } else i(z, L);
                L = L.sibling;
              }
              q.type === D
                ? ((re = ra(q.props.children, z.mode, re, q.key)),
                  (re.return = z),
                  (z = re))
                : ((re = ic(q.type, q.key, q.props, null, z.mode, re)),
                  Il(re, q),
                  (re.return = z),
                  (z = re));
            }
            return E(z);
          case A:
            e: {
              for (Te = q.key; L !== null; ) {
                if (L.key === Te)
                  if (
                    L.tag === 4 &&
                    L.stateNode.containerInfo === q.containerInfo &&
                    L.stateNode.implementation === q.implementation
                  ) {
                    (a(z, L.sibling),
                      (re = f(L, q.children || [])),
                      (re.return = z),
                      (z = re));
                    break e;
                  } else {
                    a(z, L);
                    break;
                  }
                else i(z, L);
                L = L.sibling;
              }
              ((re = Vf(q, z.mode, re)), (re.return = z), (z = re));
            }
            return E(z);
          case R:
            return ((Te = q._init), (q = Te(q._payload)), Et(z, L, q, re));
        }
        if (Ke(q)) return Ue(z, L, q, re);
        if (j(q)) {
          if (((Te = j(q)), typeof Te != "function")) throw Error(s(150));
          return ((q = Te.call(q)), De(z, L, q, re));
        }
        if (typeof q.then == "function") return Et(z, L, Tc(q), re);
        if (q.$$typeof === ie) return Et(z, L, lc(z, q), re);
        Sc(z, q);
      }
      return (typeof q == "string" && q !== "") ||
        typeof q == "number" ||
        typeof q == "bigint"
        ? ((q = "" + q),
          L !== null && L.tag === 6
            ? (a(z, L.sibling), (re = f(L, q)), (re.return = z), (z = re))
            : (a(z, L), (re = Lf(q, z.mode, re)), (re.return = z), (z = re)),
          E(z))
        : a(z, L);
    }
    return function (z, L, q, re) {
      try {
        Cl = 0;
        var Te = Et(z, L, q, re);
        return ((to = null), Te);
      } catch (Ce) {
        if (Ce === vl || Ce === cc) throw Ce;
        var Ye = Fn(29, Ce, null, z.mode);
        return ((Ye.lanes = re), (Ye.return = z), Ye);
      } finally {
      }
    };
  }
  var no = zy(!0),
    By = zy(!1),
    hr = te(null),
    $r = null;
  function ts(n) {
    var i = n.alternate;
    (ue(Qt, Qt.current & 1),
      ue(hr, n),
      $r === null &&
        (i === null || Wa.current !== null || i.memoizedState !== null) &&
        ($r = n));
  }
  function Hy(n) {
    if (n.tag === 22) {
      if ((ue(Qt, Qt.current), ue(hr, n), $r === null)) {
        var i = n.alternate;
        i !== null && i.memoizedState !== null && ($r = n);
      }
    } else ns();
  }
  function ns() {
    (ue(Qt, Qt.current), ue(hr, hr.current));
  }
  function bi(n) {
    (fe(hr), $r === n && ($r = null), fe(Qt));
  }
  var Qt = te(0);
  function bc(n) {
    for (var i = n; i !== null; ) {
      if (i.tag === 13) {
        var a = i.memoizedState;
        if (
          a !== null &&
          ((a = a.dehydrated), a === null || a.data === "$?" || ip(a))
        )
          return i;
      } else if (i.tag === 19 && i.memoizedProps.revealOrder !== void 0) {
        if ((i.flags & 128) !== 0) return i;
      } else if (i.child !== null) {
        ((i.child.return = i), (i = i.child));
        continue;
      }
      if (i === n) break;
      for (; i.sibling === null; ) {
        if (i.return === null || i.return === n) return null;
        i = i.return;
      }
      ((i.sibling.return = i.return), (i = i.sibling));
    }
    return null;
  }
  function md(n, i, a, u) {
    ((i = n.memoizedState),
      (a = a(u, i)),
      (a = a == null ? i : v({}, i, a)),
      (n.memoizedState = a),
      n.lanes === 0 && (n.updateQueue.baseState = a));
  }
  var gd = {
    enqueueSetState: function (n, i, a) {
      n = n._reactInternals;
      var u = Kn(),
        f = Ji(u);
      ((f.payload = i),
        a != null && (f.callback = a),
        (i = Zi(n, f, u)),
        i !== null && (Yn(i, n, u), El(i, n, u)));
    },
    enqueueReplaceState: function (n, i, a) {
      n = n._reactInternals;
      var u = Kn(),
        f = Ji(u);
      ((f.tag = 1),
        (f.payload = i),
        a != null && (f.callback = a),
        (i = Zi(n, f, u)),
        i !== null && (Yn(i, n, u), El(i, n, u)));
    },
    enqueueForceUpdate: function (n, i) {
      n = n._reactInternals;
      var a = Kn(),
        u = Ji(a);
      ((u.tag = 2),
        i != null && (u.callback = i),
        (i = Zi(n, u, a)),
        i !== null && (Yn(i, n, a), El(i, n, a)));
    },
  };
  function Fy(n, i, a, u, f, p, E) {
    return (
      (n = n.stateNode),
      typeof n.shouldComponentUpdate == "function"
        ? n.shouldComponentUpdate(u, p, E)
        : i.prototype && i.prototype.isPureReactComponent
          ? !cl(a, u) || !cl(f, p)
          : !0
    );
  }
  function qy(n, i, a, u) {
    ((n = i.state),
      typeof i.componentWillReceiveProps == "function" &&
        i.componentWillReceiveProps(a, u),
      typeof i.UNSAFE_componentWillReceiveProps == "function" &&
        i.UNSAFE_componentWillReceiveProps(a, u),
      i.state !== n && gd.enqueueReplaceState(i, i.state, null));
  }
  function fa(n, i) {
    var a = i;
    if ("ref" in i) {
      a = {};
      for (var u in i) u !== "ref" && (a[u] = i[u]);
    }
    if ((n = n.defaultProps)) {
      a === i && (a = v({}, a));
      for (var f in n) a[f] === void 0 && (a[f] = n[f]);
    }
    return a;
  }
  var wc =
    typeof reportError == "function"
      ? reportError
      : function (n) {
          if (
            typeof window == "object" &&
            typeof window.ErrorEvent == "function"
          ) {
            var i = new window.ErrorEvent("error", {
              bubbles: !0,
              cancelable: !0,
              message:
                typeof n == "object" &&
                n !== null &&
                typeof n.message == "string"
                  ? String(n.message)
                  : String(n),
              error: n,
            });
            if (!window.dispatchEvent(i)) return;
          } else if (
            typeof process == "object" &&
            typeof process.emit == "function"
          ) {
            process.emit("uncaughtException", n);
            return;
          }
          console.error(n);
        };
  function Gy(n) {
    wc(n);
  }
  function $y(n) {
    console.error(n);
  }
  function Ky(n) {
    wc(n);
  }
  function Ac(n, i) {
    try {
      var a = n.onUncaughtError;
      a(i.value, { componentStack: i.stack });
    } catch (u) {
      setTimeout(function () {
        throw u;
      });
    }
  }
  function Yy(n, i, a) {
    try {
      var u = n.onCaughtError;
      u(a.value, {
        componentStack: a.stack,
        errorBoundary: i.tag === 1 ? i.stateNode : null,
      });
    } catch (f) {
      setTimeout(function () {
        throw f;
      });
    }
  }
  function yd(n, i, a) {
    return (
      (a = Ji(a)),
      (a.tag = 3),
      (a.payload = { element: null }),
      (a.callback = function () {
        Ac(n, i);
      }),
      a
    );
  }
  function Qy(n) {
    return ((n = Ji(n)), (n.tag = 3), n);
  }
  function Xy(n, i, a, u) {
    var f = a.type.getDerivedStateFromError;
    if (typeof f == "function") {
      var p = u.value;
      ((n.payload = function () {
        return f(p);
      }),
        (n.callback = function () {
          Yy(i, a, u);
        }));
    }
    var E = a.stateNode;
    E !== null &&
      typeof E.componentDidCatch == "function" &&
      (n.callback = function () {
        (Yy(i, a, u),
          typeof f != "function" &&
            (ls === null ? (ls = new Set([this])) : ls.add(this)));
        var S = u.stack;
        this.componentDidCatch(u.value, {
          componentStack: S !== null ? S : "",
        });
      });
  }
  function Ew(n, i, a, u, f) {
    if (
      ((a.flags |= 32768),
      u !== null && typeof u == "object" && typeof u.then == "function")
    ) {
      if (
        ((i = a.alternate),
        i !== null && ml(i, a, f, !0),
        (a = hr.current),
        a !== null)
      ) {
        switch (a.tag) {
          case 13:
            return (
              $r === null ? Bd() : a.alternate === null && Ot === 0 && (Ot = 3),
              (a.flags &= -257),
              (a.flags |= 65536),
              (a.lanes = f),
              u === $f
                ? (a.flags |= 16384)
                : ((i = a.updateQueue),
                  i === null ? (a.updateQueue = new Set([u])) : i.add(u),
                  Fd(n, u, f)),
              !1
            );
          case 22:
            return (
              (a.flags |= 65536),
              u === $f
                ? (a.flags |= 16384)
                : ((i = a.updateQueue),
                  i === null
                    ? ((i = {
                        transitions: null,
                        markerInstances: null,
                        retryQueue: new Set([u]),
                      }),
                      (a.updateQueue = i))
                    : ((a = i.retryQueue),
                      a === null ? (i.retryQueue = new Set([u])) : a.add(u)),
                  Fd(n, u, f)),
              !1
            );
        }
        throw Error(s(435, a.tag));
      }
      return (Fd(n, u, f), Bd(), !1);
    }
    if (ht)
      return (
        (i = hr.current),
        i !== null
          ? ((i.flags & 65536) === 0 && (i.flags |= 256),
            (i.flags |= 65536),
            (i.lanes = f),
            u !== jf && ((n = Error(s(422), { cause: u })), pl(or(n, a))))
          : (u !== jf && ((i = Error(s(423), { cause: u })), pl(or(i, a))),
            (n = n.current.alternate),
            (n.flags |= 65536),
            (f &= -f),
            (n.lanes |= f),
            (u = or(u, a)),
            (f = yd(n.stateNode, u, f)),
            Qf(n, f),
            Ot !== 4 && (Ot = 2)),
        !1
      );
    var p = Error(s(520), { cause: u });
    if (
      ((p = or(p, a)),
      Ll === null ? (Ll = [p]) : Ll.push(p),
      Ot !== 4 && (Ot = 2),
      i === null)
    )
      return !0;
    ((u = or(u, a)), (a = i));
    do {
      switch (a.tag) {
        case 3:
          return (
            (a.flags |= 65536),
            (n = f & -f),
            (a.lanes |= n),
            (n = yd(a.stateNode, u, n)),
            Qf(a, n),
            !1
          );
        case 1:
          if (
            ((i = a.type),
            (p = a.stateNode),
            (a.flags & 128) === 0 &&
              (typeof i.getDerivedStateFromError == "function" ||
                (p !== null &&
                  typeof p.componentDidCatch == "function" &&
                  (ls === null || !ls.has(p)))))
          )
            return (
              (a.flags |= 65536),
              (f &= -f),
              (a.lanes |= f),
              (f = Qy(f)),
              Xy(f, n, a, u),
              Qf(a, f),
              !1
            );
      }
      a = a.return;
    } while (a !== null);
    return !1;
  }
  var Wy = Error(s(461)),
    en = !1;
  function ln(n, i, a, u) {
    i.child = n === null ? By(i, null, a, u) : no(i, n.child, a, u);
  }
  function Jy(n, i, a, u, f) {
    a = a.render;
    var p = i.ref;
    if ("ref" in u) {
      var E = {};
      for (var S in u) S !== "ref" && (E[S] = u[S]);
    } else E = u;
    return (
      ua(i),
      (u = ed(n, i, a, E, p, f)),
      (S = td()),
      n !== null && !en
        ? (nd(n, i, f), wi(n, i, f))
        : (ht && S && Uf(i), (i.flags |= 1), ln(n, i, u, f), i.child)
    );
  }
  function Zy(n, i, a, u, f) {
    if (n === null) {
      var p = a.type;
      return typeof p == "function" &&
        !Pf(p) &&
        p.defaultProps === void 0 &&
        a.compare === null
        ? ((i.tag = 15), (i.type = p), ev(n, i, p, u, f))
        : ((n = ic(a.type, null, u, i, i.mode, f)),
          (n.ref = i.ref),
          (n.return = i),
          (i.child = n));
    }
    if (((p = n.child), !Ad(n, f))) {
      var E = p.memoizedProps;
      if (
        ((a = a.compare), (a = a !== null ? a : cl), a(E, u) && n.ref === i.ref)
      )
        return wi(n, i, f);
    }
    return (
      (i.flags |= 1),
      (n = yi(p, u)),
      (n.ref = i.ref),
      (n.return = i),
      (i.child = n)
    );
  }
  function ev(n, i, a, u, f) {
    if (n !== null) {
      var p = n.memoizedProps;
      if (cl(p, u) && n.ref === i.ref)
        if (((en = !1), (i.pendingProps = u = p), Ad(n, f)))
          (n.flags & 131072) !== 0 && (en = !0);
        else return ((i.lanes = n.lanes), wi(n, i, f));
    }
    return vd(n, i, a, u, f);
  }
  function tv(n, i, a) {
    var u = i.pendingProps,
      f = u.children,
      p = n !== null ? n.memoizedState : null;
    if (u.mode === "hidden") {
      if ((i.flags & 128) !== 0) {
        if (((u = p !== null ? p.baseLanes | a : a), n !== null)) {
          for (f = i.child = n.child, p = 0; f !== null; )
            ((p = p | f.lanes | f.childLanes), (f = f.sibling));
          i.childLanes = p & ~u;
        } else ((i.childLanes = 0), (i.child = null));
        return nv(n, i, u, a);
      }
      if ((a & 536870912) !== 0)
        ((i.memoizedState = { baseLanes: 0, cachePool: null }),
          n !== null && uc(i, p !== null ? p.cachePool : null),
          p !== null ? ey(i, p) : Wf(),
          Hy(i));
      else
        return (
          (i.lanes = i.childLanes = 536870912),
          nv(n, i, p !== null ? p.baseLanes | a : a, a)
        );
    } else
      p !== null
        ? (uc(i, p.cachePool), ey(i, p), ns(), (i.memoizedState = null))
        : (n !== null && uc(i, null), Wf(), ns());
    return (ln(n, i, f, a), i.child);
  }
  function nv(n, i, a, u) {
    var f = Gf();
    return (
      (f = f === null ? null : { parent: Yt._currentValue, pool: f }),
      (i.memoizedState = { baseLanes: a, cachePool: f }),
      n !== null && uc(i, null),
      Wf(),
      Hy(i),
      n !== null && ml(n, i, u, !0),
      null
    );
  }
  function Rc(n, i) {
    var a = i.ref;
    if (a === null) n !== null && n.ref !== null && (i.flags |= 4194816);
    else {
      if (typeof a != "function" && typeof a != "object") throw Error(s(284));
      (n === null || n.ref !== a) && (i.flags |= 4194816);
    }
  }
  function vd(n, i, a, u, f) {
    return (
      ua(i),
      (a = ed(n, i, a, u, void 0, f)),
      (u = td()),
      n !== null && !en
        ? (nd(n, i, f), wi(n, i, f))
        : (ht && u && Uf(i), (i.flags |= 1), ln(n, i, a, f), i.child)
    );
  }
  function rv(n, i, a, u, f, p) {
    return (
      ua(i),
      (i.updateQueue = null),
      (a = ny(i, u, a, f)),
      ty(n),
      (u = td()),
      n !== null && !en
        ? (nd(n, i, p), wi(n, i, p))
        : (ht && u && Uf(i), (i.flags |= 1), ln(n, i, a, p), i.child)
    );
  }
  function iv(n, i, a, u, f) {
    if ((ua(i), i.stateNode === null)) {
      var p = $a,
        E = a.contextType;
      (typeof E == "object" && E !== null && (p = mn(E)),
        (p = new a(u, p)),
        (i.memoizedState =
          p.state !== null && p.state !== void 0 ? p.state : null),
        (p.updater = gd),
        (i.stateNode = p),
        (p._reactInternals = i),
        (p = i.stateNode),
        (p.props = u),
        (p.state = i.memoizedState),
        (p.refs = {}),
        Kf(i),
        (E = a.contextType),
        (p.context = typeof E == "object" && E !== null ? mn(E) : $a),
        (p.state = i.memoizedState),
        (E = a.getDerivedStateFromProps),
        typeof E == "function" && (md(i, a, E, u), (p.state = i.memoizedState)),
        typeof a.getDerivedStateFromProps == "function" ||
          typeof p.getSnapshotBeforeUpdate == "function" ||
          (typeof p.UNSAFE_componentWillMount != "function" &&
            typeof p.componentWillMount != "function") ||
          ((E = p.state),
          typeof p.componentWillMount == "function" && p.componentWillMount(),
          typeof p.UNSAFE_componentWillMount == "function" &&
            p.UNSAFE_componentWillMount(),
          E !== p.state && gd.enqueueReplaceState(p, p.state, null),
          Sl(i, u, p, f),
          Tl(),
          (p.state = i.memoizedState)),
        typeof p.componentDidMount == "function" && (i.flags |= 4194308),
        (u = !0));
    } else if (n === null) {
      p = i.stateNode;
      var S = i.memoizedProps,
        N = fa(a, S);
      p.props = N;
      var $ = p.context,
        ne = a.contextType;
      ((E = $a), typeof ne == "object" && ne !== null && (E = mn(ne)));
      var se = a.getDerivedStateFromProps;
      ((ne =
        typeof se == "function" ||
        typeof p.getSnapshotBeforeUpdate == "function"),
        (S = i.pendingProps !== S),
        ne ||
          (typeof p.UNSAFE_componentWillReceiveProps != "function" &&
            typeof p.componentWillReceiveProps != "function") ||
          ((S || $ !== E) && qy(i, p, u, E)),
        (Wi = !1));
      var Y = i.memoizedState;
      ((p.state = Y),
        Sl(i, u, p, f),
        Tl(),
        ($ = i.memoizedState),
        S || Y !== $ || Wi
          ? (typeof se == "function" &&
              (md(i, a, se, u), ($ = i.memoizedState)),
            (N = Wi || Fy(i, a, N, u, Y, $, E))
              ? (ne ||
                  (typeof p.UNSAFE_componentWillMount != "function" &&
                    typeof p.componentWillMount != "function") ||
                  (typeof p.componentWillMount == "function" &&
                    p.componentWillMount(),
                  typeof p.UNSAFE_componentWillMount == "function" &&
                    p.UNSAFE_componentWillMount()),
                typeof p.componentDidMount == "function" &&
                  (i.flags |= 4194308))
              : (typeof p.componentDidMount == "function" &&
                  (i.flags |= 4194308),
                (i.memoizedProps = u),
                (i.memoizedState = $)),
            (p.props = u),
            (p.state = $),
            (p.context = E),
            (u = N))
          : (typeof p.componentDidMount == "function" && (i.flags |= 4194308),
            (u = !1)));
    } else {
      ((p = i.stateNode),
        Yf(n, i),
        (E = i.memoizedProps),
        (ne = fa(a, E)),
        (p.props = ne),
        (se = i.pendingProps),
        (Y = p.context),
        ($ = a.contextType),
        (N = $a),
        typeof $ == "object" && $ !== null && (N = mn($)),
        (S = a.getDerivedStateFromProps),
        ($ =
          typeof S == "function" ||
          typeof p.getSnapshotBeforeUpdate == "function") ||
          (typeof p.UNSAFE_componentWillReceiveProps != "function" &&
            typeof p.componentWillReceiveProps != "function") ||
          ((E !== se || Y !== N) && qy(i, p, u, N)),
        (Wi = !1),
        (Y = i.memoizedState),
        (p.state = Y),
        Sl(i, u, p, f),
        Tl());
      var W = i.memoizedState;
      E !== se ||
      Y !== W ||
      Wi ||
      (n !== null && n.dependencies !== null && oc(n.dependencies))
        ? (typeof S == "function" && (md(i, a, S, u), (W = i.memoizedState)),
          (ne =
            Wi ||
            Fy(i, a, ne, u, Y, W, N) ||
            (n !== null && n.dependencies !== null && oc(n.dependencies)))
            ? ($ ||
                (typeof p.UNSAFE_componentWillUpdate != "function" &&
                  typeof p.componentWillUpdate != "function") ||
                (typeof p.componentWillUpdate == "function" &&
                  p.componentWillUpdate(u, W, N),
                typeof p.UNSAFE_componentWillUpdate == "function" &&
                  p.UNSAFE_componentWillUpdate(u, W, N)),
              typeof p.componentDidUpdate == "function" && (i.flags |= 4),
              typeof p.getSnapshotBeforeUpdate == "function" &&
                (i.flags |= 1024))
            : (typeof p.componentDidUpdate != "function" ||
                (E === n.memoizedProps && Y === n.memoizedState) ||
                (i.flags |= 4),
              typeof p.getSnapshotBeforeUpdate != "function" ||
                (E === n.memoizedProps && Y === n.memoizedState) ||
                (i.flags |= 1024),
              (i.memoizedProps = u),
              (i.memoizedState = W)),
          (p.props = u),
          (p.state = W),
          (p.context = N),
          (u = ne))
        : (typeof p.componentDidUpdate != "function" ||
            (E === n.memoizedProps && Y === n.memoizedState) ||
            (i.flags |= 4),
          typeof p.getSnapshotBeforeUpdate != "function" ||
            (E === n.memoizedProps && Y === n.memoizedState) ||
            (i.flags |= 1024),
          (u = !1));
    }
    return (
      (p = u),
      Rc(n, i),
      (u = (i.flags & 128) !== 0),
      p || u
        ? ((p = i.stateNode),
          (a =
            u && typeof a.getDerivedStateFromError != "function"
              ? null
              : p.render()),
          (i.flags |= 1),
          n !== null && u
            ? ((i.child = no(i, n.child, null, f)),
              (i.child = no(i, null, a, f)))
            : ln(n, i, a, f),
          (i.memoizedState = p.state),
          (n = i.child))
        : (n = wi(n, i, f)),
      n
    );
  }
  function sv(n, i, a, u) {
    return (dl(), (i.flags |= 256), ln(n, i, a, u), i.child);
  }
  var _d = {
    dehydrated: null,
    treeContext: null,
    retryLane: 0,
    hydrationErrors: null,
  };
  function Ed(n) {
    return { baseLanes: n, cachePool: $g() };
  }
  function Td(n, i, a) {
    return ((n = n !== null ? n.childLanes & ~a : 0), i && (n |= fr), n);
  }
  function av(n, i, a) {
    var u = i.pendingProps,
      f = !1,
      p = (i.flags & 128) !== 0,
      E;
    if (
      ((E = p) ||
        (E =
          n !== null && n.memoizedState === null ? !1 : (Qt.current & 2) !== 0),
      E && ((f = !0), (i.flags &= -129)),
      (E = (i.flags & 32) !== 0),
      (i.flags &= -33),
      n === null)
    ) {
      if (ht) {
        if ((f ? ts(i) : ns(), ht)) {
          var S = Dt,
            N;
          if ((N = S)) {
            e: {
              for (N = S, S = Gr; N.nodeType !== 8; ) {
                if (!S) {
                  S = null;
                  break e;
                }
                if (((N = Ar(N.nextSibling)), N === null)) {
                  S = null;
                  break e;
                }
              }
              S = N;
            }
            S !== null
              ? ((i.memoizedState = {
                  dehydrated: S,
                  treeContext: ia !== null ? { id: vi, overflow: _i } : null,
                  retryLane: 536870912,
                  hydrationErrors: null,
                }),
                (N = Fn(18, null, null, 0)),
                (N.stateNode = S),
                (N.return = i),
                (i.child = N),
                (Nn = i),
                (Dt = null),
                (N = !0))
              : (N = !1);
          }
          N || oa(i);
        }
        if (
          ((S = i.memoizedState),
          S !== null && ((S = S.dehydrated), S !== null))
        )
          return (ip(S) ? (i.lanes = 32) : (i.lanes = 536870912), null);
        bi(i);
      }
      return (
        (S = u.children),
        (u = u.fallback),
        f
          ? (ns(),
            (f = i.mode),
            (S = Cc({ mode: "hidden", children: S }, f)),
            (u = ra(u, f, a, null)),
            (S.return = i),
            (u.return = i),
            (S.sibling = u),
            (i.child = S),
            (f = i.child),
            (f.memoizedState = Ed(a)),
            (f.childLanes = Td(n, E, a)),
            (i.memoizedState = _d),
            u)
          : (ts(i), Sd(i, S))
      );
    }
    if (
      ((N = n.memoizedState), N !== null && ((S = N.dehydrated), S !== null))
    ) {
      if (p)
        i.flags & 256
          ? (ts(i), (i.flags &= -257), (i = bd(n, i, a)))
          : i.memoizedState !== null
            ? (ns(), (i.child = n.child), (i.flags |= 128), (i = null))
            : (ns(),
              (f = u.fallback),
              (S = i.mode),
              (u = Cc({ mode: "visible", children: u.children }, S)),
              (f = ra(f, S, a, null)),
              (f.flags |= 2),
              (u.return = i),
              (f.return = i),
              (u.sibling = f),
              (i.child = u),
              no(i, n.child, null, a),
              (u = i.child),
              (u.memoizedState = Ed(a)),
              (u.childLanes = Td(n, E, a)),
              (i.memoizedState = _d),
              (i = f));
      else if ((ts(i), ip(S))) {
        if (((E = S.nextSibling && S.nextSibling.dataset), E)) var $ = E.dgst;
        ((E = $),
          (u = Error(s(419))),
          (u.stack = ""),
          (u.digest = E),
          pl({ value: u, source: null, stack: null }),
          (i = bd(n, i, a)));
      } else if (
        (en || ml(n, i, a, !1), (E = (a & n.childLanes) !== 0), en || E)
      ) {
        if (
          ((E = bt),
          E !== null &&
            ((u = a & -a),
            (u = (u & 42) !== 0 ? 1 : Ur(u)),
            (u = (u & (E.suspendedLanes | a)) !== 0 ? 0 : u),
            u !== 0 && u !== N.retryLane))
        )
          throw ((N.retryLane = u), Ga(n, u), Yn(E, n, u), Wy);
        (S.data === "$?" || Bd(), (i = bd(n, i, a)));
      } else
        S.data === "$?"
          ? ((i.flags |= 192), (i.child = n.child), (i = null))
          : ((n = N.treeContext),
            (Dt = Ar(S.nextSibling)),
            (Nn = i),
            (ht = !0),
            (aa = null),
            (Gr = !1),
            n !== null &&
              ((ur[cr++] = vi),
              (ur[cr++] = _i),
              (ur[cr++] = ia),
              (vi = n.id),
              (_i = n.overflow),
              (ia = i)),
            (i = Sd(i, u.children)),
            (i.flags |= 4096));
      return i;
    }
    return f
      ? (ns(),
        (f = u.fallback),
        (S = i.mode),
        (N = n.child),
        ($ = N.sibling),
        (u = yi(N, { mode: "hidden", children: u.children })),
        (u.subtreeFlags = N.subtreeFlags & 65011712),
        $ !== null ? (f = yi($, f)) : ((f = ra(f, S, a, null)), (f.flags |= 2)),
        (f.return = i),
        (u.return = i),
        (u.sibling = f),
        (i.child = u),
        (u = f),
        (f = i.child),
        (S = n.child.memoizedState),
        S === null
          ? (S = Ed(a))
          : ((N = S.cachePool),
            N !== null
              ? (($ = Yt._currentValue),
                (N = N.parent !== $ ? { parent: $, pool: $ } : N))
              : (N = $g()),
            (S = { baseLanes: S.baseLanes | a, cachePool: N })),
        (f.memoizedState = S),
        (f.childLanes = Td(n, E, a)),
        (i.memoizedState = _d),
        u)
      : (ts(i),
        (a = n.child),
        (n = a.sibling),
        (a = yi(a, { mode: "visible", children: u.children })),
        (a.return = i),
        (a.sibling = null),
        n !== null &&
          ((E = i.deletions),
          E === null ? ((i.deletions = [n]), (i.flags |= 16)) : E.push(n)),
        (i.child = a),
        (i.memoizedState = null),
        a);
  }
  function Sd(n, i) {
    return (
      (i = Cc({ mode: "visible", children: i }, n.mode)),
      (i.return = n),
      (n.child = i)
    );
  }
  function Cc(n, i) {
    return (
      (n = Fn(22, n, null, i)),
      (n.lanes = 0),
      (n.stateNode = {
        _visibility: 1,
        _pendingMarkers: null,
        _retryCache: null,
        _transitions: null,
      }),
      n
    );
  }
  function bd(n, i, a) {
    return (
      no(i, n.child, null, a),
      (n = Sd(i, i.pendingProps.children)),
      (n.flags |= 2),
      (i.memoizedState = null),
      n
    );
  }
  function ov(n, i, a) {
    n.lanes |= i;
    var u = n.alternate;
    (u !== null && (u.lanes |= i), Bf(n.return, i, a));
  }
  function wd(n, i, a, u, f) {
    var p = n.memoizedState;
    p === null
      ? (n.memoizedState = {
          isBackwards: i,
          rendering: null,
          renderingStartTime: 0,
          last: u,
          tail: a,
          tailMode: f,
        })
      : ((p.isBackwards = i),
        (p.rendering = null),
        (p.renderingStartTime = 0),
        (p.last = u),
        (p.tail = a),
        (p.tailMode = f));
  }
  function lv(n, i, a) {
    var u = i.pendingProps,
      f = u.revealOrder,
      p = u.tail;
    if ((ln(n, i, u.children, a), (u = Qt.current), (u & 2) !== 0))
      ((u = (u & 1) | 2), (i.flags |= 128));
    else {
      if (n !== null && (n.flags & 128) !== 0)
        e: for (n = i.child; n !== null; ) {
          if (n.tag === 13) n.memoizedState !== null && ov(n, a, i);
          else if (n.tag === 19) ov(n, a, i);
          else if (n.child !== null) {
            ((n.child.return = n), (n = n.child));
            continue;
          }
          if (n === i) break e;
          for (; n.sibling === null; ) {
            if (n.return === null || n.return === i) break e;
            n = n.return;
          }
          ((n.sibling.return = n.return), (n = n.sibling));
        }
      u &= 1;
    }
    switch ((ue(Qt, u), f)) {
      case "forwards":
        for (a = i.child, f = null; a !== null; )
          ((n = a.alternate),
            n !== null && bc(n) === null && (f = a),
            (a = a.sibling));
        ((a = f),
          a === null
            ? ((f = i.child), (i.child = null))
            : ((f = a.sibling), (a.sibling = null)),
          wd(i, !1, f, a, p));
        break;
      case "backwards":
        for (a = null, f = i.child, i.child = null; f !== null; ) {
          if (((n = f.alternate), n !== null && bc(n) === null)) {
            i.child = f;
            break;
          }
          ((n = f.sibling), (f.sibling = a), (a = f), (f = n));
        }
        wd(i, !0, a, null, p);
        break;
      case "together":
        wd(i, !1, null, null, void 0);
        break;
      default:
        i.memoizedState = null;
    }
    return i.child;
  }
  function wi(n, i, a) {
    if (
      (n !== null && (i.dependencies = n.dependencies),
      (os |= i.lanes),
      (a & i.childLanes) === 0)
    )
      if (n !== null) {
        if ((ml(n, i, a, !1), (a & i.childLanes) === 0)) return null;
      } else return null;
    if (n !== null && i.child !== n.child) throw Error(s(153));
    if (i.child !== null) {
      for (
        n = i.child, a = yi(n, n.pendingProps), i.child = a, a.return = i;
        n.sibling !== null;

      )
        ((n = n.sibling),
          (a = a.sibling = yi(n, n.pendingProps)),
          (a.return = i));
      a.sibling = null;
    }
    return i.child;
  }
  function Ad(n, i) {
    return (n.lanes & i) !== 0
      ? !0
      : ((n = n.dependencies), !!(n !== null && oc(n)));
  }
  function Tw(n, i, a) {
    switch (i.tag) {
      case 3:
        (gt(i, i.stateNode.containerInfo),
          Xi(i, Yt, n.memoizedState.cache),
          dl());
        break;
      case 27:
      case 5:
        wt(i);
        break;
      case 4:
        gt(i, i.stateNode.containerInfo);
        break;
      case 10:
        Xi(i, i.type, i.memoizedProps.value);
        break;
      case 13:
        var u = i.memoizedState;
        if (u !== null)
          return u.dehydrated !== null
            ? (ts(i), (i.flags |= 128), null)
            : (a & i.child.childLanes) !== 0
              ? av(n, i, a)
              : (ts(i), (n = wi(n, i, a)), n !== null ? n.sibling : null);
        ts(i);
        break;
      case 19:
        var f = (n.flags & 128) !== 0;
        if (
          ((u = (a & i.childLanes) !== 0),
          u || (ml(n, i, a, !1), (u = (a & i.childLanes) !== 0)),
          f)
        ) {
          if (u) return lv(n, i, a);
          i.flags |= 128;
        }
        if (
          ((f = i.memoizedState),
          f !== null &&
            ((f.rendering = null), (f.tail = null), (f.lastEffect = null)),
          ue(Qt, Qt.current),
          u)
        )
          break;
        return null;
      case 22:
      case 23:
        return ((i.lanes = 0), tv(n, i, a));
      case 24:
        Xi(i, Yt, n.memoizedState.cache);
    }
    return wi(n, i, a);
  }
  function uv(n, i, a) {
    if (n !== null)
      if (n.memoizedProps !== i.pendingProps) en = !0;
      else {
        if (!Ad(n, a) && (i.flags & 128) === 0) return ((en = !1), Tw(n, i, a));
        en = (n.flags & 131072) !== 0;
      }
    else ((en = !1), ht && (i.flags & 1048576) !== 0 && jg(i, ac, i.index));
    switch (((i.lanes = 0), i.tag)) {
      case 16:
        e: {
          n = i.pendingProps;
          var u = i.elementType,
            f = u._init;
          if (((u = f(u._payload)), (i.type = u), typeof u == "function"))
            Pf(u)
              ? ((n = fa(u, n)), (i.tag = 1), (i = iv(null, i, u, n, a)))
              : ((i.tag = 0), (i = vd(null, i, u, n, a)));
          else {
            if (u != null) {
              if (((f = u.$$typeof), f === pe)) {
                ((i.tag = 11), (i = Jy(null, i, u, n, a)));
                break e;
              } else if (f === x) {
                ((i.tag = 14), (i = Zy(null, i, u, n, a)));
                break e;
              }
            }
            throw ((i = Ie(u) || u), Error(s(306, i, "")));
          }
        }
        return i;
      case 0:
        return vd(n, i, i.type, i.pendingProps, a);
      case 1:
        return ((u = i.type), (f = fa(u, i.pendingProps)), iv(n, i, u, f, a));
      case 3:
        e: {
          if ((gt(i, i.stateNode.containerInfo), n === null))
            throw Error(s(387));
          u = i.pendingProps;
          var p = i.memoizedState;
          ((f = p.element), Yf(n, i), Sl(i, u, null, a));
          var E = i.memoizedState;
          if (
            ((u = E.cache),
            Xi(i, Yt, u),
            u !== p.cache && Hf(i, [Yt], a, !0),
            Tl(),
            (u = E.element),
            p.isDehydrated)
          )
            if (
              ((p = { element: u, isDehydrated: !1, cache: E.cache }),
              (i.updateQueue.baseState = p),
              (i.memoizedState = p),
              i.flags & 256)
            ) {
              i = sv(n, i, u, a);
              break e;
            } else if (u !== f) {
              ((f = or(Error(s(424)), i)), pl(f), (i = sv(n, i, u, a)));
              break e;
            } else {
              switch (((n = i.stateNode.containerInfo), n.nodeType)) {
                case 9:
                  n = n.body;
                  break;
                default:
                  n = n.nodeName === "HTML" ? n.ownerDocument.body : n;
              }
              for (
                Dt = Ar(n.firstChild),
                  Nn = i,
                  ht = !0,
                  aa = null,
                  Gr = !0,
                  a = By(i, null, u, a),
                  i.child = a;
                a;

              )
                ((a.flags = (a.flags & -3) | 4096), (a = a.sibling));
            }
          else {
            if ((dl(), u === f)) {
              i = wi(n, i, a);
              break e;
            }
            ln(n, i, u, a);
          }
          i = i.child;
        }
        return i;
      case 26:
        return (
          Rc(n, i),
          n === null
            ? (a = d_(i.type, null, i.pendingProps, null))
              ? (i.memoizedState = a)
              : ht ||
                ((a = i.type),
                (n = i.pendingProps),
                (u = Bc(Ne.current).createElement(a)),
                (u[ae] = i),
                (u[he] = n),
                cn(u, a, n),
                je(u),
                (i.stateNode = u))
            : (i.memoizedState = d_(
                i.type,
                n.memoizedProps,
                i.pendingProps,
                n.memoizedState,
              )),
          null
        );
      case 27:
        return (
          wt(i),
          n === null &&
            ht &&
            ((u = i.stateNode = c_(i.type, i.pendingProps, Ne.current)),
            (Nn = i),
            (Gr = !0),
            (f = Dt),
            hs(i.type) ? ((sp = f), (Dt = Ar(u.firstChild))) : (Dt = f)),
          ln(n, i, i.pendingProps.children, a),
          Rc(n, i),
          n === null && (i.flags |= 4194304),
          i.child
        );
      case 5:
        return (
          n === null &&
            ht &&
            ((f = u = Dt) &&
              ((u = Qw(u, i.type, i.pendingProps, Gr)),
              u !== null
                ? ((i.stateNode = u),
                  (Nn = i),
                  (Dt = Ar(u.firstChild)),
                  (Gr = !1),
                  (f = !0))
                : (f = !1)),
            f || oa(i)),
          wt(i),
          (f = i.type),
          (p = i.pendingProps),
          (E = n !== null ? n.memoizedProps : null),
          (u = p.children),
          tp(f, p) ? (u = null) : E !== null && tp(f, E) && (i.flags |= 32),
          i.memoizedState !== null &&
            ((f = ed(n, i, dw, null, null, a)), (ql._currentValue = f)),
          Rc(n, i),
          ln(n, i, u, a),
          i.child
        );
      case 6:
        return (
          n === null &&
            ht &&
            ((n = a = Dt) &&
              ((a = Xw(a, i.pendingProps, Gr)),
              a !== null
                ? ((i.stateNode = a), (Nn = i), (Dt = null), (n = !0))
                : (n = !1)),
            n || oa(i)),
          null
        );
      case 13:
        return av(n, i, a);
      case 4:
        return (
          gt(i, i.stateNode.containerInfo),
          (u = i.pendingProps),
          n === null ? (i.child = no(i, null, u, a)) : ln(n, i, u, a),
          i.child
        );
      case 11:
        return Jy(n, i, i.type, i.pendingProps, a);
      case 7:
        return (ln(n, i, i.pendingProps, a), i.child);
      case 8:
        return (ln(n, i, i.pendingProps.children, a), i.child);
      case 12:
        return (ln(n, i, i.pendingProps.children, a), i.child);
      case 10:
        return (
          (u = i.pendingProps),
          Xi(i, i.type, u.value),
          ln(n, i, u.children, a),
          i.child
        );
      case 9:
        return (
          (f = i.type._context),
          (u = i.pendingProps.children),
          ua(i),
          (f = mn(f)),
          (u = u(f)),
          (i.flags |= 1),
          ln(n, i, u, a),
          i.child
        );
      case 14:
        return Zy(n, i, i.type, i.pendingProps, a);
      case 15:
        return ev(n, i, i.type, i.pendingProps, a);
      case 19:
        return lv(n, i, a);
      case 31:
        return (
          (u = i.pendingProps),
          (a = i.mode),
          (u = { mode: u.mode, children: u.children }),
          n === null
            ? ((a = Cc(u, a)),
              (a.ref = i.ref),
              (i.child = a),
              (a.return = i),
              (i = a))
            : ((a = yi(n.child, u)),
              (a.ref = i.ref),
              (i.child = a),
              (a.return = i),
              (i = a)),
          i
        );
      case 22:
        return tv(n, i, a);
      case 24:
        return (
          ua(i),
          (u = mn(Yt)),
          n === null
            ? ((f = Gf()),
              f === null &&
                ((f = bt),
                (p = Ff()),
                (f.pooledCache = p),
                p.refCount++,
                p !== null && (f.pooledCacheLanes |= a),
                (f = p)),
              (i.memoizedState = { parent: u, cache: f }),
              Kf(i),
              Xi(i, Yt, f))
            : ((n.lanes & a) !== 0 && (Yf(n, i), Sl(i, null, null, a), Tl()),
              (f = n.memoizedState),
              (p = i.memoizedState),
              f.parent !== u
                ? ((f = { parent: u, cache: u }),
                  (i.memoizedState = f),
                  i.lanes === 0 &&
                    (i.memoizedState = i.updateQueue.baseState = f),
                  Xi(i, Yt, u))
                : ((u = p.cache),
                  Xi(i, Yt, u),
                  u !== f.cache && Hf(i, [Yt], a, !0))),
          ln(n, i, i.pendingProps.children, a),
          i.child
        );
      case 29:
        throw i.pendingProps;
    }
    throw Error(s(156, i.tag));
  }
  function Ai(n) {
    n.flags |= 4;
  }
  function cv(n, i) {
    if (i.type !== "stylesheet" || (i.state.loading & 4) !== 0)
      n.flags &= -16777217;
    else if (((n.flags |= 16777216), !v_(i))) {
      if (
        ((i = hr.current),
        i !== null &&
          ((rt & 4194048) === rt
            ? $r !== null
            : ((rt & 62914560) !== rt && (rt & 536870912) === 0) || i !== $r))
      )
        throw ((_l = $f), Kg);
      n.flags |= 8192;
    }
  }
  function Ic(n, i) {
    (i !== null && (n.flags |= 4),
      n.flags & 16384 &&
        ((i = n.tag !== 22 ? Fs() : 536870912), (n.lanes |= i), (ao |= i)));
  }
  function xl(n, i) {
    if (!ht)
      switch (n.tailMode) {
        case "hidden":
          i = n.tail;
          for (var a = null; i !== null; )
            (i.alternate !== null && (a = i), (i = i.sibling));
          a === null ? (n.tail = null) : (a.sibling = null);
          break;
        case "collapsed":
          a = n.tail;
          for (var u = null; a !== null; )
            (a.alternate !== null && (u = a), (a = a.sibling));
          u === null
            ? i || n.tail === null
              ? (n.tail = null)
              : (n.tail.sibling = null)
            : (u.sibling = null);
      }
  }
  function xt(n) {
    var i = n.alternate !== null && n.alternate.child === n.child,
      a = 0,
      u = 0;
    if (i)
      for (var f = n.child; f !== null; )
        ((a |= f.lanes | f.childLanes),
          (u |= f.subtreeFlags & 65011712),
          (u |= f.flags & 65011712),
          (f.return = n),
          (f = f.sibling));
    else
      for (f = n.child; f !== null; )
        ((a |= f.lanes | f.childLanes),
          (u |= f.subtreeFlags),
          (u |= f.flags),
          (f.return = n),
          (f = f.sibling));
    return ((n.subtreeFlags |= u), (n.childLanes = a), i);
  }
  function Sw(n, i, a) {
    var u = i.pendingProps;
    switch ((kf(i), i.tag)) {
      case 31:
      case 16:
      case 15:
      case 0:
      case 11:
      case 7:
      case 8:
      case 12:
      case 9:
      case 14:
        return (xt(i), null);
      case 1:
        return (xt(i), null);
      case 3:
        return (
          (a = i.stateNode),
          (u = null),
          n !== null && (u = n.memoizedState.cache),
          i.memoizedState.cache !== u && (i.flags |= 2048),
          Ti(Yt),
          Wn(),
          a.pendingContext &&
            ((a.context = a.pendingContext), (a.pendingContext = null)),
          (n === null || n.child === null) &&
            (fl(i)
              ? Ai(i)
              : n === null ||
                (n.memoizedState.isDehydrated && (i.flags & 256) === 0) ||
                ((i.flags |= 1024), Hg())),
          xt(i),
          null
        );
      case 26:
        return (
          (a = i.memoizedState),
          n === null
            ? (Ai(i),
              a !== null ? (xt(i), cv(i, a)) : (xt(i), (i.flags &= -16777217)))
            : a
              ? a !== n.memoizedState
                ? (Ai(i), xt(i), cv(i, a))
                : (xt(i), (i.flags &= -16777217))
              : (n.memoizedProps !== u && Ai(i), xt(i), (i.flags &= -16777217)),
          null
        );
      case 27:
        (dn(i), (a = Ne.current));
        var f = i.type;
        if (n !== null && i.stateNode != null) n.memoizedProps !== u && Ai(i);
        else {
          if (!u) {
            if (i.stateNode === null) throw Error(s(166));
            return (xt(i), null);
          }
          ((n = Ee.current),
            fl(i) ? zg(i) : ((n = c_(f, u, a)), (i.stateNode = n), Ai(i)));
        }
        return (xt(i), null);
      case 5:
        if ((dn(i), (a = i.type), n !== null && i.stateNode != null))
          n.memoizedProps !== u && Ai(i);
        else {
          if (!u) {
            if (i.stateNode === null) throw Error(s(166));
            return (xt(i), null);
          }
          if (((n = Ee.current), fl(i))) zg(i);
          else {
            switch (((f = Bc(Ne.current)), n)) {
              case 1:
                n = f.createElementNS("http://www.w3.org/2000/svg", a);
                break;
              case 2:
                n = f.createElementNS("http://www.w3.org/1998/Math/MathML", a);
                break;
              default:
                switch (a) {
                  case "svg":
                    n = f.createElementNS("http://www.w3.org/2000/svg", a);
                    break;
                  case "math":
                    n = f.createElementNS(
                      "http://www.w3.org/1998/Math/MathML",
                      a,
                    );
                    break;
                  case "script":
                    ((n = f.createElement("div")),
                      (n.innerHTML = "<script><\/script>"),
                      (n = n.removeChild(n.firstChild)));
                    break;
                  case "select":
                    ((n =
                      typeof u.is == "string"
                        ? f.createElement("select", { is: u.is })
                        : f.createElement("select")),
                      u.multiple
                        ? (n.multiple = !0)
                        : u.size && (n.size = u.size));
                    break;
                  default:
                    n =
                      typeof u.is == "string"
                        ? f.createElement(a, { is: u.is })
                        : f.createElement(a);
                }
            }
            ((n[ae] = i), (n[he] = u));
            e: for (f = i.child; f !== null; ) {
              if (f.tag === 5 || f.tag === 6) n.appendChild(f.stateNode);
              else if (f.tag !== 4 && f.tag !== 27 && f.child !== null) {
                ((f.child.return = f), (f = f.child));
                continue;
              }
              if (f === i) break e;
              for (; f.sibling === null; ) {
                if (f.return === null || f.return === i) break e;
                f = f.return;
              }
              ((f.sibling.return = f.return), (f = f.sibling));
            }
            i.stateNode = n;
            e: switch ((cn(n, a, u), a)) {
              case "button":
              case "input":
              case "select":
              case "textarea":
                n = !!u.autoFocus;
                break e;
              case "img":
                n = !0;
                break e;
              default:
                n = !1;
            }
            n && Ai(i);
          }
        }
        return (xt(i), (i.flags &= -16777217), null);
      case 6:
        if (n && i.stateNode != null) n.memoizedProps !== u && Ai(i);
        else {
          if (typeof u != "string" && i.stateNode === null) throw Error(s(166));
          if (((n = Ne.current), fl(i))) {
            if (
              ((n = i.stateNode),
              (a = i.memoizedProps),
              (u = null),
              (f = Nn),
              f !== null)
            )
              switch (f.tag) {
                case 27:
                case 5:
                  u = f.memoizedProps;
              }
            ((n[ae] = i),
              (n = !!(
                n.nodeValue === a ||
                (u !== null && u.suppressHydrationWarning === !0) ||
                r_(n.nodeValue, a)
              )),
              n || oa(i));
          } else
            ((n = Bc(n).createTextNode(u)), (n[ae] = i), (i.stateNode = n));
        }
        return (xt(i), null);
      case 13:
        if (
          ((u = i.memoizedState),
          n === null ||
            (n.memoizedState !== null && n.memoizedState.dehydrated !== null))
        ) {
          if (((f = fl(i)), u !== null && u.dehydrated !== null)) {
            if (n === null) {
              if (!f) throw Error(s(318));
              if (
                ((f = i.memoizedState),
                (f = f !== null ? f.dehydrated : null),
                !f)
              )
                throw Error(s(317));
              f[ae] = i;
            } else
              (dl(),
                (i.flags & 128) === 0 && (i.memoizedState = null),
                (i.flags |= 4));
            (xt(i), (f = !1));
          } else
            ((f = Hg()),
              n !== null &&
                n.memoizedState !== null &&
                (n.memoizedState.hydrationErrors = f),
              (f = !0));
          if (!f) return i.flags & 256 ? (bi(i), i) : (bi(i), null);
        }
        if ((bi(i), (i.flags & 128) !== 0)) return ((i.lanes = a), i);
        if (
          ((a = u !== null), (n = n !== null && n.memoizedState !== null), a)
        ) {
          ((u = i.child),
            (f = null),
            u.alternate !== null &&
              u.alternate.memoizedState !== null &&
              u.alternate.memoizedState.cachePool !== null &&
              (f = u.alternate.memoizedState.cachePool.pool));
          var p = null;
          (u.memoizedState !== null &&
            u.memoizedState.cachePool !== null &&
            (p = u.memoizedState.cachePool.pool),
            p !== f && (u.flags |= 2048));
        }
        return (
          a !== n && a && (i.child.flags |= 8192),
          Ic(i, i.updateQueue),
          xt(i),
          null
        );
      case 4:
        return (Wn(), n === null && Xd(i.stateNode.containerInfo), xt(i), null);
      case 10:
        return (Ti(i.type), xt(i), null);
      case 19:
        if ((fe(Qt), (f = i.memoizedState), f === null)) return (xt(i), null);
        if (((u = (i.flags & 128) !== 0), (p = f.rendering), p === null))
          if (u) xl(f, !1);
          else {
            if (Ot !== 0 || (n !== null && (n.flags & 128) !== 0))
              for (n = i.child; n !== null; ) {
                if (((p = bc(n)), p !== null)) {
                  for (
                    i.flags |= 128,
                      xl(f, !1),
                      n = p.updateQueue,
                      i.updateQueue = n,
                      Ic(i, n),
                      i.subtreeFlags = 0,
                      n = a,
                      a = i.child;
                    a !== null;

                  )
                    (kg(a, n), (a = a.sibling));
                  return (ue(Qt, (Qt.current & 1) | 2), i.child);
                }
                n = n.sibling;
              }
            f.tail !== null &&
              wn() > Dc &&
              ((i.flags |= 128), (u = !0), xl(f, !1), (i.lanes = 4194304));
          }
        else {
          if (!u)
            if (((n = bc(p)), n !== null)) {
              if (
                ((i.flags |= 128),
                (u = !0),
                (n = n.updateQueue),
                (i.updateQueue = n),
                Ic(i, n),
                xl(f, !0),
                f.tail === null &&
                  f.tailMode === "hidden" &&
                  !p.alternate &&
                  !ht)
              )
                return (xt(i), null);
            } else
              2 * wn() - f.renderingStartTime > Dc &&
                a !== 536870912 &&
                ((i.flags |= 128), (u = !0), xl(f, !1), (i.lanes = 4194304));
          f.isBackwards
            ? ((p.sibling = i.child), (i.child = p))
            : ((n = f.last),
              n !== null ? (n.sibling = p) : (i.child = p),
              (f.last = p));
        }
        return f.tail !== null
          ? ((i = f.tail),
            (f.rendering = i),
            (f.tail = i.sibling),
            (f.renderingStartTime = wn()),
            (i.sibling = null),
            (n = Qt.current),
            ue(Qt, u ? (n & 1) | 2 : n & 1),
            i)
          : (xt(i), null);
      case 22:
      case 23:
        return (
          bi(i),
          Jf(),
          (u = i.memoizedState !== null),
          n !== null
            ? (n.memoizedState !== null) !== u && (i.flags |= 8192)
            : u && (i.flags |= 8192),
          u
            ? (a & 536870912) !== 0 &&
              (i.flags & 128) === 0 &&
              (xt(i), i.subtreeFlags & 6 && (i.flags |= 8192))
            : xt(i),
          (a = i.updateQueue),
          a !== null && Ic(i, a.retryQueue),
          (a = null),
          n !== null &&
            n.memoizedState !== null &&
            n.memoizedState.cachePool !== null &&
            (a = n.memoizedState.cachePool.pool),
          (u = null),
          i.memoizedState !== null &&
            i.memoizedState.cachePool !== null &&
            (u = i.memoizedState.cachePool.pool),
          u !== a && (i.flags |= 2048),
          n !== null && fe(ca),
          null
        );
      case 24:
        return (
          (a = null),
          n !== null && (a = n.memoizedState.cache),
          i.memoizedState.cache !== a && (i.flags |= 2048),
          Ti(Yt),
          xt(i),
          null
        );
      case 25:
        return null;
      case 30:
        return null;
    }
    throw Error(s(156, i.tag));
  }
  function bw(n, i) {
    switch ((kf(i), i.tag)) {
      case 1:
        return (
          (n = i.flags),
          n & 65536 ? ((i.flags = (n & -65537) | 128), i) : null
        );
      case 3:
        return (
          Ti(Yt),
          Wn(),
          (n = i.flags),
          (n & 65536) !== 0 && (n & 128) === 0
            ? ((i.flags = (n & -65537) | 128), i)
            : null
        );
      case 26:
      case 27:
      case 5:
        return (dn(i), null);
      case 13:
        if (
          (bi(i), (n = i.memoizedState), n !== null && n.dehydrated !== null)
        ) {
          if (i.alternate === null) throw Error(s(340));
          dl();
        }
        return (
          (n = i.flags),
          n & 65536 ? ((i.flags = (n & -65537) | 128), i) : null
        );
      case 19:
        return (fe(Qt), null);
      case 4:
        return (Wn(), null);
      case 10:
        return (Ti(i.type), null);
      case 22:
      case 23:
        return (
          bi(i),
          Jf(),
          n !== null && fe(ca),
          (n = i.flags),
          n & 65536 ? ((i.flags = (n & -65537) | 128), i) : null
        );
      case 24:
        return (Ti(Yt), null);
      case 25:
        return null;
      default:
        return null;
    }
  }
  function hv(n, i) {
    switch ((kf(i), i.tag)) {
      case 3:
        (Ti(Yt), Wn());
        break;
      case 26:
      case 27:
      case 5:
        dn(i);
        break;
      case 4:
        Wn();
        break;
      case 13:
        bi(i);
        break;
      case 19:
        fe(Qt);
        break;
      case 10:
        Ti(i.type);
        break;
      case 22:
      case 23:
        (bi(i), Jf(), n !== null && fe(ca));
        break;
      case 24:
        Ti(Yt);
    }
  }
  function Nl(n, i) {
    try {
      var a = i.updateQueue,
        u = a !== null ? a.lastEffect : null;
      if (u !== null) {
        var f = u.next;
        a = f;
        do {
          if ((a.tag & n) === n) {
            u = void 0;
            var p = a.create,
              E = a.inst;
            ((u = p()), (E.destroy = u));
          }
          a = a.next;
        } while (a !== f);
      }
    } catch (S) {
      Tt(i, i.return, S);
    }
  }
  function rs(n, i, a) {
    try {
      var u = i.updateQueue,
        f = u !== null ? u.lastEffect : null;
      if (f !== null) {
        var p = f.next;
        u = p;
        do {
          if ((u.tag & n) === n) {
            var E = u.inst,
              S = E.destroy;
            if (S !== void 0) {
              ((E.destroy = void 0), (f = i));
              var N = a,
                $ = S;
              try {
                $();
              } catch (ne) {
                Tt(f, N, ne);
              }
            }
          }
          u = u.next;
        } while (u !== p);
      }
    } catch (ne) {
      Tt(i, i.return, ne);
    }
  }
  function fv(n) {
    var i = n.updateQueue;
    if (i !== null) {
      var a = n.stateNode;
      try {
        Zg(i, a);
      } catch (u) {
        Tt(n, n.return, u);
      }
    }
  }
  function dv(n, i, a) {
    ((a.props = fa(n.type, n.memoizedProps)), (a.state = n.memoizedState));
    try {
      a.componentWillUnmount();
    } catch (u) {
      Tt(n, i, u);
    }
  }
  function Dl(n, i) {
    try {
      var a = n.ref;
      if (a !== null) {
        switch (n.tag) {
          case 26:
          case 27:
          case 5:
            var u = n.stateNode;
            break;
          case 30:
            u = n.stateNode;
            break;
          default:
            u = n.stateNode;
        }
        typeof a == "function" ? (n.refCleanup = a(u)) : (a.current = u);
      }
    } catch (f) {
      Tt(n, i, f);
    }
  }
  function Kr(n, i) {
    var a = n.ref,
      u = n.refCleanup;
    if (a !== null)
      if (typeof u == "function")
        try {
          u();
        } catch (f) {
          Tt(n, i, f);
        } finally {
          ((n.refCleanup = null),
            (n = n.alternate),
            n != null && (n.refCleanup = null));
        }
      else if (typeof a == "function")
        try {
          a(null);
        } catch (f) {
          Tt(n, i, f);
        }
      else a.current = null;
  }
  function pv(n) {
    var i = n.type,
      a = n.memoizedProps,
      u = n.stateNode;
    try {
      e: switch (i) {
        case "button":
        case "input":
        case "select":
        case "textarea":
          a.autoFocus && u.focus();
          break e;
        case "img":
          a.src ? (u.src = a.src) : a.srcSet && (u.srcset = a.srcSet);
      }
    } catch (f) {
      Tt(n, n.return, f);
    }
  }
  function Rd(n, i, a) {
    try {
      var u = n.stateNode;
      (qw(u, n.type, a, i), (u[he] = i));
    } catch (f) {
      Tt(n, n.return, f);
    }
  }
  function mv(n) {
    return (
      n.tag === 5 ||
      n.tag === 3 ||
      n.tag === 26 ||
      (n.tag === 27 && hs(n.type)) ||
      n.tag === 4
    );
  }
  function Cd(n) {
    e: for (;;) {
      for (; n.sibling === null; ) {
        if (n.return === null || mv(n.return)) return null;
        n = n.return;
      }
      for (
        n.sibling.return = n.return, n = n.sibling;
        n.tag !== 5 && n.tag !== 6 && n.tag !== 18;

      ) {
        if (
          (n.tag === 27 && hs(n.type)) ||
          n.flags & 2 ||
          n.child === null ||
          n.tag === 4
        )
          continue e;
        ((n.child.return = n), (n = n.child));
      }
      if (!(n.flags & 2)) return n.stateNode;
    }
  }
  function Id(n, i, a) {
    var u = n.tag;
    if (u === 5 || u === 6)
      ((n = n.stateNode),
        i
          ? (a.nodeType === 9
              ? a.body
              : a.nodeName === "HTML"
                ? a.ownerDocument.body
                : a
            ).insertBefore(n, i)
          : ((i =
              a.nodeType === 9
                ? a.body
                : a.nodeName === "HTML"
                  ? a.ownerDocument.body
                  : a),
            i.appendChild(n),
            (a = a._reactRootContainer),
            a != null || i.onclick !== null || (i.onclick = zc)));
    else if (
      u !== 4 &&
      (u === 27 && hs(n.type) && ((a = n.stateNode), (i = null)),
      (n = n.child),
      n !== null)
    )
      for (Id(n, i, a), n = n.sibling; n !== null; )
        (Id(n, i, a), (n = n.sibling));
  }
  function xc(n, i, a) {
    var u = n.tag;
    if (u === 5 || u === 6)
      ((n = n.stateNode), i ? a.insertBefore(n, i) : a.appendChild(n));
    else if (
      u !== 4 &&
      (u === 27 && hs(n.type) && (a = n.stateNode), (n = n.child), n !== null)
    )
      for (xc(n, i, a), n = n.sibling; n !== null; )
        (xc(n, i, a), (n = n.sibling));
  }
  function gv(n) {
    var i = n.stateNode,
      a = n.memoizedProps;
    try {
      for (var u = n.type, f = i.attributes; f.length; )
        i.removeAttributeNode(f[0]);
      (cn(i, u, a), (i[ae] = n), (i[he] = a));
    } catch (p) {
      Tt(n, n.return, p);
    }
  }
  var Ri = !1,
    Pt = !1,
    xd = !1,
    yv = typeof WeakSet == "function" ? WeakSet : Set,
    tn = null;
  function ww(n, i) {
    if (((n = n.containerInfo), (Zd = Kc), (n = Ig(n)), Cf(n))) {
      if ("selectionStart" in n)
        var a = { start: n.selectionStart, end: n.selectionEnd };
      else
        e: {
          a = ((a = n.ownerDocument) && a.defaultView) || window;
          var u = a.getSelection && a.getSelection();
          if (u && u.rangeCount !== 0) {
            a = u.anchorNode;
            var f = u.anchorOffset,
              p = u.focusNode;
            u = u.focusOffset;
            try {
              (a.nodeType, p.nodeType);
            } catch {
              a = null;
              break e;
            }
            var E = 0,
              S = -1,
              N = -1,
              $ = 0,
              ne = 0,
              se = n,
              Y = null;
            t: for (;;) {
              for (
                var W;
                se !== a || (f !== 0 && se.nodeType !== 3) || (S = E + f),
                  se !== p || (u !== 0 && se.nodeType !== 3) || (N = E + u),
                  se.nodeType === 3 && (E += se.nodeValue.length),
                  (W = se.firstChild) !== null;

              )
                ((Y = se), (se = W));
              for (;;) {
                if (se === n) break t;
                if (
                  (Y === a && ++$ === f && (S = E),
                  Y === p && ++ne === u && (N = E),
                  (W = se.nextSibling) !== null)
                )
                  break;
                ((se = Y), (Y = se.parentNode));
              }
              se = W;
            }
            a = S === -1 || N === -1 ? null : { start: S, end: N };
          } else a = null;
        }
      a = a || { start: 0, end: 0 };
    } else a = null;
    for (
      ep = { focusedElem: n, selectionRange: a }, Kc = !1, tn = i;
      tn !== null;

    )
      if (
        ((i = tn), (n = i.child), (i.subtreeFlags & 1024) !== 0 && n !== null)
      )
        ((n.return = i), (tn = n));
      else
        for (; tn !== null; ) {
          switch (((i = tn), (p = i.alternate), (n = i.flags), i.tag)) {
            case 0:
              break;
            case 11:
            case 15:
              break;
            case 1:
              if ((n & 1024) !== 0 && p !== null) {
                ((n = void 0),
                  (a = i),
                  (f = p.memoizedProps),
                  (p = p.memoizedState),
                  (u = a.stateNode));
                try {
                  var Ue = fa(a.type, f, a.elementType === a.type);
                  ((n = u.getSnapshotBeforeUpdate(Ue, p)),
                    (u.__reactInternalSnapshotBeforeUpdate = n));
                } catch (De) {
                  Tt(a, a.return, De);
                }
              }
              break;
            case 3:
              if ((n & 1024) !== 0) {
                if (
                  ((n = i.stateNode.containerInfo), (a = n.nodeType), a === 9)
                )
                  rp(n);
                else if (a === 1)
                  switch (n.nodeName) {
                    case "HEAD":
                    case "HTML":
                    case "BODY":
                      rp(n);
                      break;
                    default:
                      n.textContent = "";
                  }
              }
              break;
            case 5:
            case 26:
            case 27:
            case 6:
            case 4:
            case 17:
              break;
            default:
              if ((n & 1024) !== 0) throw Error(s(163));
          }
          if (((n = i.sibling), n !== null)) {
            ((n.return = i.return), (tn = n));
            break;
          }
          tn = i.return;
        }
  }
  function vv(n, i, a) {
    var u = a.flags;
    switch (a.tag) {
      case 0:
      case 11:
      case 15:
        (is(n, a), u & 4 && Nl(5, a));
        break;
      case 1:
        if ((is(n, a), u & 4))
          if (((n = a.stateNode), i === null))
            try {
              n.componentDidMount();
            } catch (E) {
              Tt(a, a.return, E);
            }
          else {
            var f = fa(a.type, i.memoizedProps);
            i = i.memoizedState;
            try {
              n.componentDidUpdate(f, i, n.__reactInternalSnapshotBeforeUpdate);
            } catch (E) {
              Tt(a, a.return, E);
            }
          }
        (u & 64 && fv(a), u & 512 && Dl(a, a.return));
        break;
      case 3:
        if ((is(n, a), u & 64 && ((n = a.updateQueue), n !== null))) {
          if (((i = null), a.child !== null))
            switch (a.child.tag) {
              case 27:
              case 5:
                i = a.child.stateNode;
                break;
              case 1:
                i = a.child.stateNode;
            }
          try {
            Zg(n, i);
          } catch (E) {
            Tt(a, a.return, E);
          }
        }
        break;
      case 27:
        i === null && u & 4 && gv(a);
      case 26:
      case 5:
        (is(n, a), i === null && u & 4 && pv(a), u & 512 && Dl(a, a.return));
        break;
      case 12:
        is(n, a);
        break;
      case 13:
        (is(n, a),
          u & 4 && Tv(n, a),
          u & 64 &&
            ((n = a.memoizedState),
            n !== null &&
              ((n = n.dehydrated),
              n !== null && ((a = Mw.bind(null, a)), Ww(n, a)))));
        break;
      case 22:
        if (((u = a.memoizedState !== null || Ri), !u)) {
          ((i = (i !== null && i.memoizedState !== null) || Pt), (f = Ri));
          var p = Pt;
          ((Ri = u),
            (Pt = i) && !p ? ss(n, a, (a.subtreeFlags & 8772) !== 0) : is(n, a),
            (Ri = f),
            (Pt = p));
        }
        break;
      case 30:
        break;
      default:
        is(n, a);
    }
  }
  function _v(n) {
    var i = n.alternate;
    (i !== null && ((n.alternate = null), _v(i)),
      (n.child = null),
      (n.deletions = null),
      (n.sibling = null),
      n.tag === 5 && ((i = n.stateNode), i !== null && _e(i)),
      (n.stateNode = null),
      (n.return = null),
      (n.dependencies = null),
      (n.memoizedProps = null),
      (n.memoizedState = null),
      (n.pendingProps = null),
      (n.stateNode = null),
      (n.updateQueue = null));
  }
  var Rt = null,
    Pn = !1;
  function Ci(n, i, a) {
    for (a = a.child; a !== null; ) (Ev(n, i, a), (a = a.sibling));
  }
  function Ev(n, i, a) {
    if (Ge && typeof Ge.onCommitFiberUnmount == "function")
      try {
        Ge.onCommitFiberUnmount(lt, a);
      } catch {}
    switch (a.tag) {
      case 26:
        (Pt || Kr(a, i),
          Ci(n, i, a),
          a.memoizedState
            ? a.memoizedState.count--
            : a.stateNode && ((a = a.stateNode), a.parentNode.removeChild(a)));
        break;
      case 27:
        Pt || Kr(a, i);
        var u = Rt,
          f = Pn;
        (hs(a.type) && ((Rt = a.stateNode), (Pn = !1)),
          Ci(n, i, a),
          zl(a.stateNode),
          (Rt = u),
          (Pn = f));
        break;
      case 5:
        Pt || Kr(a, i);
      case 6:
        if (
          ((u = Rt),
          (f = Pn),
          (Rt = null),
          Ci(n, i, a),
          (Rt = u),
          (Pn = f),
          Rt !== null)
        )
          if (Pn)
            try {
              (Rt.nodeType === 9
                ? Rt.body
                : Rt.nodeName === "HTML"
                  ? Rt.ownerDocument.body
                  : Rt
              ).removeChild(a.stateNode);
            } catch (p) {
              Tt(a, i, p);
            }
          else
            try {
              Rt.removeChild(a.stateNode);
            } catch (p) {
              Tt(a, i, p);
            }
        break;
      case 18:
        Rt !== null &&
          (Pn
            ? ((n = Rt),
              l_(
                n.nodeType === 9
                  ? n.body
                  : n.nodeName === "HTML"
                    ? n.ownerDocument.body
                    : n,
                a.stateNode,
              ),
              Yl(n))
            : l_(Rt, a.stateNode));
        break;
      case 4:
        ((u = Rt),
          (f = Pn),
          (Rt = a.stateNode.containerInfo),
          (Pn = !0),
          Ci(n, i, a),
          (Rt = u),
          (Pn = f));
        break;
      case 0:
      case 11:
      case 14:
      case 15:
        (Pt || rs(2, a, i), Pt || rs(4, a, i), Ci(n, i, a));
        break;
      case 1:
        (Pt ||
          (Kr(a, i),
          (u = a.stateNode),
          typeof u.componentWillUnmount == "function" && dv(a, i, u)),
          Ci(n, i, a));
        break;
      case 21:
        Ci(n, i, a);
        break;
      case 22:
        ((Pt = (u = Pt) || a.memoizedState !== null), Ci(n, i, a), (Pt = u));
        break;
      default:
        Ci(n, i, a);
    }
  }
  function Tv(n, i) {
    if (
      i.memoizedState === null &&
      ((n = i.alternate),
      n !== null &&
        ((n = n.memoizedState), n !== null && ((n = n.dehydrated), n !== null)))
    )
      try {
        Yl(n);
      } catch (a) {
        Tt(i, i.return, a);
      }
  }
  function Aw(n) {
    switch (n.tag) {
      case 13:
      case 19:
        var i = n.stateNode;
        return (i === null && (i = n.stateNode = new yv()), i);
      case 22:
        return (
          (n = n.stateNode),
          (i = n._retryCache),
          i === null && (i = n._retryCache = new yv()),
          i
        );
      default:
        throw Error(s(435, n.tag));
    }
  }
  function Nd(n, i) {
    var a = Aw(n);
    i.forEach(function (u) {
      var f = Pw.bind(null, n, u);
      a.has(u) || (a.add(u), u.then(f, f));
    });
  }
  function qn(n, i) {
    var a = i.deletions;
    if (a !== null)
      for (var u = 0; u < a.length; u++) {
        var f = a[u],
          p = n,
          E = i,
          S = E;
        e: for (; S !== null; ) {
          switch (S.tag) {
            case 27:
              if (hs(S.type)) {
                ((Rt = S.stateNode), (Pn = !1));
                break e;
              }
              break;
            case 5:
              ((Rt = S.stateNode), (Pn = !1));
              break e;
            case 3:
            case 4:
              ((Rt = S.stateNode.containerInfo), (Pn = !0));
              break e;
          }
          S = S.return;
        }
        if (Rt === null) throw Error(s(160));
        (Ev(p, E, f),
          (Rt = null),
          (Pn = !1),
          (p = f.alternate),
          p !== null && (p.return = null),
          (f.return = null));
      }
    if (i.subtreeFlags & 13878)
      for (i = i.child; i !== null; ) (Sv(i, n), (i = i.sibling));
  }
  var wr = null;
  function Sv(n, i) {
    var a = n.alternate,
      u = n.flags;
    switch (n.tag) {
      case 0:
      case 11:
      case 14:
      case 15:
        (qn(i, n),
          Gn(n),
          u & 4 && (rs(3, n, n.return), Nl(3, n), rs(5, n, n.return)));
        break;
      case 1:
        (qn(i, n),
          Gn(n),
          u & 512 && (Pt || a === null || Kr(a, a.return)),
          u & 64 &&
            Ri &&
            ((n = n.updateQueue),
            n !== null &&
              ((u = n.callbacks),
              u !== null &&
                ((a = n.shared.hiddenCallbacks),
                (n.shared.hiddenCallbacks = a === null ? u : a.concat(u))))));
        break;
      case 26:
        var f = wr;
        if (
          (qn(i, n),
          Gn(n),
          u & 512 && (Pt || a === null || Kr(a, a.return)),
          u & 4)
        ) {
          var p = a !== null ? a.memoizedState : null;
          if (((u = n.memoizedState), a === null))
            if (u === null)
              if (n.stateNode === null) {
                e: {
                  ((u = n.type),
                    (a = n.memoizedProps),
                    (f = f.ownerDocument || f));
                  t: switch (u) {
                    case "title":
                      ((p = f.getElementsByTagName("title")[0]),
                        (!p ||
                          p[Ae] ||
                          p[ae] ||
                          p.namespaceURI === "http://www.w3.org/2000/svg" ||
                          p.hasAttribute("itemprop")) &&
                          ((p = f.createElement(u)),
                          f.head.insertBefore(
                            p,
                            f.querySelector("head > title"),
                          )),
                        cn(p, u, a),
                        (p[ae] = n),
                        je(p),
                        (u = p));
                      break e;
                    case "link":
                      var E = g_("link", "href", f).get(u + (a.href || ""));
                      if (E) {
                        for (var S = 0; S < E.length; S++)
                          if (
                            ((p = E[S]),
                            p.getAttribute("href") ===
                              (a.href == null || a.href === ""
                                ? null
                                : a.href) &&
                              p.getAttribute("rel") ===
                                (a.rel == null ? null : a.rel) &&
                              p.getAttribute("title") ===
                                (a.title == null ? null : a.title) &&
                              p.getAttribute("crossorigin") ===
                                (a.crossOrigin == null ? null : a.crossOrigin))
                          ) {
                            E.splice(S, 1);
                            break t;
                          }
                      }
                      ((p = f.createElement(u)),
                        cn(p, u, a),
                        f.head.appendChild(p));
                      break;
                    case "meta":
                      if (
                        (E = g_("meta", "content", f).get(
                          u + (a.content || ""),
                        ))
                      ) {
                        for (S = 0; S < E.length; S++)
                          if (
                            ((p = E[S]),
                            p.getAttribute("content") ===
                              (a.content == null ? null : "" + a.content) &&
                              p.getAttribute("name") ===
                                (a.name == null ? null : a.name) &&
                              p.getAttribute("property") ===
                                (a.property == null ? null : a.property) &&
                              p.getAttribute("http-equiv") ===
                                (a.httpEquiv == null ? null : a.httpEquiv) &&
                              p.getAttribute("charset") ===
                                (a.charSet == null ? null : a.charSet))
                          ) {
                            E.splice(S, 1);
                            break t;
                          }
                      }
                      ((p = f.createElement(u)),
                        cn(p, u, a),
                        f.head.appendChild(p));
                      break;
                    default:
                      throw Error(s(468, u));
                  }
                  ((p[ae] = n), je(p), (u = p));
                }
                n.stateNode = u;
              } else y_(f, n.type, n.stateNode);
            else n.stateNode = m_(f, u, n.memoizedProps);
          else
            p !== u
              ? (p === null
                  ? a.stateNode !== null &&
                    ((a = a.stateNode), a.parentNode.removeChild(a))
                  : p.count--,
                u === null
                  ? y_(f, n.type, n.stateNode)
                  : m_(f, u, n.memoizedProps))
              : u === null &&
                n.stateNode !== null &&
                Rd(n, n.memoizedProps, a.memoizedProps);
        }
        break;
      case 27:
        (qn(i, n),
          Gn(n),
          u & 512 && (Pt || a === null || Kr(a, a.return)),
          a !== null && u & 4 && Rd(n, n.memoizedProps, a.memoizedProps));
        break;
      case 5:
        if (
          (qn(i, n),
          Gn(n),
          u & 512 && (Pt || a === null || Kr(a, a.return)),
          n.flags & 32)
        ) {
          f = n.stateNode;
          try {
            rr(f, "");
          } catch (W) {
            Tt(n, n.return, W);
          }
        }
        (u & 4 &&
          n.stateNode != null &&
          ((f = n.memoizedProps), Rd(n, f, a !== null ? a.memoizedProps : f)),
          u & 1024 && (xd = !0));
        break;
      case 6:
        if ((qn(i, n), Gn(n), u & 4)) {
          if (n.stateNode === null) throw Error(s(162));
          ((u = n.memoizedProps), (a = n.stateNode));
          try {
            a.nodeValue = u;
          } catch (W) {
            Tt(n, n.return, W);
          }
        }
        break;
      case 3:
        if (
          ((qc = null),
          (f = wr),
          (wr = Hc(i.containerInfo)),
          qn(i, n),
          (wr = f),
          Gn(n),
          u & 4 && a !== null && a.memoizedState.isDehydrated)
        )
          try {
            Yl(i.containerInfo);
          } catch (W) {
            Tt(n, n.return, W);
          }
        xd && ((xd = !1), bv(n));
        break;
      case 4:
        ((u = wr),
          (wr = Hc(n.stateNode.containerInfo)),
          qn(i, n),
          Gn(n),
          (wr = u));
        break;
      case 12:
        (qn(i, n), Gn(n));
        break;
      case 13:
        (qn(i, n),
          Gn(n),
          n.child.flags & 8192 &&
            (n.memoizedState !== null) !=
              (a !== null && a.memoizedState !== null) &&
            (Vd = wn()),
          u & 4 &&
            ((u = n.updateQueue),
            u !== null && ((n.updateQueue = null), Nd(n, u))));
        break;
      case 22:
        f = n.memoizedState !== null;
        var N = a !== null && a.memoizedState !== null,
          $ = Ri,
          ne = Pt;
        if (
          ((Ri = $ || f),
          (Pt = ne || N),
          qn(i, n),
          (Pt = ne),
          (Ri = $),
          Gn(n),
          u & 8192)
        )
          e: for (
            i = n.stateNode,
              i._visibility = f ? i._visibility & -2 : i._visibility | 1,
              f && (a === null || N || Ri || Pt || da(n)),
              a = null,
              i = n;
            ;

          ) {
            if (i.tag === 5 || i.tag === 26) {
              if (a === null) {
                N = a = i;
                try {
                  if (((p = N.stateNode), f))
                    ((E = p.style),
                      typeof E.setProperty == "function"
                        ? E.setProperty("display", "none", "important")
                        : (E.display = "none"));
                  else {
                    S = N.stateNode;
                    var se = N.memoizedProps.style,
                      Y =
                        se != null && se.hasOwnProperty("display")
                          ? se.display
                          : null;
                    S.style.display =
                      Y == null || typeof Y == "boolean" ? "" : ("" + Y).trim();
                  }
                } catch (W) {
                  Tt(N, N.return, W);
                }
              }
            } else if (i.tag === 6) {
              if (a === null) {
                N = i;
                try {
                  N.stateNode.nodeValue = f ? "" : N.memoizedProps;
                } catch (W) {
                  Tt(N, N.return, W);
                }
              }
            } else if (
              ((i.tag !== 22 && i.tag !== 23) ||
                i.memoizedState === null ||
                i === n) &&
              i.child !== null
            ) {
              ((i.child.return = i), (i = i.child));
              continue;
            }
            if (i === n) break e;
            for (; i.sibling === null; ) {
              if (i.return === null || i.return === n) break e;
              (a === i && (a = null), (i = i.return));
            }
            (a === i && (a = null),
              (i.sibling.return = i.return),
              (i = i.sibling));
          }
        u & 4 &&
          ((u = n.updateQueue),
          u !== null &&
            ((a = u.retryQueue),
            a !== null && ((u.retryQueue = null), Nd(n, a))));
        break;
      case 19:
        (qn(i, n),
          Gn(n),
          u & 4 &&
            ((u = n.updateQueue),
            u !== null && ((n.updateQueue = null), Nd(n, u))));
        break;
      case 30:
        break;
      case 21:
        break;
      default:
        (qn(i, n), Gn(n));
    }
  }
  function Gn(n) {
    var i = n.flags;
    if (i & 2) {
      try {
        for (var a, u = n.return; u !== null; ) {
          if (mv(u)) {
            a = u;
            break;
          }
          u = u.return;
        }
        if (a == null) throw Error(s(160));
        switch (a.tag) {
          case 27:
            var f = a.stateNode,
              p = Cd(n);
            xc(n, p, f);
            break;
          case 5:
            var E = a.stateNode;
            a.flags & 32 && (rr(E, ""), (a.flags &= -33));
            var S = Cd(n);
            xc(n, S, E);
            break;
          case 3:
          case 4:
            var N = a.stateNode.containerInfo,
              $ = Cd(n);
            Id(n, $, N);
            break;
          default:
            throw Error(s(161));
        }
      } catch (ne) {
        Tt(n, n.return, ne);
      }
      n.flags &= -3;
    }
    i & 4096 && (n.flags &= -4097);
  }
  function bv(n) {
    if (n.subtreeFlags & 1024)
      for (n = n.child; n !== null; ) {
        var i = n;
        (bv(i),
          i.tag === 5 && i.flags & 1024 && i.stateNode.reset(),
          (n = n.sibling));
      }
  }
  function is(n, i) {
    if (i.subtreeFlags & 8772)
      for (i = i.child; i !== null; ) (vv(n, i.alternate, i), (i = i.sibling));
  }
  function da(n) {
    for (n = n.child; n !== null; ) {
      var i = n;
      switch (i.tag) {
        case 0:
        case 11:
        case 14:
        case 15:
          (rs(4, i, i.return), da(i));
          break;
        case 1:
          Kr(i, i.return);
          var a = i.stateNode;
          (typeof a.componentWillUnmount == "function" && dv(i, i.return, a),
            da(i));
          break;
        case 27:
          zl(i.stateNode);
        case 26:
        case 5:
          (Kr(i, i.return), da(i));
          break;
        case 22:
          i.memoizedState === null && da(i);
          break;
        case 30:
          da(i);
          break;
        default:
          da(i);
      }
      n = n.sibling;
    }
  }
  function ss(n, i, a) {
    for (a = a && (i.subtreeFlags & 8772) !== 0, i = i.child; i !== null; ) {
      var u = i.alternate,
        f = n,
        p = i,
        E = p.flags;
      switch (p.tag) {
        case 0:
        case 11:
        case 15:
          (ss(f, p, a), Nl(4, p));
          break;
        case 1:
          if (
            (ss(f, p, a),
            (u = p),
            (f = u.stateNode),
            typeof f.componentDidMount == "function")
          )
            try {
              f.componentDidMount();
            } catch ($) {
              Tt(u, u.return, $);
            }
          if (((u = p), (f = u.updateQueue), f !== null)) {
            var S = u.stateNode;
            try {
              var N = f.shared.hiddenCallbacks;
              if (N !== null)
                for (f.shared.hiddenCallbacks = null, f = 0; f < N.length; f++)
                  Jg(N[f], S);
            } catch ($) {
              Tt(u, u.return, $);
            }
          }
          (a && E & 64 && fv(p), Dl(p, p.return));
          break;
        case 27:
          gv(p);
        case 26:
        case 5:
          (ss(f, p, a), a && u === null && E & 4 && pv(p), Dl(p, p.return));
          break;
        case 12:
          ss(f, p, a);
          break;
        case 13:
          (ss(f, p, a), a && E & 4 && Tv(f, p));
          break;
        case 22:
          (p.memoizedState === null && ss(f, p, a), Dl(p, p.return));
          break;
        case 30:
          break;
        default:
          ss(f, p, a);
      }
      i = i.sibling;
    }
  }
  function Dd(n, i) {
    var a = null;
    (n !== null &&
      n.memoizedState !== null &&
      n.memoizedState.cachePool !== null &&
      (a = n.memoizedState.cachePool.pool),
      (n = null),
      i.memoizedState !== null &&
        i.memoizedState.cachePool !== null &&
        (n = i.memoizedState.cachePool.pool),
      n !== a && (n != null && n.refCount++, a != null && gl(a)));
  }
  function Od(n, i) {
    ((n = null),
      i.alternate !== null && (n = i.alternate.memoizedState.cache),
      (i = i.memoizedState.cache),
      i !== n && (i.refCount++, n != null && gl(n)));
  }
  function Yr(n, i, a, u) {
    if (i.subtreeFlags & 10256)
      for (i = i.child; i !== null; ) (wv(n, i, a, u), (i = i.sibling));
  }
  function wv(n, i, a, u) {
    var f = i.flags;
    switch (i.tag) {
      case 0:
      case 11:
      case 15:
        (Yr(n, i, a, u), f & 2048 && Nl(9, i));
        break;
      case 1:
        Yr(n, i, a, u);
        break;
      case 3:
        (Yr(n, i, a, u),
          f & 2048 &&
            ((n = null),
            i.alternate !== null && (n = i.alternate.memoizedState.cache),
            (i = i.memoizedState.cache),
            i !== n && (i.refCount++, n != null && gl(n))));
        break;
      case 12:
        if (f & 2048) {
          (Yr(n, i, a, u), (n = i.stateNode));
          try {
            var p = i.memoizedProps,
              E = p.id,
              S = p.onPostCommit;
            typeof S == "function" &&
              S(
                E,
                i.alternate === null ? "mount" : "update",
                n.passiveEffectDuration,
                -0,
              );
          } catch (N) {
            Tt(i, i.return, N);
          }
        } else Yr(n, i, a, u);
        break;
      case 13:
        Yr(n, i, a, u);
        break;
      case 23:
        break;
      case 22:
        ((p = i.stateNode),
          (E = i.alternate),
          i.memoizedState !== null
            ? p._visibility & 2
              ? Yr(n, i, a, u)
              : Ol(n, i)
            : p._visibility & 2
              ? Yr(n, i, a, u)
              : ((p._visibility |= 2),
                ro(n, i, a, u, (i.subtreeFlags & 10256) !== 0)),
          f & 2048 && Dd(E, i));
        break;
      case 24:
        (Yr(n, i, a, u), f & 2048 && Od(i.alternate, i));
        break;
      default:
        Yr(n, i, a, u);
    }
  }
  function ro(n, i, a, u, f) {
    for (f = f && (i.subtreeFlags & 10256) !== 0, i = i.child; i !== null; ) {
      var p = n,
        E = i,
        S = a,
        N = u,
        $ = E.flags;
      switch (E.tag) {
        case 0:
        case 11:
        case 15:
          (ro(p, E, S, N, f), Nl(8, E));
          break;
        case 23:
          break;
        case 22:
          var ne = E.stateNode;
          (E.memoizedState !== null
            ? ne._visibility & 2
              ? ro(p, E, S, N, f)
              : Ol(p, E)
            : ((ne._visibility |= 2), ro(p, E, S, N, f)),
            f && $ & 2048 && Dd(E.alternate, E));
          break;
        case 24:
          (ro(p, E, S, N, f), f && $ & 2048 && Od(E.alternate, E));
          break;
        default:
          ro(p, E, S, N, f);
      }
      i = i.sibling;
    }
  }
  function Ol(n, i) {
    if (i.subtreeFlags & 10256)
      for (i = i.child; i !== null; ) {
        var a = n,
          u = i,
          f = u.flags;
        switch (u.tag) {
          case 22:
            (Ol(a, u), f & 2048 && Dd(u.alternate, u));
            break;
          case 24:
            (Ol(a, u), f & 2048 && Od(u.alternate, u));
            break;
          default:
            Ol(a, u);
        }
        i = i.sibling;
      }
  }
  var Ml = 8192;
  function io(n) {
    if (n.subtreeFlags & Ml)
      for (n = n.child; n !== null; ) (Av(n), (n = n.sibling));
  }
  function Av(n) {
    switch (n.tag) {
      case 26:
        (io(n),
          n.flags & Ml &&
            n.memoizedState !== null &&
            cA(wr, n.memoizedState, n.memoizedProps));
        break;
      case 5:
        io(n);
        break;
      case 3:
      case 4:
        var i = wr;
        ((wr = Hc(n.stateNode.containerInfo)), io(n), (wr = i));
        break;
      case 22:
        n.memoizedState === null &&
          ((i = n.alternate),
          i !== null && i.memoizedState !== null
            ? ((i = Ml), (Ml = 16777216), io(n), (Ml = i))
            : io(n));
        break;
      default:
        io(n);
    }
  }
  function Rv(n) {
    var i = n.alternate;
    if (i !== null && ((n = i.child), n !== null)) {
      i.child = null;
      do ((i = n.sibling), (n.sibling = null), (n = i));
      while (n !== null);
    }
  }
  function Pl(n) {
    var i = n.deletions;
    if ((n.flags & 16) !== 0) {
      if (i !== null)
        for (var a = 0; a < i.length; a++) {
          var u = i[a];
          ((tn = u), Iv(u, n));
        }
      Rv(n);
    }
    if (n.subtreeFlags & 10256)
      for (n = n.child; n !== null; ) (Cv(n), (n = n.sibling));
  }
  function Cv(n) {
    switch (n.tag) {
      case 0:
      case 11:
      case 15:
        (Pl(n), n.flags & 2048 && rs(9, n, n.return));
        break;
      case 3:
        Pl(n);
        break;
      case 12:
        Pl(n);
        break;
      case 22:
        var i = n.stateNode;
        n.memoizedState !== null &&
        i._visibility & 2 &&
        (n.return === null || n.return.tag !== 13)
          ? ((i._visibility &= -3), Nc(n))
          : Pl(n);
        break;
      default:
        Pl(n);
    }
  }
  function Nc(n) {
    var i = n.deletions;
    if ((n.flags & 16) !== 0) {
      if (i !== null)
        for (var a = 0; a < i.length; a++) {
          var u = i[a];
          ((tn = u), Iv(u, n));
        }
      Rv(n);
    }
    for (n = n.child; n !== null; ) {
      switch (((i = n), i.tag)) {
        case 0:
        case 11:
        case 15:
          (rs(8, i, i.return), Nc(i));
          break;
        case 22:
          ((a = i.stateNode),
            a._visibility & 2 && ((a._visibility &= -3), Nc(i)));
          break;
        default:
          Nc(i);
      }
      n = n.sibling;
    }
  }
  function Iv(n, i) {
    for (; tn !== null; ) {
      var a = tn;
      switch (a.tag) {
        case 0:
        case 11:
        case 15:
          rs(8, a, i);
          break;
        case 23:
        case 22:
          if (a.memoizedState !== null && a.memoizedState.cachePool !== null) {
            var u = a.memoizedState.cachePool.pool;
            u != null && u.refCount++;
          }
          break;
        case 24:
          gl(a.memoizedState.cache);
      }
      if (((u = a.child), u !== null)) ((u.return = a), (tn = u));
      else
        e: for (a = n; tn !== null; ) {
          u = tn;
          var f = u.sibling,
            p = u.return;
          if ((_v(u), u === a)) {
            tn = null;
            break e;
          }
          if (f !== null) {
            ((f.return = p), (tn = f));
            break e;
          }
          tn = p;
        }
    }
  }
  var Rw = {
      getCacheForType: function (n) {
        var i = mn(Yt),
          a = i.data.get(n);
        return (a === void 0 && ((a = n()), i.data.set(n, a)), a);
      },
    },
    Cw = typeof WeakMap == "function" ? WeakMap : Map,
    pt = 0,
    bt = null,
    Xe = null,
    rt = 0,
    mt = 0,
    $n = null,
    as = !1,
    so = !1,
    Md = !1,
    Ii = 0,
    Ot = 0,
    os = 0,
    pa = 0,
    Pd = 0,
    fr = 0,
    ao = 0,
    Ll = null,
    Ln = null,
    Ld = !1,
    Vd = 0,
    Dc = 1 / 0,
    Oc = null,
    ls = null,
    un = 0,
    us = null,
    oo = null,
    lo = 0,
    Ud = 0,
    kd = null,
    xv = null,
    Vl = 0,
    jd = null;
  function Kn() {
    if ((pt & 2) !== 0 && rt !== 0) return rt & -rt;
    if (G.T !== null) {
      var n = Qa;
      return n !== 0 ? n : $d();
    }
    return P();
  }
  function Nv() {
    fr === 0 && (fr = (rt & 536870912) === 0 || ht ? ui() : 536870912);
    var n = hr.current;
    return (n !== null && (n.flags |= 32), fr);
  }
  function Yn(n, i, a) {
    (((n === bt && (mt === 2 || mt === 9)) || n.cancelPendingCommit !== null) &&
      (uo(n, 0), cs(n, rt, fr, !1)),
      _r(n, a),
      ((pt & 2) === 0 || n !== bt) &&
        (n === bt &&
          ((pt & 2) === 0 && (pa |= a), Ot === 4 && cs(n, rt, fr, !1)),
        Qr(n)));
  }
  function Dv(n, i, a) {
    if ((pt & 6) !== 0) throw Error(s(327));
    var u = (!a && (i & 124) === 0 && (i & n.expiredLanes) === 0) || er(n, i),
      f = u ? Nw(n, i) : Hd(n, i, !0),
      p = u;
    do {
      if (f === 0) {
        so && !u && cs(n, i, 0, !1);
        break;
      } else {
        if (((a = n.current.alternate), p && !Iw(a))) {
          ((f = Hd(n, i, !1)), (p = !1));
          continue;
        }
        if (f === 2) {
          if (((p = i), n.errorRecoveryDisabledLanes & p)) var E = 0;
          else
            ((E = n.pendingLanes & -536870913),
              (E = E !== 0 ? E : E & 536870912 ? 536870912 : 0));
          if (E !== 0) {
            i = E;
            e: {
              var S = n;
              f = Ll;
              var N = S.current.memoizedState.isDehydrated;
              if ((N && (uo(S, E).flags |= 256), (E = Hd(S, E, !1)), E !== 2)) {
                if (Md && !N) {
                  ((S.errorRecoveryDisabledLanes |= p), (pa |= p), (f = 4));
                  break e;
                }
                ((p = Ln),
                  (Ln = f),
                  p !== null &&
                    (Ln === null ? (Ln = p) : Ln.push.apply(Ln, p)));
              }
              f = E;
            }
            if (((p = !1), f !== 2)) continue;
          }
        }
        if (f === 1) {
          (uo(n, 0), cs(n, i, 0, !0));
          break;
        }
        e: {
          switch (((u = n), (p = f), p)) {
            case 0:
            case 1:
              throw Error(s(345));
            case 4:
              if ((i & 4194048) !== i) break;
            case 6:
              cs(u, i, fr, !as);
              break e;
            case 2:
              Ln = null;
              break;
            case 3:
            case 5:
              break;
            default:
              throw Error(s(329));
          }
          if ((i & 62914560) === i && ((f = Vd + 300 - wn()), 10 < f)) {
            if ((cs(u, i, fr, !as), li(u, 0, !0) !== 0)) break e;
            u.timeoutHandle = a_(
              Ov.bind(null, u, a, Ln, Oc, Ld, i, fr, pa, ao, as, p, 2, -0, 0),
              f,
            );
            break e;
          }
          Ov(u, a, Ln, Oc, Ld, i, fr, pa, ao, as, p, 0, -0, 0);
        }
      }
      break;
    } while (!0);
    Qr(n);
  }
  function Ov(n, i, a, u, f, p, E, S, N, $, ne, se, Y, W) {
    if (
      ((n.timeoutHandle = -1),
      (se = i.subtreeFlags),
      (se & 8192 || (se & 16785408) === 16785408) &&
        ((Fl = { stylesheets: null, count: 0, unsuspend: uA }),
        Av(i),
        (se = hA()),
        se !== null))
    ) {
      ((n.cancelPendingCommit = se(
        jv.bind(null, n, i, p, a, u, f, E, S, N, ne, 1, Y, W),
      )),
        cs(n, p, E, !$));
      return;
    }
    jv(n, i, p, a, u, f, E, S, N);
  }
  function Iw(n) {
    for (var i = n; ; ) {
      var a = i.tag;
      if (
        (a === 0 || a === 11 || a === 15) &&
        i.flags & 16384 &&
        ((a = i.updateQueue), a !== null && ((a = a.stores), a !== null))
      )
        for (var u = 0; u < a.length; u++) {
          var f = a[u],
            p = f.getSnapshot;
          f = f.value;
          try {
            if (!Hn(p(), f)) return !1;
          } catch {
            return !1;
          }
        }
      if (((a = i.child), i.subtreeFlags & 16384 && a !== null))
        ((a.return = i), (i = a));
      else {
        if (i === n) break;
        for (; i.sibling === null; ) {
          if (i.return === null || i.return === n) return !0;
          i = i.return;
        }
        ((i.sibling.return = i.return), (i = i.sibling));
      }
    }
    return !0;
  }
  function cs(n, i, a, u) {
    ((i &= ~Pd),
      (i &= ~pa),
      (n.suspendedLanes |= i),
      (n.pingedLanes &= ~i),
      u && (n.warmLanes |= i),
      (u = n.expirationTimes));
    for (var f = i; 0 < f; ) {
      var p = 31 - jt(f),
        E = 1 << p;
      ((u[p] = -1), (f &= ~E));
    }
    a !== 0 && An(n, a, i);
  }
  function Mc() {
    return (pt & 6) === 0 ? (Ul(0), !1) : !0;
  }
  function zd() {
    if (Xe !== null) {
      if (mt === 0) var n = Xe.return;
      else ((n = Xe), (Ei = la = null), rd(n), (to = null), (Cl = 0), (n = Xe));
      for (; n !== null; ) (hv(n.alternate, n), (n = n.return));
      Xe = null;
    }
  }
  function uo(n, i) {
    var a = n.timeoutHandle;
    (a !== -1 && ((n.timeoutHandle = -1), $w(a)),
      (a = n.cancelPendingCommit),
      a !== null && ((n.cancelPendingCommit = null), a()),
      zd(),
      (bt = n),
      (Xe = a = yi(n.current, null)),
      (rt = i),
      (mt = 0),
      ($n = null),
      (as = !1),
      (so = er(n, i)),
      (Md = !1),
      (ao = fr = Pd = pa = os = Ot = 0),
      (Ln = Ll = null),
      (Ld = !1),
      (i & 8) !== 0 && (i |= i & 32));
    var u = n.entangledLanes;
    if (u !== 0)
      for (n = n.entanglements, u &= i; 0 < u; ) {
        var f = 31 - jt(u),
          p = 1 << f;
        ((i |= n[f]), (u &= ~p));
      }
    return ((Ii = i), tc(), a);
  }
  function Mv(n, i) {
    (($e = null),
      (G.H = Ec),
      i === vl || i === cc
        ? ((i = Xg()), (mt = 3))
        : i === Kg
          ? ((i = Xg()), (mt = 4))
          : (mt =
              i === Wy
                ? 8
                : i !== null &&
                    typeof i == "object" &&
                    typeof i.then == "function"
                  ? 6
                  : 1),
      ($n = i),
      Xe === null && ((Ot = 1), Ac(n, or(i, n.current))));
  }
  function Pv() {
    var n = G.H;
    return ((G.H = Ec), n === null ? Ec : n);
  }
  function Lv() {
    var n = G.A;
    return ((G.A = Rw), n);
  }
  function Bd() {
    ((Ot = 4),
      as || ((rt & 4194048) !== rt && hr.current !== null) || (so = !0),
      ((os & 134217727) === 0 && (pa & 134217727) === 0) ||
        bt === null ||
        cs(bt, rt, fr, !1));
  }
  function Hd(n, i, a) {
    var u = pt;
    pt |= 2;
    var f = Pv(),
      p = Lv();
    ((bt !== n || rt !== i) && ((Oc = null), uo(n, i)), (i = !1));
    var E = Ot;
    e: do
      try {
        if (mt !== 0 && Xe !== null) {
          var S = Xe,
            N = $n;
          switch (mt) {
            case 8:
              (zd(), (E = 6));
              break e;
            case 3:
            case 2:
            case 9:
            case 6:
              hr.current === null && (i = !0);
              var $ = mt;
              if (((mt = 0), ($n = null), co(n, S, N, $), a && so)) {
                E = 0;
                break e;
              }
              break;
            default:
              (($ = mt), (mt = 0), ($n = null), co(n, S, N, $));
          }
        }
        (xw(), (E = Ot));
        break;
      } catch (ne) {
        Mv(n, ne);
      }
    while (!0);
    return (
      i && n.shellSuspendCounter++,
      (Ei = la = null),
      (pt = u),
      (G.H = f),
      (G.A = p),
      Xe === null && ((bt = null), (rt = 0), tc()),
      E
    );
  }
  function xw() {
    for (; Xe !== null; ) Vv(Xe);
  }
  function Nw(n, i) {
    var a = pt;
    pt |= 2;
    var u = Pv(),
      f = Lv();
    bt !== n || rt !== i
      ? ((Oc = null), (Dc = wn() + 500), uo(n, i))
      : (so = er(n, i));
    e: do
      try {
        if (mt !== 0 && Xe !== null) {
          i = Xe;
          var p = $n;
          t: switch (mt) {
            case 1:
              ((mt = 0), ($n = null), co(n, i, p, 1));
              break;
            case 2:
            case 9:
              if (Yg(p)) {
                ((mt = 0), ($n = null), Uv(i));
                break;
              }
              ((i = function () {
                ((mt !== 2 && mt !== 9) || bt !== n || (mt = 7), Qr(n));
              }),
                p.then(i, i));
              break e;
            case 3:
              mt = 7;
              break e;
            case 4:
              mt = 5;
              break e;
            case 7:
              Yg(p)
                ? ((mt = 0), ($n = null), Uv(i))
                : ((mt = 0), ($n = null), co(n, i, p, 7));
              break;
            case 5:
              var E = null;
              switch (Xe.tag) {
                case 26:
                  E = Xe.memoizedState;
                case 5:
                case 27:
                  var S = Xe;
                  if (!E || v_(E)) {
                    ((mt = 0), ($n = null));
                    var N = S.sibling;
                    if (N !== null) Xe = N;
                    else {
                      var $ = S.return;
                      $ !== null ? ((Xe = $), Pc($)) : (Xe = null);
                    }
                    break t;
                  }
              }
              ((mt = 0), ($n = null), co(n, i, p, 5));
              break;
            case 6:
              ((mt = 0), ($n = null), co(n, i, p, 6));
              break;
            case 8:
              (zd(), (Ot = 6));
              break e;
            default:
              throw Error(s(462));
          }
        }
        Dw();
        break;
      } catch (ne) {
        Mv(n, ne);
      }
    while (!0);
    return (
      (Ei = la = null),
      (G.H = u),
      (G.A = f),
      (pt = a),
      Xe !== null ? 0 : ((bt = null), (rt = 0), tc(), Ot)
    );
  }
  function Dw() {
    for (; Xe !== null && !Bs(); ) Vv(Xe);
  }
  function Vv(n) {
    var i = uv(n.alternate, n, Ii);
    ((n.memoizedProps = n.pendingProps), i === null ? Pc(n) : (Xe = i));
  }
  function Uv(n) {
    var i = n,
      a = i.alternate;
    switch (i.tag) {
      case 15:
      case 0:
        i = rv(a, i, i.pendingProps, i.type, void 0, rt);
        break;
      case 11:
        i = rv(a, i, i.pendingProps, i.type.render, i.ref, rt);
        break;
      case 5:
        rd(i);
      default:
        (hv(a, i), (i = Xe = kg(i, Ii)), (i = uv(a, i, Ii)));
    }
    ((n.memoizedProps = n.pendingProps), i === null ? Pc(n) : (Xe = i));
  }
  function co(n, i, a, u) {
    ((Ei = la = null), rd(i), (to = null), (Cl = 0));
    var f = i.return;
    try {
      if (Ew(n, f, i, a, rt)) {
        ((Ot = 1), Ac(n, or(a, n.current)), (Xe = null));
        return;
      }
    } catch (p) {
      if (f !== null) throw ((Xe = f), p);
      ((Ot = 1), Ac(n, or(a, n.current)), (Xe = null));
      return;
    }
    i.flags & 32768
      ? (ht || u === 1
          ? (n = !0)
          : so || (rt & 536870912) !== 0
            ? (n = !1)
            : ((as = n = !0),
              (u === 2 || u === 9 || u === 3 || u === 6) &&
                ((u = hr.current),
                u !== null && u.tag === 13 && (u.flags |= 16384))),
        kv(i, n))
      : Pc(i);
  }
  function Pc(n) {
    var i = n;
    do {
      if ((i.flags & 32768) !== 0) {
        kv(i, as);
        return;
      }
      n = i.return;
      var a = Sw(i.alternate, i, Ii);
      if (a !== null) {
        Xe = a;
        return;
      }
      if (((i = i.sibling), i !== null)) {
        Xe = i;
        return;
      }
      Xe = i = n;
    } while (i !== null);
    Ot === 0 && (Ot = 5);
  }
  function kv(n, i) {
    do {
      var a = bw(n.alternate, n);
      if (a !== null) {
        ((a.flags &= 32767), (Xe = a));
        return;
      }
      if (
        ((a = n.return),
        a !== null &&
          ((a.flags |= 32768), (a.subtreeFlags = 0), (a.deletions = null)),
        !i && ((n = n.sibling), n !== null))
      ) {
        Xe = n;
        return;
      }
      Xe = n = a;
    } while (n !== null);
    ((Ot = 6), (Xe = null));
  }
  function jv(n, i, a, u, f, p, E, S, N) {
    n.cancelPendingCommit = null;
    do Lc();
    while (un !== 0);
    if ((pt & 6) !== 0) throw Error(s(327));
    if (i !== null) {
      if (i === n.current) throw Error(s(177));
      if (
        ((p = i.lanes | i.childLanes),
        (p |= Of),
        Fi(n, a, p, E, S, N),
        n === bt && ((Xe = bt = null), (rt = 0)),
        (oo = i),
        (us = n),
        (lo = a),
        (Ud = p),
        (kd = f),
        (xv = u),
        (i.subtreeFlags & 10256) !== 0 || (i.flags & 10256) !== 0
          ? ((n.callbackNode = null),
            (n.callbackPriority = 0),
            Lw(oi, function () {
              return (qv(), null);
            }))
          : ((n.callbackNode = null), (n.callbackPriority = 0)),
        (u = (i.flags & 13878) !== 0),
        (i.subtreeFlags & 13878) !== 0 || u)
      ) {
        ((u = G.T), (G.T = null), (f = ce.p), (ce.p = 2), (E = pt), (pt |= 4));
        try {
          ww(n, i, a);
        } finally {
          ((pt = E), (ce.p = f), (G.T = u));
        }
      }
      ((un = 1), zv(), Bv(), Hv());
    }
  }
  function zv() {
    if (un === 1) {
      un = 0;
      var n = us,
        i = oo,
        a = (i.flags & 13878) !== 0;
      if ((i.subtreeFlags & 13878) !== 0 || a) {
        ((a = G.T), (G.T = null));
        var u = ce.p;
        ce.p = 2;
        var f = pt;
        pt |= 4;
        try {
          Sv(i, n);
          var p = ep,
            E = Ig(n.containerInfo),
            S = p.focusedElem,
            N = p.selectionRange;
          if (
            E !== S &&
            S &&
            S.ownerDocument &&
            Cg(S.ownerDocument.documentElement, S)
          ) {
            if (N !== null && Cf(S)) {
              var $ = N.start,
                ne = N.end;
              if ((ne === void 0 && (ne = $), "selectionStart" in S))
                ((S.selectionStart = $),
                  (S.selectionEnd = Math.min(ne, S.value.length)));
              else {
                var se = S.ownerDocument || document,
                  Y = (se && se.defaultView) || window;
                if (Y.getSelection) {
                  var W = Y.getSelection(),
                    Ue = S.textContent.length,
                    De = Math.min(N.start, Ue),
                    Et = N.end === void 0 ? De : Math.min(N.end, Ue);
                  !W.extend && De > Et && ((E = Et), (Et = De), (De = E));
                  var z = Rg(S, De),
                    L = Rg(S, Et);
                  if (
                    z &&
                    L &&
                    (W.rangeCount !== 1 ||
                      W.anchorNode !== z.node ||
                      W.anchorOffset !== z.offset ||
                      W.focusNode !== L.node ||
                      W.focusOffset !== L.offset)
                  ) {
                    var q = se.createRange();
                    (q.setStart(z.node, z.offset),
                      W.removeAllRanges(),
                      De > Et
                        ? (W.addRange(q), W.extend(L.node, L.offset))
                        : (q.setEnd(L.node, L.offset), W.addRange(q)));
                  }
                }
              }
            }
            for (se = [], W = S; (W = W.parentNode); )
              W.nodeType === 1 &&
                se.push({ element: W, left: W.scrollLeft, top: W.scrollTop });
            for (
              typeof S.focus == "function" && S.focus(), S = 0;
              S < se.length;
              S++
            ) {
              var re = se[S];
              ((re.element.scrollLeft = re.left),
                (re.element.scrollTop = re.top));
            }
          }
          ((Kc = !!Zd), (ep = Zd = null));
        } finally {
          ((pt = f), (ce.p = u), (G.T = a));
        }
      }
      ((n.current = i), (un = 2));
    }
  }
  function Bv() {
    if (un === 2) {
      un = 0;
      var n = us,
        i = oo,
        a = (i.flags & 8772) !== 0;
      if ((i.subtreeFlags & 8772) !== 0 || a) {
        ((a = G.T), (G.T = null));
        var u = ce.p;
        ce.p = 2;
        var f = pt;
        pt |= 4;
        try {
          vv(n, i.alternate, i);
        } finally {
          ((pt = f), (ce.p = u), (G.T = a));
        }
      }
      un = 3;
    }
  }
  function Hv() {
    if (un === 4 || un === 3) {
      ((un = 0), Na());
      var n = us,
        i = oo,
        a = lo,
        u = xv;
      (i.subtreeFlags & 10256) !== 0 || (i.flags & 10256) !== 0
        ? (un = 5)
        : ((un = 0), (oo = us = null), Fv(n, n.pendingLanes));
      var f = n.pendingLanes;
      if (
        (f === 0 && (ls = null),
        qi(a),
        (i = i.stateNode),
        Ge && typeof Ge.onCommitFiberRoot == "function")
      )
        try {
          Ge.onCommitFiberRoot(lt, i, void 0, (i.current.flags & 128) === 128);
        } catch {}
      if (u !== null) {
        ((i = G.T), (f = ce.p), (ce.p = 2), (G.T = null));
        try {
          for (var p = n.onRecoverableError, E = 0; E < u.length; E++) {
            var S = u[E];
            p(S.value, { componentStack: S.stack });
          }
        } finally {
          ((G.T = i), (ce.p = f));
        }
      }
      ((lo & 3) !== 0 && Lc(),
        Qr(n),
        (f = n.pendingLanes),
        (a & 4194090) !== 0 && (f & 42) !== 0
          ? n === jd
            ? Vl++
            : ((Vl = 0), (jd = n))
          : (Vl = 0),
        Ul(0));
    }
  }
  function Fv(n, i) {
    (n.pooledCacheLanes &= i) === 0 &&
      ((i = n.pooledCache), i != null && ((n.pooledCache = null), gl(i)));
  }
  function Lc(n) {
    return (zv(), Bv(), Hv(), qv());
  }
  function qv() {
    if (un !== 5) return !1;
    var n = us,
      i = Ud;
    Ud = 0;
    var a = qi(lo),
      u = G.T,
      f = ce.p;
    try {
      ((ce.p = 32 > a ? 32 : a), (G.T = null), (a = kd), (kd = null));
      var p = us,
        E = lo;
      if (((un = 0), (oo = us = null), (lo = 0), (pt & 6) !== 0))
        throw Error(s(331));
      var S = pt;
      if (
        ((pt |= 4),
        Cv(p.current),
        wv(p, p.current, E, a),
        (pt = S),
        Ul(0, !1),
        Ge && typeof Ge.onPostCommitFiberRoot == "function")
      )
        try {
          Ge.onPostCommitFiberRoot(lt, p);
        } catch {}
      return !0;
    } finally {
      ((ce.p = f), (G.T = u), Fv(n, i));
    }
  }
  function Gv(n, i, a) {
    ((i = or(a, i)),
      (i = yd(n.stateNode, i, 2)),
      (n = Zi(n, i, 2)),
      n !== null && (_r(n, 2), Qr(n)));
  }
  function Tt(n, i, a) {
    if (n.tag === 3) Gv(n, n, a);
    else
      for (; i !== null; ) {
        if (i.tag === 3) {
          Gv(i, n, a);
          break;
        } else if (i.tag === 1) {
          var u = i.stateNode;
          if (
            typeof i.type.getDerivedStateFromError == "function" ||
            (typeof u.componentDidCatch == "function" &&
              (ls === null || !ls.has(u)))
          ) {
            ((n = or(a, n)),
              (a = Qy(2)),
              (u = Zi(i, a, 2)),
              u !== null && (Xy(a, u, i, n), _r(u, 2), Qr(u)));
            break;
          }
        }
        i = i.return;
      }
  }
  function Fd(n, i, a) {
    var u = n.pingCache;
    if (u === null) {
      u = n.pingCache = new Cw();
      var f = new Set();
      u.set(i, f);
    } else ((f = u.get(i)), f === void 0 && ((f = new Set()), u.set(i, f)));
    f.has(a) ||
      ((Md = !0), f.add(a), (n = Ow.bind(null, n, i, a)), i.then(n, n));
  }
  function Ow(n, i, a) {
    var u = n.pingCache;
    (u !== null && u.delete(i),
      (n.pingedLanes |= n.suspendedLanes & a),
      (n.warmLanes &= ~a),
      bt === n &&
        (rt & a) === a &&
        (Ot === 4 || (Ot === 3 && (rt & 62914560) === rt && 300 > wn() - Vd)
          ? (pt & 2) === 0 && uo(n, 0)
          : (Pd |= a),
        ao === rt && (ao = 0)),
      Qr(n));
  }
  function $v(n, i) {
    (i === 0 && (i = Fs()), (n = Ga(n, i)), n !== null && (_r(n, i), Qr(n)));
  }
  function Mw(n) {
    var i = n.memoizedState,
      a = 0;
    (i !== null && (a = i.retryLane), $v(n, a));
  }
  function Pw(n, i) {
    var a = 0;
    switch (n.tag) {
      case 13:
        var u = n.stateNode,
          f = n.memoizedState;
        f !== null && (a = f.retryLane);
        break;
      case 19:
        u = n.stateNode;
        break;
      case 22:
        u = n.stateNode._retryCache;
        break;
      default:
        throw Error(s(314));
    }
    (u !== null && u.delete(i), $v(n, a));
  }
  function Lw(n, i) {
    return ai(n, i);
  }
  var Vc = null,
    ho = null,
    qd = !1,
    Uc = !1,
    Gd = !1,
    ma = 0;
  function Qr(n) {
    (n !== ho &&
      n.next === null &&
      (ho === null ? (Vc = ho = n) : (ho = ho.next = n)),
      (Uc = !0),
      qd || ((qd = !0), Uw()));
  }
  function Ul(n, i) {
    if (!Gd && Uc) {
      Gd = !0;
      do
        for (var a = !1, u = Vc; u !== null; ) {
          if (n !== 0) {
            var f = u.pendingLanes;
            if (f === 0) var p = 0;
            else {
              var E = u.suspendedLanes,
                S = u.pingedLanes;
              ((p = (1 << (31 - jt(42 | n) + 1)) - 1),
                (p &= f & ~(E & ~S)),
                (p = p & 201326741 ? (p & 201326741) | 1 : p ? p | 2 : 0));
            }
            p !== 0 && ((a = !0), Xv(u, p));
          } else
            ((p = rt),
              (p = li(
                u,
                u === bt ? p : 0,
                u.cancelPendingCommit !== null || u.timeoutHandle !== -1,
              )),
              (p & 3) === 0 || er(u, p) || ((a = !0), Xv(u, p)));
          u = u.next;
        }
      while (a);
      Gd = !1;
    }
  }
  function Vw() {
    Kv();
  }
  function Kv() {
    Uc = qd = !1;
    var n = 0;
    ma !== 0 && (Gw() && (n = ma), (ma = 0));
    for (var i = wn(), a = null, u = Vc; u !== null; ) {
      var f = u.next,
        p = Yv(u, i);
      (p === 0
        ? ((u.next = null),
          a === null ? (Vc = f) : (a.next = f),
          f === null && (ho = a))
        : ((a = u), (n !== 0 || (p & 3) !== 0) && (Uc = !0)),
        (u = f));
    }
    Ul(n);
  }
  function Yv(n, i) {
    for (
      var a = n.suspendedLanes,
        u = n.pingedLanes,
        f = n.expirationTimes,
        p = n.pendingLanes & -62914561;
      0 < p;

    ) {
      var E = 31 - jt(p),
        S = 1 << E,
        N = f[E];
      (N === -1
        ? ((S & a) === 0 || (S & u) !== 0) && (f[E] = Hi(S, i))
        : N <= i && (n.expiredLanes |= S),
        (p &= ~S));
    }
    if (
      ((i = bt),
      (a = rt),
      (a = li(
        n,
        n === i ? a : 0,
        n.cancelPendingCommit !== null || n.timeoutHandle !== -1,
      )),
      (u = n.callbackNode),
      a === 0 ||
        (n === i && (mt === 2 || mt === 9)) ||
        n.cancelPendingCommit !== null)
    )
      return (
        u !== null && u !== null && bn(u),
        (n.callbackNode = null),
        (n.callbackPriority = 0)
      );
    if ((a & 3) === 0 || er(n, a)) {
      if (((i = a & -a), i === n.callbackPriority)) return i;
      switch ((u !== null && bn(u), qi(a))) {
        case 2:
        case 8:
          a = ji;
          break;
        case 32:
          a = oi;
          break;
        case 268435456:
          a = Jn;
          break;
        default:
          a = oi;
      }
      return (
        (u = Qv.bind(null, n)),
        (a = ai(a, u)),
        (n.callbackPriority = i),
        (n.callbackNode = a),
        i
      );
    }
    return (
      u !== null && u !== null && bn(u),
      (n.callbackPriority = 2),
      (n.callbackNode = null),
      2
    );
  }
  function Qv(n, i) {
    if (un !== 0 && un !== 5)
      return ((n.callbackNode = null), (n.callbackPriority = 0), null);
    var a = n.callbackNode;
    if (Lc() && n.callbackNode !== a) return null;
    var u = rt;
    return (
      (u = li(
        n,
        n === bt ? u : 0,
        n.cancelPendingCommit !== null || n.timeoutHandle !== -1,
      )),
      u === 0
        ? null
        : (Dv(n, u, i),
          Yv(n, wn()),
          n.callbackNode != null && n.callbackNode === a
            ? Qv.bind(null, n)
            : null)
    );
  }
  function Xv(n, i) {
    if (Lc()) return null;
    Dv(n, i, !0);
  }
  function Uw() {
    Kw(function () {
      (pt & 6) !== 0 ? ai(Hs, Vw) : Kv();
    });
  }
  function $d() {
    return (ma === 0 && (ma = ui()), ma);
  }
  function Wv(n) {
    return n == null || typeof n == "symbol" || typeof n == "boolean"
      ? null
      : typeof n == "function"
        ? n
        : Ma("" + n);
  }
  function Jv(n, i) {
    var a = i.ownerDocument.createElement("input");
    return (
      (a.name = i.name),
      (a.value = i.value),
      n.id && a.setAttribute("form", n.id),
      i.parentNode.insertBefore(a, i),
      (n = new FormData(n)),
      a.parentNode.removeChild(a),
      n
    );
  }
  function kw(n, i, a, u, f) {
    if (i === "submit" && a && a.stateNode === f) {
      var p = Wv((f[he] || null).action),
        E = u.submitter;
      E &&
        ((i = (i = E[he] || null)
          ? Wv(i.formAction)
          : E.getAttribute("formAction")),
        i !== null && ((p = i), (E = null)));
      var S = new Pa("action", "action", null, u, f);
      n.push({
        event: S,
        listeners: [
          {
            instance: null,
            listener: function () {
              if (u.defaultPrevented) {
                if (ma !== 0) {
                  var N = E ? Jv(f, E) : new FormData(f);
                  fd(
                    a,
                    { pending: !0, data: N, method: f.method, action: p },
                    null,
                    N,
                  );
                }
              } else
                typeof p == "function" &&
                  (S.preventDefault(),
                  (N = E ? Jv(f, E) : new FormData(f)),
                  fd(
                    a,
                    { pending: !0, data: N, method: f.method, action: p },
                    p,
                    N,
                  ));
            },
            currentTarget: f,
          },
        ],
      });
    }
  }
  for (var Kd = 0; Kd < Df.length; Kd++) {
    var Yd = Df[Kd],
      jw = Yd.toLowerCase(),
      zw = Yd[0].toUpperCase() + Yd.slice(1);
    br(jw, "on" + zw);
  }
  (br(Dg, "onAnimationEnd"),
    br(Og, "onAnimationIteration"),
    br(Mg, "onAnimationStart"),
    br("dblclick", "onDoubleClick"),
    br("focusin", "onFocus"),
    br("focusout", "onBlur"),
    br(rw, "onTransitionRun"),
    br(iw, "onTransitionStart"),
    br(sw, "onTransitionCancel"),
    br(Pg, "onTransitionEnd"),
    Wt("onMouseEnter", ["mouseout", "mouseover"]),
    Wt("onMouseLeave", ["mouseout", "mouseover"]),
    Wt("onPointerEnter", ["pointerout", "pointerover"]),
    Wt("onPointerLeave", ["pointerout", "pointerover"]),
    sn(
      "onChange",
      "change click focusin focusout input keydown keyup selectionchange".split(
        " ",
      ),
    ),
    sn(
      "onSelect",
      "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(
        " ",
      ),
    ),
    sn("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]),
    sn(
      "onCompositionEnd",
      "compositionend focusout keydown keypress keyup mousedown".split(" "),
    ),
    sn(
      "onCompositionStart",
      "compositionstart focusout keydown keypress keyup mousedown".split(" "),
    ),
    sn(
      "onCompositionUpdate",
      "compositionupdate focusout keydown keypress keyup mousedown".split(" "),
    ));
  var kl =
      "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(
        " ",
      ),
    Bw = new Set(
      "beforetoggle cancel close invalid load scroll scrollend toggle"
        .split(" ")
        .concat(kl),
    );
  function Zv(n, i) {
    i = (i & 4) !== 0;
    for (var a = 0; a < n.length; a++) {
      var u = n[a],
        f = u.event;
      u = u.listeners;
      e: {
        var p = void 0;
        if (i)
          for (var E = u.length - 1; 0 <= E; E--) {
            var S = u[E],
              N = S.instance,
              $ = S.currentTarget;
            if (((S = S.listener), N !== p && f.isPropagationStopped()))
              break e;
            ((p = S), (f.currentTarget = $));
            try {
              p(f);
            } catch (ne) {
              wc(ne);
            }
            ((f.currentTarget = null), (p = N));
          }
        else
          for (E = 0; E < u.length; E++) {
            if (
              ((S = u[E]),
              (N = S.instance),
              ($ = S.currentTarget),
              (S = S.listener),
              N !== p && f.isPropagationStopped())
            )
              break e;
            ((p = S), (f.currentTarget = $));
            try {
              p(f);
            } catch (ne) {
              wc(ne);
            }
            ((f.currentTarget = null), (p = N));
          }
      }
    }
  }
  function We(n, i) {
    var a = i[Re];
    a === void 0 && (a = i[Re] = new Set());
    var u = n + "__bubble";
    a.has(u) || (e_(i, n, 2, !1), a.add(u));
  }
  function Qd(n, i, a) {
    var u = 0;
    (i && (u |= 4), e_(a, n, u, i));
  }
  var kc = "_reactListening" + Math.random().toString(36).slice(2);
  function Xd(n) {
    if (!n[kc]) {
      ((n[kc] = !0),
        ct.forEach(function (a) {
          a !== "selectionchange" && (Bw.has(a) || Qd(a, !1, n), Qd(a, !0, n));
        }));
      var i = n.nodeType === 9 ? n : n.ownerDocument;
      i === null || i[kc] || ((i[kc] = !0), Qd("selectionchange", !1, i));
    }
  }
  function e_(n, i, a, u) {
    switch (w_(i)) {
      case 2:
        var f = pA;
        break;
      case 8:
        f = mA;
        break;
      default:
        f = cp;
    }
    ((a = f.bind(null, i, a, n)),
      (f = void 0),
      !sr ||
        (i !== "touchstart" && i !== "touchmove" && i !== "wheel") ||
        (f = !0),
      u
        ? f !== void 0
          ? n.addEventListener(i, a, { capture: !0, passive: f })
          : n.addEventListener(i, a, !0)
        : f !== void 0
          ? n.addEventListener(i, a, { passive: f })
          : n.addEventListener(i, a, !1));
  }
  function Wd(n, i, a, u, f) {
    var p = u;
    if ((i & 1) === 0 && (i & 2) === 0 && u !== null)
      e: for (;;) {
        if (u === null) return;
        var E = u.tag;
        if (E === 3 || E === 4) {
          var S = u.stateNode.containerInfo;
          if (S === f) break;
          if (E === 4)
            for (E = u.return; E !== null; ) {
              var N = E.tag;
              if ((N === 3 || N === 4) && E.stateNode.containerInfo === f)
                return;
              E = E.return;
            }
          for (; S !== null; ) {
            if (((E = Fe(S)), E === null)) return;
            if (((N = E.tag), N === 5 || N === 6 || N === 26 || N === 27)) {
              u = p = E;
              continue e;
            }
            S = S.parentNode;
          }
        }
        u = u.return;
      }
    zu(function () {
      var $ = p,
        ne = ir(a),
        se = [];
      e: {
        var Y = Lg.get(n);
        if (Y !== void 0) {
          var W = Pa,
            Ue = n;
          switch (n) {
            case "keypress":
              if (zr(a) === 0) break e;
            case "keydown":
            case "keyup":
              W = za;
              break;
            case "focusin":
              ((Ue = "focus"), (W = Ua));
              break;
            case "focusout":
              ((Ue = "blur"), (W = Ua));
              break;
            case "beforeblur":
            case "afterblur":
              W = Ua;
              break;
            case "click":
              if (a.button === 2) break e;
            case "auxclick":
            case "dblclick":
            case "mousedown":
            case "mousemove":
            case "mouseup":
            case "mouseout":
            case "mouseover":
            case "contextmenu":
              W = ar;
              break;
            case "drag":
            case "dragend":
            case "dragenter":
            case "dragexit":
            case "dragleave":
            case "dragover":
            case "dragstart":
            case "drop":
              W = bf;
              break;
            case "touchcancel":
            case "touchend":
            case "touchmove":
            case "touchstart":
              W = Yu;
              break;
            case Dg:
            case Og:
            case Mg:
              W = ka;
              break;
            case Pg:
              W = Xu;
              break;
            case "scroll":
            case "scrollend":
              W = Bu;
              break;
            case "wheel":
              W = Ba;
              break;
            case "copy":
            case "cut":
            case "paste":
              W = ja;
              break;
            case "gotpointercapture":
            case "lostpointercapture":
            case "pointercancel":
            case "pointerdown":
            case "pointermove":
            case "pointerout":
            case "pointerover":
            case "pointerup":
              W = ll;
              break;
            case "toggle":
            case "beforetoggle":
              W = Ju;
          }
          var De = (i & 4) !== 0,
            Et = !De && (n === "scroll" || n === "scrollend"),
            z = De ? (Y !== null ? Y + "Capture" : null) : Y;
          De = [];
          for (var L = $, q; L !== null; ) {
            var re = L;
            if (
              ((q = re.stateNode),
              (re = re.tag),
              (re !== 5 && re !== 26 && re !== 27) ||
                q === null ||
                z === null ||
                ((re = Ys(L, z)), re != null && De.push(jl(L, re, q))),
              Et)
            )
              break;
            L = L.return;
          }
          0 < De.length &&
            ((Y = new W(Y, Ue, null, a, ne)),
            se.push({ event: Y, listeners: De }));
        }
      }
      if ((i & 7) === 0) {
        e: {
          if (
            ((Y = n === "mouseover" || n === "pointerover"),
            (W = n === "mouseout" || n === "pointerout"),
            Y &&
              a !== hi &&
              (Ue = a.relatedTarget || a.fromElement) &&
              (Fe(Ue) || Ue[ye]))
          )
            break e;
          if (
            (W || Y) &&
            ((Y =
              ne.window === ne
                ? ne
                : (Y = ne.ownerDocument)
                  ? Y.defaultView || Y.parentWindow
                  : window),
            W
              ? ((Ue = a.relatedTarget || a.toElement),
                (W = $),
                (Ue = Ue ? Fe(Ue) : null),
                Ue !== null &&
                  ((Et = l(Ue)),
                  (De = Ue.tag),
                  Ue !== Et || (De !== 5 && De !== 27 && De !== 6)) &&
                  (Ue = null))
              : ((W = null), (Ue = $)),
            W !== Ue)
          ) {
            if (
              ((De = ar),
              (re = "onMouseLeave"),
              (z = "onMouseEnter"),
              (L = "mouse"),
              (n === "pointerout" || n === "pointerover") &&
                ((De = ll),
                (re = "onPointerLeave"),
                (z = "onPointerEnter"),
                (L = "pointer")),
              (Et = W == null ? Y : dt(W)),
              (q = Ue == null ? Y : dt(Ue)),
              (Y = new De(re, L + "leave", W, a, ne)),
              (Y.target = Et),
              (Y.relatedTarget = q),
              (re = null),
              Fe(ne) === $ &&
                ((De = new De(z, L + "enter", Ue, a, ne)),
                (De.target = q),
                (De.relatedTarget = Et),
                (re = De)),
              (Et = re),
              W && Ue)
            )
              t: {
                for (De = W, z = Ue, L = 0, q = De; q; q = fo(q)) L++;
                for (q = 0, re = z; re; re = fo(re)) q++;
                for (; 0 < L - q; ) ((De = fo(De)), L--);
                for (; 0 < q - L; ) ((z = fo(z)), q--);
                for (; L--; ) {
                  if (De === z || (z !== null && De === z.alternate)) break t;
                  ((De = fo(De)), (z = fo(z)));
                }
                De = null;
              }
            else De = null;
            (W !== null && t_(se, Y, W, De, !1),
              Ue !== null && Et !== null && t_(se, Et, Ue, De, !0));
          }
        }
        e: {
          if (
            ((Y = $ ? dt($) : window),
            (W = Y.nodeName && Y.nodeName.toLowerCase()),
            W === "select" || (W === "input" && Y.type === "file"))
          )
            var Te = Eg;
          else if (Kt(Y))
            if (Tg) Te = ew;
            else {
              Te = Jb;
              var Ye = Wb;
            }
          else
            ((W = Y.nodeName),
              !W ||
              W.toLowerCase() !== "input" ||
              (Y.type !== "checkbox" && Y.type !== "radio")
                ? $ && tl($.elementType) && (Te = Eg)
                : (Te = Zb));
          if (Te && (Te = Te(n, $))) {
            gi(se, Te, a, ne);
            break e;
          }
          (Ye && Ye(n, Y, $),
            n === "focusout" &&
              $ &&
              Y.type === "number" &&
              $.memoizedProps.value != null &&
              Yi(Y, "number", Y.value));
        }
        switch (((Ye = $ ? dt($) : window), n)) {
          case "focusin":
            (Kt(Ye) || Ye.contentEditable === "true") &&
              ((Ha = Ye), (If = $), (hl = null));
            break;
          case "focusout":
            hl = If = Ha = null;
            break;
          case "mousedown":
            xf = !0;
            break;
          case "contextmenu":
          case "mouseup":
          case "dragend":
            ((xf = !1), xg(se, a, ne));
            break;
          case "selectionchange":
            if (nw) break;
          case "keydown":
          case "keyup":
            xg(se, a, ne);
        }
        var Ce;
        if (Fr)
          e: {
            switch (n) {
              case "compositionstart":
                var Pe = "onCompositionStart";
                break e;
              case "compositionend":
                Pe = "onCompositionEnd";
                break e;
              case "compositionupdate":
                Pe = "onCompositionUpdate";
                break e;
            }
            Pe = void 0;
          }
        else
          tt
            ? ee(n, a) && (Pe = "onCompositionEnd")
            : n === "keydown" &&
              a.keyCode === 229 &&
              (Pe = "onCompositionStart");
        (Pe &&
          (_ &&
            a.locale !== "ko" &&
            (tt || Pe !== "onCompositionStart"
              ? Pe === "onCompositionEnd" && tt && (Ce = rl())
              : ((jr = ne),
                (Qi = "value" in jr ? jr.value : jr.textContent),
                (tt = !0))),
          (Ye = jc($, Pe)),
          0 < Ye.length &&
            ((Pe = new al(Pe, n, null, a, ne)),
            se.push({ event: Pe, listeners: Ye }),
            Ce
              ? (Pe.data = Ce)
              : ((Ce = me(a)), Ce !== null && (Pe.data = Ce)))),
          (Ce = y ? $t(n, a) : nt(n, a)) &&
            ((Pe = jc($, "onBeforeInput")),
            0 < Pe.length &&
              ((Ye = new al("onBeforeInput", "beforeinput", null, a, ne)),
              se.push({ event: Ye, listeners: Pe }),
              (Ye.data = Ce))),
          kw(se, n, $, a, ne));
      }
      Zv(se, i);
    });
  }
  function jl(n, i, a) {
    return { instance: n, listener: i, currentTarget: a };
  }
  function jc(n, i) {
    for (var a = i + "Capture", u = []; n !== null; ) {
      var f = n,
        p = f.stateNode;
      if (
        ((f = f.tag),
        (f !== 5 && f !== 26 && f !== 27) ||
          p === null ||
          ((f = Ys(n, a)),
          f != null && u.unshift(jl(n, f, p)),
          (f = Ys(n, i)),
          f != null && u.push(jl(n, f, p))),
        n.tag === 3)
      )
        return u;
      n = n.return;
    }
    return [];
  }
  function fo(n) {
    if (n === null) return null;
    do n = n.return;
    while (n && n.tag !== 5 && n.tag !== 27);
    return n || null;
  }
  function t_(n, i, a, u, f) {
    for (var p = i._reactName, E = []; a !== null && a !== u; ) {
      var S = a,
        N = S.alternate,
        $ = S.stateNode;
      if (((S = S.tag), N !== null && N === u)) break;
      ((S !== 5 && S !== 26 && S !== 27) ||
        $ === null ||
        ((N = $),
        f
          ? (($ = Ys(a, p)), $ != null && E.unshift(jl(a, $, N)))
          : f || (($ = Ys(a, p)), $ != null && E.push(jl(a, $, N)))),
        (a = a.return));
    }
    E.length !== 0 && n.push({ event: i, listeners: E });
  }
  var Hw = /\r\n?/g,
    Fw = /\u0000|\uFFFD/g;
  function n_(n) {
    return (typeof n == "string" ? n : "" + n)
      .replace(
        Hw,
        `
`,
      )
      .replace(Fw, "");
  }
  function r_(n, i) {
    return ((i = n_(i)), n_(n) === i);
  }
  function zc() {}
  function _t(n, i, a, u, f, p) {
    switch (a) {
      case "children":
        typeof u == "string"
          ? i === "body" || (i === "textarea" && u === "") || rr(n, u)
          : (typeof u == "number" || typeof u == "bigint") &&
            i !== "body" &&
            rr(n, "" + u);
        break;
      case "className":
        Cn(n, "class", u);
        break;
      case "tabIndex":
        Cn(n, "tabindex", u);
        break;
      case "dir":
      case "role":
      case "viewBox":
      case "width":
      case "height":
        Cn(n, a, u);
        break;
      case "style":
        el(n, u, p);
        break;
      case "data":
        if (i !== "object") {
          Cn(n, "data", u);
          break;
        }
      case "src":
      case "href":
        if (u === "" && (i !== "a" || a !== "href")) {
          n.removeAttribute(a);
          break;
        }
        if (
          u == null ||
          typeof u == "function" ||
          typeof u == "symbol" ||
          typeof u == "boolean"
        ) {
          n.removeAttribute(a);
          break;
        }
        ((u = Ma("" + u)), n.setAttribute(a, u));
        break;
      case "action":
      case "formAction":
        if (typeof u == "function") {
          n.setAttribute(
            a,
            "javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')",
          );
          break;
        } else
          typeof p == "function" &&
            (a === "formAction"
              ? (i !== "input" && _t(n, i, "name", f.name, f, null),
                _t(n, i, "formEncType", f.formEncType, f, null),
                _t(n, i, "formMethod", f.formMethod, f, null),
                _t(n, i, "formTarget", f.formTarget, f, null))
              : (_t(n, i, "encType", f.encType, f, null),
                _t(n, i, "method", f.method, f, null),
                _t(n, i, "target", f.target, f, null)));
        if (u == null || typeof u == "symbol" || typeof u == "boolean") {
          n.removeAttribute(a);
          break;
        }
        ((u = Ma("" + u)), n.setAttribute(a, u));
        break;
      case "onClick":
        u != null && (n.onclick = zc);
        break;
      case "onScroll":
        u != null && We("scroll", n);
        break;
      case "onScrollEnd":
        u != null && We("scrollend", n);
        break;
      case "dangerouslySetInnerHTML":
        if (u != null) {
          if (typeof u != "object" || !("__html" in u)) throw Error(s(61));
          if (((a = u.__html), a != null)) {
            if (f.children != null) throw Error(s(60));
            n.innerHTML = a;
          }
        }
        break;
      case "multiple":
        n.multiple = u && typeof u != "function" && typeof u != "symbol";
        break;
      case "muted":
        n.muted = u && typeof u != "function" && typeof u != "symbol";
        break;
      case "suppressContentEditableWarning":
      case "suppressHydrationWarning":
      case "defaultValue":
      case "defaultChecked":
      case "innerHTML":
      case "ref":
        break;
      case "autoFocus":
        break;
      case "xlinkHref":
        if (
          u == null ||
          typeof u == "function" ||
          typeof u == "boolean" ||
          typeof u == "symbol"
        ) {
          n.removeAttribute("xlink:href");
          break;
        }
        ((a = Ma("" + u)),
          n.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", a));
        break;
      case "contentEditable":
      case "spellCheck":
      case "draggable":
      case "value":
      case "autoReverse":
      case "externalResourcesRequired":
      case "focusable":
      case "preserveAlpha":
        u != null && typeof u != "function" && typeof u != "symbol"
          ? n.setAttribute(a, "" + u)
          : n.removeAttribute(a);
        break;
      case "inert":
      case "allowFullScreen":
      case "async":
      case "autoPlay":
      case "controls":
      case "default":
      case "defer":
      case "disabled":
      case "disablePictureInPicture":
      case "disableRemotePlayback":
      case "formNoValidate":
      case "hidden":
      case "loop":
      case "noModule":
      case "noValidate":
      case "open":
      case "playsInline":
      case "readOnly":
      case "required":
      case "reversed":
      case "scoped":
      case "seamless":
      case "itemScope":
        u && typeof u != "function" && typeof u != "symbol"
          ? n.setAttribute(a, "")
          : n.removeAttribute(a);
        break;
      case "capture":
      case "download":
        u === !0
          ? n.setAttribute(a, "")
          : u !== !1 &&
              u != null &&
              typeof u != "function" &&
              typeof u != "symbol"
            ? n.setAttribute(a, u)
            : n.removeAttribute(a);
        break;
      case "cols":
      case "rows":
      case "size":
      case "span":
        u != null &&
        typeof u != "function" &&
        typeof u != "symbol" &&
        !isNaN(u) &&
        1 <= u
          ? n.setAttribute(a, u)
          : n.removeAttribute(a);
        break;
      case "rowSpan":
      case "start":
        u == null || typeof u == "function" || typeof u == "symbol" || isNaN(u)
          ? n.removeAttribute(a)
          : n.setAttribute(a, u);
        break;
      case "popover":
        (We("beforetoggle", n), We("toggle", n), zn(n, "popover", u));
        break;
      case "xlinkActuate":
        Me(n, "http://www.w3.org/1999/xlink", "xlink:actuate", u);
        break;
      case "xlinkArcrole":
        Me(n, "http://www.w3.org/1999/xlink", "xlink:arcrole", u);
        break;
      case "xlinkRole":
        Me(n, "http://www.w3.org/1999/xlink", "xlink:role", u);
        break;
      case "xlinkShow":
        Me(n, "http://www.w3.org/1999/xlink", "xlink:show", u);
        break;
      case "xlinkTitle":
        Me(n, "http://www.w3.org/1999/xlink", "xlink:title", u);
        break;
      case "xlinkType":
        Me(n, "http://www.w3.org/1999/xlink", "xlink:type", u);
        break;
      case "xmlBase":
        Me(n, "http://www.w3.org/XML/1998/namespace", "xml:base", u);
        break;
      case "xmlLang":
        Me(n, "http://www.w3.org/XML/1998/namespace", "xml:lang", u);
        break;
      case "xmlSpace":
        Me(n, "http://www.w3.org/XML/1998/namespace", "xml:space", u);
        break;
      case "is":
        zn(n, "is", u);
        break;
      case "innerText":
      case "textContent":
        break;
      default:
        (!(2 < a.length) ||
          (a[0] !== "o" && a[0] !== "O") ||
          (a[1] !== "n" && a[1] !== "N")) &&
          ((a = Tf.get(a) || a), zn(n, a, u));
    }
  }
  function Jd(n, i, a, u, f, p) {
    switch (a) {
      case "style":
        el(n, u, p);
        break;
      case "dangerouslySetInnerHTML":
        if (u != null) {
          if (typeof u != "object" || !("__html" in u)) throw Error(s(61));
          if (((a = u.__html), a != null)) {
            if (f.children != null) throw Error(s(60));
            n.innerHTML = a;
          }
        }
        break;
      case "children":
        typeof u == "string"
          ? rr(n, u)
          : (typeof u == "number" || typeof u == "bigint") && rr(n, "" + u);
        break;
      case "onScroll":
        u != null && We("scroll", n);
        break;
      case "onScrollEnd":
        u != null && We("scrollend", n);
        break;
      case "onClick":
        u != null && (n.onclick = zc);
        break;
      case "suppressContentEditableWarning":
      case "suppressHydrationWarning":
      case "innerHTML":
      case "ref":
        break;
      case "innerText":
      case "textContent":
        break;
      default:
        if (!On.hasOwnProperty(a))
          e: {
            if (
              a[0] === "o" &&
              a[1] === "n" &&
              ((f = a.endsWith("Capture")),
              (i = a.slice(2, f ? a.length - 7 : void 0)),
              (p = n[he] || null),
              (p = p != null ? p[a] : null),
              typeof p == "function" && n.removeEventListener(i, p, f),
              typeof u == "function")
            ) {
              (typeof p != "function" &&
                p !== null &&
                (a in n
                  ? (n[a] = null)
                  : n.hasAttribute(a) && n.removeAttribute(a)),
                n.addEventListener(i, u, f));
              break e;
            }
            a in n
              ? (n[a] = u)
              : u === !0
                ? n.setAttribute(a, "")
                : zn(n, a, u);
          }
    }
  }
  function cn(n, i, a) {
    switch (i) {
      case "div":
      case "span":
      case "svg":
      case "path":
      case "a":
      case "g":
      case "p":
      case "li":
        break;
      case "img":
        (We("error", n), We("load", n));
        var u = !1,
          f = !1,
          p;
        for (p in a)
          if (a.hasOwnProperty(p)) {
            var E = a[p];
            if (E != null)
              switch (p) {
                case "src":
                  u = !0;
                  break;
                case "srcSet":
                  f = !0;
                  break;
                case "children":
                case "dangerouslySetInnerHTML":
                  throw Error(s(137, i));
                default:
                  _t(n, i, p, E, a, null);
              }
          }
        (f && _t(n, i, "srcSet", a.srcSet, a, null),
          u && _t(n, i, "src", a.src, a, null));
        return;
      case "input":
        We("invalid", n);
        var S = (p = E = f = null),
          N = null,
          $ = null;
        for (u in a)
          if (a.hasOwnProperty(u)) {
            var ne = a[u];
            if (ne != null)
              switch (u) {
                case "name":
                  f = ne;
                  break;
                case "type":
                  E = ne;
                  break;
                case "checked":
                  N = ne;
                  break;
                case "defaultChecked":
                  $ = ne;
                  break;
                case "value":
                  p = ne;
                  break;
                case "defaultValue":
                  S = ne;
                  break;
                case "children":
                case "dangerouslySetInnerHTML":
                  if (ne != null) throw Error(s(137, i));
                  break;
                default:
                  _t(n, i, u, ne, a, null);
              }
          }
        (Gs(n, p, S, N, $, E, f, !1), Oa(n));
        return;
      case "select":
        (We("invalid", n), (u = E = p = null));
        for (f in a)
          if (a.hasOwnProperty(f) && ((S = a[f]), S != null))
            switch (f) {
              case "value":
                p = S;
                break;
              case "defaultValue":
                E = S;
                break;
              case "multiple":
                u = S;
              default:
                _t(n, i, f, S, a, null);
            }
        ((i = p),
          (a = E),
          (n.multiple = !!u),
          i != null ? ci(n, !!u, i, !1) : a != null && ci(n, !!u, a, !0));
        return;
      case "textarea":
        (We("invalid", n), (p = f = u = null));
        for (E in a)
          if (a.hasOwnProperty(E) && ((S = a[E]), S != null))
            switch (E) {
              case "value":
                u = S;
                break;
              case "defaultValue":
                f = S;
                break;
              case "children":
                p = S;
                break;
              case "dangerouslySetInnerHTML":
                if (S != null) throw Error(s(91));
                break;
              default:
                _t(n, i, E, S, a, null);
            }
        ($s(n, u, f, p), Oa(n));
        return;
      case "option":
        for (N in a)
          if (a.hasOwnProperty(N) && ((u = a[N]), u != null))
            switch (N) {
              case "selected":
                n.selected =
                  u && typeof u != "function" && typeof u != "symbol";
                break;
              default:
                _t(n, i, N, u, a, null);
            }
        return;
      case "dialog":
        (We("beforetoggle", n),
          We("toggle", n),
          We("cancel", n),
          We("close", n));
        break;
      case "iframe":
      case "object":
        We("load", n);
        break;
      case "video":
      case "audio":
        for (u = 0; u < kl.length; u++) We(kl[u], n);
        break;
      case "image":
        (We("error", n), We("load", n));
        break;
      case "details":
        We("toggle", n);
        break;
      case "embed":
      case "source":
      case "link":
        (We("error", n), We("load", n));
      case "area":
      case "base":
      case "br":
      case "col":
      case "hr":
      case "keygen":
      case "meta":
      case "param":
      case "track":
      case "wbr":
      case "menuitem":
        for ($ in a)
          if (a.hasOwnProperty($) && ((u = a[$]), u != null))
            switch ($) {
              case "children":
              case "dangerouslySetInnerHTML":
                throw Error(s(137, i));
              default:
                _t(n, i, $, u, a, null);
            }
        return;
      default:
        if (tl(i)) {
          for (ne in a)
            a.hasOwnProperty(ne) &&
              ((u = a[ne]), u !== void 0 && Jd(n, i, ne, u, a, void 0));
          return;
        }
    }
    for (S in a)
      a.hasOwnProperty(S) && ((u = a[S]), u != null && _t(n, i, S, u, a, null));
  }
  function qw(n, i, a, u) {
    switch (i) {
      case "div":
      case "span":
      case "svg":
      case "path":
      case "a":
      case "g":
      case "p":
      case "li":
        break;
      case "input":
        var f = null,
          p = null,
          E = null,
          S = null,
          N = null,
          $ = null,
          ne = null;
        for (W in a) {
          var se = a[W];
          if (a.hasOwnProperty(W) && se != null)
            switch (W) {
              case "checked":
                break;
              case "value":
                break;
              case "defaultValue":
                N = se;
              default:
                u.hasOwnProperty(W) || _t(n, i, W, null, u, se);
            }
        }
        for (var Y in u) {
          var W = u[Y];
          if (((se = a[Y]), u.hasOwnProperty(Y) && (W != null || se != null)))
            switch (Y) {
              case "type":
                p = W;
                break;
              case "name":
                f = W;
                break;
              case "checked":
                $ = W;
                break;
              case "defaultChecked":
                ne = W;
                break;
              case "value":
                E = W;
                break;
              case "defaultValue":
                S = W;
                break;
              case "children":
              case "dangerouslySetInnerHTML":
                if (W != null) throw Error(s(137, i));
                break;
              default:
                W !== se && _t(n, i, Y, W, u, se);
            }
        }
        Bn(n, E, S, N, $, ne, p, f);
        return;
      case "select":
        W = E = S = Y = null;
        for (p in a)
          if (((N = a[p]), a.hasOwnProperty(p) && N != null))
            switch (p) {
              case "value":
                break;
              case "multiple":
                W = N;
              default:
                u.hasOwnProperty(p) || _t(n, i, p, null, u, N);
            }
        for (f in u)
          if (
            ((p = u[f]),
            (N = a[f]),
            u.hasOwnProperty(f) && (p != null || N != null))
          )
            switch (f) {
              case "value":
                Y = p;
                break;
              case "defaultValue":
                S = p;
                break;
              case "multiple":
                E = p;
              default:
                p !== N && _t(n, i, f, p, u, N);
            }
        ((i = S),
          (a = E),
          (u = W),
          Y != null
            ? ci(n, !!a, Y, !1)
            : !!u != !!a &&
              (i != null ? ci(n, !!a, i, !0) : ci(n, !!a, a ? [] : "", !1)));
        return;
      case "textarea":
        W = Y = null;
        for (S in a)
          if (
            ((f = a[S]),
            a.hasOwnProperty(S) && f != null && !u.hasOwnProperty(S))
          )
            switch (S) {
              case "value":
                break;
              case "children":
                break;
              default:
                _t(n, i, S, null, u, f);
            }
        for (E in u)
          if (
            ((f = u[E]),
            (p = a[E]),
            u.hasOwnProperty(E) && (f != null || p != null))
          )
            switch (E) {
              case "value":
                Y = f;
                break;
              case "defaultValue":
                W = f;
                break;
              case "children":
                break;
              case "dangerouslySetInnerHTML":
                if (f != null) throw Error(s(91));
                break;
              default:
                f !== p && _t(n, i, E, f, u, p);
            }
        yt(n, Y, W);
        return;
      case "option":
        for (var Ue in a)
          if (
            ((Y = a[Ue]),
            a.hasOwnProperty(Ue) && Y != null && !u.hasOwnProperty(Ue))
          )
            switch (Ue) {
              case "selected":
                n.selected = !1;
                break;
              default:
                _t(n, i, Ue, null, u, Y);
            }
        for (N in u)
          if (
            ((Y = u[N]),
            (W = a[N]),
            u.hasOwnProperty(N) && Y !== W && (Y != null || W != null))
          )
            switch (N) {
              case "selected":
                n.selected =
                  Y && typeof Y != "function" && typeof Y != "symbol";
                break;
              default:
                _t(n, i, N, Y, u, W);
            }
        return;
      case "img":
      case "link":
      case "area":
      case "base":
      case "br":
      case "col":
      case "embed":
      case "hr":
      case "keygen":
      case "meta":
      case "param":
      case "source":
      case "track":
      case "wbr":
      case "menuitem":
        for (var De in a)
          ((Y = a[De]),
            a.hasOwnProperty(De) &&
              Y != null &&
              !u.hasOwnProperty(De) &&
              _t(n, i, De, null, u, Y));
        for ($ in u)
          if (
            ((Y = u[$]),
            (W = a[$]),
            u.hasOwnProperty($) && Y !== W && (Y != null || W != null))
          )
            switch ($) {
              case "children":
              case "dangerouslySetInnerHTML":
                if (Y != null) throw Error(s(137, i));
                break;
              default:
                _t(n, i, $, Y, u, W);
            }
        return;
      default:
        if (tl(i)) {
          for (var Et in a)
            ((Y = a[Et]),
              a.hasOwnProperty(Et) &&
                Y !== void 0 &&
                !u.hasOwnProperty(Et) &&
                Jd(n, i, Et, void 0, u, Y));
          for (ne in u)
            ((Y = u[ne]),
              (W = a[ne]),
              !u.hasOwnProperty(ne) ||
                Y === W ||
                (Y === void 0 && W === void 0) ||
                Jd(n, i, ne, Y, u, W));
          return;
        }
    }
    for (var z in a)
      ((Y = a[z]),
        a.hasOwnProperty(z) &&
          Y != null &&
          !u.hasOwnProperty(z) &&
          _t(n, i, z, null, u, Y));
    for (se in u)
      ((Y = u[se]),
        (W = a[se]),
        !u.hasOwnProperty(se) ||
          Y === W ||
          (Y == null && W == null) ||
          _t(n, i, se, Y, u, W));
  }
  var Zd = null,
    ep = null;
  function Bc(n) {
    return n.nodeType === 9 ? n : n.ownerDocument;
  }
  function i_(n) {
    switch (n) {
      case "http://www.w3.org/2000/svg":
        return 1;
      case "http://www.w3.org/1998/Math/MathML":
        return 2;
      default:
        return 0;
    }
  }
  function s_(n, i) {
    if (n === 0)
      switch (i) {
        case "svg":
          return 1;
        case "math":
          return 2;
        default:
          return 0;
      }
    return n === 1 && i === "foreignObject" ? 0 : n;
  }
  function tp(n, i) {
    return (
      n === "textarea" ||
      n === "noscript" ||
      typeof i.children == "string" ||
      typeof i.children == "number" ||
      typeof i.children == "bigint" ||
      (typeof i.dangerouslySetInnerHTML == "object" &&
        i.dangerouslySetInnerHTML !== null &&
        i.dangerouslySetInnerHTML.__html != null)
    );
  }
  var np = null;
  function Gw() {
    var n = window.event;
    return n && n.type === "popstate"
      ? n === np
        ? !1
        : ((np = n), !0)
      : ((np = null), !1);
  }
  var a_ = typeof setTimeout == "function" ? setTimeout : void 0,
    $w = typeof clearTimeout == "function" ? clearTimeout : void 0,
    o_ = typeof Promise == "function" ? Promise : void 0,
    Kw =
      typeof queueMicrotask == "function"
        ? queueMicrotask
        : typeof o_ < "u"
          ? function (n) {
              return o_.resolve(null).then(n).catch(Yw);
            }
          : a_;
  function Yw(n) {
    setTimeout(function () {
      throw n;
    });
  }
  function hs(n) {
    return n === "head";
  }
  function l_(n, i) {
    var a = i,
      u = 0,
      f = 0;
    do {
      var p = a.nextSibling;
      if ((n.removeChild(a), p && p.nodeType === 8))
        if (((a = p.data), a === "/$")) {
          if (0 < u && 8 > u) {
            a = u;
            var E = n.ownerDocument;
            if ((a & 1 && zl(E.documentElement), a & 2 && zl(E.body), a & 4))
              for (a = E.head, zl(a), E = a.firstChild; E; ) {
                var S = E.nextSibling,
                  N = E.nodeName;
                (E[Ae] ||
                  N === "SCRIPT" ||
                  N === "STYLE" ||
                  (N === "LINK" && E.rel.toLowerCase() === "stylesheet") ||
                  a.removeChild(E),
                  (E = S));
              }
          }
          if (f === 0) {
            (n.removeChild(p), Yl(i));
            return;
          }
          f--;
        } else
          a === "$" || a === "$?" || a === "$!"
            ? f++
            : (u = a.charCodeAt(0) - 48);
      else u = 0;
      a = p;
    } while (a);
    Yl(i);
  }
  function rp(n) {
    var i = n.firstChild;
    for (i && i.nodeType === 10 && (i = i.nextSibling); i; ) {
      var a = i;
      switch (((i = i.nextSibling), a.nodeName)) {
        case "HTML":
        case "HEAD":
        case "BODY":
          (rp(a), _e(a));
          continue;
        case "SCRIPT":
        case "STYLE":
          continue;
        case "LINK":
          if (a.rel.toLowerCase() === "stylesheet") continue;
      }
      n.removeChild(a);
    }
  }
  function Qw(n, i, a, u) {
    for (; n.nodeType === 1; ) {
      var f = a;
      if (n.nodeName.toLowerCase() !== i.toLowerCase()) {
        if (!u && (n.nodeName !== "INPUT" || n.type !== "hidden")) break;
      } else if (u) {
        if (!n[Ae])
          switch (i) {
            case "meta":
              if (!n.hasAttribute("itemprop")) break;
              return n;
            case "link":
              if (
                ((p = n.getAttribute("rel")),
                p === "stylesheet" && n.hasAttribute("data-precedence"))
              )
                break;
              if (
                p !== f.rel ||
                n.getAttribute("href") !==
                  (f.href == null || f.href === "" ? null : f.href) ||
                n.getAttribute("crossorigin") !==
                  (f.crossOrigin == null ? null : f.crossOrigin) ||
                n.getAttribute("title") !== (f.title == null ? null : f.title)
              )
                break;
              return n;
            case "style":
              if (n.hasAttribute("data-precedence")) break;
              return n;
            case "script":
              if (
                ((p = n.getAttribute("src")),
                (p !== (f.src == null ? null : f.src) ||
                  n.getAttribute("type") !== (f.type == null ? null : f.type) ||
                  n.getAttribute("crossorigin") !==
                    (f.crossOrigin == null ? null : f.crossOrigin)) &&
                  p &&
                  n.hasAttribute("async") &&
                  !n.hasAttribute("itemprop"))
              )
                break;
              return n;
            default:
              return n;
          }
      } else if (i === "input" && n.type === "hidden") {
        var p = f.name == null ? null : "" + f.name;
        if (f.type === "hidden" && n.getAttribute("name") === p) return n;
      } else return n;
      if (((n = Ar(n.nextSibling)), n === null)) break;
    }
    return null;
  }
  function Xw(n, i, a) {
    if (i === "") return null;
    for (; n.nodeType !== 3; )
      if (
        ((n.nodeType !== 1 || n.nodeName !== "INPUT" || n.type !== "hidden") &&
          !a) ||
        ((n = Ar(n.nextSibling)), n === null)
      )
        return null;
    return n;
  }
  function ip(n) {
    return (
      n.data === "$!" ||
      (n.data === "$?" && n.ownerDocument.readyState === "complete")
    );
  }
  function Ww(n, i) {
    var a = n.ownerDocument;
    if (n.data !== "$?" || a.readyState === "complete") i();
    else {
      var u = function () {
        (i(), a.removeEventListener("DOMContentLoaded", u));
      };
      (a.addEventListener("DOMContentLoaded", u), (n._reactRetry = u));
    }
  }
  function Ar(n) {
    for (; n != null; n = n.nextSibling) {
      var i = n.nodeType;
      if (i === 1 || i === 3) break;
      if (i === 8) {
        if (
          ((i = n.data),
          i === "$" || i === "$!" || i === "$?" || i === "F!" || i === "F")
        )
          break;
        if (i === "/$") return null;
      }
    }
    return n;
  }
  var sp = null;
  function u_(n) {
    n = n.previousSibling;
    for (var i = 0; n; ) {
      if (n.nodeType === 8) {
        var a = n.data;
        if (a === "$" || a === "$!" || a === "$?") {
          if (i === 0) return n;
          i--;
        } else a === "/$" && i++;
      }
      n = n.previousSibling;
    }
    return null;
  }
  function c_(n, i, a) {
    switch (((i = Bc(a)), n)) {
      case "html":
        if (((n = i.documentElement), !n)) throw Error(s(452));
        return n;
      case "head":
        if (((n = i.head), !n)) throw Error(s(453));
        return n;
      case "body":
        if (((n = i.body), !n)) throw Error(s(454));
        return n;
      default:
        throw Error(s(451));
    }
  }
  function zl(n) {
    for (var i = n.attributes; i.length; ) n.removeAttributeNode(i[0]);
    _e(n);
  }
  var dr = new Map(),
    h_ = new Set();
  function Hc(n) {
    return typeof n.getRootNode == "function"
      ? n.getRootNode()
      : n.nodeType === 9
        ? n
        : n.ownerDocument;
  }
  var xi = ce.d;
  ce.d = { f: Jw, r: Zw, D: eA, C: tA, L: nA, m: rA, X: sA, S: iA, M: aA };
  function Jw() {
    var n = xi.f(),
      i = Mc();
    return n || i;
  }
  function Zw(n) {
    var i = Ze(n);
    i !== null && i.tag === 5 && i.type === "form" ? Dy(i) : xi.r(n);
  }
  var po = typeof document > "u" ? null : document;
  function f_(n, i, a) {
    var u = po;
    if (u && typeof i == "string" && i) {
      var f = zt(i);
      ((f = 'link[rel="' + n + '"][href="' + f + '"]'),
        typeof a == "string" && (f += '[crossorigin="' + a + '"]'),
        h_.has(f) ||
          (h_.add(f),
          (n = { rel: n, crossOrigin: a, href: i }),
          u.querySelector(f) === null &&
            ((i = u.createElement("link")),
            cn(i, "link", n),
            je(i),
            u.head.appendChild(i))));
    }
  }
  function eA(n) {
    (xi.D(n), f_("dns-prefetch", n, null));
  }
  function tA(n, i) {
    (xi.C(n, i), f_("preconnect", n, i));
  }
  function nA(n, i, a) {
    xi.L(n, i, a);
    var u = po;
    if (u && n && i) {
      var f = 'link[rel="preload"][as="' + zt(i) + '"]';
      i === "image" && a && a.imageSrcSet
        ? ((f += '[imagesrcset="' + zt(a.imageSrcSet) + '"]'),
          typeof a.imageSizes == "string" &&
            (f += '[imagesizes="' + zt(a.imageSizes) + '"]'))
        : (f += '[href="' + zt(n) + '"]');
      var p = f;
      switch (i) {
        case "style":
          p = mo(n);
          break;
        case "script":
          p = go(n);
      }
      dr.has(p) ||
        ((n = v(
          {
            rel: "preload",
            href: i === "image" && a && a.imageSrcSet ? void 0 : n,
            as: i,
          },
          a,
        )),
        dr.set(p, n),
        u.querySelector(f) !== null ||
          (i === "style" && u.querySelector(Bl(p))) ||
          (i === "script" && u.querySelector(Hl(p))) ||
          ((i = u.createElement("link")),
          cn(i, "link", n),
          je(i),
          u.head.appendChild(i)));
    }
  }
  function rA(n, i) {
    xi.m(n, i);
    var a = po;
    if (a && n) {
      var u = i && typeof i.as == "string" ? i.as : "script",
        f =
          'link[rel="modulepreload"][as="' + zt(u) + '"][href="' + zt(n) + '"]',
        p = f;
      switch (u) {
        case "audioworklet":
        case "paintworklet":
        case "serviceworker":
        case "sharedworker":
        case "worker":
        case "script":
          p = go(n);
      }
      if (
        !dr.has(p) &&
        ((n = v({ rel: "modulepreload", href: n }, i)),
        dr.set(p, n),
        a.querySelector(f) === null)
      ) {
        switch (u) {
          case "audioworklet":
          case "paintworklet":
          case "serviceworker":
          case "sharedworker":
          case "worker":
          case "script":
            if (a.querySelector(Hl(p))) return;
        }
        ((u = a.createElement("link")),
          cn(u, "link", n),
          je(u),
          a.head.appendChild(u));
      }
    }
  }
  function iA(n, i, a) {
    xi.S(n, i, a);
    var u = po;
    if (u && n) {
      var f = ut(u).hoistableStyles,
        p = mo(n);
      i = i || "default";
      var E = f.get(p);
      if (!E) {
        var S = { loading: 0, preload: null };
        if ((E = u.querySelector(Bl(p)))) S.loading = 5;
        else {
          ((n = v({ rel: "stylesheet", href: n, "data-precedence": i }, a)),
            (a = dr.get(p)) && ap(n, a));
          var N = (E = u.createElement("link"));
          (je(N),
            cn(N, "link", n),
            (N._p = new Promise(function ($, ne) {
              ((N.onload = $), (N.onerror = ne));
            })),
            N.addEventListener("load", function () {
              S.loading |= 1;
            }),
            N.addEventListener("error", function () {
              S.loading |= 2;
            }),
            (S.loading |= 4),
            Fc(E, i, u));
        }
        ((E = { type: "stylesheet", instance: E, count: 1, state: S }),
          f.set(p, E));
      }
    }
  }
  function sA(n, i) {
    xi.X(n, i);
    var a = po;
    if (a && n) {
      var u = ut(a).hoistableScripts,
        f = go(n),
        p = u.get(f);
      p ||
        ((p = a.querySelector(Hl(f))),
        p ||
          ((n = v({ src: n, async: !0 }, i)),
          (i = dr.get(f)) && op(n, i),
          (p = a.createElement("script")),
          je(p),
          cn(p, "link", n),
          a.head.appendChild(p)),
        (p = { type: "script", instance: p, count: 1, state: null }),
        u.set(f, p));
    }
  }
  function aA(n, i) {
    xi.M(n, i);
    var a = po;
    if (a && n) {
      var u = ut(a).hoistableScripts,
        f = go(n),
        p = u.get(f);
      p ||
        ((p = a.querySelector(Hl(f))),
        p ||
          ((n = v({ src: n, async: !0, type: "module" }, i)),
          (i = dr.get(f)) && op(n, i),
          (p = a.createElement("script")),
          je(p),
          cn(p, "link", n),
          a.head.appendChild(p)),
        (p = { type: "script", instance: p, count: 1, state: null }),
        u.set(f, p));
    }
  }
  function d_(n, i, a, u) {
    var f = (f = Ne.current) ? Hc(f) : null;
    if (!f) throw Error(s(446));
    switch (n) {
      case "meta":
      case "title":
        return null;
      case "style":
        return typeof a.precedence == "string" && typeof a.href == "string"
          ? ((i = mo(a.href)),
            (a = ut(f).hoistableStyles),
            (u = a.get(i)),
            u ||
              ((u = { type: "style", instance: null, count: 0, state: null }),
              a.set(i, u)),
            u)
          : { type: "void", instance: null, count: 0, state: null };
      case "link":
        if (
          a.rel === "stylesheet" &&
          typeof a.href == "string" &&
          typeof a.precedence == "string"
        ) {
          n = mo(a.href);
          var p = ut(f).hoistableStyles,
            E = p.get(n);
          if (
            (E ||
              ((f = f.ownerDocument || f),
              (E = {
                type: "stylesheet",
                instance: null,
                count: 0,
                state: { loading: 0, preload: null },
              }),
              p.set(n, E),
              (p = f.querySelector(Bl(n))) &&
                !p._p &&
                ((E.instance = p), (E.state.loading = 5)),
              dr.has(n) ||
                ((a = {
                  rel: "preload",
                  as: "style",
                  href: a.href,
                  crossOrigin: a.crossOrigin,
                  integrity: a.integrity,
                  media: a.media,
                  hrefLang: a.hrefLang,
                  referrerPolicy: a.referrerPolicy,
                }),
                dr.set(n, a),
                p || oA(f, n, a, E.state))),
            i && u === null)
          )
            throw Error(s(528, ""));
          return E;
        }
        if (i && u !== null) throw Error(s(529, ""));
        return null;
      case "script":
        return (
          (i = a.async),
          (a = a.src),
          typeof a == "string" &&
          i &&
          typeof i != "function" &&
          typeof i != "symbol"
            ? ((i = go(a)),
              (a = ut(f).hoistableScripts),
              (u = a.get(i)),
              u ||
                ((u = {
                  type: "script",
                  instance: null,
                  count: 0,
                  state: null,
                }),
                a.set(i, u)),
              u)
            : { type: "void", instance: null, count: 0, state: null }
        );
      default:
        throw Error(s(444, n));
    }
  }
  function mo(n) {
    return 'href="' + zt(n) + '"';
  }
  function Bl(n) {
    return 'link[rel="stylesheet"][' + n + "]";
  }
  function p_(n) {
    return v({}, n, { "data-precedence": n.precedence, precedence: null });
  }
  function oA(n, i, a, u) {
    n.querySelector('link[rel="preload"][as="style"][' + i + "]")
      ? (u.loading = 1)
      : ((i = n.createElement("link")),
        (u.preload = i),
        i.addEventListener("load", function () {
          return (u.loading |= 1);
        }),
        i.addEventListener("error", function () {
          return (u.loading |= 2);
        }),
        cn(i, "link", a),
        je(i),
        n.head.appendChild(i));
  }
  function go(n) {
    return '[src="' + zt(n) + '"]';
  }
  function Hl(n) {
    return "script[async]" + n;
  }
  function m_(n, i, a) {
    if ((i.count++, i.instance === null))
      switch (i.type) {
        case "style":
          var u = n.querySelector('style[data-href~="' + zt(a.href) + '"]');
          if (u) return ((i.instance = u), je(u), u);
          var f = v({}, a, {
            "data-href": a.href,
            "data-precedence": a.precedence,
            href: null,
            precedence: null,
          });
          return (
            (u = (n.ownerDocument || n).createElement("style")),
            je(u),
            cn(u, "style", f),
            Fc(u, a.precedence, n),
            (i.instance = u)
          );
        case "stylesheet":
          f = mo(a.href);
          var p = n.querySelector(Bl(f));
          if (p) return ((i.state.loading |= 4), (i.instance = p), je(p), p);
          ((u = p_(a)),
            (f = dr.get(f)) && ap(u, f),
            (p = (n.ownerDocument || n).createElement("link")),
            je(p));
          var E = p;
          return (
            (E._p = new Promise(function (S, N) {
              ((E.onload = S), (E.onerror = N));
            })),
            cn(p, "link", u),
            (i.state.loading |= 4),
            Fc(p, a.precedence, n),
            (i.instance = p)
          );
        case "script":
          return (
            (p = go(a.src)),
            (f = n.querySelector(Hl(p)))
              ? ((i.instance = f), je(f), f)
              : ((u = a),
                (f = dr.get(p)) && ((u = v({}, a)), op(u, f)),
                (n = n.ownerDocument || n),
                (f = n.createElement("script")),
                je(f),
                cn(f, "link", u),
                n.head.appendChild(f),
                (i.instance = f))
          );
        case "void":
          return null;
        default:
          throw Error(s(443, i.type));
      }
    else
      i.type === "stylesheet" &&
        (i.state.loading & 4) === 0 &&
        ((u = i.instance), (i.state.loading |= 4), Fc(u, a.precedence, n));
    return i.instance;
  }
  function Fc(n, i, a) {
    for (
      var u = a.querySelectorAll(
          'link[rel="stylesheet"][data-precedence],style[data-precedence]',
        ),
        f = u.length ? u[u.length - 1] : null,
        p = f,
        E = 0;
      E < u.length;
      E++
    ) {
      var S = u[E];
      if (S.dataset.precedence === i) p = S;
      else if (p !== f) break;
    }
    p
      ? p.parentNode.insertBefore(n, p.nextSibling)
      : ((i = a.nodeType === 9 ? a.head : a), i.insertBefore(n, i.firstChild));
  }
  function ap(n, i) {
    (n.crossOrigin == null && (n.crossOrigin = i.crossOrigin),
      n.referrerPolicy == null && (n.referrerPolicy = i.referrerPolicy),
      n.title == null && (n.title = i.title));
  }
  function op(n, i) {
    (n.crossOrigin == null && (n.crossOrigin = i.crossOrigin),
      n.referrerPolicy == null && (n.referrerPolicy = i.referrerPolicy),
      n.integrity == null && (n.integrity = i.integrity));
  }
  var qc = null;
  function g_(n, i, a) {
    if (qc === null) {
      var u = new Map(),
        f = (qc = new Map());
      f.set(a, u);
    } else ((f = qc), (u = f.get(a)), u || ((u = new Map()), f.set(a, u)));
    if (u.has(n)) return u;
    for (
      u.set(n, null), a = a.getElementsByTagName(n), f = 0;
      f < a.length;
      f++
    ) {
      var p = a[f];
      if (
        !(
          p[Ae] ||
          p[ae] ||
          (n === "link" && p.getAttribute("rel") === "stylesheet")
        ) &&
        p.namespaceURI !== "http://www.w3.org/2000/svg"
      ) {
        var E = p.getAttribute(i) || "";
        E = n + E;
        var S = u.get(E);
        S ? S.push(p) : u.set(E, [p]);
      }
    }
    return u;
  }
  function y_(n, i, a) {
    ((n = n.ownerDocument || n),
      n.head.insertBefore(
        a,
        i === "title" ? n.querySelector("head > title") : null,
      ));
  }
  function lA(n, i, a) {
    if (a === 1 || i.itemProp != null) return !1;
    switch (n) {
      case "meta":
      case "title":
        return !0;
      case "style":
        if (
          typeof i.precedence != "string" ||
          typeof i.href != "string" ||
          i.href === ""
        )
          break;
        return !0;
      case "link":
        if (
          typeof i.rel != "string" ||
          typeof i.href != "string" ||
          i.href === "" ||
          i.onLoad ||
          i.onError
        )
          break;
        switch (i.rel) {
          case "stylesheet":
            return (
              (n = i.disabled),
              typeof i.precedence == "string" && n == null
            );
          default:
            return !0;
        }
      case "script":
        if (
          i.async &&
          typeof i.async != "function" &&
          typeof i.async != "symbol" &&
          !i.onLoad &&
          !i.onError &&
          i.src &&
          typeof i.src == "string"
        )
          return !0;
    }
    return !1;
  }
  function v_(n) {
    return !(n.type === "stylesheet" && (n.state.loading & 3) === 0);
  }
  var Fl = null;
  function uA() {}
  function cA(n, i, a) {
    if (Fl === null) throw Error(s(475));
    var u = Fl;
    if (
      i.type === "stylesheet" &&
      (typeof a.media != "string" || matchMedia(a.media).matches !== !1) &&
      (i.state.loading & 4) === 0
    ) {
      if (i.instance === null) {
        var f = mo(a.href),
          p = n.querySelector(Bl(f));
        if (p) {
          ((n = p._p),
            n !== null &&
              typeof n == "object" &&
              typeof n.then == "function" &&
              (u.count++, (u = Gc.bind(u)), n.then(u, u)),
            (i.state.loading |= 4),
            (i.instance = p),
            je(p));
          return;
        }
        ((p = n.ownerDocument || n),
          (a = p_(a)),
          (f = dr.get(f)) && ap(a, f),
          (p = p.createElement("link")),
          je(p));
        var E = p;
        ((E._p = new Promise(function (S, N) {
          ((E.onload = S), (E.onerror = N));
        })),
          cn(p, "link", a),
          (i.instance = p));
      }
      (u.stylesheets === null && (u.stylesheets = new Map()),
        u.stylesheets.set(i, n),
        (n = i.state.preload) &&
          (i.state.loading & 3) === 0 &&
          (u.count++,
          (i = Gc.bind(u)),
          n.addEventListener("load", i),
          n.addEventListener("error", i)));
    }
  }
  function hA() {
    if (Fl === null) throw Error(s(475));
    var n = Fl;
    return (
      n.stylesheets && n.count === 0 && lp(n, n.stylesheets),
      0 < n.count
        ? function (i) {
            var a = setTimeout(function () {
              if ((n.stylesheets && lp(n, n.stylesheets), n.unsuspend)) {
                var u = n.unsuspend;
                ((n.unsuspend = null), u());
              }
            }, 6e4);
            return (
              (n.unsuspend = i),
              function () {
                ((n.unsuspend = null), clearTimeout(a));
              }
            );
          }
        : null
    );
  }
  function Gc() {
    if ((this.count--, this.count === 0)) {
      if (this.stylesheets) lp(this, this.stylesheets);
      else if (this.unsuspend) {
        var n = this.unsuspend;
        ((this.unsuspend = null), n());
      }
    }
  }
  var $c = null;
  function lp(n, i) {
    ((n.stylesheets = null),
      n.unsuspend !== null &&
        (n.count++,
        ($c = new Map()),
        i.forEach(fA, n),
        ($c = null),
        Gc.call(n)));
  }
  function fA(n, i) {
    if (!(i.state.loading & 4)) {
      var a = $c.get(n);
      if (a) var u = a.get(null);
      else {
        ((a = new Map()), $c.set(n, a));
        for (
          var f = n.querySelectorAll(
              "link[data-precedence],style[data-precedence]",
            ),
            p = 0;
          p < f.length;
          p++
        ) {
          var E = f[p];
          (E.nodeName === "LINK" || E.getAttribute("media") !== "not all") &&
            (a.set(E.dataset.precedence, E), (u = E));
        }
        u && a.set(null, u);
      }
      ((f = i.instance),
        (E = f.getAttribute("data-precedence")),
        (p = a.get(E) || u),
        p === u && a.set(null, f),
        a.set(E, f),
        this.count++,
        (u = Gc.bind(this)),
        f.addEventListener("load", u),
        f.addEventListener("error", u),
        p
          ? p.parentNode.insertBefore(f, p.nextSibling)
          : ((n = n.nodeType === 9 ? n.head : n),
            n.insertBefore(f, n.firstChild)),
        (i.state.loading |= 4));
    }
  }
  var ql = {
    $$typeof: ie,
    Provider: null,
    Consumer: null,
    _currentValue: ge,
    _currentValue2: ge,
    _threadCount: 0,
  };
  function dA(n, i, a, u, f, p, E, S) {
    ((this.tag = 1),
      (this.containerInfo = n),
      (this.pingCache = this.current = this.pendingChildren = null),
      (this.timeoutHandle = -1),
      (this.callbackNode =
        this.next =
        this.pendingContext =
        this.context =
        this.cancelPendingCommit =
          null),
      (this.callbackPriority = 0),
      (this.expirationTimes = tr(-1)),
      (this.entangledLanes =
        this.shellSuspendCounter =
        this.errorRecoveryDisabledLanes =
        this.expiredLanes =
        this.warmLanes =
        this.pingedLanes =
        this.suspendedLanes =
        this.pendingLanes =
          0),
      (this.entanglements = tr(0)),
      (this.hiddenUpdates = tr(null)),
      (this.identifierPrefix = u),
      (this.onUncaughtError = f),
      (this.onCaughtError = p),
      (this.onRecoverableError = E),
      (this.pooledCache = null),
      (this.pooledCacheLanes = 0),
      (this.formState = S),
      (this.incompleteTransitions = new Map()));
  }
  function __(n, i, a, u, f, p, E, S, N, $, ne, se) {
    return (
      (n = new dA(n, i, a, E, S, N, $, se)),
      (i = 1),
      p === !0 && (i |= 24),
      (p = Fn(3, null, null, i)),
      (n.current = p),
      (p.stateNode = n),
      (i = Ff()),
      i.refCount++,
      (n.pooledCache = i),
      i.refCount++,
      (p.memoizedState = { element: u, isDehydrated: a, cache: i }),
      Kf(p),
      n
    );
  }
  function E_(n) {
    return n ? ((n = $a), n) : $a;
  }
  function T_(n, i, a, u, f, p) {
    ((f = E_(f)),
      u.context === null ? (u.context = f) : (u.pendingContext = f),
      (u = Ji(i)),
      (u.payload = { element: a }),
      (p = p === void 0 ? null : p),
      p !== null && (u.callback = p),
      (a = Zi(n, u, i)),
      a !== null && (Yn(a, n, i), El(a, n, i)));
  }
  function S_(n, i) {
    if (((n = n.memoizedState), n !== null && n.dehydrated !== null)) {
      var a = n.retryLane;
      n.retryLane = a !== 0 && a < i ? a : i;
    }
  }
  function up(n, i) {
    (S_(n, i), (n = n.alternate) && S_(n, i));
  }
  function b_(n) {
    if (n.tag === 13) {
      var i = Ga(n, 67108864);
      (i !== null && Yn(i, n, 67108864), up(n, 67108864));
    }
  }
  var Kc = !0;
  function pA(n, i, a, u) {
    var f = G.T;
    G.T = null;
    var p = ce.p;
    try {
      ((ce.p = 2), cp(n, i, a, u));
    } finally {
      ((ce.p = p), (G.T = f));
    }
  }
  function mA(n, i, a, u) {
    var f = G.T;
    G.T = null;
    var p = ce.p;
    try {
      ((ce.p = 8), cp(n, i, a, u));
    } finally {
      ((ce.p = p), (G.T = f));
    }
  }
  function cp(n, i, a, u) {
    if (Kc) {
      var f = hp(u);
      if (f === null) (Wd(n, i, u, Yc, a), A_(n, u));
      else if (yA(f, n, i, a, u)) u.stopPropagation();
      else if ((A_(n, u), i & 4 && -1 < gA.indexOf(n))) {
        for (; f !== null; ) {
          var p = Ze(f);
          if (p !== null)
            switch (p.tag) {
              case 3:
                if (((p = p.stateNode), p.current.memoizedState.isDehydrated)) {
                  var E = kn(p.pendingLanes);
                  if (E !== 0) {
                    var S = p;
                    for (S.pendingLanes |= 2, S.entangledLanes |= 2; E; ) {
                      var N = 1 << (31 - jt(E));
                      ((S.entanglements[1] |= N), (E &= ~N));
                    }
                    (Qr(p), (pt & 6) === 0 && ((Dc = wn() + 500), Ul(0)));
                  }
                }
                break;
              case 13:
                ((S = Ga(p, 2)), S !== null && Yn(S, p, 2), Mc(), up(p, 2));
            }
          if (((p = hp(u)), p === null && Wd(n, i, u, Yc, a), p === f)) break;
          f = p;
        }
        f !== null && u.stopPropagation();
      } else Wd(n, i, u, null, a);
    }
  }
  function hp(n) {
    return ((n = ir(n)), fp(n));
  }
  var Yc = null;
  function fp(n) {
    if (((Yc = null), (n = Fe(n)), n !== null)) {
      var i = l(n);
      if (i === null) n = null;
      else {
        var a = i.tag;
        if (a === 13) {
          if (((n = c(i)), n !== null)) return n;
          n = null;
        } else if (a === 3) {
          if (i.stateNode.current.memoizedState.isDehydrated)
            return i.tag === 3 ? i.stateNode.containerInfo : null;
          n = null;
        } else i !== n && (n = null);
      }
    }
    return ((Yc = n), null);
  }
  function w_(n) {
    switch (n) {
      case "beforetoggle":
      case "cancel":
      case "click":
      case "close":
      case "contextmenu":
      case "copy":
      case "cut":
      case "auxclick":
      case "dblclick":
      case "dragend":
      case "dragstart":
      case "drop":
      case "focusin":
      case "focusout":
      case "input":
      case "invalid":
      case "keydown":
      case "keypress":
      case "keyup":
      case "mousedown":
      case "mouseup":
      case "paste":
      case "pause":
      case "play":
      case "pointercancel":
      case "pointerdown":
      case "pointerup":
      case "ratechange":
      case "reset":
      case "resize":
      case "seeked":
      case "submit":
      case "toggle":
      case "touchcancel":
      case "touchend":
      case "touchstart":
      case "volumechange":
      case "change":
      case "selectionchange":
      case "textInput":
      case "compositionstart":
      case "compositionend":
      case "compositionupdate":
      case "beforeblur":
      case "afterblur":
      case "beforeinput":
      case "blur":
      case "fullscreenchange":
      case "focus":
      case "hashchange":
      case "popstate":
      case "select":
      case "selectstart":
        return 2;
      case "drag":
      case "dragenter":
      case "dragexit":
      case "dragleave":
      case "dragover":
      case "mousemove":
      case "mouseout":
      case "mouseover":
      case "pointermove":
      case "pointerout":
      case "pointerover":
      case "scroll":
      case "touchmove":
      case "wheel":
      case "mouseenter":
      case "mouseleave":
      case "pointerenter":
      case "pointerleave":
        return 8;
      case "message":
        switch (Wo()) {
          case Hs:
            return 2;
          case ji:
            return 8;
          case oi:
          case vr:
            return 32;
          case Jn:
            return 268435456;
          default:
            return 32;
        }
      default:
        return 32;
    }
  }
  var dp = !1,
    fs = null,
    ds = null,
    ps = null,
    Gl = new Map(),
    $l = new Map(),
    ms = [],
    gA =
      "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(
        " ",
      );
  function A_(n, i) {
    switch (n) {
      case "focusin":
      case "focusout":
        fs = null;
        break;
      case "dragenter":
      case "dragleave":
        ds = null;
        break;
      case "mouseover":
      case "mouseout":
        ps = null;
        break;
      case "pointerover":
      case "pointerout":
        Gl.delete(i.pointerId);
        break;
      case "gotpointercapture":
      case "lostpointercapture":
        $l.delete(i.pointerId);
    }
  }
  function Kl(n, i, a, u, f, p) {
    return n === null || n.nativeEvent !== p
      ? ((n = {
          blockedOn: i,
          domEventName: a,
          eventSystemFlags: u,
          nativeEvent: p,
          targetContainers: [f],
        }),
        i !== null && ((i = Ze(i)), i !== null && b_(i)),
        n)
      : ((n.eventSystemFlags |= u),
        (i = n.targetContainers),
        f !== null && i.indexOf(f) === -1 && i.push(f),
        n);
  }
  function yA(n, i, a, u, f) {
    switch (i) {
      case "focusin":
        return ((fs = Kl(fs, n, i, a, u, f)), !0);
      case "dragenter":
        return ((ds = Kl(ds, n, i, a, u, f)), !0);
      case "mouseover":
        return ((ps = Kl(ps, n, i, a, u, f)), !0);
      case "pointerover":
        var p = f.pointerId;
        return (Gl.set(p, Kl(Gl.get(p) || null, n, i, a, u, f)), !0);
      case "gotpointercapture":
        return (
          (p = f.pointerId),
          $l.set(p, Kl($l.get(p) || null, n, i, a, u, f)),
          !0
        );
    }
    return !1;
  }
  function R_(n) {
    var i = Fe(n.target);
    if (i !== null) {
      var a = l(i);
      if (a !== null) {
        if (((i = a.tag), i === 13)) {
          if (((i = c(a)), i !== null)) {
            ((n.blockedOn = i),
              H(n.priority, function () {
                if (a.tag === 13) {
                  var u = Kn();
                  u = Ur(u);
                  var f = Ga(a, u);
                  (f !== null && Yn(f, a, u), up(a, u));
                }
              }));
            return;
          }
        } else if (i === 3 && a.stateNode.current.memoizedState.isDehydrated) {
          n.blockedOn = a.tag === 3 ? a.stateNode.containerInfo : null;
          return;
        }
      }
    }
    n.blockedOn = null;
  }
  function Qc(n) {
    if (n.blockedOn !== null) return !1;
    for (var i = n.targetContainers; 0 < i.length; ) {
      var a = hp(n.nativeEvent);
      if (a === null) {
        a = n.nativeEvent;
        var u = new a.constructor(a.type, a);
        ((hi = u), a.target.dispatchEvent(u), (hi = null));
      } else return ((i = Ze(a)), i !== null && b_(i), (n.blockedOn = a), !1);
      i.shift();
    }
    return !0;
  }
  function C_(n, i, a) {
    Qc(n) && a.delete(i);
  }
  function vA() {
    ((dp = !1),
      fs !== null && Qc(fs) && (fs = null),
      ds !== null && Qc(ds) && (ds = null),
      ps !== null && Qc(ps) && (ps = null),
      Gl.forEach(C_),
      $l.forEach(C_));
  }
  function Xc(n, i) {
    n.blockedOn === i &&
      ((n.blockedOn = null),
      dp ||
        ((dp = !0),
        r.unstable_scheduleCallback(r.unstable_NormalPriority, vA)));
  }
  var Wc = null;
  function I_(n) {
    Wc !== n &&
      ((Wc = n),
      r.unstable_scheduleCallback(r.unstable_NormalPriority, function () {
        Wc === n && (Wc = null);
        for (var i = 0; i < n.length; i += 3) {
          var a = n[i],
            u = n[i + 1],
            f = n[i + 2];
          if (typeof u != "function") {
            if (fp(u || a) === null) continue;
            break;
          }
          var p = Ze(a);
          p !== null &&
            (n.splice(i, 3),
            (i -= 3),
            fd(p, { pending: !0, data: f, method: a.method, action: u }, u, f));
        }
      }));
  }
  function Yl(n) {
    function i(N) {
      return Xc(N, n);
    }
    (fs !== null && Xc(fs, n),
      ds !== null && Xc(ds, n),
      ps !== null && Xc(ps, n),
      Gl.forEach(i),
      $l.forEach(i));
    for (var a = 0; a < ms.length; a++) {
      var u = ms[a];
      u.blockedOn === n && (u.blockedOn = null);
    }
    for (; 0 < ms.length && ((a = ms[0]), a.blockedOn === null); )
      (R_(a), a.blockedOn === null && ms.shift());
    if (((a = (n.ownerDocument || n).$$reactFormReplay), a != null))
      for (u = 0; u < a.length; u += 3) {
        var f = a[u],
          p = a[u + 1],
          E = f[he] || null;
        if (typeof p == "function") E || I_(a);
        else if (E) {
          var S = null;
          if (p && p.hasAttribute("formAction")) {
            if (((f = p), (E = p[he] || null))) S = E.formAction;
            else if (fp(f) !== null) continue;
          } else S = E.action;
          (typeof S == "function" ? (a[u + 1] = S) : (a.splice(u, 3), (u -= 3)),
            I_(a));
        }
      }
  }
  function pp(n) {
    this._internalRoot = n;
  }
  ((Jc.prototype.render = pp.prototype.render =
    function (n) {
      var i = this._internalRoot;
      if (i === null) throw Error(s(409));
      var a = i.current,
        u = Kn();
      T_(a, u, n, i, null, null);
    }),
    (Jc.prototype.unmount = pp.prototype.unmount =
      function () {
        var n = this._internalRoot;
        if (n !== null) {
          this._internalRoot = null;
          var i = n.containerInfo;
          (T_(n.current, 2, null, n, null, null), Mc(), (i[ye] = null));
        }
      }));
  function Jc(n) {
    this._internalRoot = n;
  }
  Jc.prototype.unstable_scheduleHydration = function (n) {
    if (n) {
      var i = P();
      n = { blockedOn: null, target: n, priority: i };
      for (var a = 0; a < ms.length && i !== 0 && i < ms[a].priority; a++);
      (ms.splice(a, 0, n), a === 0 && R_(n));
    }
  };
  var x_ = e.version;
  if (x_ !== "19.1.1") throw Error(s(527, x_, "19.1.1"));
  ce.findDOMNode = function (n) {
    var i = n._reactInternals;
    if (i === void 0)
      throw typeof n.render == "function"
        ? Error(s(188))
        : ((n = Object.keys(n).join(",")), Error(s(268, n)));
    return (
      (n = m(i)),
      (n = n !== null ? g(n) : null),
      (n = n === null ? null : n.stateNode),
      n
    );
  };
  var _A = {
    bundleType: 0,
    version: "19.1.1",
    rendererPackageName: "react-dom",
    currentDispatcherRef: G,
    reconcilerVersion: "19.1.1",
  };
  if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
    var Zc = __REACT_DEVTOOLS_GLOBAL_HOOK__;
    if (!Zc.isDisabled && Zc.supportsFiber)
      try {
        ((lt = Zc.inject(_A)), (Ge = Zc));
      } catch {}
  }
  return (
    (Xl.createRoot = function (n, i) {
      if (!o(n)) throw Error(s(299));
      var a = !1,
        u = "",
        f = Gy,
        p = $y,
        E = Ky,
        S = null;
      return (
        i != null &&
          (i.unstable_strictMode === !0 && (a = !0),
          i.identifierPrefix !== void 0 && (u = i.identifierPrefix),
          i.onUncaughtError !== void 0 && (f = i.onUncaughtError),
          i.onCaughtError !== void 0 && (p = i.onCaughtError),
          i.onRecoverableError !== void 0 && (E = i.onRecoverableError),
          i.unstable_transitionCallbacks !== void 0 &&
            (S = i.unstable_transitionCallbacks)),
        (i = __(n, 1, !1, null, null, a, u, f, p, E, S, null)),
        (n[ye] = i.current),
        Xd(n),
        new pp(i)
      );
    }),
    (Xl.hydrateRoot = function (n, i, a) {
      if (!o(n)) throw Error(s(299));
      var u = !1,
        f = "",
        p = Gy,
        E = $y,
        S = Ky,
        N = null,
        $ = null;
      return (
        a != null &&
          (a.unstable_strictMode === !0 && (u = !0),
          a.identifierPrefix !== void 0 && (f = a.identifierPrefix),
          a.onUncaughtError !== void 0 && (p = a.onUncaughtError),
          a.onCaughtError !== void 0 && (E = a.onCaughtError),
          a.onRecoverableError !== void 0 && (S = a.onRecoverableError),
          a.unstable_transitionCallbacks !== void 0 &&
            (N = a.unstable_transitionCallbacks),
          a.formState !== void 0 && ($ = a.formState)),
        (i = __(n, 1, !0, i, a ?? null, u, f, p, E, S, N, $)),
        (i.context = E_(null)),
        (a = i.current),
        (u = Kn()),
        (u = Ur(u)),
        (f = Ji(u)),
        (f.callback = null),
        Zi(a, f, u),
        (a = u),
        (i.current.lanes = a),
        _r(i, a),
        Qr(i),
        (n[ye] = i.current),
        Xd(n),
        new Jc(i)
      );
    }),
    (Xl.version = "19.1.1"),
    Xl
  );
}
var j_;
function xA() {
  if (j_) return yp.exports;
  j_ = 1;
  function r() {
    if (
      !(
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" ||
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"
      )
    )
      try {
        __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r);
      } catch (e) {
        console.error(e);
      }
  }
  return (r(), (yp.exports = IA()), yp.exports);
}
var NA = xA();
const DA = Z0(NA);
/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */ var tT = (r) => {
    throw TypeError(r);
  },
  OA = (r, e, t) => e.has(r) || tT("Cannot " + t),
  Tp = (r, e, t) => (
    OA(r, e, "read from private field"),
    t ? t.call(r) : e.get(r)
  ),
  MA = (r, e, t) =>
    e.has(r)
      ? tT("Cannot add the same private member more than once")
      : e instanceof WeakSet
        ? e.add(r)
        : e.set(r, t),
  z_ = "popstate";
function PA(r = {}) {
  function e(s, o) {
    let { pathname: l, search: c, hash: d } = s.location;
    return pu(
      "",
      { pathname: l, search: c, hash: d },
      (o.state && o.state.usr) || null,
      (o.state && o.state.key) || "default",
    );
  }
  function t(s, o) {
    return typeof o == "string" ? o : Ds(o);
  }
  return VA(e, t, null, r);
}
function Qe(r, e) {
  if (r === !1 || r === null || typeof r > "u") throw new Error(e);
}
function Vt(r, e) {
  if (!r) {
    typeof console < "u" && console.warn(e);
    try {
      throw new Error(e);
    } catch {}
  }
}
function LA() {
  return Math.random().toString(36).substring(2, 10);
}
function B_(r, e) {
  return { usr: r.state, key: r.key, idx: e };
}
function pu(r, e, t = null, s) {
  return {
    pathname: typeof r == "string" ? r : r.pathname,
    search: "",
    hash: "",
    ...(typeof e == "string" ? ks(e) : e),
    state: t,
    key: (e && e.key) || s || LA(),
  };
}
function Ds({ pathname: r = "/", search: e = "", hash: t = "" }) {
  return (
    e && e !== "?" && (r += e.charAt(0) === "?" ? e : "?" + e),
    t && t !== "#" && (r += t.charAt(0) === "#" ? t : "#" + t),
    r
  );
}
function ks(r) {
  let e = {};
  if (r) {
    let t = r.indexOf("#");
    t >= 0 && ((e.hash = r.substring(t)), (r = r.substring(0, t)));
    let s = r.indexOf("?");
    (s >= 0 && ((e.search = r.substring(s)), (r = r.substring(0, s))),
      r && (e.pathname = r));
  }
  return e;
}
function VA(r, e, t, s = {}) {
  let { window: o = document.defaultView, v5Compat: l = !1 } = s,
    c = o.history,
    d = "POP",
    m = null,
    g = v();
  g == null && ((g = 0), c.replaceState({ ...c.state, idx: g }, ""));
  function v() {
    return (c.state || { idx: null }).idx;
  }
  function T() {
    d = "POP";
    let B = v(),
      Q = B == null ? null : B - g;
    ((g = B), m && m({ action: d, location: J.location, delta: Q }));
  }
  function b(B, Q) {
    d = "PUSH";
    let Z = pu(J.location, B, Q);
    g = v() + 1;
    let ie = B_(Z, g),
      pe = J.createHref(Z);
    try {
      c.pushState(ie, "", pe);
    } catch (le) {
      if (le instanceof DOMException && le.name === "DataCloneError") throw le;
      o.location.assign(pe);
    }
    l && m && m({ action: d, location: J.location, delta: 1 });
  }
  function A(B, Q) {
    d = "REPLACE";
    let Z = pu(J.location, B, Q);
    g = v();
    let ie = B_(Z, g),
      pe = J.createHref(Z);
    (c.replaceState(ie, "", pe),
      l && m && m({ action: d, location: J.location, delta: 0 }));
  }
  function D(B) {
    return nT(B);
  }
  let J = {
    get action() {
      return d;
    },
    get location() {
      return r(o, c);
    },
    listen(B) {
      if (m) throw new Error("A history only accepts one active listener");
      return (
        o.addEventListener(z_, T),
        (m = B),
        () => {
          (o.removeEventListener(z_, T), (m = null));
        }
      );
    },
    createHref(B) {
      return e(o, B);
    },
    createURL: D,
    encodeLocation(B) {
      let Q = D(B);
      return { pathname: Q.pathname, search: Q.search, hash: Q.hash };
    },
    push: b,
    replace: A,
    go(B) {
      return c.go(B);
    },
  };
  return J;
}
function nT(r, e = !1) {
  let t = "http://localhost";
  (typeof window < "u" &&
    (t =
      window.location.origin !== "null"
        ? window.location.origin
        : window.location.href),
    Qe(t, "No window.location.(origin|href) available to create URL"));
  let s = typeof r == "string" ? r : Ds(r);
  return (
    (s = s.replace(/ $/, "%20")),
    !e && s.startsWith("//") && (s = t + s),
    new URL(s, t)
  );
}
var tu,
  H_ = class {
    constructor(r) {
      if ((MA(this, tu, new Map()), r)) for (let [e, t] of r) this.set(e, t);
    }
    get(r) {
      if (Tp(this, tu).has(r)) return Tp(this, tu).get(r);
      if (r.defaultValue !== void 0) return r.defaultValue;
      throw new Error("No value found for context");
    }
    set(r, e) {
      Tp(this, tu).set(r, e);
    }
  };
tu = new WeakMap();
var UA = new Set(["lazy", "caseSensitive", "path", "id", "index", "children"]);
function kA(r) {
  return UA.has(r);
}
var jA = new Set([
  "lazy",
  "caseSensitive",
  "path",
  "id",
  "index",
  "unstable_middleware",
  "children",
]);
function zA(r) {
  return jA.has(r);
}
function BA(r) {
  return r.index === !0;
}
function mu(r, e, t = [], s = {}, o = !1) {
  return r.map((l, c) => {
    let d = [...t, String(c)],
      m = typeof l.id == "string" ? l.id : d.join("-");
    if (
      (Qe(
        l.index !== !0 || !l.children,
        "Cannot specify children on an index route",
      ),
      Qe(
        o || !s[m],
        `Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`,
      ),
      BA(l))
    ) {
      let g = { ...l, ...e(l), id: m };
      return ((s[m] = g), g);
    } else {
      let g = { ...l, ...e(l), id: m, children: void 0 };
      return (
        (s[m] = g),
        l.children && (g.children = mu(l.children, e, d, s, o)),
        g
      );
    }
  });
}
function _s(r, e, t = "/") {
  return dh(r, e, t, !1);
}
function dh(r, e, t, s) {
  let o = typeof e == "string" ? ks(e) : e,
    l = yr(o.pathname || "/", t);
  if (l == null) return null;
  let c = rT(r);
  FA(c);
  let d = null;
  for (let m = 0; d == null && m < c.length; ++m) {
    let g = e1(l);
    d = JA(c[m], g, s);
  }
  return d;
}
function HA(r, e) {
  let { route: t, pathname: s, params: o } = r;
  return {
    id: t.id,
    pathname: s,
    params: o,
    data: e[t.id],
    loaderData: e[t.id],
    handle: t.handle,
  };
}
function rT(r, e = [], t = [], s = "", o = !1) {
  let l = (c, d, m = o, g) => {
    let v = {
      relativePath: g === void 0 ? c.path || "" : g,
      caseSensitive: c.caseSensitive === !0,
      childrenIndex: d,
      route: c,
    };
    if (v.relativePath.startsWith("/")) {
      if (!v.relativePath.startsWith(s) && m) return;
      (Qe(
        v.relativePath.startsWith(s),
        `Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`,
      ),
        (v.relativePath = v.relativePath.slice(s.length)));
    }
    let T = Zr([s, v.relativePath]),
      b = t.concat(v);
    (c.children &&
      c.children.length > 0 &&
      (Qe(
        c.index !== !0,
        `Index routes must not have child routes. Please remove all child routes from route path "${T}".`,
      ),
      rT(c.children, e, b, T, m)),
      !(c.path == null && !c.index) &&
        e.push({ path: T, score: XA(T, c.index), routesMeta: b }));
  };
  return (
    r.forEach((c, d) => {
      if (c.path === "" || !c.path?.includes("?")) l(c, d);
      else for (let m of iT(c.path)) l(c, d, !0, m);
    }),
    e
  );
}
function iT(r) {
  let e = r.split("/");
  if (e.length === 0) return [];
  let [t, ...s] = e,
    o = t.endsWith("?"),
    l = t.replace(/\?$/, "");
  if (s.length === 0) return o ? [l, ""] : [l];
  let c = iT(s.join("/")),
    d = [];
  return (
    d.push(...c.map((m) => (m === "" ? l : [l, m].join("/")))),
    o && d.push(...c),
    d.map((m) => (r.startsWith("/") && m === "" ? "/" : m))
  );
}
function FA(r) {
  r.sort((e, t) =>
    e.score !== t.score
      ? t.score - e.score
      : WA(
          e.routesMeta.map((s) => s.childrenIndex),
          t.routesMeta.map((s) => s.childrenIndex),
        ),
  );
}
var qA = /^:[\w-]+$/,
  GA = 3,
  $A = 2,
  KA = 1,
  YA = 10,
  QA = -2,
  F_ = (r) => r === "*";
function XA(r, e) {
  let t = r.split("/"),
    s = t.length;
  return (
    t.some(F_) && (s += QA),
    e && (s += $A),
    t
      .filter((o) => !F_(o))
      .reduce((o, l) => o + (qA.test(l) ? GA : l === "" ? KA : YA), s)
  );
}
function WA(r, e) {
  return r.length === e.length && r.slice(0, -1).every((s, o) => s === e[o])
    ? r[r.length - 1] - e[e.length - 1]
    : 0;
}
function JA(r, e, t = !1) {
  let { routesMeta: s } = r,
    o = {},
    l = "/",
    c = [];
  for (let d = 0; d < s.length; ++d) {
    let m = s[d],
      g = d === s.length - 1,
      v = l === "/" ? e : e.slice(l.length) || "/",
      T = Rh(
        { path: m.relativePath, caseSensitive: m.caseSensitive, end: g },
        v,
      ),
      b = m.route;
    if (
      (!T &&
        g &&
        t &&
        !s[s.length - 1].route.index &&
        (T = Rh(
          { path: m.relativePath, caseSensitive: m.caseSensitive, end: !1 },
          v,
        )),
      !T)
    )
      return null;
    (Object.assign(o, T.params),
      c.push({
        params: o,
        pathname: Zr([l, T.pathname]),
        pathnameBase: i1(Zr([l, T.pathnameBase])),
        route: b,
      }),
      T.pathnameBase !== "/" && (l = Zr([l, T.pathnameBase])));
  }
  return c;
}
function Rh(r, e) {
  typeof r == "string" && (r = { path: r, caseSensitive: !1, end: !0 });
  let [t, s] = ZA(r.path, r.caseSensitive, r.end),
    o = e.match(t);
  if (!o) return null;
  let l = o[0],
    c = l.replace(/(.)\/+$/, "$1"),
    d = o.slice(1);
  return {
    params: s.reduce((g, { paramName: v, isOptional: T }, b) => {
      if (v === "*") {
        let D = d[b] || "";
        c = l.slice(0, l.length - D.length).replace(/(.)\/+$/, "$1");
      }
      const A = d[b];
      return (
        T && !A ? (g[v] = void 0) : (g[v] = (A || "").replace(/%2F/g, "/")),
        g
      );
    }, {}),
    pathname: l,
    pathnameBase: c,
    pattern: r,
  };
}
function ZA(r, e = !1, t = !0) {
  Vt(
    r === "*" || !r.endsWith("*") || r.endsWith("/*"),
    `Route path "${r}" will be treated as if it were "${r.replace(/\*$/, "/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/, "/*")}".`,
  );
  let s = [],
    o =
      "^" +
      r
        .replace(/\/*\*?$/, "")
        .replace(/^\/*/, "/")
        .replace(/[\\.*+^${}|()[\]]/g, "\\$&")
        .replace(
          /\/:([\w-]+)(\?)?/g,
          (c, d, m) => (
            s.push({ paramName: d, isOptional: m != null }),
            m ? "/?([^\\/]+)?" : "/([^\\/]+)"
          ),
        )
        .replace(/\/([\w-]+)\?(\/|$)/g, "(/$1)?$2");
  return (
    r.endsWith("*")
      ? (s.push({ paramName: "*" }),
        (o += r === "*" || r === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$"))
      : t
        ? (o += "\\/*$")
        : r !== "" && r !== "/" && (o += "(?:(?=\\/|$))"),
    [new RegExp(o, e ? void 0 : "i"), s]
  );
}
function e1(r) {
  try {
    return r
      .split("/")
      .map((e) => decodeURIComponent(e).replace(/\//g, "%2F"))
      .join("/");
  } catch (e) {
    return (
      Vt(
        !1,
        `The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`,
      ),
      r
    );
  }
}
function yr(r, e) {
  if (e === "/") return r;
  if (!r.toLowerCase().startsWith(e.toLowerCase())) return null;
  let t = e.endsWith("/") ? e.length - 1 : e.length,
    s = r.charAt(t);
  return s && s !== "/" ? null : r.slice(t) || "/";
}
function t1({ basename: r, pathname: e }) {
  return e === "/" ? r : Zr([r, e]);
}
function n1(r, e = "/") {
  let {
    pathname: t,
    search: s = "",
    hash: o = "",
  } = typeof r == "string" ? ks(r) : r;
  return {
    pathname: t ? (t.startsWith("/") ? t : r1(t, e)) : e,
    search: s1(s),
    hash: a1(o),
  };
}
function r1(r, e) {
  let t = e.replace(/\/+$/, "").split("/");
  return (
    r.split("/").forEach((o) => {
      o === ".." ? t.length > 1 && t.pop() : o !== "." && t.push(o);
    }),
    t.length > 1 ? t.join("/") : "/"
  );
}
function Sp(r, e, t, s) {
  return `Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`;
}
function sT(r) {
  return r.filter(
    (e, t) => t === 0 || (e.route.path && e.route.path.length > 0),
  );
}
function Qh(r) {
  let e = sT(r);
  return e.map((t, s) => (s === e.length - 1 ? t.pathname : t.pathnameBase));
}
function Xh(r, e, t, s = !1) {
  let o;
  typeof r == "string"
    ? (o = ks(r))
    : ((o = { ...r }),
      Qe(
        !o.pathname || !o.pathname.includes("?"),
        Sp("?", "pathname", "search", o),
      ),
      Qe(
        !o.pathname || !o.pathname.includes("#"),
        Sp("#", "pathname", "hash", o),
      ),
      Qe(!o.search || !o.search.includes("#"), Sp("#", "search", "hash", o)));
  let l = r === "" || o.pathname === "",
    c = l ? "/" : o.pathname,
    d;
  if (c == null) d = t;
  else {
    let T = e.length - 1;
    if (!s && c.startsWith("..")) {
      let b = c.split("/");
      for (; b[0] === ".."; ) (b.shift(), (T -= 1));
      o.pathname = b.join("/");
    }
    d = T >= 0 ? e[T] : "/";
  }
  let m = n1(o, d),
    g = c && c !== "/" && c.endsWith("/"),
    v = (l || c === ".") && t.endsWith("/");
  return (!m.pathname.endsWith("/") && (g || v) && (m.pathname += "/"), m);
}
var Zr = (r) => r.join("/").replace(/\/\/+/g, "/"),
  i1 = (r) => r.replace(/\/+$/, "").replace(/^\/*/, "/"),
  s1 = (r) => (!r || r === "?" ? "" : r.startsWith("?") ? r : "?" + r),
  a1 = (r) => (!r || r === "#" ? "" : r.startsWith("#") ? r : "#" + r),
  Ch = class {
    constructor(r, e, t, s = !1) {
      ((this.status = r),
        (this.statusText = e || ""),
        (this.internal = s),
        t instanceof Error
          ? ((this.data = t.toString()), (this.error = t))
          : (this.data = t));
    }
  };
function gu(r) {
  return (
    r != null &&
    typeof r.status == "number" &&
    typeof r.statusText == "string" &&
    typeof r.internal == "boolean" &&
    "data" in r
  );
}
var aT = ["POST", "PUT", "PATCH", "DELETE"],
  o1 = new Set(aT),
  l1 = ["GET", ...aT],
  u1 = new Set(l1),
  c1 = new Set([301, 302, 303, 307, 308]),
  h1 = new Set([307, 308]),
  bp = {
    state: "idle",
    location: void 0,
    formMethod: void 0,
    formAction: void 0,
    formEncType: void 0,
    formData: void 0,
    json: void 0,
    text: void 0,
  },
  f1 = {
    state: "idle",
    data: void 0,
    formMethod: void 0,
    formAction: void 0,
    formEncType: void 0,
    formData: void 0,
    json: void 0,
    text: void 0,
  },
  Wl = { state: "unblocked", proceed: void 0, reset: void 0, location: void 0 },
  d1 = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,
  Cm = (r) => d1.test(r),
  p1 = (r) => ({ hasErrorBoundary: !!r.hasErrorBoundary }),
  oT = "remix-router-transitions",
  lT = Symbol("ResetLoaderData");
function m1(r) {
  const e = r.window ? r.window : typeof window < "u" ? window : void 0,
    t =
      typeof e < "u" &&
      typeof e.document < "u" &&
      typeof e.document.createElement < "u";
  Qe(
    r.routes.length > 0,
    "You must provide a non-empty routes array to createRouter",
  );
  let s = r.hydrationRouteProperties || [],
    o = r.mapRouteProperties || p1,
    l = {},
    c = mu(r.routes, o, void 0, l),
    d,
    m = r.basename || "/";
  m.startsWith("/") || (m = `/${m}`);
  let g = r.dataStrategy || E1,
    v = { ...r.future },
    T = null,
    b = new Set(),
    A = null,
    D = null,
    J = null,
    B = r.hydrationData != null,
    Q = _s(c, r.history.location, m),
    Z = !1,
    ie = null,
    pe;
  if (Q == null && !r.patchRoutesOnNavigation) {
    let P = pr(404, { pathname: r.history.location.pathname }),
      { matches: H, route: K } = eh(c);
    ((pe = !0), (Q = H), (ie = { [K.id]: P }));
  } else if (
    (Q &&
      !r.hydrationData &&
      An(Q, c, r.history.location.pathname).active &&
      (Q = null),
    Q)
  )
    if (Q.some((P) => P.route.lazy)) pe = !1;
    else if (!Q.some((P) => P.route.loader)) pe = !0;
    else {
      let P = r.hydrationData ? r.hydrationData.loaderData : null,
        H = r.hydrationData ? r.hydrationData.errors : null;
      if (H) {
        let K = Q.findIndex((ae) => H[ae.route.id] !== void 0);
        pe = Q.slice(0, K + 1).every((ae) => !Fp(ae.route, P, H));
      } else pe = Q.every((K) => !Fp(K.route, P, H));
    }
  else {
    ((pe = !1), (Q = []));
    let P = An(null, c, r.history.location.pathname);
    P.active && P.matches && ((Z = !0), (Q = P.matches));
  }
  let le,
    k = {
      historyAction: r.history.action,
      location: r.history.location,
      matches: Q,
      initialized: pe,
      navigation: bp,
      restoreScrollPosition: r.hydrationData != null ? !1 : null,
      preventScrollReset: !1,
      revalidation: "idle",
      loaderData: (r.hydrationData && r.hydrationData.loaderData) || {},
      actionData: (r.hydrationData && r.hydrationData.actionData) || null,
      errors: (r.hydrationData && r.hydrationData.errors) || ie,
      fetchers: new Map(),
      blockers: new Map(),
    },
    x = "POP",
    R = !1,
    C,
    M = !1,
    V = new Map(),
    j = null,
    I = !1,
    Ie = !1,
    Ke = new Set(),
    G = new Map(),
    ce = 0,
    ge = -1,
    Ve = new Map(),
    O = new Set(),
    te = new Map(),
    fe = new Map(),
    ue = new Set(),
    Ee = new Map(),
    He,
    Ne = null;
  function kt() {
    if (
      ((T = r.history.listen(({ action: P, location: H, delta: K }) => {
        if (He) {
          (He(), (He = void 0));
          return;
        }
        Vt(
          Ee.size === 0 || K != null,
          "You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.",
        );
        let ae = Hi({
          currentLocation: k.location,
          nextLocation: H,
          historyAction: P,
        });
        if (ae && K != null) {
          let he = new Promise((ye) => {
            He = ye;
          });
          (r.history.go(K * -1),
            er(ae, {
              state: "blocked",
              location: H,
              proceed() {
                (er(ae, {
                  state: "proceeding",
                  proceed: void 0,
                  reset: void 0,
                  location: H,
                }),
                  he.then(() => r.history.go(K)));
              },
              reset() {
                let ye = new Map(k.blockers);
                (ye.set(ae, Wl), wt({ blockers: ye }));
              },
            }));
          return;
        }
        return bn(P, H);
      })),
      t)
    ) {
      L1(e, V);
      let P = () => V1(e, V);
      (e.addEventListener("pagehide", P),
        (j = () => e.removeEventListener("pagehide", P)));
    }
    return (
      k.initialized || bn("POP", k.location, { initialHydration: !0 }),
      le
    );
  }
  function gt() {
    (T && T(),
      j && j(),
      b.clear(),
      C && C.abort(),
      k.fetchers.forEach((P, H) => jt(H)),
      k.blockers.forEach((P, H) => li(H)));
  }
  function Wn(P) {
    return (b.add(P), () => b.delete(P));
  }
  function wt(P, H = {}) {
    (P.matches &&
      (P.matches = P.matches.map((he) => {
        let ye = l[he.route.id],
          Re = he.route;
        return Re.element !== ye.element ||
          Re.errorElement !== ye.errorElement ||
          Re.hydrateFallbackElement !== ye.hydrateFallbackElement
          ? { ...he, route: ye }
          : he;
      })),
      (k = { ...k, ...P }));
    let K = [],
      ae = [];
    (k.fetchers.forEach((he, ye) => {
      he.state === "idle" && (ue.has(ye) ? K.push(ye) : ae.push(ye));
    }),
      ue.forEach((he) => {
        !k.fetchers.has(he) && !G.has(he) && K.push(he);
      }),
      [...b].forEach((he) =>
        he(k, {
          deletedFetchers: K,
          viewTransitionOpts: H.viewTransitionOpts,
          flushSync: H.flushSync === !0,
        }),
      ),
      K.forEach((he) => jt(he)),
      ae.forEach((he) => k.fetchers.delete(he)));
  }
  function dn(P, H, { flushSync: K } = {}) {
    let ae =
        k.actionData != null &&
        k.navigation.formMethod != null &&
        Un(k.navigation.formMethod) &&
        k.navigation.state === "loading" &&
        P.state?._isRedirect !== !0,
      he;
    H.actionData
      ? Object.keys(H.actionData).length > 0
        ? (he = H.actionData)
        : (he = null)
      : ae
        ? (he = k.actionData)
        : (he = null);
    let ye = H.loaderData
        ? Z_(k.loaderData, H.loaderData, H.matches || [], H.errors)
        : k.loaderData,
      Re = k.blockers;
    Re.size > 0 && ((Re = new Map(Re)), Re.forEach((Ae, _e) => Re.set(_e, Wl)));
    let be = I ? !1 : Fi(P, H.matches || k.matches),
      we =
        R === !0 ||
        (k.navigation.formMethod != null &&
          Un(k.navigation.formMethod) &&
          P.state?._isRedirect !== !0);
    (d && ((c = d), (d = void 0)),
      I ||
        x === "POP" ||
        (x === "PUSH"
          ? r.history.push(P, P.state)
          : x === "REPLACE" && r.history.replace(P, P.state)));
    let xe;
    if (x === "POP") {
      let Ae = V.get(k.location.pathname);
      Ae && Ae.has(P.pathname)
        ? (xe = { currentLocation: k.location, nextLocation: P })
        : V.has(P.pathname) &&
          (xe = { currentLocation: P, nextLocation: k.location });
    } else if (M) {
      let Ae = V.get(k.location.pathname);
      (Ae
        ? Ae.add(P.pathname)
        : ((Ae = new Set([P.pathname])), V.set(k.location.pathname, Ae)),
        (xe = { currentLocation: k.location, nextLocation: P }));
    }
    (wt(
      {
        ...H,
        actionData: he,
        loaderData: ye,
        historyAction: x,
        location: P,
        initialized: !0,
        navigation: bp,
        revalidation: "idle",
        restoreScrollPosition: be,
        preventScrollReset: we,
        blockers: Re,
      },
      { viewTransitionOpts: xe, flushSync: K === !0 },
    ),
      (x = "POP"),
      (R = !1),
      (M = !1),
      (I = !1),
      (Ie = !1),
      Ne?.resolve(),
      (Ne = null));
  }
  async function Or(P, H) {
    if (typeof P == "number") {
      r.history.go(P);
      return;
    }
    let K = Hp(k.location, k.matches, m, P, H?.fromRouteId, H?.relative),
      { path: ae, submission: he, error: ye } = q_(!1, K, H),
      Re = k.location,
      be = pu(k.location, ae, H && H.state);
    be = { ...be, ...r.history.encodeLocation(be) };
    let we = H && H.replace != null ? H.replace : void 0,
      xe = "PUSH";
    we === !0
      ? (xe = "REPLACE")
      : we === !1 ||
        (he != null &&
          Un(he.formMethod) &&
          he.formAction === k.location.pathname + k.location.search &&
          (xe = "REPLACE"));
    let Ae =
        H && "preventScrollReset" in H ? H.preventScrollReset === !0 : void 0,
      _e = (H && H.flushSync) === !0,
      Fe = Hi({ currentLocation: Re, nextLocation: be, historyAction: xe });
    if (Fe) {
      er(Fe, {
        state: "blocked",
        location: be,
        proceed() {
          (er(Fe, {
            state: "proceeding",
            proceed: void 0,
            reset: void 0,
            location: be,
          }),
            Or(P, H));
        },
        reset() {
          let Ze = new Map(k.blockers);
          (Ze.set(Fe, Wl), wt({ blockers: Ze }));
        },
      });
      return;
    }
    await bn(xe, be, {
      submission: he,
      pendingError: ye,
      preventScrollReset: Ae,
      replace: H && H.replace,
      enableViewTransition: H && H.viewTransition,
      flushSync: _e,
    });
  }
  function ai() {
    (Ne || (Ne = U1()), Bi(), wt({ revalidation: "loading" }));
    let P = Ne.promise;
    return k.navigation.state === "submitting"
      ? P
      : k.navigation.state === "idle"
        ? (bn(k.historyAction, k.location, {
            startUninterruptedRevalidation: !0,
          }),
          P)
        : (bn(x || k.historyAction, k.navigation.location, {
            overrideNavigation: k.navigation,
            enableViewTransition: M === !0,
          }),
          P);
  }
  async function bn(P, H, K) {
    (C && C.abort(),
      (C = null),
      (x = P),
      (I = (K && K.startUninterruptedRevalidation) === !0),
      _r(k.location, k.matches),
      (R = (K && K.preventScrollReset) === !0),
      (M = (K && K.enableViewTransition) === !0));
    let ae = d || c,
      he = K && K.overrideNavigation,
      ye =
        K?.initialHydration && k.matches && k.matches.length > 0 && !Z
          ? k.matches
          : _s(ae, H, m),
      Re = (K && K.flushSync) === !0;
    if (
      ye &&
      k.initialized &&
      !Ie &&
      I1(k.location, H) &&
      !(K && K.submission && Un(K.submission.formMethod))
    ) {
      dn(H, { matches: ye }, { flushSync: Re });
      return;
    }
    let be = An(ye, ae, H.pathname);
    if ((be.active && be.matches && (ye = be.matches), !ye)) {
      let { error: ut, notFoundMatches: je, route: ct } = ui(H.pathname);
      dn(
        H,
        { matches: je, loaderData: {}, errors: { [ct.id]: ut } },
        { flushSync: Re },
      );
      return;
    }
    C = new AbortController();
    let we = vo(r.history, H, C.signal, K && K.submission),
      xe = r.unstable_getContext ? await r.unstable_getContext() : new H_(),
      Ae;
    if (K && K.pendingError)
      Ae = [Es(ye).route.id, { type: "error", error: K.pendingError }];
    else if (K && K.submission && Un(K.submission.formMethod)) {
      let ut = await Bs(
        we,
        H,
        K.submission,
        ye,
        xe,
        be.active,
        K && K.initialHydration === !0,
        { replace: K.replace, flushSync: Re },
      );
      if (ut.shortCircuited) return;
      if (ut.pendingActionResult) {
        let [je, ct] = ut.pendingActionResult;
        if (Qn(ct) && gu(ct.error) && ct.error.status === 404) {
          ((C = null),
            dn(H, {
              matches: ut.matches,
              loaderData: {},
              errors: { [je]: ct.error },
            }));
          return;
        }
      }
      ((ye = ut.matches || ye),
        (Ae = ut.pendingActionResult),
        (he = wp(H, K.submission)),
        (Re = !1),
        (be.active = !1),
        (we = vo(r.history, we.url, we.signal)));
    }
    let {
      shortCircuited: _e,
      matches: Fe,
      loaderData: Ze,
      errors: dt,
    } = await Na(
      we,
      H,
      ye,
      xe,
      be.active,
      he,
      K && K.submission,
      K && K.fetcherSubmission,
      K && K.replace,
      K && K.initialHydration === !0,
      Re,
      Ae,
    );
    _e ||
      ((C = null),
      dn(H, { matches: Fe || ye, ...eE(Ae), loaderData: Ze, errors: dt }));
  }
  async function Bs(P, H, K, ae, he, ye, Re, be = {}) {
    Bi();
    let we = M1(H, K);
    if ((wt({ navigation: we }, { flushSync: be.flushSync === !0 }), ye)) {
      let _e = await Vr(ae, H.pathname, P.signal);
      if (_e.type === "aborted") return { shortCircuited: !0 };
      if (_e.type === "error") {
        if (_e.partialMatches.length === 0) {
          let { matches: Ze, route: dt } = eh(c);
          return {
            matches: Ze,
            pendingActionResult: [dt.id, { type: "error", error: _e.error }],
          };
        }
        let Fe = Es(_e.partialMatches).route.id;
        return {
          matches: _e.partialMatches,
          pendingActionResult: [Fe, { type: "error", error: _e.error }],
        };
      } else if (_e.matches) ae = _e.matches;
      else {
        let { notFoundMatches: Fe, error: Ze, route: dt } = ui(H.pathname);
        return {
          matches: Fe,
          pendingActionResult: [dt.id, { type: "error", error: Ze }],
        };
      }
    }
    let xe,
      Ae = ph(ae, H);
    if (!Ae.route.action && !Ae.route.lazy)
      xe = {
        type: "error",
        error: pr(405, {
          method: P.method,
          pathname: H.pathname,
          routeId: Ae.route.id,
        }),
      };
    else {
      let _e = wo(o, l, P, ae, Ae, Re ? [] : s, he),
        Fe = await Jn(P, _e, he, null);
      if (((xe = Fe[Ae.route.id]), !xe)) {
        for (let Ze of ae)
          if (Fe[Ze.route.id]) {
            xe = Fe[Ze.route.id];
            break;
          }
      }
      if (P.signal.aborted) return { shortCircuited: !0 };
    }
    if (ya(xe)) {
      let _e;
      return (
        be && be.replace != null
          ? (_e = be.replace)
          : (_e =
              X_(xe.response.headers.get("Location"), new URL(P.url), m) ===
              k.location.pathname + k.location.search),
        await vr(P, xe, !0, { submission: K, replace: _e }),
        { shortCircuited: !0 }
      );
    }
    if (Qn(xe)) {
      let _e = Es(ae, Ae.route.id);
      return (
        (be && be.replace) !== !0 && (x = "PUSH"),
        { matches: ae, pendingActionResult: [_e.route.id, xe, Ae.route.id] }
      );
    }
    return { matches: ae, pendingActionResult: [Ae.route.id, xe] };
  }
  async function Na(P, H, K, ae, he, ye, Re, be, we, xe, Ae, _e) {
    let Fe = ye || wp(H, Re),
      Ze = Re || be || nE(Fe),
      dt = !I && !xe;
    if (he) {
      if (dt) {
        let At = wn(_e);
        wt(
          { navigation: Fe, ...(At !== void 0 ? { actionData: At } : {}) },
          { flushSync: Ae },
        );
      }
      let Me = await Vr(K, H.pathname, P.signal);
      if (Me.type === "aborted") return { shortCircuited: !0 };
      if (Me.type === "error") {
        if (Me.partialMatches.length === 0) {
          let { matches: Er, route: an } = eh(c);
          return { matches: Er, loaderData: {}, errors: { [an.id]: Me.error } };
        }
        let At = Es(Me.partialMatches).route.id;
        return {
          matches: Me.partialMatches,
          loaderData: {},
          errors: { [At]: Me.error },
        };
      } else if (Me.matches) K = Me.matches;
      else {
        let { error: At, notFoundMatches: Er, route: an } = ui(H.pathname);
        return { matches: Er, loaderData: {}, errors: { [an.id]: At } };
      }
    }
    let ut = d || c,
      { dsMatches: je, revalidatingFetchers: ct } = G_(
        P,
        ae,
        o,
        l,
        r.history,
        k,
        K,
        Ze,
        H,
        xe ? [] : s,
        xe === !0,
        Ie,
        Ke,
        ue,
        te,
        O,
        ut,
        m,
        r.patchRoutesOnNavigation != null,
        _e,
      );
    if (
      ((ge = ++ce),
      !r.dataStrategy &&
        !je.some((Me) => Me.shouldLoad) &&
        !je.some((Me) => Me.route.unstable_middleware) &&
        ct.length === 0)
    ) {
      let Me = Pr();
      return (
        dn(
          H,
          {
            matches: K,
            loaderData: {},
            errors: _e && Qn(_e[1]) ? { [_e[0]]: _e[1].error } : null,
            ...eE(_e),
            ...(Me ? { fetchers: new Map(k.fetchers) } : {}),
          },
          { flushSync: Ae },
        ),
        { shortCircuited: !0 }
      );
    }
    if (dt) {
      let Me = {};
      if (!he) {
        Me.navigation = Fe;
        let At = wn(_e);
        At !== void 0 && (Me.actionData = At);
      }
      (ct.length > 0 && (Me.fetchers = Wo(ct)), wt(Me, { flushSync: Ae }));
    }
    ct.forEach((Me) => {
      (Zn(Me.key), Me.controller && G.set(Me.key, Me.controller));
    });
    let On = () => ct.forEach((Me) => Zn(Me.key));
    C && C.signal.addEventListener("abort", On);
    let { loaderResults: sn, fetcherResults: Wt } = await zi(je, ct, P, ae);
    if (P.signal.aborted) return { shortCircuited: !0 };
    (C && C.signal.removeEventListener("abort", On),
      ct.forEach((Me) => G.delete(Me.key)));
    let Rn = th(sn);
    if (Rn)
      return (
        await vr(P, Rn.result, !0, { replace: we }),
        { shortCircuited: !0 }
      );
    if (((Rn = th(Wt)), Rn))
      return (
        O.add(Rn.key),
        await vr(P, Rn.result, !0, { replace: we }),
        { shortCircuited: !0 }
      );
    let { loaderData: Gi, errors: jn } = J_(k, K, sn, _e, ct, Wt);
    xe && k.errors && (jn = { ...k.errors, ...jn });
    let nr = Pr(),
      zn = Lr(ge),
      Cn = nr || zn || ct.length > 0;
    return {
      matches: K,
      loaderData: Gi,
      errors: jn,
      ...(Cn ? { fetchers: new Map(k.fetchers) } : {}),
    };
  }
  function wn(P) {
    if (P && !Qn(P[1])) return { [P[0]]: P[1].data };
    if (k.actionData)
      return Object.keys(k.actionData).length === 0 ? null : k.actionData;
  }
  function Wo(P) {
    return (
      P.forEach((H) => {
        let K = k.fetchers.get(H.key),
          ae = Jl(void 0, K ? K.data : void 0);
        k.fetchers.set(H.key, ae);
      }),
      new Map(k.fetchers)
    );
  }
  async function Hs(P, H, K, ae) {
    Zn(P);
    let he = (ae && ae.flushSync) === !0,
      ye = d || c,
      Re = Hp(k.location, k.matches, m, K, H, ae?.relative),
      be = _s(ye, Re, m),
      we = An(be, ye, Re);
    if ((we.active && we.matches && (be = we.matches), !be)) {
      Ge(P, H, pr(404, { pathname: Re }), { flushSync: he });
      return;
    }
    let { path: xe, submission: Ae, error: _e } = q_(!0, Re, ae);
    if (_e) {
      Ge(P, H, _e, { flushSync: he });
      return;
    }
    let Fe = r.unstable_getContext ? await r.unstable_getContext() : new H_(),
      Ze = (ae && ae.preventScrollReset) === !0;
    if (Ae && Un(Ae.formMethod)) {
      await ji(P, H, xe, be, Fe, we.active, he, Ze, Ae);
      return;
    }
    (te.set(P, { routeId: H, path: xe }),
      await oi(P, H, xe, be, Fe, we.active, he, Ze, Ae));
  }
  async function ji(P, H, K, ae, he, ye, Re, be, we) {
    (Bi(), te.delete(P));
    let xe = k.fetchers.get(P);
    lt(P, P1(we, xe), { flushSync: Re });
    let Ae = new AbortController(),
      _e = vo(r.history, K, Ae.signal, we);
    if (ye) {
      let St = await Vr(ae, new URL(_e.url).pathname, _e.signal, P);
      if (St.type === "aborted") return;
      if (St.type === "error") {
        Ge(P, H, St.error, { flushSync: Re });
        return;
      } else if (St.matches) ae = St.matches;
      else {
        Ge(P, H, pr(404, { pathname: K }), { flushSync: Re });
        return;
      }
    }
    let Fe = ph(ae, K);
    if (!Fe.route.action && !Fe.route.lazy) {
      let St = pr(405, { method: we.formMethod, pathname: K, routeId: H });
      Ge(P, H, St, { flushSync: Re });
      return;
    }
    G.set(P, Ae);
    let Ze = ce,
      dt = wo(o, l, _e, ae, Fe, s, he),
      je = (await Jn(_e, dt, he, P))[Fe.route.id];
    if (_e.signal.aborted) {
      G.get(P) === Ae && G.delete(P);
      return;
    }
    if (ue.has(P)) {
      if (ya(je) || Qn(je)) {
        lt(P, vs(void 0));
        return;
      }
    } else {
      if (ya(je))
        if ((G.delete(P), ge > Ze)) {
          lt(P, vs(void 0));
          return;
        } else
          return (
            O.add(P),
            lt(P, Jl(we)),
            vr(_e, je, !1, { fetcherSubmission: we, preventScrollReset: be })
          );
      if (Qn(je)) {
        Ge(P, H, je.error);
        return;
      }
    }
    let ct = k.navigation.location || k.location,
      On = vo(r.history, ct, Ae.signal),
      sn = d || c,
      Wt =
        k.navigation.state !== "idle"
          ? _s(sn, k.navigation.location, m)
          : k.matches;
    Qe(Wt, "Didn't find any matches after fetcher action");
    let Rn = ++ce;
    Ve.set(P, Rn);
    let Gi = Jl(we, je.data);
    k.fetchers.set(P, Gi);
    let { dsMatches: jn, revalidatingFetchers: nr } = G_(
      On,
      he,
      o,
      l,
      r.history,
      k,
      Wt,
      we,
      ct,
      s,
      !1,
      Ie,
      Ke,
      ue,
      te,
      O,
      sn,
      m,
      r.patchRoutesOnNavigation != null,
      [Fe.route.id, je],
    );
    (nr
      .filter((St) => St.key !== P)
      .forEach((St) => {
        let Tr = St.key,
          $i = k.fetchers.get(Tr),
          Ki = Jl(void 0, $i ? $i.data : void 0);
        (k.fetchers.set(Tr, Ki),
          Zn(Tr),
          St.controller && G.set(Tr, St.controller));
      }),
      wt({ fetchers: new Map(k.fetchers) }));
    let zn = () => nr.forEach((St) => Zn(St.key));
    Ae.signal.addEventListener("abort", zn);
    let { loaderResults: Cn, fetcherResults: Me } = await zi(jn, nr, On, he);
    if (Ae.signal.aborted) return;
    if (
      (Ae.signal.removeEventListener("abort", zn),
      Ve.delete(P),
      G.delete(P),
      nr.forEach((St) => G.delete(St.key)),
      k.fetchers.has(P))
    ) {
      let St = vs(je.data);
      k.fetchers.set(P, St);
    }
    let At = th(Cn);
    if (At) return vr(On, At.result, !1, { preventScrollReset: be });
    if (((At = th(Me)), At))
      return (O.add(At.key), vr(On, At.result, !1, { preventScrollReset: be }));
    let { loaderData: Er, errors: an } = J_(k, Wt, Cn, void 0, nr, Me);
    (Lr(Rn),
      k.navigation.state === "loading" && Rn > ge
        ? (Qe(x, "Expected pending action"),
          C && C.abort(),
          dn(k.navigation.location, {
            matches: Wt,
            loaderData: Er,
            errors: an,
            fetchers: new Map(k.fetchers),
          }))
        : (wt({
            errors: an,
            loaderData: Z_(k.loaderData, Er, Wt, an),
            fetchers: new Map(k.fetchers),
          }),
          (Ie = !1)));
  }
  async function oi(P, H, K, ae, he, ye, Re, be, we) {
    let xe = k.fetchers.get(P);
    lt(P, Jl(we, xe ? xe.data : void 0), { flushSync: Re });
    let Ae = new AbortController(),
      _e = vo(r.history, K, Ae.signal);
    if (ye) {
      let ct = await Vr(ae, new URL(_e.url).pathname, _e.signal, P);
      if (ct.type === "aborted") return;
      if (ct.type === "error") {
        Ge(P, H, ct.error, { flushSync: Re });
        return;
      } else if (ct.matches) ae = ct.matches;
      else {
        Ge(P, H, pr(404, { pathname: K }), { flushSync: Re });
        return;
      }
    }
    let Fe = ph(ae, K);
    G.set(P, Ae);
    let Ze = ce,
      dt = wo(o, l, _e, ae, Fe, s, he),
      je = (await Jn(_e, dt, he, P))[Fe.route.id];
    if ((G.get(P) === Ae && G.delete(P), !_e.signal.aborted)) {
      if (ue.has(P)) {
        lt(P, vs(void 0));
        return;
      }
      if (ya(je))
        if (ge > Ze) {
          lt(P, vs(void 0));
          return;
        } else {
          (O.add(P), await vr(_e, je, !1, { preventScrollReset: be }));
          return;
        }
      if (Qn(je)) {
        Ge(P, H, je.error);
        return;
      }
      lt(P, vs(je.data));
    }
  }
  async function vr(
    P,
    H,
    K,
    {
      submission: ae,
      fetcherSubmission: he,
      preventScrollReset: ye,
      replace: Re,
    } = {},
  ) {
    H.response.headers.has("X-Remix-Revalidate") && (Ie = !0);
    let be = H.response.headers.get("Location");
    (Qe(be, "Expected a Location header on the redirect Response"),
      (be = X_(be, new URL(P.url), m)));
    let we = pu(k.location, be, { _isRedirect: !0 });
    if (t) {
      let dt = !1;
      if (H.response.headers.has("X-Remix-Reload-Document")) dt = !0;
      else if (Cm(be)) {
        const ut = nT(be, !0);
        dt = ut.origin !== e.location.origin || yr(ut.pathname, m) == null;
      }
      if (dt) {
        Re ? e.location.replace(be) : e.location.assign(be);
        return;
      }
    }
    C = null;
    let xe =
        Re === !0 || H.response.headers.has("X-Remix-Replace")
          ? "REPLACE"
          : "PUSH",
      { formMethod: Ae, formAction: _e, formEncType: Fe } = k.navigation;
    !ae && !he && Ae && _e && Fe && (ae = nE(k.navigation));
    let Ze = ae || he;
    if (h1.has(H.response.status) && Ze && Un(Ze.formMethod))
      await bn(xe, we, {
        submission: { ...Ze, formAction: be },
        preventScrollReset: ye || R,
        enableViewTransition: K ? M : void 0,
      });
    else {
      let dt = wp(we, ae);
      await bn(xe, we, {
        overrideNavigation: dt,
        fetcherSubmission: he,
        preventScrollReset: ye || R,
        enableViewTransition: K ? M : void 0,
      });
    }
  }
  async function Jn(P, H, K, ae) {
    let he,
      ye = {};
    try {
      he = await S1(g, P, H, ae, K, !1);
    } catch (Re) {
      return (
        H.filter((be) => be.shouldLoad).forEach((be) => {
          ye[be.route.id] = { type: "error", error: Re };
        }),
        ye
      );
    }
    if (P.signal.aborted) return ye;
    for (let [Re, be] of Object.entries(he))
      if (D1(be)) {
        let we = be.result;
        ye[Re] = { type: "redirect", response: R1(we, P, Re, H, m) };
      } else ye[Re] = await A1(be);
    return ye;
  }
  async function zi(P, H, K, ae) {
    let he = Jn(K, P, ae, null),
      ye = Promise.all(
        H.map(async (we) => {
          if (we.matches && we.match && we.request && we.controller) {
            let Ae = (await Jn(we.request, we.matches, ae, we.key))[
              we.match.route.id
            ];
            return { [we.key]: Ae };
          } else
            return Promise.resolve({
              [we.key]: {
                type: "error",
                error: pr(404, { pathname: we.path }),
              },
            });
        }),
      ),
      Re = await he,
      be = (await ye).reduce((we, xe) => Object.assign(we, xe), {});
    return { loaderResults: Re, fetcherResults: be };
  }
  function Bi() {
    ((Ie = !0),
      te.forEach((P, H) => {
        (G.has(H) && Ke.add(H), Zn(H));
      }));
  }
  function lt(P, H, K = {}) {
    (k.fetchers.set(P, H),
      wt(
        { fetchers: new Map(k.fetchers) },
        { flushSync: (K && K.flushSync) === !0 },
      ));
  }
  function Ge(P, H, K, ae = {}) {
    let he = Es(k.matches, H);
    (jt(P),
      wt(
        { errors: { [he.route.id]: K }, fetchers: new Map(k.fetchers) },
        { flushSync: (ae && ae.flushSync) === !0 },
      ));
  }
  function pn(P) {
    return (
      fe.set(P, (fe.get(P) || 0) + 1),
      ue.has(P) && ue.delete(P),
      k.fetchers.get(P) || f1
    );
  }
  function jt(P) {
    let H = k.fetchers.get(P);
    (G.has(P) && !(H && H.state === "loading" && Ve.has(P)) && Zn(P),
      te.delete(P),
      Ve.delete(P),
      O.delete(P),
      ue.delete(P),
      Ke.delete(P),
      k.fetchers.delete(P));
  }
  function Da(P) {
    let H = (fe.get(P) || 0) - 1;
    (H <= 0 ? (fe.delete(P), ue.add(P)) : fe.set(P, H),
      wt({ fetchers: new Map(k.fetchers) }));
  }
  function Zn(P) {
    let H = G.get(P);
    H && (H.abort(), G.delete(P));
  }
  function Mr(P) {
    for (let H of P) {
      let K = pn(H),
        ae = vs(K.data);
      k.fetchers.set(H, ae);
    }
  }
  function Pr() {
    let P = [],
      H = !1;
    for (let K of O) {
      let ae = k.fetchers.get(K);
      (Qe(ae, `Expected fetcher: ${K}`),
        ae.state === "loading" && (O.delete(K), P.push(K), (H = !0)));
    }
    return (Mr(P), H);
  }
  function Lr(P) {
    let H = [];
    for (let [K, ae] of Ve)
      if (ae < P) {
        let he = k.fetchers.get(K);
        (Qe(he, `Expected fetcher: ${K}`),
          he.state === "loading" && (Zn(K), Ve.delete(K), H.push(K)));
      }
    return (Mr(H), H.length > 0);
  }
  function kn(P, H) {
    let K = k.blockers.get(P) || Wl;
    return (Ee.get(P) !== H && Ee.set(P, H), K);
  }
  function li(P) {
    (k.blockers.delete(P), Ee.delete(P));
  }
  function er(P, H) {
    let K = k.blockers.get(P) || Wl;
    Qe(
      (K.state === "unblocked" && H.state === "blocked") ||
        (K.state === "blocked" && H.state === "blocked") ||
        (K.state === "blocked" && H.state === "proceeding") ||
        (K.state === "blocked" && H.state === "unblocked") ||
        (K.state === "proceeding" && H.state === "unblocked"),
      `Invalid blocker state transition: ${K.state} -> ${H.state}`,
    );
    let ae = new Map(k.blockers);
    (ae.set(P, H), wt({ blockers: ae }));
  }
  function Hi({ currentLocation: P, nextLocation: H, historyAction: K }) {
    if (Ee.size === 0) return;
    Ee.size > 1 && Vt(!1, "A router only supports one blocker at a time");
    let ae = Array.from(Ee.entries()),
      [he, ye] = ae[ae.length - 1],
      Re = k.blockers.get(he);
    if (
      !(Re && Re.state === "proceeding") &&
      ye({ currentLocation: P, nextLocation: H, historyAction: K })
    )
      return he;
  }
  function ui(P) {
    let H = pr(404, { pathname: P }),
      K = d || c,
      { matches: ae, route: he } = eh(K);
    return { notFoundMatches: ae, route: he, error: H };
  }
  function Fs(P, H, K) {
    if (((A = P), (J = H), (D = K || null), !B && k.navigation === bp)) {
      B = !0;
      let ae = Fi(k.location, k.matches);
      ae != null && wt({ restoreScrollPosition: ae });
    }
    return () => {
      ((A = null), (J = null), (D = null));
    };
  }
  function tr(P, H) {
    return (
      (D &&
        D(
          P,
          H.map((ae) => HA(ae, k.loaderData)),
        )) ||
      P.key
    );
  }
  function _r(P, H) {
    if (A && J) {
      let K = tr(P, H);
      A[K] = J();
    }
  }
  function Fi(P, H) {
    if (A) {
      let K = tr(P, H),
        ae = A[K];
      if (typeof ae == "number") return ae;
    }
    return null;
  }
  function An(P, H, K) {
    if (r.patchRoutesOnNavigation)
      if (P) {
        if (Object.keys(P[0].params).length > 0)
          return { active: !0, matches: dh(H, K, m, !0) };
      } else return { active: !0, matches: dh(H, K, m, !0) || [] };
    return { active: !1, matches: null };
  }
  async function Vr(P, H, K, ae) {
    if (!r.patchRoutesOnNavigation) return { type: "success", matches: P };
    let he = P;
    for (;;) {
      let ye = d == null,
        Re = d || c,
        be = l;
      try {
        await r.patchRoutesOnNavigation({
          signal: K,
          path: H,
          matches: he,
          fetcherKey: ae,
          patch: (Ae, _e) => {
            K.aborted || $_(Ae, _e, Re, be, o, !1);
          },
        });
      } catch (Ae) {
        return { type: "error", error: Ae, partialMatches: he };
      } finally {
        ye && !K.aborted && (c = [...c]);
      }
      if (K.aborted) return { type: "aborted" };
      let we = _s(Re, H, m);
      if (we) return { type: "success", matches: we };
      let xe = dh(Re, H, m, !0);
      if (
        !xe ||
        (he.length === xe.length &&
          he.every((Ae, _e) => Ae.route.id === xe[_e].route.id))
      )
        return { type: "success", matches: null };
      he = xe;
    }
  }
  function Ur(P) {
    ((l = {}), (d = mu(P, o, void 0, l)));
  }
  function qi(P, H, K = !1) {
    let ae = d == null;
    ($_(P, H, d || c, l, o, K), ae && ((c = [...c]), wt({})));
  }
  return (
    (le = {
      get basename() {
        return m;
      },
      get future() {
        return v;
      },
      get state() {
        return k;
      },
      get routes() {
        return c;
      },
      get window() {
        return e;
      },
      initialize: kt,
      subscribe: Wn,
      enableScrollRestoration: Fs,
      navigate: Or,
      fetch: Hs,
      revalidate: ai,
      createHref: (P) => r.history.createHref(P),
      encodeLocation: (P) => r.history.encodeLocation(P),
      getFetcher: pn,
      deleteFetcher: Da,
      dispose: gt,
      getBlocker: kn,
      deleteBlocker: li,
      patchRoutes: qi,
      _internalFetchControllers: G,
      _internalSetRoutes: Ur,
      _internalSetStateDoNotUseOrYouWillBreakYourApp(P) {
        wt(P);
      },
    }),
    le
  );
}
function g1(r) {
  return (
    r != null &&
    (("formData" in r && r.formData != null) ||
      ("body" in r && r.body !== void 0))
  );
}
function Hp(r, e, t, s, o, l) {
  let c, d;
  if (o) {
    c = [];
    for (let g of e)
      if ((c.push(g), g.route.id === o)) {
        d = g;
        break;
      }
  } else ((c = e), (d = e[e.length - 1]));
  let m = Xh(s || ".", Qh(c), yr(r.pathname, t) || r.pathname, l === "path");
  if (
    (s == null && ((m.search = r.search), (m.hash = r.hash)),
    (s == null || s === "" || s === ".") && d)
  ) {
    let g = Im(m.search);
    if (d.route.index && !g)
      m.search = m.search ? m.search.replace(/^\?/, "?index&") : "?index";
    else if (!d.route.index && g) {
      let v = new URLSearchParams(m.search),
        T = v.getAll("index");
      (v.delete("index"),
        T.filter((A) => A).forEach((A) => v.append("index", A)));
      let b = v.toString();
      m.search = b ? `?${b}` : "";
    }
  }
  return (
    t !== "/" && (m.pathname = t1({ basename: t, pathname: m.pathname })),
    Ds(m)
  );
}
function q_(r, e, t) {
  if (!t || !g1(t)) return { path: e };
  if (t.formMethod && !O1(t.formMethod))
    return { path: e, error: pr(405, { method: t.formMethod }) };
  let s = () => ({ path: e, error: pr(400, { type: "invalid-body" }) }),
    l = (t.formMethod || "get").toUpperCase(),
    c = pT(e);
  if (t.body !== void 0) {
    if (t.formEncType === "text/plain") {
      if (!Un(l)) return s();
      let T =
        typeof t.body == "string"
          ? t.body
          : t.body instanceof FormData || t.body instanceof URLSearchParams
            ? Array.from(t.body.entries()).reduce(
                (b, [A, D]) => `${b}${A}=${D}
`,
                "",
              )
            : String(t.body);
      return {
        path: e,
        submission: {
          formMethod: l,
          formAction: c,
          formEncType: t.formEncType,
          formData: void 0,
          json: void 0,
          text: T,
        },
      };
    } else if (t.formEncType === "application/json") {
      if (!Un(l)) return s();
      try {
        let T = typeof t.body == "string" ? JSON.parse(t.body) : t.body;
        return {
          path: e,
          submission: {
            formMethod: l,
            formAction: c,
            formEncType: t.formEncType,
            formData: void 0,
            json: T,
            text: void 0,
          },
        };
      } catch {
        return s();
      }
    }
  }
  Qe(
    typeof FormData == "function",
    "FormData is not available in this environment",
  );
  let d, m;
  if (t.formData) ((d = Gp(t.formData)), (m = t.formData));
  else if (t.body instanceof FormData) ((d = Gp(t.body)), (m = t.body));
  else if (t.body instanceof URLSearchParams) ((d = t.body), (m = W_(d)));
  else if (t.body == null) ((d = new URLSearchParams()), (m = new FormData()));
  else
    try {
      ((d = new URLSearchParams(t.body)), (m = W_(d)));
    } catch {
      return s();
    }
  let g = {
    formMethod: l,
    formAction: c,
    formEncType: (t && t.formEncType) || "application/x-www-form-urlencoded",
    formData: m,
    json: void 0,
    text: void 0,
  };
  if (Un(g.formMethod)) return { path: e, submission: g };
  let v = ks(e);
  return (
    r && v.search && Im(v.search) && d.append("index", ""),
    (v.search = `?${d}`),
    { path: Ds(v), submission: g }
  );
}
function G_(r, e, t, s, o, l, c, d, m, g, v, T, b, A, D, J, B, Q, Z, ie) {
  let pe = ie ? (Qn(ie[1]) ? ie[1].error : ie[1].data) : void 0,
    le = o.createURL(l.location),
    k = o.createURL(m),
    x;
  if (v && l.errors) {
    let I = Object.keys(l.errors)[0];
    x = c.findIndex((Ie) => Ie.route.id === I);
  } else if (ie && Qn(ie[1])) {
    let I = ie[0];
    x = c.findIndex((Ie) => Ie.route.id === I) - 1;
  }
  let R = ie ? ie[1].statusCode : void 0,
    C = R && R >= 400,
    M = {
      currentUrl: le,
      currentParams: l.matches[0]?.params || {},
      nextUrl: k,
      nextParams: c[0].params,
      ...d,
      actionResult: pe,
      actionStatus: R,
    },
    V = c.map((I, Ie) => {
      let { route: Ke } = I,
        G = null;
      if (
        (x != null && Ie > x
          ? (G = !1)
          : Ke.lazy
            ? (G = !0)
            : Ke.loader == null
              ? (G = !1)
              : v
                ? (G = Fp(Ke, l.loaderData, l.errors))
                : y1(l.loaderData, l.matches[Ie], I) && (G = !0),
        G !== null)
      )
        return qp(t, s, r, I, g, e, G);
      let ce = C
          ? !1
          : T ||
            le.pathname + le.search === k.pathname + k.search ||
            le.search !== k.search ||
            v1(l.matches[Ie], I),
        ge = { ...M, defaultShouldRevalidate: ce },
        Ve = Ih(I, ge);
      return qp(t, s, r, I, g, e, Ve, ge);
    }),
    j = [];
  return (
    D.forEach((I, Ie) => {
      if (v || !c.some((fe) => fe.route.id === I.routeId) || A.has(Ie)) return;
      let Ke = l.fetchers.get(Ie),
        G = Ke && Ke.state !== "idle" && Ke.data === void 0,
        ce = _s(B, I.path, Q);
      if (!ce) {
        if (Z && G) return;
        j.push({
          key: Ie,
          routeId: I.routeId,
          path: I.path,
          matches: null,
          match: null,
          request: null,
          controller: null,
        });
        return;
      }
      if (J.has(Ie)) return;
      let ge = ph(ce, I.path),
        Ve = new AbortController(),
        O = vo(o, I.path, Ve.signal),
        te = null;
      if (b.has(Ie)) (b.delete(Ie), (te = wo(t, s, O, ce, ge, g, e)));
      else if (G) T && (te = wo(t, s, O, ce, ge, g, e));
      else {
        let fe = { ...M, defaultShouldRevalidate: C ? !1 : T };
        Ih(ge, fe) && (te = wo(t, s, O, ce, ge, g, e, fe));
      }
      te &&
        j.push({
          key: Ie,
          routeId: I.routeId,
          path: I.path,
          matches: te,
          match: ge,
          request: O,
          controller: Ve,
        });
    }),
    { dsMatches: V, revalidatingFetchers: j }
  );
}
function Fp(r, e, t) {
  if (r.lazy) return !0;
  if (!r.loader) return !1;
  let s = e != null && r.id in e,
    o = t != null && t[r.id] !== void 0;
  return !s && o
    ? !1
    : typeof r.loader == "function" && r.loader.hydrate === !0
      ? !0
      : !s && !o;
}
function y1(r, e, t) {
  let s = !e || t.route.id !== e.route.id,
    o = !r.hasOwnProperty(t.route.id);
  return s || o;
}
function v1(r, e) {
  let t = r.route.path;
  return (
    r.pathname !== e.pathname ||
    (t != null && t.endsWith("*") && r.params["*"] !== e.params["*"])
  );
}
function Ih(r, e) {
  if (r.route.shouldRevalidate) {
    let t = r.route.shouldRevalidate(e);
    if (typeof t == "boolean") return t;
  }
  return e.defaultShouldRevalidate;
}
function $_(r, e, t, s, o, l) {
  let c;
  if (r) {
    let g = s[r];
    (Qe(g, `No route found to patch children into: routeId = ${r}`),
      g.children || (g.children = []),
      (c = g.children));
  } else c = t;
  let d = [],
    m = [];
  if (
    (e.forEach((g) => {
      let v = c.find((T) => uT(g, T));
      v ? m.push({ existingRoute: v, newRoute: g }) : d.push(g);
    }),
    d.length > 0)
  ) {
    let g = mu(d, o, [r || "_", "patch", String(c?.length || "0")], s);
    c.push(...g);
  }
  if (l && m.length > 0)
    for (let g = 0; g < m.length; g++) {
      let { existingRoute: v, newRoute: T } = m[g],
        b = v,
        [A] = mu([T], o, [], {}, !0);
      Object.assign(b, {
        element: A.element ? A.element : b.element,
        errorElement: A.errorElement ? A.errorElement : b.errorElement,
        hydrateFallbackElement: A.hydrateFallbackElement
          ? A.hydrateFallbackElement
          : b.hydrateFallbackElement,
      });
    }
}
function uT(r, e) {
  return "id" in r && "id" in e && r.id === e.id
    ? !0
    : r.index === e.index &&
        r.path === e.path &&
        r.caseSensitive === e.caseSensitive
      ? (!r.children || r.children.length === 0) &&
        (!e.children || e.children.length === 0)
        ? !0
        : r.children.every((t, s) => e.children?.some((o) => uT(t, o)))
      : !1;
}
var K_ = new WeakMap(),
  cT = ({ key: r, route: e, manifest: t, mapRouteProperties: s }) => {
    let o = t[e.id];
    if (
      (Qe(o, "No route found in manifest"),
      !o.lazy || typeof o.lazy != "object")
    )
      return;
    let l = o.lazy[r];
    if (!l) return;
    let c = K_.get(o);
    c || ((c = {}), K_.set(o, c));
    let d = c[r];
    if (d) return d;
    let m = (async () => {
      let g = kA(r),
        T = o[r] !== void 0 && r !== "hasErrorBoundary";
      if (g)
        (Vt(
          !g,
          "Route property " +
            r +
            " is not a supported lazy route property. This property will be ignored.",
        ),
          (c[r] = Promise.resolve()));
      else if (T)
        Vt(
          !1,
          `Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`,
        );
      else {
        let b = await l();
        b != null && (Object.assign(o, { [r]: b }), Object.assign(o, s(o)));
      }
      typeof o.lazy == "object" &&
        ((o.lazy[r] = void 0),
        Object.values(o.lazy).every((b) => b === void 0) && (o.lazy = void 0));
    })();
    return ((c[r] = m), m);
  },
  Y_ = new WeakMap();
function _1(r, e, t, s, o) {
  let l = t[r.id];
  if ((Qe(l, "No route found in manifest"), !r.lazy))
    return { lazyRoutePromise: void 0, lazyHandlerPromise: void 0 };
  if (typeof r.lazy == "function") {
    let v = Y_.get(l);
    if (v) return { lazyRoutePromise: v, lazyHandlerPromise: v };
    let T = (async () => {
      Qe(typeof r.lazy == "function", "No lazy route function found");
      let b = await r.lazy(),
        A = {};
      for (let D in b) {
        let J = b[D];
        if (J === void 0) continue;
        let B = zA(D),
          Z = l[D] !== void 0 && D !== "hasErrorBoundary";
        B
          ? Vt(
              !B,
              "Route property " +
                D +
                " is not a supported property to be returned from a lazy route function. This property will be ignored.",
            )
          : Z
            ? Vt(
                !Z,
                `Route "${l.id}" has a static property "${D}" defined but its lazy function is also returning a value for this property. The lazy route property "${D}" will be ignored.`,
              )
            : (A[D] = J);
      }
      (Object.assign(l, A), Object.assign(l, { ...s(l), lazy: void 0 }));
    })();
    return (
      Y_.set(l, T),
      T.catch(() => {}),
      { lazyRoutePromise: T, lazyHandlerPromise: T }
    );
  }
  let c = Object.keys(r.lazy),
    d = [],
    m;
  for (let v of c) {
    if (o && o.includes(v)) continue;
    let T = cT({ key: v, route: r, manifest: t, mapRouteProperties: s });
    T && (d.push(T), v === e && (m = T));
  }
  let g = d.length > 0 ? Promise.all(d).then(() => {}) : void 0;
  return (
    g?.catch(() => {}),
    m?.catch(() => {}),
    { lazyRoutePromise: g, lazyHandlerPromise: m }
  );
}
async function Q_(r) {
  let e = r.matches.filter((o) => o.shouldLoad),
    t = {};
  return (
    (await Promise.all(e.map((o) => o.resolve()))).forEach((o, l) => {
      t[e[l].route.id] = o;
    }),
    t
  );
}
async function E1(r) {
  return r.matches.some((e) => e.route.unstable_middleware)
    ? hT(r, () => Q_(r))
    : Q_(r);
}
function hT(r, e) {
  return T1(r, e, (s) => s, x1, t);
  function t(s, o, l) {
    if (l)
      return Promise.resolve(
        Object.assign(l.value, { [o]: { type: "error", result: s } }),
      );
    {
      let { matches: c } = r,
        d = Math.min(
          c.findIndex((g) => g.route.id === o) || 0,
          c.findIndex((g) => g.unstable_shouldCallHandler()) || 0,
        ),
        m = Es(c, c[d].route.id).route.id;
      return Promise.resolve({ [m]: { type: "error", result: s } });
    }
  }
}
async function T1(r, e, t, s, o) {
  let { matches: l, request: c, params: d, context: m } = r,
    g = l.flatMap((T) =>
      T.route.unstable_middleware
        ? T.route.unstable_middleware.map((b) => [T.route.id, b])
        : [],
    );
  return await fT({ request: c, params: d, context: m }, g, e, t, s, o);
}
async function fT(r, e, t, s, o, l, c = 0) {
  let { request: d } = r;
  if (d.signal.aborted)
    throw d.signal.reason ?? new Error(`Request aborted: ${d.method} ${d.url}`);
  let m = e[c];
  if (!m) return await t();
  let [g, v] = m,
    T,
    b = async () => {
      if (T) throw new Error("You may only call `next()` once per middleware");
      try {
        return ((T = { value: await fT(r, e, t, s, o, l, c + 1) }), T.value);
      } catch (A) {
        return ((T = { value: await l(A, g, T) }), T.value);
      }
    };
  try {
    let A = await v(r, b),
      D = A != null ? s(A) : void 0;
    return o(D)
      ? D
      : T
        ? (D ?? T.value)
        : ((T = { value: await b() }), T.value);
  } catch (A) {
    return await l(A, g, T);
  }
}
function dT(r, e, t, s, o) {
  let l = cT({
      key: "unstable_middleware",
      route: s.route,
      manifest: e,
      mapRouteProperties: r,
    }),
    c = _1(s.route, Un(t.method) ? "action" : "loader", e, r, o);
  return {
    middleware: l,
    route: c.lazyRoutePromise,
    handler: c.lazyHandlerPromise,
  };
}
function qp(r, e, t, s, o, l, c, d = null) {
  let m = !1,
    g = dT(r, e, t, s, o);
  return {
    ...s,
    _lazyPromises: g,
    shouldLoad: c,
    unstable_shouldRevalidateArgs: d,
    unstable_shouldCallHandler(v) {
      return (
        (m = !0),
        d
          ? typeof v == "boolean"
            ? Ih(s, { ...d, defaultShouldRevalidate: v })
            : Ih(s, d)
          : c
      );
    },
    resolve(v) {
      return m || c || (v && !Un(t.method) && (s.route.lazy || s.route.loader))
        ? b1({
            request: t,
            match: s,
            lazyHandlerPromise: g?.handler,
            lazyRoutePromise: g?.route,
            handlerOverride: v,
            scopedContext: l,
          })
        : Promise.resolve({ type: "data", result: void 0 });
    },
  };
}
function wo(r, e, t, s, o, l, c, d = null) {
  return s.map((m) =>
    m.route.id !== o.route.id
      ? {
          ...m,
          shouldLoad: !1,
          unstable_shouldRevalidateArgs: d,
          unstable_shouldCallHandler: () => !1,
          _lazyPromises: dT(r, e, t, m, l),
          resolve: () => Promise.resolve({ type: "data", result: void 0 }),
        }
      : qp(r, e, t, m, l, c, !0, d),
  );
}
async function S1(r, e, t, s, o, l) {
  t.some((g) => g._lazyPromises?.middleware) &&
    (await Promise.all(t.map((g) => g._lazyPromises?.middleware)));
  let c = { request: e, params: t[0].params, context: o, matches: t },
    m = await r({
      ...c,
      fetcherKey: s,
      unstable_runClientMiddleware: (g) => {
        let v = c;
        return hT(v, () =>
          g({
            ...v,
            fetcherKey: s,
            unstable_runClientMiddleware: () => {
              throw new Error(
                "Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler",
              );
            },
          }),
        );
      },
    });
  try {
    await Promise.all(
      t.flatMap((g) => [g._lazyPromises?.handler, g._lazyPromises?.route]),
    );
  } catch {}
  return m;
}
async function b1({
  request: r,
  match: e,
  lazyHandlerPromise: t,
  lazyRoutePromise: s,
  handlerOverride: o,
  scopedContext: l,
}) {
  let c,
    d,
    m = Un(r.method),
    g = m ? "action" : "loader",
    v = (T) => {
      let b,
        A = new Promise((B, Q) => (b = Q));
      ((d = () => b()), r.signal.addEventListener("abort", d));
      let D = (B) =>
          typeof T != "function"
            ? Promise.reject(
                new Error(
                  `You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`,
                ),
              )
            : T(
                { request: r, params: e.params, context: l },
                ...(B !== void 0 ? [B] : []),
              ),
        J = (async () => {
          try {
            return { type: "data", result: await (o ? o((Q) => D(Q)) : D()) };
          } catch (B) {
            return { type: "error", result: B };
          }
        })();
      return Promise.race([J, A]);
    };
  try {
    let T = m ? e.route.action : e.route.loader;
    if (t || s)
      if (T) {
        let b,
          [A] = await Promise.all([
            v(T).catch((D) => {
              b = D;
            }),
            t,
            s,
          ]);
        if (b !== void 0) throw b;
        c = A;
      } else {
        await t;
        let b = m ? e.route.action : e.route.loader;
        if (b) [c] = await Promise.all([v(b), s]);
        else if (g === "action") {
          let A = new URL(r.url),
            D = A.pathname + A.search;
          throw pr(405, { method: r.method, pathname: D, routeId: e.route.id });
        } else return { type: "data", result: void 0 };
      }
    else if (T) c = await v(T);
    else {
      let b = new URL(r.url),
        A = b.pathname + b.search;
      throw pr(404, { pathname: A });
    }
  } catch (T) {
    return { type: "error", result: T };
  } finally {
    d && r.signal.removeEventListener("abort", d);
  }
  return c;
}
async function w1(r) {
  let e = r.headers.get("Content-Type");
  return e && /\bapplication\/json\b/.test(e)
    ? r.body == null
      ? null
      : r.json()
    : r.text();
}
async function A1(r) {
  let { result: e, type: t } = r;
  if (mT(e)) {
    let s;
    try {
      s = await w1(e);
    } catch (o) {
      return { type: "error", error: o };
    }
    return t === "error"
      ? {
          type: "error",
          error: new Ch(e.status, e.statusText, s),
          statusCode: e.status,
          headers: e.headers,
        }
      : { type: "data", data: s, statusCode: e.status, headers: e.headers };
  }
  return t === "error"
    ? tE(e)
      ? e.data instanceof Error
        ? {
            type: "error",
            error: e.data,
            statusCode: e.init?.status,
            headers: e.init?.headers ? new Headers(e.init.headers) : void 0,
          }
        : {
            type: "error",
            error: new Ch(e.init?.status || 500, void 0, e.data),
            statusCode: gu(e) ? e.status : void 0,
            headers: e.init?.headers ? new Headers(e.init.headers) : void 0,
          }
      : { type: "error", error: e, statusCode: gu(e) ? e.status : void 0 }
    : tE(e)
      ? {
          type: "data",
          data: e.data,
          statusCode: e.init?.status,
          headers: e.init?.headers ? new Headers(e.init.headers) : void 0,
        }
      : { type: "data", data: e };
}
function R1(r, e, t, s, o) {
  let l = r.headers.get("Location");
  if (
    (Qe(
      l,
      "Redirects returned/thrown from loaders/actions must have a Location header",
    ),
    !Cm(l))
  ) {
    let c = s.slice(0, s.findIndex((d) => d.route.id === t) + 1);
    ((l = Hp(new URL(e.url), c, o, l)), r.headers.set("Location", l));
  }
  return r;
}
function X_(r, e, t) {
  if (Cm(r)) {
    let s = r,
      o = s.startsWith("//") ? new URL(e.protocol + s) : new URL(s),
      l = yr(o.pathname, t) != null;
    if (o.origin === e.origin && l) return o.pathname + o.search + o.hash;
  }
  return r;
}
function vo(r, e, t, s) {
  let o = r.createURL(pT(e)).toString(),
    l = { signal: t };
  if (s && Un(s.formMethod)) {
    let { formMethod: c, formEncType: d } = s;
    ((l.method = c.toUpperCase()),
      d === "application/json"
        ? ((l.headers = new Headers({ "Content-Type": d })),
          (l.body = JSON.stringify(s.json)))
        : d === "text/plain"
          ? (l.body = s.text)
          : d === "application/x-www-form-urlencoded" && s.formData
            ? (l.body = Gp(s.formData))
            : (l.body = s.formData));
  }
  return new Request(o, l);
}
function Gp(r) {
  let e = new URLSearchParams();
  for (let [t, s] of r.entries())
    e.append(t, typeof s == "string" ? s : s.name);
  return e;
}
function W_(r) {
  let e = new FormData();
  for (let [t, s] of r.entries()) e.append(t, s);
  return e;
}
function C1(r, e, t, s = !1, o = !1) {
  let l = {},
    c = null,
    d,
    m = !1,
    g = {},
    v = t && Qn(t[1]) ? t[1].error : void 0;
  return (
    r.forEach((T) => {
      if (!(T.route.id in e)) return;
      let b = T.route.id,
        A = e[b];
      if (
        (Qe(!ya(A), "Cannot handle redirect results in processLoaderData"),
        Qn(A))
      ) {
        let D = A.error;
        if ((v !== void 0 && ((D = v), (v = void 0)), (c = c || {}), o))
          c[b] = D;
        else {
          let J = Es(r, b);
          c[J.route.id] == null && (c[J.route.id] = D);
        }
        (s || (l[b] = lT),
          m || ((m = !0), (d = gu(A.error) ? A.error.status : 500)),
          A.headers && (g[b] = A.headers));
      } else
        ((l[b] = A.data),
          A.statusCode && A.statusCode !== 200 && !m && (d = A.statusCode),
          A.headers && (g[b] = A.headers));
    }),
    v !== void 0 && t && ((c = { [t[0]]: v }), t[2] && (l[t[2]] = void 0)),
    { loaderData: l, errors: c, statusCode: d || 200, loaderHeaders: g }
  );
}
function J_(r, e, t, s, o, l) {
  let { loaderData: c, errors: d } = C1(e, t, s);
  return (
    o
      .filter((m) => !m.matches || m.matches.some((g) => g.shouldLoad))
      .forEach((m) => {
        let { key: g, match: v, controller: T } = m;
        if (T && T.signal.aborted) return;
        let b = l[g];
        if ((Qe(b, "Did not find corresponding fetcher result"), Qn(b))) {
          let A = Es(r.matches, v?.route.id);
          ((d && d[A.route.id]) || (d = { ...d, [A.route.id]: b.error }),
            r.fetchers.delete(g));
        } else if (ya(b)) Qe(!1, "Unhandled fetcher revalidation redirect");
        else {
          let A = vs(b.data);
          r.fetchers.set(g, A);
        }
      }),
    { loaderData: c, errors: d }
  );
}
function Z_(r, e, t, s) {
  let o = Object.entries(e)
    .filter(([, l]) => l !== lT)
    .reduce((l, [c, d]) => ((l[c] = d), l), {});
  for (let l of t) {
    let c = l.route.id;
    if (
      (!e.hasOwnProperty(c) &&
        r.hasOwnProperty(c) &&
        l.route.loader &&
        (o[c] = r[c]),
      s && s.hasOwnProperty(c))
    )
      break;
  }
  return o;
}
function eE(r) {
  return r
    ? Qn(r[1])
      ? { actionData: {} }
      : { actionData: { [r[0]]: r[1].data } }
    : {};
}
function Es(r, e) {
  return (
    (e ? r.slice(0, r.findIndex((s) => s.route.id === e) + 1) : [...r])
      .reverse()
      .find((s) => s.route.hasErrorBoundary === !0) || r[0]
  );
}
function eh(r) {
  let e =
    r.length === 1
      ? r[0]
      : r.find((t) => t.index || !t.path || t.path === "/") || {
          id: "__shim-error-route__",
        };
  return {
    matches: [{ params: {}, pathname: "", pathnameBase: "", route: e }],
    route: e,
  };
}
function pr(
  r,
  { pathname: e, routeId: t, method: s, type: o, message: l } = {},
) {
  let c = "Unknown Server Error",
    d = "Unknown @remix-run/router error";
  return (
    r === 400
      ? ((c = "Bad Request"),
        s && e && t
          ? (d = `You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`)
          : o === "invalid-body" && (d = "Unable to encode submission body"))
      : r === 403
        ? ((c = "Forbidden"), (d = `Route "${t}" does not match URL "${e}"`))
        : r === 404
          ? ((c = "Not Found"), (d = `No route matches URL "${e}"`))
          : r === 405 &&
            ((c = "Method Not Allowed"),
            s && e && t
              ? (d = `You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`)
              : s && (d = `Invalid request method "${s.toUpperCase()}"`)),
    new Ch(r || 500, c, new Error(d), !0)
  );
}
function th(r) {
  let e = Object.entries(r);
  for (let t = e.length - 1; t >= 0; t--) {
    let [s, o] = e[t];
    if (ya(o)) return { key: s, result: o };
  }
}
function pT(r) {
  let e = typeof r == "string" ? ks(r) : r;
  return Ds({ ...e, hash: "" });
}
function I1(r, e) {
  return r.pathname !== e.pathname || r.search !== e.search
    ? !1
    : r.hash === ""
      ? e.hash !== ""
      : r.hash === e.hash
        ? !0
        : e.hash !== "";
}
function x1(r) {
  return (
    r != null &&
    typeof r == "object" &&
    Object.entries(r).every(([e, t]) => typeof e == "string" && N1(t))
  );
}
function N1(r) {
  return (
    r != null &&
    typeof r == "object" &&
    "type" in r &&
    "result" in r &&
    (r.type === "data" || r.type === "error")
  );
}
function D1(r) {
  return mT(r.result) && c1.has(r.result.status);
}
function Qn(r) {
  return r.type === "error";
}
function ya(r) {
  return (r && r.type) === "redirect";
}
function tE(r) {
  return (
    typeof r == "object" &&
    r != null &&
    "type" in r &&
    "data" in r &&
    "init" in r &&
    r.type === "DataWithResponseInit"
  );
}
function mT(r) {
  return (
    r != null &&
    typeof r.status == "number" &&
    typeof r.statusText == "string" &&
    typeof r.headers == "object" &&
    typeof r.body < "u"
  );
}
function O1(r) {
  return u1.has(r.toUpperCase());
}
function Un(r) {
  return o1.has(r.toUpperCase());
}
function Im(r) {
  return new URLSearchParams(r).getAll("index").some((e) => e === "");
}
function ph(r, e) {
  let t = typeof e == "string" ? ks(e).search : e.search;
  if (r[r.length - 1].route.index && Im(t || "")) return r[r.length - 1];
  let s = sT(r);
  return s[s.length - 1];
}
function nE(r) {
  let {
    formMethod: e,
    formAction: t,
    formEncType: s,
    text: o,
    formData: l,
    json: c,
  } = r;
  if (!(!e || !t || !s)) {
    if (o != null)
      return {
        formMethod: e,
        formAction: t,
        formEncType: s,
        formData: void 0,
        json: void 0,
        text: o,
      };
    if (l != null)
      return {
        formMethod: e,
        formAction: t,
        formEncType: s,
        formData: l,
        json: void 0,
        text: void 0,
      };
    if (c !== void 0)
      return {
        formMethod: e,
        formAction: t,
        formEncType: s,
        formData: void 0,
        json: c,
        text: void 0,
      };
  }
}
function wp(r, e) {
  return e
    ? {
        state: "loading",
        location: r,
        formMethod: e.formMethod,
        formAction: e.formAction,
        formEncType: e.formEncType,
        formData: e.formData,
        json: e.json,
        text: e.text,
      }
    : {
        state: "loading",
        location: r,
        formMethod: void 0,
        formAction: void 0,
        formEncType: void 0,
        formData: void 0,
        json: void 0,
        text: void 0,
      };
}
function M1(r, e) {
  return {
    state: "submitting",
    location: r,
    formMethod: e.formMethod,
    formAction: e.formAction,
    formEncType: e.formEncType,
    formData: e.formData,
    json: e.json,
    text: e.text,
  };
}
function Jl(r, e) {
  return r
    ? {
        state: "loading",
        formMethod: r.formMethod,
        formAction: r.formAction,
        formEncType: r.formEncType,
        formData: r.formData,
        json: r.json,
        text: r.text,
        data: e,
      }
    : {
        state: "loading",
        formMethod: void 0,
        formAction: void 0,
        formEncType: void 0,
        formData: void 0,
        json: void 0,
        text: void 0,
        data: e,
      };
}
function P1(r, e) {
  return {
    state: "submitting",
    formMethod: r.formMethod,
    formAction: r.formAction,
    formEncType: r.formEncType,
    formData: r.formData,
    json: r.json,
    text: r.text,
    data: e ? e.data : void 0,
  };
}
function vs(r) {
  return {
    state: "idle",
    formMethod: void 0,
    formAction: void 0,
    formEncType: void 0,
    formData: void 0,
    json: void 0,
    text: void 0,
    data: r,
  };
}
function L1(r, e) {
  try {
    let t = r.sessionStorage.getItem(oT);
    if (t) {
      let s = JSON.parse(t);
      for (let [o, l] of Object.entries(s || {}))
        l && Array.isArray(l) && e.set(o, new Set(l || []));
    }
  } catch {}
}
function V1(r, e) {
  if (e.size > 0) {
    let t = {};
    for (let [s, o] of e) t[s] = [...o];
    try {
      r.sessionStorage.setItem(oT, JSON.stringify(t));
    } catch (s) {
      Vt(
        !1,
        `Failed to save applied view transitions in sessionStorage (${s}).`,
      );
    }
  }
}
function U1() {
  let r,
    e,
    t = new Promise((s, o) => {
      ((r = async (l) => {
        s(l);
        try {
          await t;
        } catch {}
      }),
        (e = async (l) => {
          o(l);
          try {
            await t;
          } catch {}
        }));
    });
  return { promise: t, resolve: r, reject: e };
}
var Ca = U.createContext(null);
Ca.displayName = "DataRouter";
var Ru = U.createContext(null);
Ru.displayName = "DataRouterState";
U.createContext(!1);
var xm = U.createContext({ isTransitioning: !1 });
xm.displayName = "ViewTransition";
var gT = U.createContext(new Map());
gT.displayName = "Fetchers";
var k1 = U.createContext(null);
k1.displayName = "Await";
var xr = U.createContext(null);
xr.displayName = "Navigation";
var Wh = U.createContext(null);
Wh.displayName = "Location";
var Nr = U.createContext({ outlet: null, matches: [], isDataRoute: !1 });
Nr.displayName = "Route";
var Nm = U.createContext(null);
Nm.displayName = "RouteError";
function j1(r, { relative: e } = {}) {
  Qe(
    Bo(),
    "useHref() may be used only in the context of a <Router> component.",
  );
  let { basename: t, navigator: s } = U.useContext(xr),
    { hash: o, pathname: l, search: c } = Cu(r, { relative: e }),
    d = l;
  return (
    t !== "/" && (d = l === "/" ? t : Zr([t, l])),
    s.createHref({ pathname: d, search: c, hash: o })
  );
}
function Bo() {
  return U.useContext(Wh) != null;
}
function Ui() {
  return (
    Qe(
      Bo(),
      "useLocation() may be used only in the context of a <Router> component.",
    ),
    U.useContext(Wh).location
  );
}
var yT =
  "You should call navigate() in a React.useEffect(), not when your component is first rendered.";
function vT(r) {
  U.useContext(xr).static || U.useLayoutEffect(r);
}
function Jh() {
  let { isDataRoute: r } = U.useContext(Nr);
  return r ? eR() : z1();
}
function z1() {
  Qe(
    Bo(),
    "useNavigate() may be used only in the context of a <Router> component.",
  );
  let r = U.useContext(Ca),
    { basename: e, navigator: t } = U.useContext(xr),
    { matches: s } = U.useContext(Nr),
    { pathname: o } = Ui(),
    l = JSON.stringify(Qh(s)),
    c = U.useRef(!1);
  return (
    vT(() => {
      c.current = !0;
    }),
    U.useCallback(
      (m, g = {}) => {
        if ((Vt(c.current, yT), !c.current)) return;
        if (typeof m == "number") {
          t.go(m);
          return;
        }
        let v = Xh(m, JSON.parse(l), o, g.relative === "path");
        (r == null &&
          e !== "/" &&
          (v.pathname = v.pathname === "/" ? e : Zr([e, v.pathname])),
          (g.replace ? t.replace : t.push)(v, g.state, g));
      },
      [e, t, l, o, r],
    )
  );
}
var B1 = U.createContext(null);
function H1(r) {
  let e = U.useContext(Nr).outlet;
  return e && U.createElement(B1.Provider, { value: r }, e);
}
function Cu(r, { relative: e } = {}) {
  let { matches: t } = U.useContext(Nr),
    { pathname: s } = Ui(),
    o = JSON.stringify(Qh(t));
  return U.useMemo(() => Xh(r, JSON.parse(o), s, e === "path"), [r, o, s, e]);
}
function F1(r, e, t, s, o) {
  Qe(
    Bo(),
    "useRoutes() may be used only in the context of a <Router> component.",
  );
  let { navigator: l } = U.useContext(xr),
    { matches: c } = U.useContext(Nr),
    d = c[c.length - 1],
    m = d ? d.params : {},
    g = d ? d.pathname : "/",
    v = d ? d.pathnameBase : "/",
    T = d && d.route;
  {
    let Z = (T && T.path) || "";
    _T(
      g,
      !T || Z.endsWith("*") || Z.endsWith("*?"),
      `You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z === "/" ? "*" : `${Z}/*`}">.`,
    );
  }
  let b = Ui(),
    A;
  A = b;
  let D = A.pathname || "/",
    J = D;
  if (v !== "/") {
    let Z = v.replace(/^\//, "").split("/");
    J = "/" + D.replace(/^\//, "").split("/").slice(Z.length).join("/");
  }
  let B = _s(r, { pathname: J });
  return (
    Vt(
      T || B != null,
      `No routes matched location "${A.pathname}${A.search}${A.hash}" `,
    ),
    Vt(
      B == null ||
        B[B.length - 1].route.element !== void 0 ||
        B[B.length - 1].route.Component !== void 0 ||
        B[B.length - 1].route.lazy !== void 0,
      `Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`,
    ),
    Y1(
      B &&
        B.map((Z) =>
          Object.assign({}, Z, {
            params: Object.assign({}, m, Z.params),
            pathname: Zr([
              v,
              l.encodeLocation
                ? l.encodeLocation(Z.pathname).pathname
                : Z.pathname,
            ]),
            pathnameBase:
              Z.pathnameBase === "/"
                ? v
                : Zr([
                    v,
                    l.encodeLocation
                      ? l.encodeLocation(Z.pathnameBase).pathname
                      : Z.pathnameBase,
                  ]),
          }),
        ),
      c,
      t,
      s,
      o,
    )
  );
}
function q1() {
  let r = Z1(),
    e = gu(r)
      ? `${r.status} ${r.statusText}`
      : r instanceof Error
        ? r.message
        : JSON.stringify(r),
    t = r instanceof Error ? r.stack : null,
    s = "rgba(200,200,200, 0.5)",
    o = { padding: "0.5rem", backgroundColor: s },
    l = { padding: "2px 4px", backgroundColor: s },
    c = null;
  return (
    console.error("Error handled by React Router default ErrorBoundary:", r),
    (c = U.createElement(
      U.Fragment,
      null,
      U.createElement("p", null, " Hey developer "),
      U.createElement(
        "p",
        null,
        "You can provide a way better UX than this when your app throws errors by providing your own ",
        U.createElement("code", { style: l }, "ErrorBoundary"),
        " or",
        " ",
        U.createElement("code", { style: l }, "errorElement"),
        " prop on your route.",
      ),
    )),
    U.createElement(
      U.Fragment,
      null,
      U.createElement("h2", null, "Unexpected Application Error!"),
      U.createElement("h3", { style: { fontStyle: "italic" } }, e),
      t ? U.createElement("pre", { style: o }, t) : null,
      c,
    )
  );
}
var G1 = U.createElement(q1, null),
  $1 = class extends U.Component {
    constructor(r) {
      (super(r),
        (this.state = {
          location: r.location,
          revalidation: r.revalidation,
          error: r.error,
        }));
    }
    static getDerivedStateFromError(r) {
      return { error: r };
    }
    static getDerivedStateFromProps(r, e) {
      return e.location !== r.location ||
        (e.revalidation !== "idle" && r.revalidation === "idle")
        ? { error: r.error, location: r.location, revalidation: r.revalidation }
        : {
            error: r.error !== void 0 ? r.error : e.error,
            location: e.location,
            revalidation: r.revalidation || e.revalidation,
          };
    }
    componentDidCatch(r, e) {
      this.props.unstable_onError
        ? this.props.unstable_onError(r, e)
        : console.error(
            "React Router caught the following error during render",
            r,
          );
    }
    render() {
      return this.state.error !== void 0
        ? U.createElement(
            Nr.Provider,
            { value: this.props.routeContext },
            U.createElement(Nm.Provider, {
              value: this.state.error,
              children: this.props.component,
            }),
          )
        : this.props.children;
    }
  };
function K1({ routeContext: r, match: e, children: t }) {
  let s = U.useContext(Ca);
  return (
    s &&
      s.static &&
      s.staticContext &&
      (e.route.errorElement || e.route.ErrorBoundary) &&
      (s.staticContext._deepestRenderedBoundaryId = e.route.id),
    U.createElement(Nr.Provider, { value: r }, t)
  );
}
function Y1(r, e = [], t = null, s = null, o = null) {
  if (r == null) {
    if (!t) return null;
    if (t.errors) r = t.matches;
    else if (e.length === 0 && !t.initialized && t.matches.length > 0)
      r = t.matches;
    else return null;
  }
  let l = r,
    c = t?.errors;
  if (c != null) {
    let g = l.findIndex((v) => v.route.id && c?.[v.route.id] !== void 0);
    (Qe(
      g >= 0,
      `Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`,
    ),
      (l = l.slice(0, Math.min(l.length, g + 1))));
  }
  let d = !1,
    m = -1;
  if (t)
    for (let g = 0; g < l.length; g++) {
      let v = l[g];
      if (
        ((v.route.HydrateFallback || v.route.hydrateFallbackElement) && (m = g),
        v.route.id)
      ) {
        let { loaderData: T, errors: b } = t,
          A =
            v.route.loader &&
            !T.hasOwnProperty(v.route.id) &&
            (!b || b[v.route.id] === void 0);
        if (v.route.lazy || A) {
          ((d = !0), m >= 0 ? (l = l.slice(0, m + 1)) : (l = [l[0]]));
          break;
        }
      }
    }
  return l.reduceRight((g, v, T) => {
    let b,
      A = !1,
      D = null,
      J = null;
    t &&
      ((b = c && v.route.id ? c[v.route.id] : void 0),
      (D = v.route.errorElement || G1),
      d &&
        (m < 0 && T === 0
          ? (_T(
              "route-fallback",
              !1,
              "No `HydrateFallback` element provided to render during initial hydration",
            ),
            (A = !0),
            (J = null))
          : m === T &&
            ((A = !0), (J = v.route.hydrateFallbackElement || null))));
    let B = e.concat(l.slice(0, T + 1)),
      Q = () => {
        let Z;
        return (
          b
            ? (Z = D)
            : A
              ? (Z = J)
              : v.route.Component
                ? (Z = U.createElement(v.route.Component, null))
                : v.route.element
                  ? (Z = v.route.element)
                  : (Z = g),
          U.createElement(K1, {
            match: v,
            routeContext: { outlet: g, matches: B, isDataRoute: t != null },
            children: Z,
          })
        );
      };
    return t && (v.route.ErrorBoundary || v.route.errorElement || T === 0)
      ? U.createElement($1, {
          location: t.location,
          revalidation: t.revalidation,
          component: D,
          error: b,
          children: Q(),
          routeContext: { outlet: null, matches: B, isDataRoute: !0 },
          unstable_onError: s,
        })
      : Q();
  }, null);
}
function Dm(r) {
  return `${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;
}
function Q1(r) {
  let e = U.useContext(Ca);
  return (Qe(e, Dm(r)), e);
}
function X1(r) {
  let e = U.useContext(Ru);
  return (Qe(e, Dm(r)), e);
}
function W1(r) {
  let e = U.useContext(Nr);
  return (Qe(e, Dm(r)), e);
}
function Om(r) {
  let e = W1(r),
    t = e.matches[e.matches.length - 1];
  return (
    Qe(
      t.route.id,
      `${r} can only be used on routes that contain a unique "id"`,
    ),
    t.route.id
  );
}
function J1() {
  return Om("useRouteId");
}
function Z1() {
  let r = U.useContext(Nm),
    e = X1("useRouteError"),
    t = Om("useRouteError");
  return r !== void 0 ? r : e.errors?.[t];
}
function eR() {
  let { router: r } = Q1("useNavigate"),
    e = Om("useNavigate"),
    t = U.useRef(!1);
  return (
    vT(() => {
      t.current = !0;
    }),
    U.useCallback(
      async (o, l = {}) => {
        (Vt(t.current, yT),
          t.current &&
            (typeof o == "number"
              ? r.navigate(o)
              : await r.navigate(o, { fromRouteId: e, ...l })));
      },
      [r, e],
    )
  );
}
var rE = {};
function _T(r, e, t) {
  !e && !rE[r] && ((rE[r] = !0), Vt(!1, t));
}
var iE = {};
function sE(r, e) {
  !r && !iE[e] && ((iE[e] = !0), console.warn(e));
}
function tR(r) {
  let e = {
    hasErrorBoundary:
      r.hasErrorBoundary || r.ErrorBoundary != null || r.errorElement != null,
  };
  return (
    r.Component &&
      (r.element &&
        Vt(
          !1,
          "You should not include both `Component` and `element` on your route - `Component` will be used.",
        ),
      Object.assign(e, {
        element: U.createElement(r.Component),
        Component: void 0,
      })),
    r.HydrateFallback &&
      (r.hydrateFallbackElement &&
        Vt(
          !1,
          "You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used.",
        ),
      Object.assign(e, {
        hydrateFallbackElement: U.createElement(r.HydrateFallback),
        HydrateFallback: void 0,
      })),
    r.ErrorBoundary &&
      (r.errorElement &&
        Vt(
          !1,
          "You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used.",
        ),
      Object.assign(e, {
        errorElement: U.createElement(r.ErrorBoundary),
        ErrorBoundary: void 0,
      })),
    e
  );
}
var nR = ["HydrateFallback", "hydrateFallbackElement"],
  rR = class {
    constructor() {
      ((this.status = "pending"),
        (this.promise = new Promise((e, t) => {
          ((this.resolve = (s) => {
            this.status === "pending" && ((this.status = "resolved"), e(s));
          }),
            (this.reject = (s) => {
              this.status === "pending" && ((this.status = "rejected"), t(s));
            }));
        })));
    }
  };
function iR({ router: r, flushSync: e, unstable_onError: t }) {
  let [s, o] = U.useState(r.state),
    [l, c] = U.useState(),
    [d, m] = U.useState({ isTransitioning: !1 }),
    [g, v] = U.useState(),
    [T, b] = U.useState(),
    [A, D] = U.useState(),
    J = U.useRef(new Map()),
    B = U.useCallback(
      (le) => {
        o(
          (k) => (
            le.errors &&
              t &&
              Object.entries(le.errors).forEach(([x, R]) => {
                k.errors?.[x] !== R && t(R);
              }),
            le
          ),
        );
      },
      [t],
    ),
    Q = U.useCallback(
      (le, { deletedFetchers: k, flushSync: x, viewTransitionOpts: R }) => {
        (le.fetchers.forEach((M, V) => {
          M.data !== void 0 && J.current.set(V, M.data);
        }),
          k.forEach((M) => J.current.delete(M)),
          sE(
            x === !1 || e != null,
            'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.',
          ));
        let C =
          r.window != null &&
          r.window.document != null &&
          typeof r.window.document.startViewTransition == "function";
        if (
          (sE(
            R == null || C,
            "You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available.",
          ),
          !R || !C)
        ) {
          e && x ? e(() => B(le)) : U.startTransition(() => B(le));
          return;
        }
        if (e && x) {
          e(() => {
            (T && (g && g.resolve(), T.skipTransition()),
              m({
                isTransitioning: !0,
                flushSync: !0,
                currentLocation: R.currentLocation,
                nextLocation: R.nextLocation,
              }));
          });
          let M = r.window.document.startViewTransition(() => {
            e(() => B(le));
          });
          (M.finished.finally(() => {
            e(() => {
              (v(void 0), b(void 0), c(void 0), m({ isTransitioning: !1 }));
            });
          }),
            e(() => b(M)));
          return;
        }
        T
          ? (g && g.resolve(),
            T.skipTransition(),
            D({
              state: le,
              currentLocation: R.currentLocation,
              nextLocation: R.nextLocation,
            }))
          : (c(le),
            m({
              isTransitioning: !0,
              flushSync: !1,
              currentLocation: R.currentLocation,
              nextLocation: R.nextLocation,
            }));
      },
      [r.window, e, T, g, B],
    );
  (U.useLayoutEffect(() => r.subscribe(Q), [r, Q]),
    U.useEffect(() => {
      d.isTransitioning && !d.flushSync && v(new rR());
    }, [d]),
    U.useEffect(() => {
      if (g && l && r.window) {
        let le = l,
          k = g.promise,
          x = r.window.document.startViewTransition(async () => {
            (U.startTransition(() => B(le)), await k);
          });
        (x.finished.finally(() => {
          (v(void 0), b(void 0), c(void 0), m({ isTransitioning: !1 }));
        }),
          b(x));
      }
    }, [l, g, r.window, B]),
    U.useEffect(() => {
      g && l && s.location.key === l.location.key && g.resolve();
    }, [g, T, s.location, l]),
    U.useEffect(() => {
      !d.isTransitioning &&
        A &&
        (c(A.state),
        m({
          isTransitioning: !0,
          flushSync: !1,
          currentLocation: A.currentLocation,
          nextLocation: A.nextLocation,
        }),
        D(void 0));
    }, [d.isTransitioning, A]));
  let Z = U.useMemo(
      () => ({
        createHref: r.createHref,
        encodeLocation: r.encodeLocation,
        go: (le) => r.navigate(le),
        push: (le, k, x) =>
          r.navigate(le, {
            state: k,
            preventScrollReset: x?.preventScrollReset,
          }),
        replace: (le, k, x) =>
          r.navigate(le, {
            replace: !0,
            state: k,
            preventScrollReset: x?.preventScrollReset,
          }),
      }),
      [r],
    ),
    ie = r.basename || "/",
    pe = U.useMemo(
      () => ({
        router: r,
        navigator: Z,
        static: !1,
        basename: ie,
        unstable_onError: t,
      }),
      [r, Z, ie, t],
    );
  return U.createElement(
    U.Fragment,
    null,
    U.createElement(
      Ca.Provider,
      { value: pe },
      U.createElement(
        Ru.Provider,
        { value: s },
        U.createElement(
          gT.Provider,
          { value: J.current },
          U.createElement(
            xm.Provider,
            { value: d },
            U.createElement(
              uR,
              {
                basename: ie,
                location: s.location,
                navigationType: s.historyAction,
                navigator: Z,
              },
              U.createElement(sR, {
                routes: r.routes,
                future: r.future,
                state: s,
                unstable_onError: t,
              }),
            ),
          ),
        ),
      ),
    ),
    null,
  );
}
var sR = U.memo(aR);
function aR({ routes: r, future: e, state: t, unstable_onError: s }) {
  return F1(r, void 0, t, s, e);
}
function oR({ to: r, replace: e, state: t, relative: s }) {
  Qe(
    Bo(),
    "<Navigate> may be used only in the context of a <Router> component.",
  );
  let { static: o } = U.useContext(xr);
  Vt(
    !o,
    "<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.",
  );
  let { matches: l } = U.useContext(Nr),
    { pathname: c } = Ui(),
    d = Jh(),
    m = Xh(r, Qh(l), c, s === "path"),
    g = JSON.stringify(m);
  return (
    U.useEffect(() => {
      d(JSON.parse(g), { replace: e, state: t, relative: s });
    }, [d, g, s, e, t]),
    null
  );
}
function lR(r) {
  return H1(r.context);
}
function uR({
  basename: r = "/",
  children: e = null,
  location: t,
  navigationType: s = "POP",
  navigator: o,
  static: l = !1,
}) {
  Qe(
    !Bo(),
    "You cannot render a <Router> inside another <Router>. You should never have more than one in your app.",
  );
  let c = r.replace(/^\/*/, "/"),
    d = U.useMemo(
      () => ({ basename: c, navigator: o, static: l, future: {} }),
      [c, o, l],
    );
  typeof t == "string" && (t = ks(t));
  let {
      pathname: m = "/",
      search: g = "",
      hash: v = "",
      state: T = null,
      key: b = "default",
    } = t,
    A = U.useMemo(() => {
      let D = yr(m, c);
      return D == null
        ? null
        : {
            location: { pathname: D, search: g, hash: v, state: T, key: b },
            navigationType: s,
          };
    }, [c, m, g, v, T, b, s]);
  return (
    Vt(
      A != null,
      `<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`,
    ),
    A == null
      ? null
      : U.createElement(
          xr.Provider,
          { value: d },
          U.createElement(Wh.Provider, { children: e, value: A }),
        )
  );
}
var mh = "get",
  gh = "application/x-www-form-urlencoded";
function Zh(r) {
  return r != null && typeof r.tagName == "string";
}
function cR(r) {
  return Zh(r) && r.tagName.toLowerCase() === "button";
}
function hR(r) {
  return Zh(r) && r.tagName.toLowerCase() === "form";
}
function fR(r) {
  return Zh(r) && r.tagName.toLowerCase() === "input";
}
function dR(r) {
  return !!(r.metaKey || r.altKey || r.ctrlKey || r.shiftKey);
}
function pR(r, e) {
  return r.button === 0 && (!e || e === "_self") && !dR(r);
}
var nh = null;
function mR() {
  if (nh === null)
    try {
      (new FormData(document.createElement("form"), 0), (nh = !1));
    } catch {
      nh = !0;
    }
  return nh;
}
var gR = new Set([
  "application/x-www-form-urlencoded",
  "multipart/form-data",
  "text/plain",
]);
function Ap(r) {
  return r != null && !gR.has(r)
    ? (Vt(
        !1,
        `"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`,
      ),
      null)
    : r;
}
function yR(r, e) {
  let t, s, o, l, c;
  if (hR(r)) {
    let d = r.getAttribute("action");
    ((s = d ? yr(d, e) : null),
      (t = r.getAttribute("method") || mh),
      (o = Ap(r.getAttribute("enctype")) || gh),
      (l = new FormData(r)));
  } else if (cR(r) || (fR(r) && (r.type === "submit" || r.type === "image"))) {
    let d = r.form;
    if (d == null)
      throw new Error(
        'Cannot submit a <button> or <input type="submit"> without a <form>',
      );
    let m = r.getAttribute("formaction") || d.getAttribute("action");
    if (
      ((s = m ? yr(m, e) : null),
      (t = r.getAttribute("formmethod") || d.getAttribute("method") || mh),
      (o =
        Ap(r.getAttribute("formenctype")) ||
        Ap(d.getAttribute("enctype")) ||
        gh),
      (l = new FormData(d, r)),
      !mR())
    ) {
      let { name: g, type: v, value: T } = r;
      if (v === "image") {
        let b = g ? `${g}.` : "";
        (l.append(`${b}x`, "0"), l.append(`${b}y`, "0"));
      } else g && l.append(g, T);
    }
  } else {
    if (Zh(r))
      throw new Error(
        'Cannot submit element that is not <form>, <button>, or <input type="submit|image">',
      );
    ((t = mh), (s = null), (o = gh), (c = r));
  }
  return (
    l && o === "text/plain" && ((c = l), (l = void 0)),
    { action: s, method: t.toLowerCase(), encType: o, formData: l, body: c }
  );
}
Object.getOwnPropertyNames(Object.prototype).sort().join("\0");
function Mm(r, e) {
  if (r === !1 || r === null || typeof r > "u") throw new Error(e);
}
function vR(r, e, t) {
  let s =
    typeof r == "string"
      ? new URL(
          r,
          typeof window > "u"
            ? "server://singlefetch/"
            : window.location.origin,
        )
      : r;
  return (
    s.pathname === "/"
      ? (s.pathname = `_root.${t}`)
      : e && yr(s.pathname, e) === "/"
        ? (s.pathname = `${e.replace(/\/$/, "")}/_root.${t}`)
        : (s.pathname = `${s.pathname.replace(/\/$/, "")}.${t}`),
    s
  );
}
async function _R(r, e) {
  if (r.id in e) return e[r.id];
  try {
    let t = await import(r.module);
    return ((e[r.id] = t), t);
  } catch (t) {
    return (
      console.error(
        `Error loading route module \`${r.module}\`, reloading page...`,
      ),
      console.error(t),
      window.__reactRouterContext && window.__reactRouterContext.isSpaMode,
      window.location.reload(),
      new Promise(() => {})
    );
  }
}
function ER(r) {
  return r == null
    ? !1
    : r.href == null
      ? r.rel === "preload" &&
        typeof r.imageSrcSet == "string" &&
        typeof r.imageSizes == "string"
      : typeof r.rel == "string" && typeof r.href == "string";
}
async function TR(r, e, t) {
  let s = await Promise.all(
    r.map(async (o) => {
      let l = e.routes[o.route.id];
      if (l) {
        let c = await _R(l, t);
        return c.links ? c.links() : [];
      }
      return [];
    }),
  );
  return AR(
    s
      .flat(1)
      .filter(ER)
      .filter((o) => o.rel === "stylesheet" || o.rel === "preload")
      .map((o) =>
        o.rel === "stylesheet"
          ? { ...o, rel: "prefetch", as: "style" }
          : { ...o, rel: "prefetch" },
      ),
  );
}
function aE(r, e, t, s, o, l) {
  let c = (m, g) => (t[g] ? m.route.id !== t[g].route.id : !0),
    d = (m, g) =>
      t[g].pathname !== m.pathname ||
      (t[g].route.path?.endsWith("*") && t[g].params["*"] !== m.params["*"]);
  return l === "assets"
    ? e.filter((m, g) => c(m, g) || d(m, g))
    : l === "data"
      ? e.filter((m, g) => {
          let v = s.routes[m.route.id];
          if (!v || !v.hasLoader) return !1;
          if (c(m, g) || d(m, g)) return !0;
          if (m.route.shouldRevalidate) {
            let T = m.route.shouldRevalidate({
              currentUrl: new URL(
                o.pathname + o.search + o.hash,
                window.origin,
              ),
              currentParams: t[0]?.params || {},
              nextUrl: new URL(r, window.origin),
              nextParams: m.params,
              defaultShouldRevalidate: !0,
            });
            if (typeof T == "boolean") return T;
          }
          return !0;
        })
      : [];
}
function SR(r, e, { includeHydrateFallback: t } = {}) {
  return bR(
    r
      .map((s) => {
        let o = e.routes[s.route.id];
        if (!o) return [];
        let l = [o.module];
        return (
          o.clientActionModule && (l = l.concat(o.clientActionModule)),
          o.clientLoaderModule && (l = l.concat(o.clientLoaderModule)),
          t &&
            o.hydrateFallbackModule &&
            (l = l.concat(o.hydrateFallbackModule)),
          o.imports && (l = l.concat(o.imports)),
          l
        );
      })
      .flat(1),
  );
}
function bR(r) {
  return [...new Set(r)];
}
function wR(r) {
  let e = {},
    t = Object.keys(r).sort();
  for (let s of t) e[s] = r[s];
  return e;
}
function AR(r, e) {
  let t = new Set();
  return (
    new Set(e),
    r.reduce((s, o) => {
      let l = JSON.stringify(wR(o));
      return (t.has(l) || (t.add(l), s.push({ key: l, link: o })), s);
    }, [])
  );
}
function ET() {
  let r = U.useContext(Ca);
  return (
    Mm(
      r,
      "You must render this element inside a <DataRouterContext.Provider> element",
    ),
    r
  );
}
function RR() {
  let r = U.useContext(Ru);
  return (
    Mm(
      r,
      "You must render this element inside a <DataRouterStateContext.Provider> element",
    ),
    r
  );
}
var Pm = U.createContext(void 0);
Pm.displayName = "FrameworkContext";
function TT() {
  let r = U.useContext(Pm);
  return (
    Mm(r, "You must render this element inside a <HydratedRouter> element"),
    r
  );
}
function CR(r, e) {
  let t = U.useContext(Pm),
    [s, o] = U.useState(!1),
    [l, c] = U.useState(!1),
    {
      onFocus: d,
      onBlur: m,
      onMouseEnter: g,
      onMouseLeave: v,
      onTouchStart: T,
    } = e,
    b = U.useRef(null);
  (U.useEffect(() => {
    if ((r === "render" && c(!0), r === "viewport")) {
      let J = (Q) => {
          Q.forEach((Z) => {
            c(Z.isIntersecting);
          });
        },
        B = new IntersectionObserver(J, { threshold: 0.5 });
      return (
        b.current && B.observe(b.current),
        () => {
          B.disconnect();
        }
      );
    }
  }, [r]),
    U.useEffect(() => {
      if (s) {
        let J = setTimeout(() => {
          c(!0);
        }, 100);
        return () => {
          clearTimeout(J);
        };
      }
    }, [s]));
  let A = () => {
      o(!0);
    },
    D = () => {
      (o(!1), c(!1));
    };
  return t
    ? r !== "intent"
      ? [l, b, {}]
      : [
          l,
          b,
          {
            onFocus: Zl(d, A),
            onBlur: Zl(m, D),
            onMouseEnter: Zl(g, A),
            onMouseLeave: Zl(v, D),
            onTouchStart: Zl(T, A),
          },
        ]
    : [!1, b, {}];
}
function Zl(r, e) {
  return (t) => {
    (r && r(t), t.defaultPrevented || e(t));
  };
}
function IR({ page: r, ...e }) {
  let { router: t } = ET(),
    s = U.useMemo(() => _s(t.routes, r, t.basename), [t.routes, r, t.basename]);
  return s ? U.createElement(NR, { page: r, matches: s, ...e }) : null;
}
function xR(r) {
  let { manifest: e, routeModules: t } = TT(),
    [s, o] = U.useState([]);
  return (
    U.useEffect(() => {
      let l = !1;
      return (
        TR(r, e, t).then((c) => {
          l || o(c);
        }),
        () => {
          l = !0;
        }
      );
    }, [r, e, t]),
    s
  );
}
function NR({ page: r, matches: e, ...t }) {
  let s = Ui(),
    { manifest: o, routeModules: l } = TT(),
    { basename: c } = ET(),
    { loaderData: d, matches: m } = RR(),
    g = U.useMemo(() => aE(r, e, m, o, s, "data"), [r, e, m, o, s]),
    v = U.useMemo(() => aE(r, e, m, o, s, "assets"), [r, e, m, o, s]),
    T = U.useMemo(() => {
      if (r === s.pathname + s.search + s.hash) return [];
      let D = new Set(),
        J = !1;
      if (
        (e.forEach((Q) => {
          let Z = o.routes[Q.route.id];
          !Z ||
            !Z.hasLoader ||
            ((!g.some((ie) => ie.route.id === Q.route.id) &&
              Q.route.id in d &&
              l[Q.route.id]?.shouldRevalidate) ||
            Z.hasClientLoader
              ? (J = !0)
              : D.add(Q.route.id));
        }),
        D.size === 0)
      )
        return [];
      let B = vR(r, c, "data");
      return (
        J &&
          D.size > 0 &&
          B.searchParams.set(
            "_routes",
            e
              .filter((Q) => D.has(Q.route.id))
              .map((Q) => Q.route.id)
              .join(","),
          ),
        [B.pathname + B.search]
      );
    }, [c, d, s, o, g, e, r, l]),
    b = U.useMemo(() => SR(v, o), [v, o]),
    A = xR(v);
  return U.createElement(
    U.Fragment,
    null,
    T.map((D) =>
      U.createElement("link", {
        key: D,
        rel: "prefetch",
        as: "fetch",
        href: D,
        ...t,
      }),
    ),
    b.map((D) =>
      U.createElement("link", { key: D, rel: "modulepreload", href: D, ...t }),
    ),
    A.map(({ key: D, link: J }) =>
      U.createElement("link", { key: D, nonce: t.nonce, ...J }),
    ),
  );
}
function DR(...r) {
  return (e) => {
    r.forEach((t) => {
      typeof t == "function" ? t(e) : t != null && (t.current = e);
    });
  };
}
var ST =
  typeof window < "u" &&
  typeof window.document < "u" &&
  typeof window.document.createElement < "u";
try {
  ST && (window.__reactRouterVersion = "7.8.2");
} catch {}
function OR(r, e) {
  return m1({
    basename: e?.basename,
    unstable_getContext: e?.unstable_getContext,
    future: e?.future,
    history: PA({ window: e?.window }),
    hydrationData: MR(),
    routes: r,
    mapRouteProperties: tR,
    hydrationRouteProperties: nR,
    dataStrategy: e?.dataStrategy,
    patchRoutesOnNavigation: e?.patchRoutesOnNavigation,
    window: e?.window,
  }).initialize();
}
function MR() {
  let r = window?.__staticRouterHydrationData;
  return (r && r.errors && (r = { ...r, errors: PR(r.errors) }), r);
}
function PR(r) {
  if (!r) return null;
  let e = Object.entries(r),
    t = {};
  for (let [s, o] of e)
    if (o && o.__type === "RouteErrorResponse")
      t[s] = new Ch(o.status, o.statusText, o.data, o.internal === !0);
    else if (o && o.__type === "Error") {
      if (o.__subType) {
        let l = window[o.__subType];
        if (typeof l == "function")
          try {
            let c = new l(o.message);
            ((c.stack = ""), (t[s] = c));
          } catch {}
      }
      if (t[s] == null) {
        let l = new Error(o.message);
        ((l.stack = ""), (t[s] = l));
      }
    } else t[s] = o;
  return t;
}
var bT = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,
  Oi = U.forwardRef(function (
    {
      onClick: e,
      discover: t = "render",
      prefetch: s = "none",
      relative: o,
      reloadDocument: l,
      replace: c,
      state: d,
      target: m,
      to: g,
      preventScrollReset: v,
      viewTransition: T,
      ...b
    },
    A,
  ) {
    let { basename: D } = U.useContext(xr),
      J = typeof g == "string" && bT.test(g),
      B,
      Q = !1;
    if (typeof g == "string" && J && ((B = g), ST))
      try {
        let C = new URL(window.location.href),
          M = g.startsWith("//") ? new URL(C.protocol + g) : new URL(g),
          V = yr(M.pathname, D);
        M.origin === C.origin && V != null
          ? (g = V + M.search + M.hash)
          : (Q = !0);
      } catch {
        Vt(
          !1,
          `<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`,
        );
      }
    let Z = j1(g, { relative: o }),
      [ie, pe, le] = CR(s, b),
      k = kR(g, {
        replace: c,
        state: d,
        target: m,
        preventScrollReset: v,
        relative: o,
        viewTransition: T,
      });
    function x(C) {
      (e && e(C), C.defaultPrevented || k(C));
    }
    let R = U.createElement("a", {
      ...b,
      ...le,
      href: B || Z,
      onClick: Q || l ? e : x,
      ref: DR(A, pe),
      target: m,
      "data-discover": !J && t === "render" ? "true" : void 0,
    });
    return ie && !J
      ? U.createElement(U.Fragment, null, R, U.createElement(IR, { page: Z }))
      : R;
  });
Oi.displayName = "Link";
var LR = U.forwardRef(function (
  {
    "aria-current": e = "page",
    caseSensitive: t = !1,
    className: s = "",
    end: o = !1,
    style: l,
    to: c,
    viewTransition: d,
    children: m,
    ...g
  },
  v,
) {
  let T = Cu(c, { relative: g.relative }),
    b = Ui(),
    A = U.useContext(Ru),
    { navigator: D, basename: J } = U.useContext(xr),
    B = A != null && FR(T) && d === !0,
    Q = D.encodeLocation ? D.encodeLocation(T).pathname : T.pathname,
    Z = b.pathname,
    ie =
      A && A.navigation && A.navigation.location
        ? A.navigation.location.pathname
        : null;
  (t ||
    ((Z = Z.toLowerCase()),
    (ie = ie ? ie.toLowerCase() : null),
    (Q = Q.toLowerCase())),
    ie && J && (ie = yr(ie, J) || ie));
  const pe = Q !== "/" && Q.endsWith("/") ? Q.length - 1 : Q.length;
  let le = Z === Q || (!o && Z.startsWith(Q) && Z.charAt(pe) === "/"),
    k =
      ie != null &&
      (ie === Q || (!o && ie.startsWith(Q) && ie.charAt(Q.length) === "/")),
    x = { isActive: le, isPending: k, isTransitioning: B },
    R = le ? e : void 0,
    C;
  typeof s == "function"
    ? (C = s(x))
    : (C = [
        s,
        le ? "active" : null,
        k ? "pending" : null,
        B ? "transitioning" : null,
      ]
        .filter(Boolean)
        .join(" "));
  let M = typeof l == "function" ? l(x) : l;
  return U.createElement(
    Oi,
    {
      ...g,
      "aria-current": R,
      className: C,
      ref: v,
      style: M,
      to: c,
      viewTransition: d,
    },
    typeof m == "function" ? m(x) : m,
  );
});
LR.displayName = "NavLink";
var VR = U.forwardRef(
  (
    {
      discover: r = "render",
      fetcherKey: e,
      navigate: t,
      reloadDocument: s,
      replace: o,
      state: l,
      method: c = mh,
      action: d,
      onSubmit: m,
      relative: g,
      preventScrollReset: v,
      viewTransition: T,
      ...b
    },
    A,
  ) => {
    let D = BR(),
      J = HR(d, { relative: g }),
      B = c.toLowerCase() === "get" ? "get" : "post",
      Q = typeof d == "string" && bT.test(d),
      Z = (ie) => {
        if ((m && m(ie), ie.defaultPrevented)) return;
        ie.preventDefault();
        let pe = ie.nativeEvent.submitter,
          le = pe?.getAttribute("formmethod") || c;
        D(pe || ie.currentTarget, {
          fetcherKey: e,
          method: le,
          navigate: t,
          replace: o,
          state: l,
          relative: g,
          preventScrollReset: v,
          viewTransition: T,
        });
      };
    return U.createElement("form", {
      ref: A,
      method: B,
      action: J,
      onSubmit: s ? m : Z,
      ...b,
      "data-discover": !Q && r === "render" ? "true" : void 0,
    });
  },
);
VR.displayName = "Form";
function UR(r) {
  return `${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;
}
function wT(r) {
  let e = U.useContext(Ca);
  return (Qe(e, UR(r)), e);
}
function kR(
  r,
  {
    target: e,
    replace: t,
    state: s,
    preventScrollReset: o,
    relative: l,
    viewTransition: c,
  } = {},
) {
  let d = Jh(),
    m = Ui(),
    g = Cu(r, { relative: l });
  return U.useCallback(
    (v) => {
      if (pR(v, e)) {
        v.preventDefault();
        let T = t !== void 0 ? t : Ds(m) === Ds(g);
        d(r, {
          replace: T,
          state: s,
          preventScrollReset: o,
          relative: l,
          viewTransition: c,
        });
      }
    },
    [m, d, g, t, s, e, r, o, l, c],
  );
}
var jR = 0,
  zR = () => `__${String(++jR)}__`;
function BR() {
  let { router: r } = wT("useSubmit"),
    { basename: e } = U.useContext(xr),
    t = J1();
  return U.useCallback(
    async (s, o = {}) => {
      let { action: l, method: c, encType: d, formData: m, body: g } = yR(s, e);
      if (o.navigate === !1) {
        let v = o.fetcherKey || zR();
        await r.fetch(v, t, o.action || l, {
          preventScrollReset: o.preventScrollReset,
          formData: m,
          body: g,
          formMethod: o.method || c,
          formEncType: o.encType || d,
          flushSync: o.flushSync,
        });
      } else
        await r.navigate(o.action || l, {
          preventScrollReset: o.preventScrollReset,
          formData: m,
          body: g,
          formMethod: o.method || c,
          formEncType: o.encType || d,
          replace: o.replace,
          state: o.state,
          fromRouteId: t,
          flushSync: o.flushSync,
          viewTransition: o.viewTransition,
        });
    },
    [r, e, t],
  );
}
function HR(r, { relative: e } = {}) {
  let { basename: t } = U.useContext(xr),
    s = U.useContext(Nr);
  Qe(s, "useFormAction must be used inside a RouteContext");
  let [o] = s.matches.slice(-1),
    l = { ...Cu(r || ".", { relative: e }) },
    c = Ui();
  if (r == null) {
    l.search = c.search;
    let d = new URLSearchParams(l.search),
      m = d.getAll("index");
    if (m.some((v) => v === "")) {
      (d.delete("index"),
        m.filter((T) => T).forEach((T) => d.append("index", T)));
      let v = d.toString();
      l.search = v ? `?${v}` : "";
    }
  }
  return (
    (!r || r === ".") &&
      o.route.index &&
      (l.search = l.search ? l.search.replace(/^\?/, "?index&") : "?index"),
    t !== "/" && (l.pathname = l.pathname === "/" ? t : Zr([t, l.pathname])),
    Ds(l)
  );
}
function FR(r, { relative: e } = {}) {
  let t = U.useContext(xm);
  Qe(
    t != null,
    "`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?",
  );
  let { basename: s } = wT("useViewTransitionState"),
    o = Cu(r, { relative: e });
  if (!t.isTransitioning) return !1;
  let l = yr(t.currentLocation.pathname, s) || t.currentLocation.pathname,
    c = yr(t.nextLocation.pathname, s) || t.nextLocation.pathname;
  return Rh(o.pathname, c) != null || Rh(o.pathname, l) != null;
}
var qR = eT();
function GR(r) {
  return U.createElement(iR, { flushSync: qR.flushSync, ...r });
}
const $R = () => {};
var oE = {};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const AT = function (r) {
    const e = [];
    let t = 0;
    for (let s = 0; s < r.length; s++) {
      let o = r.charCodeAt(s);
      o < 128
        ? (e[t++] = o)
        : o < 2048
          ? ((e[t++] = (o >> 6) | 192), (e[t++] = (o & 63) | 128))
          : (o & 64512) === 55296 &&
              s + 1 < r.length &&
              (r.charCodeAt(s + 1) & 64512) === 56320
            ? ((o = 65536 + ((o & 1023) << 10) + (r.charCodeAt(++s) & 1023)),
              (e[t++] = (o >> 18) | 240),
              (e[t++] = ((o >> 12) & 63) | 128),
              (e[t++] = ((o >> 6) & 63) | 128),
              (e[t++] = (o & 63) | 128))
            : ((e[t++] = (o >> 12) | 224),
              (e[t++] = ((o >> 6) & 63) | 128),
              (e[t++] = (o & 63) | 128));
    }
    return e;
  },
  KR = function (r) {
    const e = [];
    let t = 0,
      s = 0;
    for (; t < r.length; ) {
      const o = r[t++];
      if (o < 128) e[s++] = String.fromCharCode(o);
      else if (o > 191 && o < 224) {
        const l = r[t++];
        e[s++] = String.fromCharCode(((o & 31) << 6) | (l & 63));
      } else if (o > 239 && o < 365) {
        const l = r[t++],
          c = r[t++],
          d = r[t++],
          m =
            (((o & 7) << 18) | ((l & 63) << 12) | ((c & 63) << 6) | (d & 63)) -
            65536;
        ((e[s++] = String.fromCharCode(55296 + (m >> 10))),
          (e[s++] = String.fromCharCode(56320 + (m & 1023))));
      } else {
        const l = r[t++],
          c = r[t++];
        e[s++] = String.fromCharCode(
          ((o & 15) << 12) | ((l & 63) << 6) | (c & 63),
        );
      }
    }
    return e.join("");
  },
  RT = {
    byteToCharMap_: null,
    charToByteMap_: null,
    byteToCharMapWebSafe_: null,
    charToByteMapWebSafe_: null,
    ENCODED_VALS_BASE:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
    get ENCODED_VALS() {
      return this.ENCODED_VALS_BASE + "+/=";
    },
    get ENCODED_VALS_WEBSAFE() {
      return this.ENCODED_VALS_BASE + "-_.";
    },
    HAS_NATIVE_SUPPORT: typeof atob == "function",
    encodeByteArray(r, e) {
      if (!Array.isArray(r))
        throw Error("encodeByteArray takes an array as a parameter");
      this.init_();
      const t = e ? this.byteToCharMapWebSafe_ : this.byteToCharMap_,
        s = [];
      for (let o = 0; o < r.length; o += 3) {
        const l = r[o],
          c = o + 1 < r.length,
          d = c ? r[o + 1] : 0,
          m = o + 2 < r.length,
          g = m ? r[o + 2] : 0,
          v = l >> 2,
          T = ((l & 3) << 4) | (d >> 4);
        let b = ((d & 15) << 2) | (g >> 6),
          A = g & 63;
        (m || ((A = 64), c || (b = 64)), s.push(t[v], t[T], t[b], t[A]));
      }
      return s.join("");
    },
    encodeString(r, e) {
      return this.HAS_NATIVE_SUPPORT && !e
        ? btoa(r)
        : this.encodeByteArray(AT(r), e);
    },
    decodeString(r, e) {
      return this.HAS_NATIVE_SUPPORT && !e
        ? atob(r)
        : KR(this.decodeStringToByteArray(r, e));
    },
    decodeStringToByteArray(r, e) {
      this.init_();
      const t = e ? this.charToByteMapWebSafe_ : this.charToByteMap_,
        s = [];
      for (let o = 0; o < r.length; ) {
        const l = t[r.charAt(o++)],
          d = o < r.length ? t[r.charAt(o)] : 0;
        ++o;
        const g = o < r.length ? t[r.charAt(o)] : 64;
        ++o;
        const T = o < r.length ? t[r.charAt(o)] : 64;
        if ((++o, l == null || d == null || g == null || T == null))
          throw new YR();
        const b = (l << 2) | (d >> 4);
        if ((s.push(b), g !== 64)) {
          const A = ((d << 4) & 240) | (g >> 2);
          if ((s.push(A), T !== 64)) {
            const D = ((g << 6) & 192) | T;
            s.push(D);
          }
        }
      }
      return s;
    },
    init_() {
      if (!this.byteToCharMap_) {
        ((this.byteToCharMap_ = {}),
          (this.charToByteMap_ = {}),
          (this.byteToCharMapWebSafe_ = {}),
          (this.charToByteMapWebSafe_ = {}));
        for (let r = 0; r < this.ENCODED_VALS.length; r++)
          ((this.byteToCharMap_[r] = this.ENCODED_VALS.charAt(r)),
            (this.charToByteMap_[this.byteToCharMap_[r]] = r),
            (this.byteToCharMapWebSafe_[r] =
              this.ENCODED_VALS_WEBSAFE.charAt(r)),
            (this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]] = r),
            r >= this.ENCODED_VALS_BASE.length &&
              ((this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)] = r),
              (this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)] = r)));
      }
    },
  };
class YR extends Error {
  constructor() {
    (super(...arguments), (this.name = "DecodeBase64StringError"));
  }
}
const QR = function (r) {
    const e = AT(r);
    return RT.encodeByteArray(e, !0);
  },
  xh = function (r) {
    return QR(r).replace(/\./g, "");
  },
  CT = function (r) {
    try {
      return RT.decodeString(r, !0);
    } catch (e) {
      console.error("base64Decode failed: ", e);
    }
    return null;
  };
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function XR() {
  if (typeof self < "u") return self;
  if (typeof window < "u") return window;
  if (typeof global < "u") return global;
  throw new Error("Unable to locate global object.");
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const WR = () => XR().__FIREBASE_DEFAULTS__,
  JR = () => {
    if (typeof process > "u" || typeof oE > "u") return;
    const r = oE.__FIREBASE_DEFAULTS__;
    if (r) return JSON.parse(r);
  },
  ZR = () => {
    if (typeof document > "u") return;
    let r;
    try {
      r = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);
    } catch {
      return;
    }
    const e = r && CT(r[1]);
    return e && JSON.parse(e);
  },
  ef = () => {
    try {
      return $R() || WR() || JR() || ZR();
    } catch (r) {
      console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);
      return;
    }
  },
  IT = (r) => ef()?.emulatorHosts?.[r],
  eC = (r) => {
    const e = IT(r);
    if (!e) return;
    const t = e.lastIndexOf(":");
    if (t <= 0 || t + 1 === e.length)
      throw new Error(`Invalid host ${e} with no separate hostname and port!`);
    const s = parseInt(e.substring(t + 1), 10);
    return e[0] === "[" ? [e.substring(1, t - 1), s] : [e.substring(0, t), s];
  },
  xT = () => ef()?.config,
  NT = (r) => ef()?.[`_${r}`];
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class tC {
  constructor() {
    ((this.reject = () => {}),
      (this.resolve = () => {}),
      (this.promise = new Promise((e, t) => {
        ((this.resolve = e), (this.reject = t));
      })));
  }
  wrapCallback(e) {
    return (t, s) => {
      (t ? this.reject(t) : this.resolve(s),
        typeof e == "function" &&
          (this.promise.catch(() => {}), e.length === 1 ? e(t) : e(t, s)));
    };
  }
}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Ho(r) {
  try {
    return (
      r.startsWith("http://") || r.startsWith("https://")
        ? new URL(r).hostname
        : r
    ).endsWith(".cloudworkstations.dev");
  } catch {
    return !1;
  }
}
async function DT(r) {
  return (await fetch(r, { credentials: "include" })).ok;
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function nC(r, e) {
  if (r.uid)
    throw new Error(
      'The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.',
    );
  const t = { alg: "none", type: "JWT" },
    s = e || "demo-project",
    o = r.iat || 0,
    l = r.sub || r.user_id;
  if (!l)
    throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");
  const c = {
    iss: `https://securetoken.google.com/${s}`,
    aud: s,
    iat: o,
    exp: o + 3600,
    auth_time: o,
    sub: l,
    user_id: l,
    firebase: { sign_in_provider: "custom", identities: {} },
    ...r,
  };
  return [xh(JSON.stringify(t)), xh(JSON.stringify(c)), ""].join(".");
}
const ou = {};
function rC() {
  const r = { prod: [], emulator: [] };
  for (const e of Object.keys(ou)) ou[e] ? r.emulator.push(e) : r.prod.push(e);
  return r;
}
function iC(r) {
  let e = document.getElementById(r),
    t = !1;
  return (
    e ||
      ((e = document.createElement("div")), e.setAttribute("id", r), (t = !0)),
    { created: t, element: e }
  );
}
let lE = !1;
function OT(r, e) {
  if (
    typeof window > "u" ||
    typeof document > "u" ||
    !Ho(window.location.host) ||
    ou[r] === e ||
    ou[r] ||
    lE
  )
    return;
  ou[r] = e;
  function t(b) {
    return `__firebase__banner__${b}`;
  }
  const s = "__firebase__banner",
    l = rC().prod.length > 0;
  function c() {
    const b = document.getElementById(s);
    b && b.remove();
  }
  function d(b) {
    ((b.style.display = "flex"),
      (b.style.background = "#7faaf0"),
      (b.style.position = "fixed"),
      (b.style.bottom = "5px"),
      (b.style.left = "5px"),
      (b.style.padding = ".5em"),
      (b.style.borderRadius = "5px"),
      (b.style.alignItems = "center"));
  }
  function m(b, A) {
    (b.setAttribute("width", "24"),
      b.setAttribute("id", A),
      b.setAttribute("height", "24"),
      b.setAttribute("viewBox", "0 0 24 24"),
      b.setAttribute("fill", "none"),
      (b.style.marginLeft = "-6px"));
  }
  function g() {
    const b = document.createElement("span");
    return (
      (b.style.cursor = "pointer"),
      (b.style.marginLeft = "16px"),
      (b.style.fontSize = "24px"),
      (b.innerHTML = " &times;"),
      (b.onclick = () => {
        ((lE = !0), c());
      }),
      b
    );
  }
  function v(b, A) {
    (b.setAttribute("id", A),
      (b.innerText = "Learn more"),
      (b.href =
        "https://firebase.google.com/docs/studio/preview-apps#preview-backend"),
      b.setAttribute("target", "__blank"),
      (b.style.paddingLeft = "5px"),
      (b.style.textDecoration = "underline"));
  }
  function T() {
    const b = iC(s),
      A = t("text"),
      D = document.getElementById(A) || document.createElement("span"),
      J = t("learnmore"),
      B = document.getElementById(J) || document.createElement("a"),
      Q = t("preprendIcon"),
      Z =
        document.getElementById(Q) ||
        document.createElementNS("http://www.w3.org/2000/svg", "svg");
    if (b.created) {
      const ie = b.element;
      (d(ie), v(B, J));
      const pe = g();
      (m(Z, Q), ie.append(Z, D, B, pe), document.body.appendChild(ie));
    }
    (l
      ? ((D.innerText = "Preview backend disconnected."),
        (Z.innerHTML = `<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`))
      : ((Z.innerHTML = `<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`),
        (D.innerText = "Preview backend running in this workspace.")),
      D.setAttribute("id", A));
  }
  document.readyState === "loading"
    ? window.addEventListener("DOMContentLoaded", T)
    : T();
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Tn() {
  return typeof navigator < "u" && typeof navigator.userAgent == "string"
    ? navigator.userAgent
    : "";
}
function sC() {
  return (
    typeof window < "u" &&
    !!(window.cordova || window.phonegap || window.PhoneGap) &&
    /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())
  );
}
function aC() {
  const r = ef()?.forceEnvironment;
  if (r === "node") return !0;
  if (r === "browser") return !1;
  try {
    return (
      Object.prototype.toString.call(global.process) === "[object process]"
    );
  } catch {
    return !1;
  }
}
function oC() {
  return typeof navigator < "u" && navigator.userAgent === "Cloudflare-Workers";
}
function lC() {
  const r =
    typeof chrome == "object"
      ? chrome.runtime
      : typeof browser == "object"
        ? browser.runtime
        : void 0;
  return typeof r == "object" && r.id !== void 0;
}
function uC() {
  return typeof navigator == "object" && navigator.product === "ReactNative";
}
function cC() {
  const r = Tn();
  return r.indexOf("MSIE ") >= 0 || r.indexOf("Trident/") >= 0;
}
function hC() {
  return (
    !aC() &&
    !!navigator.userAgent &&
    navigator.userAgent.includes("Safari") &&
    !navigator.userAgent.includes("Chrome")
  );
}
function fC() {
  try {
    return typeof indexedDB == "object";
  } catch {
    return !1;
  }
}
function dC() {
  return new Promise((r, e) => {
    try {
      let t = !0;
      const s = "validate-browser-context-for-indexeddb-analytics-module",
        o = self.indexedDB.open(s);
      ((o.onsuccess = () => {
        (o.result.close(), t || self.indexedDB.deleteDatabase(s), r(!0));
      }),
        (o.onupgradeneeded = () => {
          t = !1;
        }),
        (o.onerror = () => {
          e(o.error?.message || "");
        }));
    } catch (t) {
      e(t);
    }
  });
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const pC = "FirebaseError";
class ki extends Error {
  constructor(e, t, s) {
    (super(t),
      (this.code = e),
      (this.customData = s),
      (this.name = pC),
      Object.setPrototypeOf(this, ki.prototype),
      Error.captureStackTrace &&
        Error.captureStackTrace(this, Iu.prototype.create));
  }
}
class Iu {
  constructor(e, t, s) {
    ((this.service = e), (this.serviceName = t), (this.errors = s));
  }
  create(e, ...t) {
    const s = t[0] || {},
      o = `${this.service}/${e}`,
      l = this.errors[e],
      c = l ? mC(l, s) : "Error",
      d = `${this.serviceName}: ${c} (${o}).`;
    return new ki(o, d, s);
  }
}
function mC(r, e) {
  return r.replace(gC, (t, s) => {
    const o = e[s];
    return o != null ? String(o) : `<${s}?>`;
  });
}
const gC = /\{\$([^}]+)}/g;
function yC(r) {
  for (const e in r) if (Object.prototype.hasOwnProperty.call(r, e)) return !1;
  return !0;
}
function Sa(r, e) {
  if (r === e) return !0;
  const t = Object.keys(r),
    s = Object.keys(e);
  for (const o of t) {
    if (!s.includes(o)) return !1;
    const l = r[o],
      c = e[o];
    if (uE(l) && uE(c)) {
      if (!Sa(l, c)) return !1;
    } else if (l !== c) return !1;
  }
  for (const o of s) if (!t.includes(o)) return !1;
  return !0;
}
function uE(r) {
  return r !== null && typeof r == "object";
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function xu(r) {
  const e = [];
  for (const [t, s] of Object.entries(r))
    Array.isArray(s)
      ? s.forEach((o) => {
          e.push(encodeURIComponent(t) + "=" + encodeURIComponent(o));
        })
      : e.push(encodeURIComponent(t) + "=" + encodeURIComponent(s));
  return e.length ? "&" + e.join("&") : "";
}
function nu(r) {
  const e = {};
  return (
    r
      .replace(/^\?/, "")
      .split("&")
      .forEach((s) => {
        if (s) {
          const [o, l] = s.split("=");
          e[decodeURIComponent(o)] = decodeURIComponent(l);
        }
      }),
    e
  );
}
function ru(r) {
  const e = r.indexOf("?");
  if (!e) return "";
  const t = r.indexOf("#", e);
  return r.substring(e, t > 0 ? t : void 0);
}
function vC(r, e) {
  const t = new _C(r, e);
  return t.subscribe.bind(t);
}
class _C {
  constructor(e, t) {
    ((this.observers = []),
      (this.unsubscribes = []),
      (this.observerCount = 0),
      (this.task = Promise.resolve()),
      (this.finalized = !1),
      (this.onNoObservers = t),
      this.task
        .then(() => {
          e(this);
        })
        .catch((s) => {
          this.error(s);
        }));
  }
  next(e) {
    this.forEachObserver((t) => {
      t.next(e);
    });
  }
  error(e) {
    (this.forEachObserver((t) => {
      t.error(e);
    }),
      this.close(e));
  }
  complete() {
    (this.forEachObserver((e) => {
      e.complete();
    }),
      this.close());
  }
  subscribe(e, t, s) {
    let o;
    if (e === void 0 && t === void 0 && s === void 0)
      throw new Error("Missing Observer.");
    (EC(e, ["next", "error", "complete"])
      ? (o = e)
      : (o = { next: e, error: t, complete: s }),
      o.next === void 0 && (o.next = Rp),
      o.error === void 0 && (o.error = Rp),
      o.complete === void 0 && (o.complete = Rp));
    const l = this.unsubscribeOne.bind(this, this.observers.length);
    return (
      this.finalized &&
        this.task.then(() => {
          try {
            this.finalError ? o.error(this.finalError) : o.complete();
          } catch {}
        }),
      this.observers.push(o),
      l
    );
  }
  unsubscribeOne(e) {
    this.observers === void 0 ||
      this.observers[e] === void 0 ||
      (delete this.observers[e],
      (this.observerCount -= 1),
      this.observerCount === 0 &&
        this.onNoObservers !== void 0 &&
        this.onNoObservers(this));
  }
  forEachObserver(e) {
    if (!this.finalized)
      for (let t = 0; t < this.observers.length; t++) this.sendOne(t, e);
  }
  sendOne(e, t) {
    this.task.then(() => {
      if (this.observers !== void 0 && this.observers[e] !== void 0)
        try {
          t(this.observers[e]);
        } catch (s) {
          typeof console < "u" && console.error && console.error(s);
        }
    });
  }
  close(e) {
    this.finalized ||
      ((this.finalized = !0),
      e !== void 0 && (this.finalError = e),
      this.task.then(() => {
        ((this.observers = void 0), (this.onNoObservers = void 0));
      }));
  }
}
function EC(r, e) {
  if (typeof r != "object" || r === null) return !1;
  for (const t of e) if (t in r && typeof r[t] == "function") return !0;
  return !1;
}
function Rp() {}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Xn(r) {
  return r && r._delegate ? r._delegate : r;
}
class ba {
  constructor(e, t, s) {
    ((this.name = e),
      (this.instanceFactory = t),
      (this.type = s),
      (this.multipleInstances = !1),
      (this.serviceProps = {}),
      (this.instantiationMode = "LAZY"),
      (this.onInstanceCreated = null));
  }
  setInstantiationMode(e) {
    return ((this.instantiationMode = e), this);
  }
  setMultipleInstances(e) {
    return ((this.multipleInstances = e), this);
  }
  setServiceProps(e) {
    return ((this.serviceProps = e), this);
  }
  setInstanceCreatedCallback(e) {
    return ((this.onInstanceCreated = e), this);
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const ga = "[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class TC {
  constructor(e, t) {
    ((this.name = e),
      (this.container = t),
      (this.component = null),
      (this.instances = new Map()),
      (this.instancesDeferred = new Map()),
      (this.instancesOptions = new Map()),
      (this.onInitCallbacks = new Map()));
  }
  get(e) {
    const t = this.normalizeInstanceIdentifier(e);
    if (!this.instancesDeferred.has(t)) {
      const s = new tC();
      if (
        (this.instancesDeferred.set(t, s),
        this.isInitialized(t) || this.shouldAutoInitialize())
      )
        try {
          const o = this.getOrInitializeService({ instanceIdentifier: t });
          o && s.resolve(o);
        } catch {}
    }
    return this.instancesDeferred.get(t).promise;
  }
  getImmediate(e) {
    const t = this.normalizeInstanceIdentifier(e?.identifier),
      s = e?.optional ?? !1;
    if (this.isInitialized(t) || this.shouldAutoInitialize())
      try {
        return this.getOrInitializeService({ instanceIdentifier: t });
      } catch (o) {
        if (s) return null;
        throw o;
      }
    else {
      if (s) return null;
      throw Error(`Service ${this.name} is not available`);
    }
  }
  getComponent() {
    return this.component;
  }
  setComponent(e) {
    if (e.name !== this.name)
      throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);
    if (this.component)
      throw Error(`Component for ${this.name} has already been provided`);
    if (((this.component = e), !!this.shouldAutoInitialize())) {
      if (bC(e))
        try {
          this.getOrInitializeService({ instanceIdentifier: ga });
        } catch {}
      for (const [t, s] of this.instancesDeferred.entries()) {
        const o = this.normalizeInstanceIdentifier(t);
        try {
          const l = this.getOrInitializeService({ instanceIdentifier: o });
          s.resolve(l);
        } catch {}
      }
    }
  }
  clearInstance(e = ga) {
    (this.instancesDeferred.delete(e),
      this.instancesOptions.delete(e),
      this.instances.delete(e));
  }
  async delete() {
    const e = Array.from(this.instances.values());
    await Promise.all([
      ...e.filter((t) => "INTERNAL" in t).map((t) => t.INTERNAL.delete()),
      ...e.filter((t) => "_delete" in t).map((t) => t._delete()),
    ]);
  }
  isComponentSet() {
    return this.component != null;
  }
  isInitialized(e = ga) {
    return this.instances.has(e);
  }
  getOptions(e = ga) {
    return this.instancesOptions.get(e) || {};
  }
  initialize(e = {}) {
    const { options: t = {} } = e,
      s = this.normalizeInstanceIdentifier(e.instanceIdentifier);
    if (this.isInitialized(s))
      throw Error(`${this.name}(${s}) has already been initialized`);
    if (!this.isComponentSet())
      throw Error(`Component ${this.name} has not been registered yet`);
    const o = this.getOrInitializeService({
      instanceIdentifier: s,
      options: t,
    });
    for (const [l, c] of this.instancesDeferred.entries()) {
      const d = this.normalizeInstanceIdentifier(l);
      s === d && c.resolve(o);
    }
    return o;
  }
  onInit(e, t) {
    const s = this.normalizeInstanceIdentifier(t),
      o = this.onInitCallbacks.get(s) ?? new Set();
    (o.add(e), this.onInitCallbacks.set(s, o));
    const l = this.instances.get(s);
    return (
      l && e(l, s),
      () => {
        o.delete(e);
      }
    );
  }
  invokeOnInitCallbacks(e, t) {
    const s = this.onInitCallbacks.get(t);
    if (s)
      for (const o of s)
        try {
          o(e, t);
        } catch {}
  }
  getOrInitializeService({ instanceIdentifier: e, options: t = {} }) {
    let s = this.instances.get(e);
    if (
      !s &&
      this.component &&
      ((s = this.component.instanceFactory(this.container, {
        instanceIdentifier: SC(e),
        options: t,
      })),
      this.instances.set(e, s),
      this.instancesOptions.set(e, t),
      this.invokeOnInitCallbacks(s, e),
      this.component.onInstanceCreated)
    )
      try {
        this.component.onInstanceCreated(this.container, e, s);
      } catch {}
    return s || null;
  }
  normalizeInstanceIdentifier(e = ga) {
    return this.component ? (this.component.multipleInstances ? e : ga) : e;
  }
  shouldAutoInitialize() {
    return !!this.component && this.component.instantiationMode !== "EXPLICIT";
  }
}
function SC(r) {
  return r === ga ? void 0 : r;
}
function bC(r) {
  return r.instantiationMode === "EAGER";
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class wC {
  constructor(e) {
    ((this.name = e), (this.providers = new Map()));
  }
  addComponent(e) {
    const t = this.getProvider(e.name);
    if (t.isComponentSet())
      throw new Error(
        `Component ${e.name} has already been registered with ${this.name}`,
      );
    t.setComponent(e);
  }
  addOrOverwriteComponent(e) {
    (this.getProvider(e.name).isComponentSet() && this.providers.delete(e.name),
      this.addComponent(e));
  }
  getProvider(e) {
    if (this.providers.has(e)) return this.providers.get(e);
    const t = new TC(e, this);
    return (this.providers.set(e, t), t);
  }
  getProviders() {
    return Array.from(this.providers.values());
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var Je;
(function (r) {
  ((r[(r.DEBUG = 0)] = "DEBUG"),
    (r[(r.VERBOSE = 1)] = "VERBOSE"),
    (r[(r.INFO = 2)] = "INFO"),
    (r[(r.WARN = 3)] = "WARN"),
    (r[(r.ERROR = 4)] = "ERROR"),
    (r[(r.SILENT = 5)] = "SILENT"));
})(Je || (Je = {}));
const AC = {
    debug: Je.DEBUG,
    verbose: Je.VERBOSE,
    info: Je.INFO,
    warn: Je.WARN,
    error: Je.ERROR,
    silent: Je.SILENT,
  },
  RC = Je.INFO,
  CC = {
    [Je.DEBUG]: "log",
    [Je.VERBOSE]: "log",
    [Je.INFO]: "info",
    [Je.WARN]: "warn",
    [Je.ERROR]: "error",
  },
  IC = (r, e, ...t) => {
    if (e < r.logLevel) return;
    const s = new Date().toISOString(),
      o = CC[e];
    if (o) console[o](`[${s}]  ${r.name}:`, ...t);
    else
      throw new Error(
        `Attempted to log a message with an invalid logType (value: ${e})`,
      );
  };
let Lm = class {
  constructor(e) {
    ((this.name = e),
      (this._logLevel = RC),
      (this._logHandler = IC),
      (this._userLogHandler = null));
  }
  get logLevel() {
    return this._logLevel;
  }
  set logLevel(e) {
    if (!(e in Je))
      throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);
    this._logLevel = e;
  }
  setLogLevel(e) {
    this._logLevel = typeof e == "string" ? AC[e] : e;
  }
  get logHandler() {
    return this._logHandler;
  }
  set logHandler(e) {
    if (typeof e != "function")
      throw new TypeError("Value assigned to `logHandler` must be a function");
    this._logHandler = e;
  }
  get userLogHandler() {
    return this._userLogHandler;
  }
  set userLogHandler(e) {
    this._userLogHandler = e;
  }
  debug(...e) {
    (this._userLogHandler && this._userLogHandler(this, Je.DEBUG, ...e),
      this._logHandler(this, Je.DEBUG, ...e));
  }
  log(...e) {
    (this._userLogHandler && this._userLogHandler(this, Je.VERBOSE, ...e),
      this._logHandler(this, Je.VERBOSE, ...e));
  }
  info(...e) {
    (this._userLogHandler && this._userLogHandler(this, Je.INFO, ...e),
      this._logHandler(this, Je.INFO, ...e));
  }
  warn(...e) {
    (this._userLogHandler && this._userLogHandler(this, Je.WARN, ...e),
      this._logHandler(this, Je.WARN, ...e));
  }
  error(...e) {
    (this._userLogHandler && this._userLogHandler(this, Je.ERROR, ...e),
      this._logHandler(this, Je.ERROR, ...e));
  }
};
const xC = (r, e) => e.some((t) => r instanceof t);
let cE, hE;
function NC() {
  return (
    cE ||
    (cE = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor, IDBTransaction])
  );
}
function DC() {
  return (
    hE ||
    (hE = [
      IDBCursor.prototype.advance,
      IDBCursor.prototype.continue,
      IDBCursor.prototype.continuePrimaryKey,
    ])
  );
}
const MT = new WeakMap(),
  $p = new WeakMap(),
  PT = new WeakMap(),
  Cp = new WeakMap(),
  Vm = new WeakMap();
function OC(r) {
  const e = new Promise((t, s) => {
    const o = () => {
        (r.removeEventListener("success", l),
          r.removeEventListener("error", c));
      },
      l = () => {
        (t(Cs(r.result)), o());
      },
      c = () => {
        (s(r.error), o());
      };
    (r.addEventListener("success", l), r.addEventListener("error", c));
  });
  return (
    e
      .then((t) => {
        t instanceof IDBCursor && MT.set(t, r);
      })
      .catch(() => {}),
    Vm.set(e, r),
    e
  );
}
function MC(r) {
  if ($p.has(r)) return;
  const e = new Promise((t, s) => {
    const o = () => {
        (r.removeEventListener("complete", l),
          r.removeEventListener("error", c),
          r.removeEventListener("abort", c));
      },
      l = () => {
        (t(), o());
      },
      c = () => {
        (s(r.error || new DOMException("AbortError", "AbortError")), o());
      };
    (r.addEventListener("complete", l),
      r.addEventListener("error", c),
      r.addEventListener("abort", c));
  });
  $p.set(r, e);
}
let Kp = {
  get(r, e, t) {
    if (r instanceof IDBTransaction) {
      if (e === "done") return $p.get(r);
      if (e === "objectStoreNames") return r.objectStoreNames || PT.get(r);
      if (e === "store")
        return t.objectStoreNames[1]
          ? void 0
          : t.objectStore(t.objectStoreNames[0]);
    }
    return Cs(r[e]);
  },
  set(r, e, t) {
    return ((r[e] = t), !0);
  },
  has(r, e) {
    return r instanceof IDBTransaction && (e === "done" || e === "store")
      ? !0
      : e in r;
  },
};
function PC(r) {
  Kp = r(Kp);
}
function LC(r) {
  return r === IDBDatabase.prototype.transaction &&
    !("objectStoreNames" in IDBTransaction.prototype)
    ? function (e, ...t) {
        const s = r.call(Ip(this), e, ...t);
        return (PT.set(s, e.sort ? e.sort() : [e]), Cs(s));
      }
    : DC().includes(r)
      ? function (...e) {
          return (r.apply(Ip(this), e), Cs(MT.get(this)));
        }
      : function (...e) {
          return Cs(r.apply(Ip(this), e));
        };
}
function VC(r) {
  return typeof r == "function"
    ? LC(r)
    : (r instanceof IDBTransaction && MC(r),
      xC(r, NC()) ? new Proxy(r, Kp) : r);
}
function Cs(r) {
  if (r instanceof IDBRequest) return OC(r);
  if (Cp.has(r)) return Cp.get(r);
  const e = VC(r);
  return (e !== r && (Cp.set(r, e), Vm.set(e, r)), e);
}
const Ip = (r) => Vm.get(r);
function UC(r, e, { blocked: t, upgrade: s, blocking: o, terminated: l } = {}) {
  const c = indexedDB.open(r, e),
    d = Cs(c);
  return (
    s &&
      c.addEventListener("upgradeneeded", (m) => {
        s(Cs(c.result), m.oldVersion, m.newVersion, Cs(c.transaction), m);
      }),
    t && c.addEventListener("blocked", (m) => t(m.oldVersion, m.newVersion, m)),
    d
      .then((m) => {
        (l && m.addEventListener("close", () => l()),
          o &&
            m.addEventListener("versionchange", (g) =>
              o(g.oldVersion, g.newVersion, g),
            ));
      })
      .catch(() => {}),
    d
  );
}
const kC = ["get", "getKey", "getAll", "getAllKeys", "count"],
  jC = ["put", "add", "delete", "clear"],
  xp = new Map();
function fE(r, e) {
  if (!(r instanceof IDBDatabase && !(e in r) && typeof e == "string")) return;
  if (xp.get(e)) return xp.get(e);
  const t = e.replace(/FromIndex$/, ""),
    s = e !== t,
    o = jC.includes(t);
  if (
    !(t in (s ? IDBIndex : IDBObjectStore).prototype) ||
    !(o || kC.includes(t))
  )
    return;
  const l = async function (c, ...d) {
    const m = this.transaction(c, o ? "readwrite" : "readonly");
    let g = m.store;
    return (
      s && (g = g.index(d.shift())),
      (await Promise.all([g[t](...d), o && m.done]))[0]
    );
  };
  return (xp.set(e, l), l);
}
PC((r) => ({
  ...r,
  get: (e, t, s) => fE(e, t) || r.get(e, t, s),
  has: (e, t) => !!fE(e, t) || r.has(e, t),
}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class zC {
  constructor(e) {
    this.container = e;
  }
  getPlatformInfoString() {
    return this.container
      .getProviders()
      .map((t) => {
        if (BC(t)) {
          const s = t.getImmediate();
          return `${s.library}/${s.version}`;
        } else return null;
      })
      .filter((t) => t)
      .join(" ");
  }
}
function BC(r) {
  return r.getComponent()?.type === "VERSION";
}
const Yp = "@firebase/app",
  dE = "0.14.2";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Pi = new Lm("@firebase/app"),
  HC = "@firebase/app-compat",
  FC = "@firebase/analytics-compat",
  qC = "@firebase/analytics",
  GC = "@firebase/app-check-compat",
  $C = "@firebase/app-check",
  KC = "@firebase/auth",
  YC = "@firebase/auth-compat",
  QC = "@firebase/database",
  XC = "@firebase/data-connect",
  WC = "@firebase/database-compat",
  JC = "@firebase/functions",
  ZC = "@firebase/functions-compat",
  eI = "@firebase/installations",
  tI = "@firebase/installations-compat",
  nI = "@firebase/messaging",
  rI = "@firebase/messaging-compat",
  iI = "@firebase/performance",
  sI = "@firebase/performance-compat",
  aI = "@firebase/remote-config",
  oI = "@firebase/remote-config-compat",
  lI = "@firebase/storage",
  uI = "@firebase/storage-compat",
  cI = "@firebase/firestore",
  hI = "@firebase/ai",
  fI = "@firebase/firestore-compat",
  dI = "firebase",
  pI = "12.2.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Qp = "[DEFAULT]",
  mI = {
    [Yp]: "fire-core",
    [HC]: "fire-core-compat",
    [qC]: "fire-analytics",
    [FC]: "fire-analytics-compat",
    [$C]: "fire-app-check",
    [GC]: "fire-app-check-compat",
    [KC]: "fire-auth",
    [YC]: "fire-auth-compat",
    [QC]: "fire-rtdb",
    [XC]: "fire-data-connect",
    [WC]: "fire-rtdb-compat",
    [JC]: "fire-fn",
    [ZC]: "fire-fn-compat",
    [eI]: "fire-iid",
    [tI]: "fire-iid-compat",
    [nI]: "fire-fcm",
    [rI]: "fire-fcm-compat",
    [iI]: "fire-perf",
    [sI]: "fire-perf-compat",
    [aI]: "fire-rc",
    [oI]: "fire-rc-compat",
    [lI]: "fire-gcs",
    [uI]: "fire-gcs-compat",
    [cI]: "fire-fst",
    [fI]: "fire-fst-compat",
    [hI]: "fire-vertex",
    "fire-js": "fire-js",
    [dI]: "fire-js-all",
  };
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Nh = new Map(),
  gI = new Map(),
  Xp = new Map();
function pE(r, e) {
  try {
    r.container.addComponent(e);
  } catch (t) {
    Pi.debug(
      `Component ${e.name} failed to register with FirebaseApp ${r.name}`,
      t,
    );
  }
}
function Mo(r) {
  const e = r.name;
  if (Xp.has(e))
    return (
      Pi.debug(`There were multiple attempts to register component ${e}.`),
      !1
    );
  Xp.set(e, r);
  for (const t of Nh.values()) pE(t, r);
  for (const t of gI.values()) pE(t, r);
  return !0;
}
function Um(r, e) {
  const t = r.container.getProvider("heartbeat").getImmediate({ optional: !0 });
  return (t && t.triggerHeartbeat(), r.container.getProvider(e));
}
function mr(r) {
  return r == null ? !1 : r.settings !== void 0;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const yI = {
    "no-app":
      "No Firebase App '{$appName}' has been created - call initializeApp() first",
    "bad-app-name": "Illegal App name: '{$appName}'",
    "duplicate-app":
      "Firebase App named '{$appName}' already exists with different options or config",
    "app-deleted": "Firebase App named '{$appName}' already deleted",
    "server-app-deleted": "Firebase Server App has been deleted",
    "no-options":
      "Need to provide options, when not being deployed to hosting via source.",
    "invalid-app-argument":
      "firebase.{$appName}() takes either no argument or a Firebase App instance.",
    "invalid-log-argument":
      "First argument to `onLog` must be null or a function.",
    "idb-open":
      "Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-get":
      "Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-set":
      "Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-delete":
      "Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",
    "finalization-registry-not-supported":
      "FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",
    "invalid-server-app-environment":
      "FirebaseServerApp is not for use in browser environments.",
  },
  Is = new Iu("app", "Firebase", yI);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class vI {
  constructor(e, t, s) {
    ((this._isDeleted = !1),
      (this._options = { ...e }),
      (this._config = { ...t }),
      (this._name = t.name),
      (this._automaticDataCollectionEnabled = t.automaticDataCollectionEnabled),
      (this._container = s),
      this.container.addComponent(new ba("app", () => this, "PUBLIC")));
  }
  get automaticDataCollectionEnabled() {
    return (this.checkDestroyed(), this._automaticDataCollectionEnabled);
  }
  set automaticDataCollectionEnabled(e) {
    (this.checkDestroyed(), (this._automaticDataCollectionEnabled = e));
  }
  get name() {
    return (this.checkDestroyed(), this._name);
  }
  get options() {
    return (this.checkDestroyed(), this._options);
  }
  get config() {
    return (this.checkDestroyed(), this._config);
  }
  get container() {
    return this._container;
  }
  get isDeleted() {
    return this._isDeleted;
  }
  set isDeleted(e) {
    this._isDeleted = e;
  }
  checkDestroyed() {
    if (this.isDeleted) throw Is.create("app-deleted", { appName: this._name });
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Fo = pI;
function LT(r, e = {}) {
  let t = r;
  typeof e != "object" && (e = { name: e });
  const s = { name: Qp, automaticDataCollectionEnabled: !0, ...e },
    o = s.name;
  if (typeof o != "string" || !o)
    throw Is.create("bad-app-name", { appName: String(o) });
  if ((t || (t = xT()), !t)) throw Is.create("no-options");
  const l = Nh.get(o);
  if (l) {
    if (Sa(t, l.options) && Sa(s, l.config)) return l;
    throw Is.create("duplicate-app", { appName: o });
  }
  const c = new wC(o);
  for (const m of Xp.values()) c.addComponent(m);
  const d = new vI(t, s, c);
  return (Nh.set(o, d), d);
}
function VT(r = Qp) {
  const e = Nh.get(r);
  if (!e && r === Qp && xT()) return LT();
  if (!e) throw Is.create("no-app", { appName: r });
  return e;
}
function xs(r, e, t) {
  let s = mI[r] ?? r;
  t && (s += `-${t}`);
  const o = s.match(/\s|\//),
    l = e.match(/\s|\//);
  if (o || l) {
    const c = [`Unable to register library "${s}" with version "${e}":`];
    (o &&
      c.push(
        `library name "${s}" contains illegal characters (whitespace or "/")`,
      ),
      o && l && c.push("and"),
      l &&
        c.push(
          `version name "${e}" contains illegal characters (whitespace or "/")`,
        ),
      Pi.warn(c.join(" ")));
    return;
  }
  Mo(new ba(`${s}-version`, () => ({ library: s, version: e }), "VERSION"));
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const _I = "firebase-heartbeat-database",
  EI = 1,
  yu = "firebase-heartbeat-store";
let Np = null;
function UT() {
  return (
    Np ||
      (Np = UC(_I, EI, {
        upgrade: (r, e) => {
          switch (e) {
            case 0:
              try {
                r.createObjectStore(yu);
              } catch (t) {
                console.warn(t);
              }
          }
        },
      }).catch((r) => {
        throw Is.create("idb-open", { originalErrorMessage: r.message });
      })),
    Np
  );
}
async function TI(r) {
  try {
    const t = (await UT()).transaction(yu),
      s = await t.objectStore(yu).get(kT(r));
    return (await t.done, s);
  } catch (e) {
    if (e instanceof ki) Pi.warn(e.message);
    else {
      const t = Is.create("idb-get", { originalErrorMessage: e?.message });
      Pi.warn(t.message);
    }
  }
}
async function mE(r, e) {
  try {
    const s = (await UT()).transaction(yu, "readwrite");
    (await s.objectStore(yu).put(e, kT(r)), await s.done);
  } catch (t) {
    if (t instanceof ki) Pi.warn(t.message);
    else {
      const s = Is.create("idb-set", { originalErrorMessage: t?.message });
      Pi.warn(s.message);
    }
  }
}
function kT(r) {
  return `${r.name}!${r.options.appId}`;
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const SI = 1024,
  bI = 30;
class wI {
  constructor(e) {
    ((this.container = e), (this._heartbeatsCache = null));
    const t = this.container.getProvider("app").getImmediate();
    ((this._storage = new RI(t)),
      (this._heartbeatsCachePromise = this._storage
        .read()
        .then((s) => ((this._heartbeatsCache = s), s))));
  }
  async triggerHeartbeat() {
    try {
      const t = this.container
          .getProvider("platform-logger")
          .getImmediate()
          .getPlatformInfoString(),
        s = gE();
      if (
        (this._heartbeatsCache?.heartbeats == null &&
          ((this._heartbeatsCache = await this._heartbeatsCachePromise),
          this._heartbeatsCache?.heartbeats == null)) ||
        this._heartbeatsCache.lastSentHeartbeatDate === s ||
        this._heartbeatsCache.heartbeats.some((o) => o.date === s)
      )
        return;
      if (
        (this._heartbeatsCache.heartbeats.push({ date: s, agent: t }),
        this._heartbeatsCache.heartbeats.length > bI)
      ) {
        const o = CI(this._heartbeatsCache.heartbeats);
        this._heartbeatsCache.heartbeats.splice(o, 1);
      }
      return this._storage.overwrite(this._heartbeatsCache);
    } catch (e) {
      Pi.warn(e);
    }
  }
  async getHeartbeatsHeader() {
    try {
      if (
        (this._heartbeatsCache === null && (await this._heartbeatsCachePromise),
        this._heartbeatsCache?.heartbeats == null ||
          this._heartbeatsCache.heartbeats.length === 0)
      )
        return "";
      const e = gE(),
        { heartbeatsToSend: t, unsentEntries: s } = AI(
          this._heartbeatsCache.heartbeats,
        ),
        o = xh(JSON.stringify({ version: 2, heartbeats: t }));
      return (
        (this._heartbeatsCache.lastSentHeartbeatDate = e),
        s.length > 0
          ? ((this._heartbeatsCache.heartbeats = s),
            await this._storage.overwrite(this._heartbeatsCache))
          : ((this._heartbeatsCache.heartbeats = []),
            this._storage.overwrite(this._heartbeatsCache)),
        o
      );
    } catch (e) {
      return (Pi.warn(e), "");
    }
  }
}
function gE() {
  return new Date().toISOString().substring(0, 10);
}
function AI(r, e = SI) {
  const t = [];
  let s = r.slice();
  for (const o of r) {
    const l = t.find((c) => c.agent === o.agent);
    if (l) {
      if ((l.dates.push(o.date), yE(t) > e)) {
        l.dates.pop();
        break;
      }
    } else if ((t.push({ agent: o.agent, dates: [o.date] }), yE(t) > e)) {
      t.pop();
      break;
    }
    s = s.slice(1);
  }
  return { heartbeatsToSend: t, unsentEntries: s };
}
class RI {
  constructor(e) {
    ((this.app = e),
      (this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck()));
  }
  async runIndexedDBEnvironmentCheck() {
    return fC()
      ? dC()
          .then(() => !0)
          .catch(() => !1)
      : !1;
  }
  async read() {
    if (await this._canUseIndexedDBPromise) {
      const t = await TI(this.app);
      return t?.heartbeats ? t : { heartbeats: [] };
    } else return { heartbeats: [] };
  }
  async overwrite(e) {
    if (await this._canUseIndexedDBPromise) {
      const s = await this.read();
      return mE(this.app, {
        lastSentHeartbeatDate:
          e.lastSentHeartbeatDate ?? s.lastSentHeartbeatDate,
        heartbeats: e.heartbeats,
      });
    } else return;
  }
  async add(e) {
    if (await this._canUseIndexedDBPromise) {
      const s = await this.read();
      return mE(this.app, {
        lastSentHeartbeatDate:
          e.lastSentHeartbeatDate ?? s.lastSentHeartbeatDate,
        heartbeats: [...s.heartbeats, ...e.heartbeats],
      });
    } else return;
  }
}
function yE(r) {
  return xh(JSON.stringify({ version: 2, heartbeats: r })).length;
}
function CI(r) {
  if (r.length === 0) return -1;
  let e = 0,
    t = r[0].date;
  for (let s = 1; s < r.length; s++)
    r[s].date < t && ((t = r[s].date), (e = s));
  return e;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function II(r) {
  (Mo(new ba("platform-logger", (e) => new zC(e), "PRIVATE")),
    Mo(new ba("heartbeat", (e) => new wI(e), "PRIVATE")),
    xs(Yp, dE, r),
    xs(Yp, dE, "esm2020"),
    xs("fire-js", ""));
}
II("");
function jT() {
  return {
    "dependent-sdk-initialized-before-auth":
      "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",
  };
}
const xI = jT,
  zT = new Iu("auth", "Firebase", jT());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Dh = new Lm("@firebase/auth");
function NI(r, ...e) {
  Dh.logLevel <= Je.WARN && Dh.warn(`Auth (${Fo}): ${r}`, ...e);
}
function yh(r, ...e) {
  Dh.logLevel <= Je.ERROR && Dh.error(`Auth (${Fo}): ${r}`, ...e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Cr(r, ...e) {
  throw km(r, ...e);
}
function ei(r, ...e) {
  return km(r, ...e);
}
function BT(r, e, t) {
  const s = { ...xI(), [e]: t };
  return new Iu("auth", "Firebase", s).create(e, { appName: r.name });
}
function Mi(r) {
  return BT(
    r,
    "operation-not-supported-in-this-environment",
    "Operations that alter the current user are not supported in conjunction with FirebaseServerApp",
  );
}
function km(r, ...e) {
  if (typeof r != "string") {
    const t = e[0],
      s = [...e.slice(1)];
    return (s[0] && (s[0].appName = r.name), r._errorFactory.create(t, ...s));
  }
  return zT.create(r, ...e);
}
function Le(r, e, ...t) {
  if (!r) throw km(e, ...t);
}
function Ni(r) {
  const e = "INTERNAL ASSERTION FAILED: " + r;
  throw (yh(e), new Error(e));
}
function Li(r, e) {
  r || Ni(e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Wp() {
  return (typeof self < "u" && self.location?.href) || "";
}
function DI() {
  return vE() === "http:" || vE() === "https:";
}
function vE() {
  return (typeof self < "u" && self.location?.protocol) || null;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function OI() {
  return typeof navigator < "u" &&
    navigator &&
    "onLine" in navigator &&
    typeof navigator.onLine == "boolean" &&
    (DI() || lC() || "connection" in navigator)
    ? navigator.onLine
    : !0;
}
function MI() {
  if (typeof navigator > "u") return null;
  const r = navigator;
  return (r.languages && r.languages[0]) || r.language || null;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Nu {
  constructor(e, t) {
    ((this.shortDelay = e),
      (this.longDelay = t),
      Li(t > e, "Short delay should be less than long delay!"),
      (this.isMobile = sC() || uC()));
  }
  get() {
    return OI()
      ? this.isMobile
        ? this.longDelay
        : this.shortDelay
      : Math.min(5e3, this.shortDelay);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function jm(r, e) {
  Li(r.emulator, "Emulator should always be set here");
  const { url: t } = r.emulator;
  return e ? `${t}${e.startsWith("/") ? e.slice(1) : e}` : t;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class HT {
  static initialize(e, t, s) {
    ((this.fetchImpl = e),
      t && (this.headersImpl = t),
      s && (this.responseImpl = s));
  }
  static fetch() {
    if (this.fetchImpl) return this.fetchImpl;
    if (typeof self < "u" && "fetch" in self) return self.fetch;
    if (typeof globalThis < "u" && globalThis.fetch) return globalThis.fetch;
    if (typeof fetch < "u") return fetch;
    Ni(
      "Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill",
    );
  }
  static headers() {
    if (this.headersImpl) return this.headersImpl;
    if (typeof self < "u" && "Headers" in self) return self.Headers;
    if (typeof globalThis < "u" && globalThis.Headers)
      return globalThis.Headers;
    if (typeof Headers < "u") return Headers;
    Ni(
      "Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill",
    );
  }
  static response() {
    if (this.responseImpl) return this.responseImpl;
    if (typeof self < "u" && "Response" in self) return self.Response;
    if (typeof globalThis < "u" && globalThis.Response)
      return globalThis.Response;
    if (typeof Response < "u") return Response;
    Ni(
      "Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill",
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const PI = {
  CREDENTIAL_MISMATCH: "custom-token-mismatch",
  MISSING_CUSTOM_TOKEN: "internal-error",
  INVALID_IDENTIFIER: "invalid-email",
  MISSING_CONTINUE_URI: "internal-error",
  INVALID_PASSWORD: "wrong-password",
  MISSING_PASSWORD: "missing-password",
  INVALID_LOGIN_CREDENTIALS: "invalid-credential",
  EMAIL_EXISTS: "email-already-in-use",
  PASSWORD_LOGIN_DISABLED: "operation-not-allowed",
  INVALID_IDP_RESPONSE: "invalid-credential",
  INVALID_PENDING_TOKEN: "invalid-credential",
  FEDERATED_USER_ID_ALREADY_LINKED: "credential-already-in-use",
  MISSING_REQ_TYPE: "internal-error",
  EMAIL_NOT_FOUND: "user-not-found",
  RESET_PASSWORD_EXCEED_LIMIT: "too-many-requests",
  EXPIRED_OOB_CODE: "expired-action-code",
  INVALID_OOB_CODE: "invalid-action-code",
  MISSING_OOB_CODE: "internal-error",
  CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "requires-recent-login",
  INVALID_ID_TOKEN: "invalid-user-token",
  TOKEN_EXPIRED: "user-token-expired",
  USER_NOT_FOUND: "user-token-expired",
  TOO_MANY_ATTEMPTS_TRY_LATER: "too-many-requests",
  PASSWORD_DOES_NOT_MEET_REQUIREMENTS: "password-does-not-meet-requirements",
  INVALID_CODE: "invalid-verification-code",
  INVALID_SESSION_INFO: "invalid-verification-id",
  INVALID_TEMPORARY_PROOF: "invalid-credential",
  MISSING_SESSION_INFO: "missing-verification-id",
  SESSION_EXPIRED: "code-expired",
  MISSING_ANDROID_PACKAGE_NAME: "missing-android-pkg-name",
  UNAUTHORIZED_DOMAIN: "unauthorized-continue-uri",
  INVALID_OAUTH_CLIENT_ID: "invalid-oauth-client-id",
  ADMIN_ONLY_OPERATION: "admin-restricted-operation",
  INVALID_MFA_PENDING_CREDENTIAL: "invalid-multi-factor-session",
  MFA_ENROLLMENT_NOT_FOUND: "multi-factor-info-not-found",
  MISSING_MFA_ENROLLMENT_ID: "missing-multi-factor-info",
  MISSING_MFA_PENDING_CREDENTIAL: "missing-multi-factor-session",
  SECOND_FACTOR_EXISTS: "second-factor-already-in-use",
  SECOND_FACTOR_LIMIT_EXCEEDED: "maximum-second-factor-count-exceeded",
  BLOCKING_FUNCTION_ERROR_RESPONSE: "internal-error",
  RECAPTCHA_NOT_ENABLED: "recaptcha-not-enabled",
  MISSING_RECAPTCHA_TOKEN: "missing-recaptcha-token",
  INVALID_RECAPTCHA_TOKEN: "invalid-recaptcha-token",
  INVALID_RECAPTCHA_ACTION: "invalid-recaptcha-action",
  MISSING_CLIENT_TYPE: "missing-client-type",
  MISSING_RECAPTCHA_VERSION: "missing-recaptcha-version",
  INVALID_RECAPTCHA_VERSION: "invalid-recaptcha-version",
  INVALID_REQ_TYPE: "invalid-req-type",
};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const LI = [
    "/v1/accounts:signInWithCustomToken",
    "/v1/accounts:signInWithEmailLink",
    "/v1/accounts:signInWithIdp",
    "/v1/accounts:signInWithPassword",
    "/v1/accounts:signInWithPhoneNumber",
    "/v1/token",
  ],
  VI = new Nu(3e4, 6e4);
function js(r, e) {
  return r.tenantId && !e.tenantId ? { ...e, tenantId: r.tenantId } : e;
}
async function zs(r, e, t, s, o = {}) {
  return FT(r, o, async () => {
    let l = {},
      c = {};
    s && (e === "GET" ? (c = s) : (l = { body: JSON.stringify(s) }));
    const d = xu({ key: r.config.apiKey, ...c }).slice(1),
      m = await r._getAdditionalHeaders();
    ((m["Content-Type"] = "application/json"),
      r.languageCode && (m["X-Firebase-Locale"] = r.languageCode));
    const g = { method: e, headers: m, ...l };
    return (
      oC() || (g.referrerPolicy = "no-referrer"),
      r.emulatorConfig &&
        Ho(r.emulatorConfig.host) &&
        (g.credentials = "include"),
      HT.fetch()(await qT(r, r.config.apiHost, t, d), g)
    );
  });
}
async function FT(r, e, t) {
  r._canInitEmulator = !1;
  const s = { ...PI, ...e };
  try {
    const o = new kI(r),
      l = await Promise.race([t(), o.promise]);
    o.clearNetworkTimeout();
    const c = await l.json();
    if ("needConfirmation" in c)
      throw rh(r, "account-exists-with-different-credential", c);
    if (l.ok && !("errorMessage" in c)) return c;
    {
      const d = l.ok ? c.errorMessage : c.error.message,
        [m, g] = d.split(" : ");
      if (m === "FEDERATED_USER_ID_ALREADY_LINKED")
        throw rh(r, "credential-already-in-use", c);
      if (m === "EMAIL_EXISTS") throw rh(r, "email-already-in-use", c);
      if (m === "USER_DISABLED") throw rh(r, "user-disabled", c);
      const v = s[m] || m.toLowerCase().replace(/[_\s]+/g, "-");
      if (g) throw BT(r, v, g);
      Cr(r, v);
    }
  } catch (o) {
    if (o instanceof ki) throw o;
    Cr(r, "network-request-failed", { message: String(o) });
  }
}
async function Du(r, e, t, s, o = {}) {
  const l = await zs(r, e, t, s, o);
  return (
    "mfaPendingCredential" in l &&
      Cr(r, "multi-factor-auth-required", { _serverResponse: l }),
    l
  );
}
async function qT(r, e, t, s) {
  const o = `${e}${t}?${s}`,
    l = r,
    c = l.config.emulator ? jm(r.config, o) : `${r.config.apiScheme}://${o}`;
  return LI.includes(t) &&
    (await l._persistenceManagerAvailable, l._getPersistenceType() === "COOKIE")
    ? l._getPersistence()._getFinalTarget(c).toString()
    : c;
}
function UI(r) {
  switch (r) {
    case "ENFORCE":
      return "ENFORCE";
    case "AUDIT":
      return "AUDIT";
    case "OFF":
      return "OFF";
    default:
      return "ENFORCEMENT_STATE_UNSPECIFIED";
  }
}
class kI {
  clearNetworkTimeout() {
    clearTimeout(this.timer);
  }
  constructor(e) {
    ((this.auth = e),
      (this.timer = null),
      (this.promise = new Promise((t, s) => {
        this.timer = setTimeout(
          () => s(ei(this.auth, "network-request-failed")),
          VI.get(),
        );
      })));
  }
}
function rh(r, e, t) {
  const s = { appName: r.name };
  (t.email && (s.email = t.email),
    t.phoneNumber && (s.phoneNumber = t.phoneNumber));
  const o = ei(r, e, s);
  return ((o.customData._tokenResponse = t), o);
}
function _E(r) {
  return r !== void 0 && r.enterprise !== void 0;
}
class jI {
  constructor(e) {
    if (
      ((this.siteKey = ""),
      (this.recaptchaEnforcementState = []),
      e.recaptchaKey === void 0)
    )
      throw new Error("recaptchaKey undefined");
    ((this.siteKey = e.recaptchaKey.split("/")[3]),
      (this.recaptchaEnforcementState = e.recaptchaEnforcementState));
  }
  getProviderEnforcementState(e) {
    if (
      !this.recaptchaEnforcementState ||
      this.recaptchaEnforcementState.length === 0
    )
      return null;
    for (const t of this.recaptchaEnforcementState)
      if (t.provider && t.provider === e) return UI(t.enforcementState);
    return null;
  }
  isProviderEnabled(e) {
    return (
      this.getProviderEnforcementState(e) === "ENFORCE" ||
      this.getProviderEnforcementState(e) === "AUDIT"
    );
  }
  isAnyProviderEnabled() {
    return (
      this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER") ||
      this.isProviderEnabled("PHONE_PROVIDER")
    );
  }
}
async function zI(r, e) {
  return zs(r, "GET", "/v2/recaptchaConfig", js(r, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function BI(r, e) {
  return zs(r, "POST", "/v1/accounts:delete", e);
}
async function Oh(r, e) {
  return zs(r, "POST", "/v1/accounts:lookup", e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function lu(r) {
  if (r)
    try {
      const e = new Date(Number(r));
      if (!isNaN(e.getTime())) return e.toUTCString();
    } catch {}
}
async function HI(r, e = !1) {
  const t = Xn(r),
    s = await t.getIdToken(e),
    o = zm(s);
  Le(o && o.exp && o.auth_time && o.iat, t.auth, "internal-error");
  const l = typeof o.firebase == "object" ? o.firebase : void 0,
    c = l?.sign_in_provider;
  return {
    claims: o,
    token: s,
    authTime: lu(Dp(o.auth_time)),
    issuedAtTime: lu(Dp(o.iat)),
    expirationTime: lu(Dp(o.exp)),
    signInProvider: c || null,
    signInSecondFactor: l?.sign_in_second_factor || null,
  };
}
function Dp(r) {
  return Number(r) * 1e3;
}
function zm(r) {
  const [e, t, s] = r.split(".");
  if (e === void 0 || t === void 0 || s === void 0)
    return (yh("JWT malformed, contained fewer than 3 sections"), null);
  try {
    const o = CT(t);
    return o
      ? JSON.parse(o)
      : (yh("Failed to decode base64 JWT payload"), null);
  } catch (o) {
    return (
      yh("Caught error parsing JWT payload as JSON", o?.toString()),
      null
    );
  }
}
function EE(r) {
  const e = zm(r);
  return (
    Le(e, "internal-error"),
    Le(typeof e.exp < "u", "internal-error"),
    Le(typeof e.iat < "u", "internal-error"),
    Number(e.exp) - Number(e.iat)
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function vu(r, e, t = !1) {
  if (t) return e;
  try {
    return await e;
  } catch (s) {
    throw (
      s instanceof ki &&
        FI(s) &&
        r.auth.currentUser === r &&
        (await r.auth.signOut()),
      s
    );
  }
}
function FI({ code: r }) {
  return r === "auth/user-disabled" || r === "auth/user-token-expired";
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class qI {
  constructor(e) {
    ((this.user = e),
      (this.isRunning = !1),
      (this.timerId = null),
      (this.errorBackoff = 3e4));
  }
  _start() {
    this.isRunning || ((this.isRunning = !0), this.schedule());
  }
  _stop() {
    this.isRunning &&
      ((this.isRunning = !1),
      this.timerId !== null && clearTimeout(this.timerId));
  }
  getInterval(e) {
    if (e) {
      const t = this.errorBackoff;
      return ((this.errorBackoff = Math.min(this.errorBackoff * 2, 96e4)), t);
    } else {
      this.errorBackoff = 3e4;
      const s =
        (this.user.stsTokenManager.expirationTime ?? 0) - Date.now() - 3e5;
      return Math.max(0, s);
    }
  }
  schedule(e = !1) {
    if (!this.isRunning) return;
    const t = this.getInterval(e);
    this.timerId = setTimeout(async () => {
      await this.iteration();
    }, t);
  }
  async iteration() {
    try {
      await this.user.getIdToken(!0);
    } catch (e) {
      e?.code === "auth/network-request-failed" && this.schedule(!0);
      return;
    }
    this.schedule();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Jp {
  constructor(e, t) {
    ((this.createdAt = e), (this.lastLoginAt = t), this._initializeTime());
  }
  _initializeTime() {
    ((this.lastSignInTime = lu(this.lastLoginAt)),
      (this.creationTime = lu(this.createdAt)));
  }
  _copy(e) {
    ((this.createdAt = e.createdAt),
      (this.lastLoginAt = e.lastLoginAt),
      this._initializeTime());
  }
  toJSON() {
    return { createdAt: this.createdAt, lastLoginAt: this.lastLoginAt };
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function Mh(r) {
  const e = r.auth,
    t = await r.getIdToken(),
    s = await vu(r, Oh(e, { idToken: t }));
  Le(s?.users.length, e, "internal-error");
  const o = s.users[0];
  r._notifyReloadListener(o);
  const l = o.providerUserInfo?.length ? GT(o.providerUserInfo) : [],
    c = $I(r.providerData, l),
    d = r.isAnonymous,
    m = !(r.email && o.passwordHash) && !c?.length,
    g = d ? m : !1,
    v = {
      uid: o.localId,
      displayName: o.displayName || null,
      photoURL: o.photoUrl || null,
      email: o.email || null,
      emailVerified: o.emailVerified || !1,
      phoneNumber: o.phoneNumber || null,
      tenantId: o.tenantId || null,
      providerData: c,
      metadata: new Jp(o.createdAt, o.lastLoginAt),
      isAnonymous: g,
    };
  Object.assign(r, v);
}
async function GI(r) {
  const e = Xn(r);
  (await Mh(e),
    await e.auth._persistUserIfCurrent(e),
    e.auth._notifyListenersIfCurrent(e));
}
function $I(r, e) {
  return [
    ...r.filter((s) => !e.some((o) => o.providerId === s.providerId)),
    ...e,
  ];
}
function GT(r) {
  return r.map(({ providerId: e, ...t }) => ({
    providerId: e,
    uid: t.rawId || "",
    displayName: t.displayName || null,
    email: t.email || null,
    phoneNumber: t.phoneNumber || null,
    photoURL: t.photoUrl || null,
  }));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function KI(r, e) {
  const t = await FT(r, {}, async () => {
    const s = xu({ grant_type: "refresh_token", refresh_token: e }).slice(1),
      { tokenApiHost: o, apiKey: l } = r.config,
      c = await qT(r, o, "/v1/token", `key=${l}`),
      d = await r._getAdditionalHeaders();
    d["Content-Type"] = "application/x-www-form-urlencoded";
    const m = { method: "POST", headers: d, body: s };
    return (
      r.emulatorConfig &&
        Ho(r.emulatorConfig.host) &&
        (m.credentials = "include"),
      HT.fetch()(c, m)
    );
  });
  return {
    accessToken: t.access_token,
    expiresIn: t.expires_in,
    refreshToken: t.refresh_token,
  };
}
async function YI(r, e) {
  return zs(r, "POST", "/v2/accounts:revokeToken", js(r, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ao {
  constructor() {
    ((this.refreshToken = null),
      (this.accessToken = null),
      (this.expirationTime = null));
  }
  get isExpired() {
    return !this.expirationTime || Date.now() > this.expirationTime - 3e4;
  }
  updateFromServerResponse(e) {
    (Le(e.idToken, "internal-error"),
      Le(typeof e.idToken < "u", "internal-error"),
      Le(typeof e.refreshToken < "u", "internal-error"));
    const t =
      "expiresIn" in e && typeof e.expiresIn < "u"
        ? Number(e.expiresIn)
        : EE(e.idToken);
    this.updateTokensAndExpiration(e.idToken, e.refreshToken, t);
  }
  updateFromIdToken(e) {
    Le(e.length !== 0, "internal-error");
    const t = EE(e);
    this.updateTokensAndExpiration(e, null, t);
  }
  async getToken(e, t = !1) {
    return !t && this.accessToken && !this.isExpired
      ? this.accessToken
      : (Le(this.refreshToken, e, "user-token-expired"),
        this.refreshToken
          ? (await this.refresh(e, this.refreshToken), this.accessToken)
          : null);
  }
  clearRefreshToken() {
    this.refreshToken = null;
  }
  async refresh(e, t) {
    const { accessToken: s, refreshToken: o, expiresIn: l } = await KI(e, t);
    this.updateTokensAndExpiration(s, o, Number(l));
  }
  updateTokensAndExpiration(e, t, s) {
    ((this.refreshToken = t || null),
      (this.accessToken = e || null),
      (this.expirationTime = Date.now() + s * 1e3));
  }
  static fromJSON(e, t) {
    const { refreshToken: s, accessToken: o, expirationTime: l } = t,
      c = new Ao();
    return (
      s &&
        (Le(typeof s == "string", "internal-error", { appName: e }),
        (c.refreshToken = s)),
      o &&
        (Le(typeof o == "string", "internal-error", { appName: e }),
        (c.accessToken = o)),
      l &&
        (Le(typeof l == "number", "internal-error", { appName: e }),
        (c.expirationTime = l)),
      c
    );
  }
  toJSON() {
    return {
      refreshToken: this.refreshToken,
      accessToken: this.accessToken,
      expirationTime: this.expirationTime,
    };
  }
  _assign(e) {
    ((this.accessToken = e.accessToken),
      (this.refreshToken = e.refreshToken),
      (this.expirationTime = e.expirationTime));
  }
  _clone() {
    return Object.assign(new Ao(), this.toJSON());
  }
  _performRefresh() {
    return Ni("not implemented");
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function ys(r, e) {
  Le(typeof r == "string" || typeof r > "u", "internal-error", { appName: e });
}
class Rr {
  constructor({ uid: e, auth: t, stsTokenManager: s, ...o }) {
    ((this.providerId = "firebase"),
      (this.proactiveRefresh = new qI(this)),
      (this.reloadUserInfo = null),
      (this.reloadListener = null),
      (this.uid = e),
      (this.auth = t),
      (this.stsTokenManager = s),
      (this.accessToken = s.accessToken),
      (this.displayName = o.displayName || null),
      (this.email = o.email || null),
      (this.emailVerified = o.emailVerified || !1),
      (this.phoneNumber = o.phoneNumber || null),
      (this.photoURL = o.photoURL || null),
      (this.isAnonymous = o.isAnonymous || !1),
      (this.tenantId = o.tenantId || null),
      (this.providerData = o.providerData ? [...o.providerData] : []),
      (this.metadata = new Jp(o.createdAt || void 0, o.lastLoginAt || void 0)));
  }
  async getIdToken(e) {
    const t = await vu(this, this.stsTokenManager.getToken(this.auth, e));
    return (
      Le(t, this.auth, "internal-error"),
      this.accessToken !== t &&
        ((this.accessToken = t),
        await this.auth._persistUserIfCurrent(this),
        this.auth._notifyListenersIfCurrent(this)),
      t
    );
  }
  getIdTokenResult(e) {
    return HI(this, e);
  }
  reload() {
    return GI(this);
  }
  _assign(e) {
    this !== e &&
      (Le(this.uid === e.uid, this.auth, "internal-error"),
      (this.displayName = e.displayName),
      (this.photoURL = e.photoURL),
      (this.email = e.email),
      (this.emailVerified = e.emailVerified),
      (this.phoneNumber = e.phoneNumber),
      (this.isAnonymous = e.isAnonymous),
      (this.tenantId = e.tenantId),
      (this.providerData = e.providerData.map((t) => ({ ...t }))),
      this.metadata._copy(e.metadata),
      this.stsTokenManager._assign(e.stsTokenManager));
  }
  _clone(e) {
    const t = new Rr({
      ...this,
      auth: e,
      stsTokenManager: this.stsTokenManager._clone(),
    });
    return (t.metadata._copy(this.metadata), t);
  }
  _onReload(e) {
    (Le(!this.reloadListener, this.auth, "internal-error"),
      (this.reloadListener = e),
      this.reloadUserInfo &&
        (this._notifyReloadListener(this.reloadUserInfo),
        (this.reloadUserInfo = null)));
  }
  _notifyReloadListener(e) {
    this.reloadListener ? this.reloadListener(e) : (this.reloadUserInfo = e);
  }
  _startProactiveRefresh() {
    this.proactiveRefresh._start();
  }
  _stopProactiveRefresh() {
    this.proactiveRefresh._stop();
  }
  async _updateTokensIfNecessary(e, t = !1) {
    let s = !1;
    (e.idToken &&
      e.idToken !== this.stsTokenManager.accessToken &&
      (this.stsTokenManager.updateFromServerResponse(e), (s = !0)),
      t && (await Mh(this)),
      await this.auth._persistUserIfCurrent(this),
      s && this.auth._notifyListenersIfCurrent(this));
  }
  async delete() {
    if (mr(this.auth.app)) return Promise.reject(Mi(this.auth));
    const e = await this.getIdToken();
    return (
      await vu(this, BI(this.auth, { idToken: e })),
      this.stsTokenManager.clearRefreshToken(),
      this.auth.signOut()
    );
  }
  toJSON() {
    return {
      uid: this.uid,
      email: this.email || void 0,
      emailVerified: this.emailVerified,
      displayName: this.displayName || void 0,
      isAnonymous: this.isAnonymous,
      photoURL: this.photoURL || void 0,
      phoneNumber: this.phoneNumber || void 0,
      tenantId: this.tenantId || void 0,
      providerData: this.providerData.map((e) => ({ ...e })),
      stsTokenManager: this.stsTokenManager.toJSON(),
      _redirectEventId: this._redirectEventId,
      ...this.metadata.toJSON(),
      apiKey: this.auth.config.apiKey,
      appName: this.auth.name,
    };
  }
  get refreshToken() {
    return this.stsTokenManager.refreshToken || "";
  }
  static _fromJSON(e, t) {
    const s = t.displayName ?? void 0,
      o = t.email ?? void 0,
      l = t.phoneNumber ?? void 0,
      c = t.photoURL ?? void 0,
      d = t.tenantId ?? void 0,
      m = t._redirectEventId ?? void 0,
      g = t.createdAt ?? void 0,
      v = t.lastLoginAt ?? void 0,
      {
        uid: T,
        emailVerified: b,
        isAnonymous: A,
        providerData: D,
        stsTokenManager: J,
      } = t;
    Le(T && J, e, "internal-error");
    const B = Ao.fromJSON(this.name, J);
    (Le(typeof T == "string", e, "internal-error"),
      ys(s, e.name),
      ys(o, e.name),
      Le(typeof b == "boolean", e, "internal-error"),
      Le(typeof A == "boolean", e, "internal-error"),
      ys(l, e.name),
      ys(c, e.name),
      ys(d, e.name),
      ys(m, e.name),
      ys(g, e.name),
      ys(v, e.name));
    const Q = new Rr({
      uid: T,
      auth: e,
      email: o,
      emailVerified: b,
      displayName: s,
      isAnonymous: A,
      photoURL: c,
      phoneNumber: l,
      tenantId: d,
      stsTokenManager: B,
      createdAt: g,
      lastLoginAt: v,
    });
    return (
      D && Array.isArray(D) && (Q.providerData = D.map((Z) => ({ ...Z }))),
      m && (Q._redirectEventId = m),
      Q
    );
  }
  static async _fromIdTokenResponse(e, t, s = !1) {
    const o = new Ao();
    o.updateFromServerResponse(t);
    const l = new Rr({
      uid: t.localId,
      auth: e,
      stsTokenManager: o,
      isAnonymous: s,
    });
    return (await Mh(l), l);
  }
  static async _fromGetAccountInfoResponse(e, t, s) {
    const o = t.users[0];
    Le(o.localId !== void 0, "internal-error");
    const l = o.providerUserInfo !== void 0 ? GT(o.providerUserInfo) : [],
      c = !(o.email && o.passwordHash) && !l?.length,
      d = new Ao();
    d.updateFromIdToken(s);
    const m = new Rr({
        uid: o.localId,
        auth: e,
        stsTokenManager: d,
        isAnonymous: c,
      }),
      g = {
        uid: o.localId,
        displayName: o.displayName || null,
        photoURL: o.photoUrl || null,
        email: o.email || null,
        emailVerified: o.emailVerified || !1,
        phoneNumber: o.phoneNumber || null,
        tenantId: o.tenantId || null,
        providerData: l,
        metadata: new Jp(o.createdAt, o.lastLoginAt),
        isAnonymous: !(o.email && o.passwordHash) && !l?.length,
      };
    return (Object.assign(m, g), m);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const TE = new Map();
function Di(r) {
  Li(r instanceof Function, "Expected a class definition");
  let e = TE.get(r);
  return e
    ? (Li(e instanceof r, "Instance stored in cache mismatched with class"), e)
    : ((e = new r()), TE.set(r, e), e);
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class $T {
  constructor() {
    ((this.type = "NONE"), (this.storage = {}));
  }
  async _isAvailable() {
    return !0;
  }
  async _set(e, t) {
    this.storage[e] = t;
  }
  async _get(e) {
    const t = this.storage[e];
    return t === void 0 ? null : t;
  }
  async _remove(e) {
    delete this.storage[e];
  }
  _addListener(e, t) {}
  _removeListener(e, t) {}
}
$T.type = "NONE";
const SE = $T;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function vh(r, e, t) {
  return `firebase:${r}:${e}:${t}`;
}
class Ro {
  constructor(e, t, s) {
    ((this.persistence = e), (this.auth = t), (this.userKey = s));
    const { config: o, name: l } = this.auth;
    ((this.fullUserKey = vh(this.userKey, o.apiKey, l)),
      (this.fullPersistenceKey = vh("persistence", o.apiKey, l)),
      (this.boundEventHandler = t._onStorageEvent.bind(t)),
      this.persistence._addListener(this.fullUserKey, this.boundEventHandler));
  }
  setCurrentUser(e) {
    return this.persistence._set(this.fullUserKey, e.toJSON());
  }
  async getCurrentUser() {
    const e = await this.persistence._get(this.fullUserKey);
    if (!e) return null;
    if (typeof e == "string") {
      const t = await Oh(this.auth, { idToken: e }).catch(() => {});
      return t ? Rr._fromGetAccountInfoResponse(this.auth, t, e) : null;
    }
    return Rr._fromJSON(this.auth, e);
  }
  removeCurrentUser() {
    return this.persistence._remove(this.fullUserKey);
  }
  savePersistenceForRedirect() {
    return this.persistence._set(
      this.fullPersistenceKey,
      this.persistence.type,
    );
  }
  async setPersistence(e) {
    if (this.persistence === e) return;
    const t = await this.getCurrentUser();
    if ((await this.removeCurrentUser(), (this.persistence = e), t))
      return this.setCurrentUser(t);
  }
  delete() {
    this.persistence._removeListener(this.fullUserKey, this.boundEventHandler);
  }
  static async create(e, t, s = "authUser") {
    if (!t.length) return new Ro(Di(SE), e, s);
    const o = (
      await Promise.all(
        t.map(async (g) => {
          if (await g._isAvailable()) return g;
        }),
      )
    ).filter((g) => g);
    let l = o[0] || Di(SE);
    const c = vh(s, e.config.apiKey, e.name);
    let d = null;
    for (const g of t)
      try {
        const v = await g._get(c);
        if (v) {
          let T;
          if (typeof v == "string") {
            const b = await Oh(e, { idToken: v }).catch(() => {});
            if (!b) break;
            T = await Rr._fromGetAccountInfoResponse(e, b, v);
          } else T = Rr._fromJSON(e, v);
          (g !== l && (d = T), (l = g));
          break;
        }
      } catch {}
    const m = o.filter((g) => g._shouldAllowMigration);
    return !l._shouldAllowMigration || !m.length
      ? new Ro(l, e, s)
      : ((l = m[0]),
        d && (await l._set(c, d.toJSON())),
        await Promise.all(
          t.map(async (g) => {
            if (g !== l)
              try {
                await g._remove(c);
              } catch {}
          }),
        ),
        new Ro(l, e, s));
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function bE(r) {
  const e = r.toLowerCase();
  if (e.includes("opera/") || e.includes("opr/") || e.includes("opios/"))
    return "Opera";
  if (XT(e)) return "IEMobile";
  if (e.includes("msie") || e.includes("trident/")) return "IE";
  if (e.includes("edge/")) return "Edge";
  if (KT(e)) return "Firefox";
  if (e.includes("silk/")) return "Silk";
  if (JT(e)) return "Blackberry";
  if (ZT(e)) return "Webos";
  if (YT(e)) return "Safari";
  if ((e.includes("chrome/") || QT(e)) && !e.includes("edge/")) return "Chrome";
  if (WT(e)) return "Android";
  {
    const t = /([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,
      s = r.match(t);
    if (s?.length === 2) return s[1];
  }
  return "Other";
}
function KT(r = Tn()) {
  return /firefox\//i.test(r);
}
function YT(r = Tn()) {
  const e = r.toLowerCase();
  return (
    e.includes("safari/") &&
    !e.includes("chrome/") &&
    !e.includes("crios/") &&
    !e.includes("android")
  );
}
function QT(r = Tn()) {
  return /crios\//i.test(r);
}
function XT(r = Tn()) {
  return /iemobile/i.test(r);
}
function WT(r = Tn()) {
  return /android/i.test(r);
}
function JT(r = Tn()) {
  return /blackberry/i.test(r);
}
function ZT(r = Tn()) {
  return /webos/i.test(r);
}
function Bm(r = Tn()) {
  return (
    /iphone|ipad|ipod/i.test(r) || (/macintosh/i.test(r) && /mobile/i.test(r))
  );
}
function QI(r = Tn()) {
  return Bm(r) && !!window.navigator?.standalone;
}
function XI() {
  return cC() && document.documentMode === 10;
}
function eS(r = Tn()) {
  return Bm(r) || WT(r) || ZT(r) || JT(r) || /windows phone/i.test(r) || XT(r);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function tS(r, e = []) {
  let t;
  switch (r) {
    case "Browser":
      t = bE(Tn());
      break;
    case "Worker":
      t = `${bE(Tn())}-${r}`;
      break;
    default:
      t = r;
  }
  const s = e.length ? e.join(",") : "FirebaseCore-web";
  return `${t}/JsCore/${Fo}/${s}`;
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class WI {
  constructor(e) {
    ((this.auth = e), (this.queue = []));
  }
  pushCallback(e, t) {
    const s = (l) =>
      new Promise((c, d) => {
        try {
          const m = e(l);
          c(m);
        } catch (m) {
          d(m);
        }
      });
    ((s.onAbort = t), this.queue.push(s));
    const o = this.queue.length - 1;
    return () => {
      this.queue[o] = () => Promise.resolve();
    };
  }
  async runMiddleware(e) {
    if (this.auth.currentUser === e) return;
    const t = [];
    try {
      for (const s of this.queue) (await s(e), s.onAbort && t.push(s.onAbort));
    } catch (s) {
      t.reverse();
      for (const o of t)
        try {
          o();
        } catch {}
      throw this.auth._errorFactory.create("login-blocked", {
        originalMessage: s?.message,
      });
    }
  }
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function JI(r, e = {}) {
  return zs(r, "GET", "/v2/passwordPolicy", js(r, e));
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const ZI = 6;
class ex {
  constructor(e) {
    const t = e.customStrengthOptions;
    ((this.customStrengthOptions = {}),
      (this.customStrengthOptions.minPasswordLength =
        t.minPasswordLength ?? ZI),
      t.maxPasswordLength &&
        (this.customStrengthOptions.maxPasswordLength = t.maxPasswordLength),
      t.containsLowercaseCharacter !== void 0 &&
        (this.customStrengthOptions.containsLowercaseLetter =
          t.containsLowercaseCharacter),
      t.containsUppercaseCharacter !== void 0 &&
        (this.customStrengthOptions.containsUppercaseLetter =
          t.containsUppercaseCharacter),
      t.containsNumericCharacter !== void 0 &&
        (this.customStrengthOptions.containsNumericCharacter =
          t.containsNumericCharacter),
      t.containsNonAlphanumericCharacter !== void 0 &&
        (this.customStrengthOptions.containsNonAlphanumericCharacter =
          t.containsNonAlphanumericCharacter),
      (this.enforcementState = e.enforcementState),
      this.enforcementState === "ENFORCEMENT_STATE_UNSPECIFIED" &&
        (this.enforcementState = "OFF"),
      (this.allowedNonAlphanumericCharacters =
        e.allowedNonAlphanumericCharacters?.join("") ?? ""),
      (this.forceUpgradeOnSignin = e.forceUpgradeOnSignin ?? !1),
      (this.schemaVersion = e.schemaVersion));
  }
  validatePassword(e) {
    const t = { isValid: !0, passwordPolicy: this };
    return (
      this.validatePasswordLengthOptions(e, t),
      this.validatePasswordCharacterOptions(e, t),
      t.isValid && (t.isValid = t.meetsMinPasswordLength ?? !0),
      t.isValid && (t.isValid = t.meetsMaxPasswordLength ?? !0),
      t.isValid && (t.isValid = t.containsLowercaseLetter ?? !0),
      t.isValid && (t.isValid = t.containsUppercaseLetter ?? !0),
      t.isValid && (t.isValid = t.containsNumericCharacter ?? !0),
      t.isValid && (t.isValid = t.containsNonAlphanumericCharacter ?? !0),
      t
    );
  }
  validatePasswordLengthOptions(e, t) {
    const s = this.customStrengthOptions.minPasswordLength,
      o = this.customStrengthOptions.maxPasswordLength;
    (s && (t.meetsMinPasswordLength = e.length >= s),
      o && (t.meetsMaxPasswordLength = e.length <= o));
  }
  validatePasswordCharacterOptions(e, t) {
    this.updatePasswordCharacterOptionsStatuses(t, !1, !1, !1, !1);
    let s;
    for (let o = 0; o < e.length; o++)
      ((s = e.charAt(o)),
        this.updatePasswordCharacterOptionsStatuses(
          t,
          s >= "a" && s <= "z",
          s >= "A" && s <= "Z",
          s >= "0" && s <= "9",
          this.allowedNonAlphanumericCharacters.includes(s),
        ));
  }
  updatePasswordCharacterOptionsStatuses(e, t, s, o, l) {
    (this.customStrengthOptions.containsLowercaseLetter &&
      (e.containsLowercaseLetter || (e.containsLowercaseLetter = t)),
      this.customStrengthOptions.containsUppercaseLetter &&
        (e.containsUppercaseLetter || (e.containsUppercaseLetter = s)),
      this.customStrengthOptions.containsNumericCharacter &&
        (e.containsNumericCharacter || (e.containsNumericCharacter = o)),
      this.customStrengthOptions.containsNonAlphanumericCharacter &&
        (e.containsNonAlphanumericCharacter ||
          (e.containsNonAlphanumericCharacter = l)));
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class tx {
  constructor(e, t, s, o) {
    ((this.app = e),
      (this.heartbeatServiceProvider = t),
      (this.appCheckServiceProvider = s),
      (this.config = o),
      (this.currentUser = null),
      (this.emulatorConfig = null),
      (this.operations = Promise.resolve()),
      (this.authStateSubscription = new wE(this)),
      (this.idTokenSubscription = new wE(this)),
      (this.beforeStateQueue = new WI(this)),
      (this.redirectUser = null),
      (this.isProactiveRefreshEnabled = !1),
      (this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION = 1),
      (this._canInitEmulator = !0),
      (this._isInitialized = !1),
      (this._deleted = !1),
      (this._initializationPromise = null),
      (this._popupRedirectResolver = null),
      (this._errorFactory = zT),
      (this._agentRecaptchaConfig = null),
      (this._tenantRecaptchaConfigs = {}),
      (this._projectPasswordPolicy = null),
      (this._tenantPasswordPolicies = {}),
      (this._resolvePersistenceManagerAvailable = void 0),
      (this.lastNotifiedUid = void 0),
      (this.languageCode = null),
      (this.tenantId = null),
      (this.settings = { appVerificationDisabledForTesting: !1 }),
      (this.frameworks = []),
      (this.name = e.name),
      (this.clientVersion = o.sdkClientVersion),
      (this._persistenceManagerAvailable = new Promise(
        (l) => (this._resolvePersistenceManagerAvailable = l),
      )));
  }
  _initializeWithPersistence(e, t) {
    return (
      t && (this._popupRedirectResolver = Di(t)),
      (this._initializationPromise = this.queue(async () => {
        if (
          !this._deleted &&
          ((this.persistenceManager = await Ro.create(this, e)),
          this._resolvePersistenceManagerAvailable?.(),
          !this._deleted)
        ) {
          if (this._popupRedirectResolver?._shouldInitProactively)
            try {
              await this._popupRedirectResolver._initialize(this);
            } catch {}
          (await this.initializeCurrentUser(t),
            (this.lastNotifiedUid = this.currentUser?.uid || null),
            !this._deleted && (this._isInitialized = !0));
        }
      })),
      this._initializationPromise
    );
  }
  async _onStorageEvent() {
    if (this._deleted) return;
    const e = await this.assertedPersistence.getCurrentUser();
    if (!(!this.currentUser && !e)) {
      if (this.currentUser && e && this.currentUser.uid === e.uid) {
        (this._currentUser._assign(e), await this.currentUser.getIdToken());
        return;
      }
      await this._updateCurrentUser(e, !0);
    }
  }
  async initializeCurrentUserFromIdToken(e) {
    try {
      const t = await Oh(this, { idToken: e }),
        s = await Rr._fromGetAccountInfoResponse(this, t, e);
      await this.directlySetCurrentUser(s);
    } catch (t) {
      (console.warn(
        "FirebaseServerApp could not login user with provided authIdToken: ",
        t,
      ),
        await this.directlySetCurrentUser(null));
    }
  }
  async initializeCurrentUser(e) {
    if (mr(this.app)) {
      const l = this.app.settings.authIdToken;
      return l
        ? new Promise((c) => {
            setTimeout(() =>
              this.initializeCurrentUserFromIdToken(l).then(c, c),
            );
          })
        : this.directlySetCurrentUser(null);
    }
    const t = await this.assertedPersistence.getCurrentUser();
    let s = t,
      o = !1;
    if (e && this.config.authDomain) {
      await this.getOrInitRedirectPersistenceManager();
      const l = this.redirectUser?._redirectEventId,
        c = s?._redirectEventId,
        d = await this.tryRedirectSignIn(e);
      (!l || l === c) && d?.user && ((s = d.user), (o = !0));
    }
    if (!s) return this.directlySetCurrentUser(null);
    if (!s._redirectEventId) {
      if (o)
        try {
          await this.beforeStateQueue.runMiddleware(s);
        } catch (l) {
          ((s = t),
            this._popupRedirectResolver._overrideRedirectResult(this, () =>
              Promise.reject(l),
            ));
        }
      return s
        ? this.reloadAndSetCurrentUserOrClear(s)
        : this.directlySetCurrentUser(null);
    }
    return (
      Le(this._popupRedirectResolver, this, "argument-error"),
      await this.getOrInitRedirectPersistenceManager(),
      this.redirectUser &&
      this.redirectUser._redirectEventId === s._redirectEventId
        ? this.directlySetCurrentUser(s)
        : this.reloadAndSetCurrentUserOrClear(s)
    );
  }
  async tryRedirectSignIn(e) {
    let t = null;
    try {
      t = await this._popupRedirectResolver._completeRedirectFn(this, e, !0);
    } catch {
      await this._setRedirectUser(null);
    }
    return t;
  }
  async reloadAndSetCurrentUserOrClear(e) {
    try {
      await Mh(e);
    } catch (t) {
      if (t?.code !== "auth/network-request-failed")
        return this.directlySetCurrentUser(null);
    }
    return this.directlySetCurrentUser(e);
  }
  useDeviceLanguage() {
    this.languageCode = MI();
  }
  async _delete() {
    this._deleted = !0;
  }
  async updateCurrentUser(e) {
    if (mr(this.app)) return Promise.reject(Mi(this));
    const t = e ? Xn(e) : null;
    return (
      t &&
        Le(
          t.auth.config.apiKey === this.config.apiKey,
          this,
          "invalid-user-token",
        ),
      this._updateCurrentUser(t && t._clone(this))
    );
  }
  async _updateCurrentUser(e, t = !1) {
    if (!this._deleted)
      return (
        e && Le(this.tenantId === e.tenantId, this, "tenant-id-mismatch"),
        t || (await this.beforeStateQueue.runMiddleware(e)),
        this.queue(async () => {
          (await this.directlySetCurrentUser(e), this.notifyAuthListeners());
        })
      );
  }
  async signOut() {
    return mr(this.app)
      ? Promise.reject(Mi(this))
      : (await this.beforeStateQueue.runMiddleware(null),
        (this.redirectPersistenceManager || this._popupRedirectResolver) &&
          (await this._setRedirectUser(null)),
        this._updateCurrentUser(null, !0));
  }
  setPersistence(e) {
    return mr(this.app)
      ? Promise.reject(Mi(this))
      : this.queue(async () => {
          await this.assertedPersistence.setPersistence(Di(e));
        });
  }
  _getRecaptchaConfig() {
    return this.tenantId == null
      ? this._agentRecaptchaConfig
      : this._tenantRecaptchaConfigs[this.tenantId];
  }
  async validatePassword(e) {
    this._getPasswordPolicyInternal() || (await this._updatePasswordPolicy());
    const t = this._getPasswordPolicyInternal();
    return t.schemaVersion !== this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION
      ? Promise.reject(
          this._errorFactory.create(
            "unsupported-password-policy-schema-version",
            {},
          ),
        )
      : t.validatePassword(e);
  }
  _getPasswordPolicyInternal() {
    return this.tenantId === null
      ? this._projectPasswordPolicy
      : this._tenantPasswordPolicies[this.tenantId];
  }
  async _updatePasswordPolicy() {
    const e = await JI(this),
      t = new ex(e);
    this.tenantId === null
      ? (this._projectPasswordPolicy = t)
      : (this._tenantPasswordPolicies[this.tenantId] = t);
  }
  _getPersistenceType() {
    return this.assertedPersistence.persistence.type;
  }
  _getPersistence() {
    return this.assertedPersistence.persistence;
  }
  _updateErrorMap(e) {
    this._errorFactory = new Iu("auth", "Firebase", e());
  }
  onAuthStateChanged(e, t, s) {
    return this.registerStateListener(this.authStateSubscription, e, t, s);
  }
  beforeAuthStateChanged(e, t) {
    return this.beforeStateQueue.pushCallback(e, t);
  }
  onIdTokenChanged(e, t, s) {
    return this.registerStateListener(this.idTokenSubscription, e, t, s);
  }
  authStateReady() {
    return new Promise((e, t) => {
      if (this.currentUser) e();
      else {
        const s = this.onAuthStateChanged(() => {
          (s(), e());
        }, t);
      }
    });
  }
  async revokeAccessToken(e) {
    if (this.currentUser) {
      const t = await this.currentUser.getIdToken(),
        s = {
          providerId: "apple.com",
          tokenType: "ACCESS_TOKEN",
          token: e,
          idToken: t,
        };
      (this.tenantId != null && (s.tenantId = this.tenantId),
        await YI(this, s));
    }
  }
  toJSON() {
    return {
      apiKey: this.config.apiKey,
      authDomain: this.config.authDomain,
      appName: this.name,
      currentUser: this._currentUser?.toJSON(),
    };
  }
  async _setRedirectUser(e, t) {
    const s = await this.getOrInitRedirectPersistenceManager(t);
    return e === null ? s.removeCurrentUser() : s.setCurrentUser(e);
  }
  async getOrInitRedirectPersistenceManager(e) {
    if (!this.redirectPersistenceManager) {
      const t = (e && Di(e)) || this._popupRedirectResolver;
      (Le(t, this, "argument-error"),
        (this.redirectPersistenceManager = await Ro.create(
          this,
          [Di(t._redirectPersistence)],
          "redirectUser",
        )),
        (this.redirectUser =
          await this.redirectPersistenceManager.getCurrentUser()));
    }
    return this.redirectPersistenceManager;
  }
  async _redirectUserForId(e) {
    return (
      this._isInitialized && (await this.queue(async () => {})),
      this._currentUser?._redirectEventId === e
        ? this._currentUser
        : this.redirectUser?._redirectEventId === e
          ? this.redirectUser
          : null
    );
  }
  async _persistUserIfCurrent(e) {
    if (e === this.currentUser)
      return this.queue(async () => this.directlySetCurrentUser(e));
  }
  _notifyListenersIfCurrent(e) {
    e === this.currentUser && this.notifyAuthListeners();
  }
  _key() {
    return `${this.config.authDomain}:${this.config.apiKey}:${this.name}`;
  }
  _startProactiveRefresh() {
    ((this.isProactiveRefreshEnabled = !0),
      this.currentUser && this._currentUser._startProactiveRefresh());
  }
  _stopProactiveRefresh() {
    ((this.isProactiveRefreshEnabled = !1),
      this.currentUser && this._currentUser._stopProactiveRefresh());
  }
  get _currentUser() {
    return this.currentUser;
  }
  notifyAuthListeners() {
    if (!this._isInitialized) return;
    this.idTokenSubscription.next(this.currentUser);
    const e = this.currentUser?.uid ?? null;
    this.lastNotifiedUid !== e &&
      ((this.lastNotifiedUid = e),
      this.authStateSubscription.next(this.currentUser));
  }
  registerStateListener(e, t, s, o) {
    if (this._deleted) return () => {};
    const l = typeof t == "function" ? t : t.next.bind(t);
    let c = !1;
    const d = this._isInitialized
      ? Promise.resolve()
      : this._initializationPromise;
    if (
      (Le(d, this, "internal-error"),
      d.then(() => {
        c || l(this.currentUser);
      }),
      typeof t == "function")
    ) {
      const m = e.addObserver(t, s, o);
      return () => {
        ((c = !0), m());
      };
    } else {
      const m = e.addObserver(t);
      return () => {
        ((c = !0), m());
      };
    }
  }
  async directlySetCurrentUser(e) {
    (this.currentUser &&
      this.currentUser !== e &&
      this._currentUser._stopProactiveRefresh(),
      e && this.isProactiveRefreshEnabled && e._startProactiveRefresh(),
      (this.currentUser = e),
      e
        ? await this.assertedPersistence.setCurrentUser(e)
        : await this.assertedPersistence.removeCurrentUser());
  }
  queue(e) {
    return ((this.operations = this.operations.then(e, e)), this.operations);
  }
  get assertedPersistence() {
    return (
      Le(this.persistenceManager, this, "internal-error"),
      this.persistenceManager
    );
  }
  _logFramework(e) {
    !e ||
      this.frameworks.includes(e) ||
      (this.frameworks.push(e),
      this.frameworks.sort(),
      (this.clientVersion = tS(
        this.config.clientPlatform,
        this._getFrameworks(),
      )));
  }
  _getFrameworks() {
    return this.frameworks;
  }
  async _getAdditionalHeaders() {
    const e = { "X-Client-Version": this.clientVersion };
    this.app.options.appId && (e["X-Firebase-gmpid"] = this.app.options.appId);
    const t = await this.heartbeatServiceProvider
      .getImmediate({ optional: !0 })
      ?.getHeartbeatsHeader();
    t && (e["X-Firebase-Client"] = t);
    const s = await this._getAppCheckToken();
    return (s && (e["X-Firebase-AppCheck"] = s), e);
  }
  async _getAppCheckToken() {
    if (mr(this.app) && this.app.settings.appCheckToken)
      return this.app.settings.appCheckToken;
    const e = await this.appCheckServiceProvider
      .getImmediate({ optional: !0 })
      ?.getToken();
    return (
      e?.error && NI(`Error while retrieving App Check token: ${e.error}`),
      e?.token
    );
  }
}
function Ia(r) {
  return Xn(r);
}
class wE {
  constructor(e) {
    ((this.auth = e),
      (this.observer = null),
      (this.addObserver = vC((t) => (this.observer = t))));
  }
  get next() {
    return (
      Le(this.observer, this.auth, "internal-error"),
      this.observer.next.bind(this.observer)
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let tf = {
  async loadJS() {
    throw new Error("Unable to load external scripts");
  },
  recaptchaV2Script: "",
  recaptchaEnterpriseScript: "",
  gapiScript: "",
};
function nx(r) {
  tf = r;
}
function nS(r) {
  return tf.loadJS(r);
}
function rx() {
  return tf.recaptchaEnterpriseScript;
}
function ix() {
  return tf.gapiScript;
}
function sx(r) {
  return `__${r}${Math.floor(Math.random() * 1e6)}`;
}
class ax {
  constructor() {
    this.enterprise = new ox();
  }
  ready(e) {
    e();
  }
  execute(e, t) {
    return Promise.resolve("token");
  }
  render(e, t) {
    return "";
  }
}
class ox {
  ready(e) {
    e();
  }
  execute(e, t) {
    return Promise.resolve("token");
  }
  render(e, t) {
    return "";
  }
}
const lx = "recaptcha-enterprise",
  rS = "NO_RECAPTCHA";
class ux {
  constructor(e) {
    ((this.type = lx), (this.auth = Ia(e)));
  }
  async verify(e = "verify", t = !1) {
    async function s(l) {
      if (!t) {
        if (l.tenantId == null && l._agentRecaptchaConfig != null)
          return l._agentRecaptchaConfig.siteKey;
        if (
          l.tenantId != null &&
          l._tenantRecaptchaConfigs[l.tenantId] !== void 0
        )
          return l._tenantRecaptchaConfigs[l.tenantId].siteKey;
      }
      return new Promise(async (c, d) => {
        zI(l, {
          clientType: "CLIENT_TYPE_WEB",
          version: "RECAPTCHA_ENTERPRISE",
        })
          .then((m) => {
            if (m.recaptchaKey === void 0)
              d(new Error("recaptcha Enterprise site key undefined"));
            else {
              const g = new jI(m);
              return (
                l.tenantId == null
                  ? (l._agentRecaptchaConfig = g)
                  : (l._tenantRecaptchaConfigs[l.tenantId] = g),
                c(g.siteKey)
              );
            }
          })
          .catch((m) => {
            d(m);
          });
      });
    }
    function o(l, c, d) {
      const m = window.grecaptcha;
      _E(m)
        ? m.enterprise.ready(() => {
            m.enterprise
              .execute(l, { action: e })
              .then((g) => {
                c(g);
              })
              .catch(() => {
                c(rS);
              });
          })
        : d(Error("No reCAPTCHA enterprise script loaded."));
    }
    return this.auth.settings.appVerificationDisabledForTesting
      ? new ax().execute("siteKey", { action: "verify" })
      : new Promise((l, c) => {
          s(this.auth)
            .then((d) => {
              if (!t && _E(window.grecaptcha)) o(d, l, c);
              else {
                if (typeof window > "u") {
                  c(
                    new Error("RecaptchaVerifier is only supported in browser"),
                  );
                  return;
                }
                let m = rx();
                (m.length !== 0 && (m += d),
                  nS(m)
                    .then(() => {
                      o(d, l, c);
                    })
                    .catch((g) => {
                      c(g);
                    }));
              }
            })
            .catch((d) => {
              c(d);
            });
        });
  }
}
async function AE(r, e, t, s = !1, o = !1) {
  const l = new ux(r);
  let c;
  if (o) c = rS;
  else
    try {
      c = await l.verify(t);
    } catch {
      c = await l.verify(t, !0);
    }
  const d = { ...e };
  if (t === "mfaSmsEnrollment" || t === "mfaSmsSignIn") {
    if ("phoneEnrollmentInfo" in d) {
      const m = d.phoneEnrollmentInfo.phoneNumber,
        g = d.phoneEnrollmentInfo.recaptchaToken;
      Object.assign(d, {
        phoneEnrollmentInfo: {
          phoneNumber: m,
          recaptchaToken: g,
          captchaResponse: c,
          clientType: "CLIENT_TYPE_WEB",
          recaptchaVersion: "RECAPTCHA_ENTERPRISE",
        },
      });
    } else if ("phoneSignInInfo" in d) {
      const m = d.phoneSignInInfo.recaptchaToken;
      Object.assign(d, {
        phoneSignInInfo: {
          recaptchaToken: m,
          captchaResponse: c,
          clientType: "CLIENT_TYPE_WEB",
          recaptchaVersion: "RECAPTCHA_ENTERPRISE",
        },
      });
    }
    return d;
  }
  return (
    s
      ? Object.assign(d, { captchaResp: c })
      : Object.assign(d, { captchaResponse: c }),
    Object.assign(d, { clientType: "CLIENT_TYPE_WEB" }),
    Object.assign(d, { recaptchaVersion: "RECAPTCHA_ENTERPRISE" }),
    d
  );
}
async function Zp(r, e, t, s, o) {
  if (r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")) {
    const l = await AE(r, e, t, t === "getOobCode");
    return s(r, l);
  } else
    return s(r, e).catch(async (l) => {
      if (l.code === "auth/missing-recaptcha-token") {
        console.log(
          `${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`,
        );
        const c = await AE(r, e, t, t === "getOobCode");
        return s(r, c);
      } else return Promise.reject(l);
    });
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function cx(r, e) {
  const t = Um(r, "auth");
  if (t.isInitialized()) {
    const o = t.getImmediate(),
      l = t.getOptions();
    if (Sa(l, e ?? {})) return o;
    Cr(o, "already-initialized");
  }
  return t.initialize({ options: e });
}
function hx(r, e) {
  const t = e?.persistence || [],
    s = (Array.isArray(t) ? t : [t]).map(Di);
  (e?.errorMap && r._updateErrorMap(e.errorMap),
    r._initializeWithPersistence(s, e?.popupRedirectResolver));
}
function fx(r, e, t) {
  const s = Ia(r);
  Le(/^https?:\/\//.test(e), s, "invalid-emulator-scheme");
  const o = !1,
    l = iS(e),
    { host: c, port: d } = dx(e),
    m = d === null ? "" : `:${d}`,
    g = { url: `${l}//${c}${m}/` },
    v = Object.freeze({
      host: c,
      port: d,
      protocol: l.replace(":", ""),
      options: Object.freeze({ disableWarnings: o }),
    });
  if (!s._canInitEmulator) {
    (Le(s.config.emulator && s.emulatorConfig, s, "emulator-config-failed"),
      Le(
        Sa(g, s.config.emulator) && Sa(v, s.emulatorConfig),
        s,
        "emulator-config-failed",
      ));
    return;
  }
  ((s.config.emulator = g),
    (s.emulatorConfig = v),
    (s.settings.appVerificationDisabledForTesting = !0),
    Ho(c) ? (DT(`${l}//${c}${m}`), OT("Auth", !0)) : px());
}
function iS(r) {
  const e = r.indexOf(":");
  return e < 0 ? "" : r.substr(0, e + 1);
}
function dx(r) {
  const e = iS(r),
    t = /(\/\/)?([^?#/]+)/.exec(r.substr(e.length));
  if (!t) return { host: "", port: null };
  const s = t[2].split("@").pop() || "",
    o = /^(\[[^\]]+\])(:|$)/.exec(s);
  if (o) {
    const l = o[1];
    return { host: l, port: RE(s.substr(l.length + 1)) };
  } else {
    const [l, c] = s.split(":");
    return { host: l, port: RE(c) };
  }
}
function RE(r) {
  if (!r) return null;
  const e = Number(r);
  return isNaN(e) ? null : e;
}
function px() {
  function r() {
    const e = document.createElement("p"),
      t = e.style;
    ((e.innerText =
      "Running in emulator mode. Do not use with production credentials."),
      (t.position = "fixed"),
      (t.width = "100%"),
      (t.backgroundColor = "#ffffff"),
      (t.border = ".1em solid #000000"),
      (t.color = "#b50000"),
      (t.bottom = "0px"),
      (t.left = "0px"),
      (t.margin = "0px"),
      (t.zIndex = "10000"),
      (t.textAlign = "center"),
      e.classList.add("firebase-emulator-warning"),
      document.body.appendChild(e));
  }
  (typeof console < "u" &&
    typeof console.info == "function" &&
    console.info(
      "WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.",
    ),
    typeof window < "u" &&
      typeof document < "u" &&
      (document.readyState === "loading"
        ? window.addEventListener("DOMContentLoaded", r)
        : r()));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Hm {
  constructor(e, t) {
    ((this.providerId = e), (this.signInMethod = t));
  }
  toJSON() {
    return Ni("not implemented");
  }
  _getIdTokenResponse(e) {
    return Ni("not implemented");
  }
  _linkToIdToken(e, t) {
    return Ni("not implemented");
  }
  _getReauthenticationResolver(e) {
    return Ni("not implemented");
  }
}
async function mx(r, e) {
  return zs(r, "POST", "/v1/accounts:signUp", e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function gx(r, e) {
  return Du(r, "POST", "/v1/accounts:signInWithPassword", js(r, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function yx(r, e) {
  return Du(r, "POST", "/v1/accounts:signInWithEmailLink", js(r, e));
}
async function vx(r, e) {
  return Du(r, "POST", "/v1/accounts:signInWithEmailLink", js(r, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class _u extends Hm {
  constructor(e, t, s, o = null) {
    (super("password", s),
      (this._email = e),
      (this._password = t),
      (this._tenantId = o));
  }
  static _fromEmailAndPassword(e, t) {
    return new _u(e, t, "password");
  }
  static _fromEmailAndCode(e, t, s = null) {
    return new _u(e, t, "emailLink", s);
  }
  toJSON() {
    return {
      email: this._email,
      password: this._password,
      signInMethod: this.signInMethod,
      tenantId: this._tenantId,
    };
  }
  static fromJSON(e) {
    const t = typeof e == "string" ? JSON.parse(e) : e;
    if (t?.email && t?.password) {
      if (t.signInMethod === "password")
        return this._fromEmailAndPassword(t.email, t.password);
      if (t.signInMethod === "emailLink")
        return this._fromEmailAndCode(t.email, t.password, t.tenantId);
    }
    return null;
  }
  async _getIdTokenResponse(e) {
    switch (this.signInMethod) {
      case "password":
        const t = {
          returnSecureToken: !0,
          email: this._email,
          password: this._password,
          clientType: "CLIENT_TYPE_WEB",
        };
        return Zp(e, t, "signInWithPassword", gx);
      case "emailLink":
        return yx(e, { email: this._email, oobCode: this._password });
      default:
        Cr(e, "internal-error");
    }
  }
  async _linkToIdToken(e, t) {
    switch (this.signInMethod) {
      case "password":
        const s = {
          idToken: t,
          returnSecureToken: !0,
          email: this._email,
          password: this._password,
          clientType: "CLIENT_TYPE_WEB",
        };
        return Zp(e, s, "signUpPassword", mx);
      case "emailLink":
        return vx(e, {
          idToken: t,
          email: this._email,
          oobCode: this._password,
        });
      default:
        Cr(e, "internal-error");
    }
  }
  _getReauthenticationResolver(e) {
    return this._getIdTokenResponse(e);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function Co(r, e) {
  return Du(r, "POST", "/v1/accounts:signInWithIdp", js(r, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const _x = "http://localhost";
class wa extends Hm {
  constructor() {
    (super(...arguments), (this.pendingToken = null));
  }
  static _fromParams(e) {
    const t = new wa(e.providerId, e.signInMethod);
    return (
      e.idToken || e.accessToken
        ? (e.idToken && (t.idToken = e.idToken),
          e.accessToken && (t.accessToken = e.accessToken),
          e.nonce && !e.pendingToken && (t.nonce = e.nonce),
          e.pendingToken && (t.pendingToken = e.pendingToken))
        : e.oauthToken && e.oauthTokenSecret
          ? ((t.accessToken = e.oauthToken), (t.secret = e.oauthTokenSecret))
          : Cr("argument-error"),
      t
    );
  }
  toJSON() {
    return {
      idToken: this.idToken,
      accessToken: this.accessToken,
      secret: this.secret,
      nonce: this.nonce,
      pendingToken: this.pendingToken,
      providerId: this.providerId,
      signInMethod: this.signInMethod,
    };
  }
  static fromJSON(e) {
    const t = typeof e == "string" ? JSON.parse(e) : e,
      { providerId: s, signInMethod: o, ...l } = t;
    if (!s || !o) return null;
    const c = new wa(s, o);
    return (
      (c.idToken = l.idToken || void 0),
      (c.accessToken = l.accessToken || void 0),
      (c.secret = l.secret),
      (c.nonce = l.nonce),
      (c.pendingToken = l.pendingToken || null),
      c
    );
  }
  _getIdTokenResponse(e) {
    const t = this.buildRequest();
    return Co(e, t);
  }
  _linkToIdToken(e, t) {
    const s = this.buildRequest();
    return ((s.idToken = t), Co(e, s));
  }
  _getReauthenticationResolver(e) {
    const t = this.buildRequest();
    return ((t.autoCreate = !1), Co(e, t));
  }
  buildRequest() {
    const e = { requestUri: _x, returnSecureToken: !0 };
    if (this.pendingToken) e.pendingToken = this.pendingToken;
    else {
      const t = {};
      (this.idToken && (t.id_token = this.idToken),
        this.accessToken && (t.access_token = this.accessToken),
        this.secret && (t.oauth_token_secret = this.secret),
        (t.providerId = this.providerId),
        this.nonce && !this.pendingToken && (t.nonce = this.nonce),
        (e.postBody = xu(t)));
    }
    return e;
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Ex(r) {
  switch (r) {
    case "recoverEmail":
      return "RECOVER_EMAIL";
    case "resetPassword":
      return "PASSWORD_RESET";
    case "signIn":
      return "EMAIL_SIGNIN";
    case "verifyEmail":
      return "VERIFY_EMAIL";
    case "verifyAndChangeEmail":
      return "VERIFY_AND_CHANGE_EMAIL";
    case "revertSecondFactorAddition":
      return "REVERT_SECOND_FACTOR_ADDITION";
    default:
      return null;
  }
}
function Tx(r) {
  const e = nu(ru(r)).link,
    t = e ? nu(ru(e)).deep_link_id : null,
    s = nu(ru(r)).deep_link_id;
  return (s ? nu(ru(s)).link : null) || s || t || e || r;
}
class Fm {
  constructor(e) {
    const t = nu(ru(e)),
      s = t.apiKey ?? null,
      o = t.oobCode ?? null,
      l = Ex(t.mode ?? null);
    (Le(s && o && l, "argument-error"),
      (this.apiKey = s),
      (this.operation = l),
      (this.code = o),
      (this.continueUrl = t.continueUrl ?? null),
      (this.languageCode = t.lang ?? null),
      (this.tenantId = t.tenantId ?? null));
  }
  static parseLink(e) {
    const t = Tx(e);
    try {
      return new Fm(t);
    } catch {
      return null;
    }
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class qo {
  constructor() {
    this.providerId = qo.PROVIDER_ID;
  }
  static credential(e, t) {
    return _u._fromEmailAndPassword(e, t);
  }
  static credentialWithLink(e, t) {
    const s = Fm.parseLink(t);
    return (
      Le(s, "argument-error"),
      _u._fromEmailAndCode(e, s.code, s.tenantId)
    );
  }
}
qo.PROVIDER_ID = "password";
qo.EMAIL_PASSWORD_SIGN_IN_METHOD = "password";
qo.EMAIL_LINK_SIGN_IN_METHOD = "emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class sS {
  constructor(e) {
    ((this.providerId = e),
      (this.defaultLanguageCode = null),
      (this.customParameters = {}));
  }
  setDefaultLanguage(e) {
    this.defaultLanguageCode = e;
  }
  setCustomParameters(e) {
    return ((this.customParameters = e), this);
  }
  getCustomParameters() {
    return this.customParameters;
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ou extends sS {
  constructor() {
    (super(...arguments), (this.scopes = []));
  }
  addScope(e) {
    return (this.scopes.includes(e) || this.scopes.push(e), this);
  }
  getScopes() {
    return [...this.scopes];
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ts extends Ou {
  constructor() {
    super("facebook.com");
  }
  static credential(e) {
    return wa._fromParams({
      providerId: Ts.PROVIDER_ID,
      signInMethod: Ts.FACEBOOK_SIGN_IN_METHOD,
      accessToken: e,
    });
  }
  static credentialFromResult(e) {
    return Ts.credentialFromTaggedObject(e);
  }
  static credentialFromError(e) {
    return Ts.credentialFromTaggedObject(e.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: e }) {
    if (!e || !("oauthAccessToken" in e) || !e.oauthAccessToken) return null;
    try {
      return Ts.credential(e.oauthAccessToken);
    } catch {
      return null;
    }
  }
}
Ts.FACEBOOK_SIGN_IN_METHOD = "facebook.com";
Ts.PROVIDER_ID = "facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ss extends Ou {
  constructor() {
    (super("google.com"), this.addScope("profile"));
  }
  static credential(e, t) {
    return wa._fromParams({
      providerId: Ss.PROVIDER_ID,
      signInMethod: Ss.GOOGLE_SIGN_IN_METHOD,
      idToken: e,
      accessToken: t,
    });
  }
  static credentialFromResult(e) {
    return Ss.credentialFromTaggedObject(e);
  }
  static credentialFromError(e) {
    return Ss.credentialFromTaggedObject(e.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: e }) {
    if (!e) return null;
    const { oauthIdToken: t, oauthAccessToken: s } = e;
    if (!t && !s) return null;
    try {
      return Ss.credential(t, s);
    } catch {
      return null;
    }
  }
}
Ss.GOOGLE_SIGN_IN_METHOD = "google.com";
Ss.PROVIDER_ID = "google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class bs extends Ou {
  constructor() {
    super("github.com");
  }
  static credential(e) {
    return wa._fromParams({
      providerId: bs.PROVIDER_ID,
      signInMethod: bs.GITHUB_SIGN_IN_METHOD,
      accessToken: e,
    });
  }
  static credentialFromResult(e) {
    return bs.credentialFromTaggedObject(e);
  }
  static credentialFromError(e) {
    return bs.credentialFromTaggedObject(e.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: e }) {
    if (!e || !("oauthAccessToken" in e) || !e.oauthAccessToken) return null;
    try {
      return bs.credential(e.oauthAccessToken);
    } catch {
      return null;
    }
  }
}
bs.GITHUB_SIGN_IN_METHOD = "github.com";
bs.PROVIDER_ID = "github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ws extends Ou {
  constructor() {
    super("twitter.com");
  }
  static credential(e, t) {
    return wa._fromParams({
      providerId: ws.PROVIDER_ID,
      signInMethod: ws.TWITTER_SIGN_IN_METHOD,
      oauthToken: e,
      oauthTokenSecret: t,
    });
  }
  static credentialFromResult(e) {
    return ws.credentialFromTaggedObject(e);
  }
  static credentialFromError(e) {
    return ws.credentialFromTaggedObject(e.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: e }) {
    if (!e) return null;
    const { oauthAccessToken: t, oauthTokenSecret: s } = e;
    if (!t || !s) return null;
    try {
      return ws.credential(t, s);
    } catch {
      return null;
    }
  }
}
ws.TWITTER_SIGN_IN_METHOD = "twitter.com";
ws.PROVIDER_ID = "twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function Sx(r, e) {
  return Du(r, "POST", "/v1/accounts:signUp", js(r, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Aa {
  constructor(e) {
    ((this.user = e.user),
      (this.providerId = e.providerId),
      (this._tokenResponse = e._tokenResponse),
      (this.operationType = e.operationType));
  }
  static async _fromIdTokenResponse(e, t, s, o = !1) {
    const l = await Rr._fromIdTokenResponse(e, s, o),
      c = CE(s);
    return new Aa({
      user: l,
      providerId: c,
      _tokenResponse: s,
      operationType: t,
    });
  }
  static async _forOperation(e, t, s) {
    await e._updateTokensIfNecessary(s, !0);
    const o = CE(s);
    return new Aa({
      user: e,
      providerId: o,
      _tokenResponse: s,
      operationType: t,
    });
  }
}
function CE(r) {
  return r.providerId ? r.providerId : "phoneNumber" in r ? "phone" : null;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ph extends ki {
  constructor(e, t, s, o) {
    (super(t.code, t.message),
      (this.operationType = s),
      (this.user = o),
      Object.setPrototypeOf(this, Ph.prototype),
      (this.customData = {
        appName: e.name,
        tenantId: e.tenantId ?? void 0,
        _serverResponse: t.customData._serverResponse,
        operationType: s,
      }));
  }
  static _fromErrorAndOperation(e, t, s, o) {
    return new Ph(e, t, s, o);
  }
}
function aS(r, e, t, s) {
  return (
    e === "reauthenticate"
      ? t._getReauthenticationResolver(r)
      : t._getIdTokenResponse(r)
  ).catch((l) => {
    throw l.code === "auth/multi-factor-auth-required"
      ? Ph._fromErrorAndOperation(r, l, e, s)
      : l;
  });
}
async function bx(r, e, t = !1) {
  const s = await vu(r, e._linkToIdToken(r.auth, await r.getIdToken()), t);
  return Aa._forOperation(r, "link", s);
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function wx(r, e, t = !1) {
  const { auth: s } = r;
  if (mr(s.app)) return Promise.reject(Mi(s));
  const o = "reauthenticate";
  try {
    const l = await vu(r, aS(s, o, e, r), t);
    Le(l.idToken, s, "internal-error");
    const c = zm(l.idToken);
    Le(c, s, "internal-error");
    const { sub: d } = c;
    return (Le(r.uid === d, s, "user-mismatch"), Aa._forOperation(r, o, l));
  } catch (l) {
    throw (l?.code === "auth/user-not-found" && Cr(s, "user-mismatch"), l);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function oS(r, e, t = !1) {
  if (mr(r.app)) return Promise.reject(Mi(r));
  const s = "signIn",
    o = await aS(r, s, e),
    l = await Aa._fromIdTokenResponse(r, s, o);
  return (t || (await r._updateCurrentUser(l.user)), l);
}
async function Ax(r, e) {
  return oS(Ia(r), e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function lS(r) {
  const e = Ia(r);
  e._getPasswordPolicyInternal() && (await e._updatePasswordPolicy());
}
async function Rx(r, e, t) {
  if (mr(r.app)) return Promise.reject(Mi(r));
  const s = Ia(r),
    c = await Zp(
      s,
      {
        returnSecureToken: !0,
        email: e,
        password: t,
        clientType: "CLIENT_TYPE_WEB",
      },
      "signUpPassword",
      Sx,
    ).catch((m) => {
      throw (m.code === "auth/password-does-not-meet-requirements" && lS(r), m);
    }),
    d = await Aa._fromIdTokenResponse(s, "signIn", c);
  return (await s._updateCurrentUser(d.user), d);
}
function Cx(r, e, t) {
  return mr(r.app)
    ? Promise.reject(Mi(r))
    : Ax(Xn(r), qo.credential(e, t)).catch(async (s) => {
        throw (
          s.code === "auth/password-does-not-meet-requirements" && lS(r),
          s
        );
      });
}
function Ix(r, e, t, s) {
  return Xn(r).onIdTokenChanged(e, t, s);
}
function xx(r, e, t) {
  return Xn(r).beforeAuthStateChanged(e, t);
}
function Nx(r, e, t, s) {
  return Xn(r).onAuthStateChanged(e, t, s);
}
function Dx(r) {
  return Xn(r).signOut();
}
const Lh = "__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class uS {
  constructor(e, t) {
    ((this.storageRetriever = e), (this.type = t));
  }
  _isAvailable() {
    try {
      return this.storage
        ? (this.storage.setItem(Lh, "1"),
          this.storage.removeItem(Lh),
          Promise.resolve(!0))
        : Promise.resolve(!1);
    } catch {
      return Promise.resolve(!1);
    }
  }
  _set(e, t) {
    return (this.storage.setItem(e, JSON.stringify(t)), Promise.resolve());
  }
  _get(e) {
    const t = this.storage.getItem(e);
    return Promise.resolve(t ? JSON.parse(t) : null);
  }
  _remove(e) {
    return (this.storage.removeItem(e), Promise.resolve());
  }
  get storage() {
    return this.storageRetriever();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Ox = 1e3,
  Mx = 10;
class cS extends uS {
  constructor() {
    (super(() => window.localStorage, "LOCAL"),
      (this.boundEventHandler = (e, t) => this.onStorageEvent(e, t)),
      (this.listeners = {}),
      (this.localCache = {}),
      (this.pollTimer = null),
      (this.fallbackToPolling = eS()),
      (this._shouldAllowMigration = !0));
  }
  forAllChangedKeys(e) {
    for (const t of Object.keys(this.listeners)) {
      const s = this.storage.getItem(t),
        o = this.localCache[t];
      s !== o && e(t, o, s);
    }
  }
  onStorageEvent(e, t = !1) {
    if (!e.key) {
      this.forAllChangedKeys((c, d, m) => {
        this.notifyListeners(c, m);
      });
      return;
    }
    const s = e.key;
    t ? this.detachListener() : this.stopPolling();
    const o = () => {
        const c = this.storage.getItem(s);
        (!t && this.localCache[s] === c) || this.notifyListeners(s, c);
      },
      l = this.storage.getItem(s);
    XI() && l !== e.newValue && e.newValue !== e.oldValue
      ? setTimeout(o, Mx)
      : o();
  }
  notifyListeners(e, t) {
    this.localCache[e] = t;
    const s = this.listeners[e];
    if (s) for (const o of Array.from(s)) o(t && JSON.parse(t));
  }
  startPolling() {
    (this.stopPolling(),
      (this.pollTimer = setInterval(() => {
        this.forAllChangedKeys((e, t, s) => {
          this.onStorageEvent(
            new StorageEvent("storage", { key: e, oldValue: t, newValue: s }),
            !0,
          );
        });
      }, Ox)));
  }
  stopPolling() {
    this.pollTimer && (clearInterval(this.pollTimer), (this.pollTimer = null));
  }
  attachListener() {
    window.addEventListener("storage", this.boundEventHandler);
  }
  detachListener() {
    window.removeEventListener("storage", this.boundEventHandler);
  }
  _addListener(e, t) {
    (Object.keys(this.listeners).length === 0 &&
      (this.fallbackToPolling ? this.startPolling() : this.attachListener()),
      this.listeners[e] ||
        ((this.listeners[e] = new Set()),
        (this.localCache[e] = this.storage.getItem(e))),
      this.listeners[e].add(t));
  }
  _removeListener(e, t) {
    (this.listeners[e] &&
      (this.listeners[e].delete(t),
      this.listeners[e].size === 0 && delete this.listeners[e]),
      Object.keys(this.listeners).length === 0 &&
        (this.detachListener(), this.stopPolling()));
  }
  async _set(e, t) {
    (await super._set(e, t), (this.localCache[e] = JSON.stringify(t)));
  }
  async _get(e) {
    const t = await super._get(e);
    return ((this.localCache[e] = JSON.stringify(t)), t);
  }
  async _remove(e) {
    (await super._remove(e), delete this.localCache[e]);
  }
}
cS.type = "LOCAL";
const Px = cS;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class hS extends uS {
  constructor() {
    super(() => window.sessionStorage, "SESSION");
  }
  _addListener(e, t) {}
  _removeListener(e, t) {}
}
hS.type = "SESSION";
const fS = hS;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Lx(r) {
  return Promise.all(
    r.map(async (e) => {
      try {
        return { fulfilled: !0, value: await e };
      } catch (t) {
        return { fulfilled: !1, reason: t };
      }
    }),
  );
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class nf {
  constructor(e) {
    ((this.eventTarget = e),
      (this.handlersMap = {}),
      (this.boundEventHandler = this.handleEvent.bind(this)));
  }
  static _getInstance(e) {
    const t = this.receivers.find((o) => o.isListeningto(e));
    if (t) return t;
    const s = new nf(e);
    return (this.receivers.push(s), s);
  }
  isListeningto(e) {
    return this.eventTarget === e;
  }
  async handleEvent(e) {
    const t = e,
      { eventId: s, eventType: o, data: l } = t.data,
      c = this.handlersMap[o];
    if (!c?.size) return;
    t.ports[0].postMessage({ status: "ack", eventId: s, eventType: o });
    const d = Array.from(c).map(async (g) => g(t.origin, l)),
      m = await Lx(d);
    t.ports[0].postMessage({
      status: "done",
      eventId: s,
      eventType: o,
      response: m,
    });
  }
  _subscribe(e, t) {
    (Object.keys(this.handlersMap).length === 0 &&
      this.eventTarget.addEventListener("message", this.boundEventHandler),
      this.handlersMap[e] || (this.handlersMap[e] = new Set()),
      this.handlersMap[e].add(t));
  }
  _unsubscribe(e, t) {
    (this.handlersMap[e] && t && this.handlersMap[e].delete(t),
      (!t || this.handlersMap[e].size === 0) && delete this.handlersMap[e],
      Object.keys(this.handlersMap).length === 0 &&
        this.eventTarget.removeEventListener(
          "message",
          this.boundEventHandler,
        ));
  }
}
nf.receivers = [];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function qm(r = "", e = 10) {
  let t = "";
  for (let s = 0; s < e; s++) t += Math.floor(Math.random() * 10);
  return r + t;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Vx {
  constructor(e) {
    ((this.target = e), (this.handlers = new Set()));
  }
  removeMessageHandler(e) {
    (e.messageChannel &&
      (e.messageChannel.port1.removeEventListener("message", e.onMessage),
      e.messageChannel.port1.close()),
      this.handlers.delete(e));
  }
  async _send(e, t, s = 50) {
    const o = typeof MessageChannel < "u" ? new MessageChannel() : null;
    if (!o) throw new Error("connection_unavailable");
    let l, c;
    return new Promise((d, m) => {
      const g = qm("", 20);
      o.port1.start();
      const v = setTimeout(() => {
        m(new Error("unsupported_event"));
      }, s);
      ((c = {
        messageChannel: o,
        onMessage(T) {
          const b = T;
          if (b.data.eventId === g)
            switch (b.data.status) {
              case "ack":
                (clearTimeout(v),
                  (l = setTimeout(() => {
                    m(new Error("timeout"));
                  }, 3e3)));
                break;
              case "done":
                (clearTimeout(l), d(b.data.response));
                break;
              default:
                (clearTimeout(v),
                  clearTimeout(l),
                  m(new Error("invalid_response")));
                break;
            }
        },
      }),
        this.handlers.add(c),
        o.port1.addEventListener("message", c.onMessage),
        this.target.postMessage({ eventType: e, eventId: g, data: t }, [
          o.port2,
        ]));
    }).finally(() => {
      c && this.removeMessageHandler(c);
    });
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function ti() {
  return window;
}
function Ux(r) {
  ti().location.href = r;
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function dS() {
  return (
    typeof ti().WorkerGlobalScope < "u" &&
    typeof ti().importScripts == "function"
  );
}
async function kx() {
  if (!navigator?.serviceWorker) return null;
  try {
    return (await navigator.serviceWorker.ready).active;
  } catch {
    return null;
  }
}
function jx() {
  return navigator?.serviceWorker?.controller || null;
}
function zx() {
  return dS() ? self : null;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const pS = "firebaseLocalStorageDb",
  Bx = 1,
  Vh = "firebaseLocalStorage",
  mS = "fbase_key";
class Mu {
  constructor(e) {
    this.request = e;
  }
  toPromise() {
    return new Promise((e, t) => {
      (this.request.addEventListener("success", () => {
        e(this.request.result);
      }),
        this.request.addEventListener("error", () => {
          t(this.request.error);
        }));
    });
  }
}
function rf(r, e) {
  return r.transaction([Vh], e ? "readwrite" : "readonly").objectStore(Vh);
}
function Hx() {
  const r = indexedDB.deleteDatabase(pS);
  return new Mu(r).toPromise();
}
function em() {
  const r = indexedDB.open(pS, Bx);
  return new Promise((e, t) => {
    (r.addEventListener("error", () => {
      t(r.error);
    }),
      r.addEventListener("upgradeneeded", () => {
        const s = r.result;
        try {
          s.createObjectStore(Vh, { keyPath: mS });
        } catch (o) {
          t(o);
        }
      }),
      r.addEventListener("success", async () => {
        const s = r.result;
        s.objectStoreNames.contains(Vh)
          ? e(s)
          : (s.close(), await Hx(), e(await em()));
      }));
  });
}
async function IE(r, e, t) {
  const s = rf(r, !0).put({ [mS]: e, value: t });
  return new Mu(s).toPromise();
}
async function Fx(r, e) {
  const t = rf(r, !1).get(e),
    s = await new Mu(t).toPromise();
  return s === void 0 ? null : s.value;
}
function xE(r, e) {
  const t = rf(r, !0).delete(e);
  return new Mu(t).toPromise();
}
const qx = 800,
  Gx = 3;
class gS {
  constructor() {
    ((this.type = "LOCAL"),
      (this._shouldAllowMigration = !0),
      (this.listeners = {}),
      (this.localCache = {}),
      (this.pollTimer = null),
      (this.pendingWrites = 0),
      (this.receiver = null),
      (this.sender = null),
      (this.serviceWorkerReceiverAvailable = !1),
      (this.activeServiceWorker = null),
      (this._workerInitializationPromise =
        this.initializeServiceWorkerMessaging().then(
          () => {},
          () => {},
        )));
  }
  async _openDb() {
    return this.db ? this.db : ((this.db = await em()), this.db);
  }
  async _withRetries(e) {
    let t = 0;
    for (;;)
      try {
        const s = await this._openDb();
        return await e(s);
      } catch (s) {
        if (t++ > Gx) throw s;
        this.db && (this.db.close(), (this.db = void 0));
      }
  }
  async initializeServiceWorkerMessaging() {
    return dS() ? this.initializeReceiver() : this.initializeSender();
  }
  async initializeReceiver() {
    ((this.receiver = nf._getInstance(zx())),
      this.receiver._subscribe("keyChanged", async (e, t) => ({
        keyProcessed: (await this._poll()).includes(t.key),
      })),
      this.receiver._subscribe("ping", async (e, t) => ["keyChanged"]));
  }
  async initializeSender() {
    if (((this.activeServiceWorker = await kx()), !this.activeServiceWorker))
      return;
    this.sender = new Vx(this.activeServiceWorker);
    const e = await this.sender._send("ping", {}, 800);
    e &&
      e[0]?.fulfilled &&
      e[0]?.value.includes("keyChanged") &&
      (this.serviceWorkerReceiverAvailable = !0);
  }
  async notifyServiceWorker(e) {
    if (
      !(
        !this.sender ||
        !this.activeServiceWorker ||
        jx() !== this.activeServiceWorker
      )
    )
      try {
        await this.sender._send(
          "keyChanged",
          { key: e },
          this.serviceWorkerReceiverAvailable ? 800 : 50,
        );
      } catch {}
  }
  async _isAvailable() {
    try {
      if (!indexedDB) return !1;
      const e = await em();
      return (await IE(e, Lh, "1"), await xE(e, Lh), !0);
    } catch {}
    return !1;
  }
  async _withPendingWrite(e) {
    this.pendingWrites++;
    try {
      await e();
    } finally {
      this.pendingWrites--;
    }
  }
  async _set(e, t) {
    return this._withPendingWrite(
      async () => (
        await this._withRetries((s) => IE(s, e, t)),
        (this.localCache[e] = t),
        this.notifyServiceWorker(e)
      ),
    );
  }
  async _get(e) {
    const t = await this._withRetries((s) => Fx(s, e));
    return ((this.localCache[e] = t), t);
  }
  async _remove(e) {
    return this._withPendingWrite(
      async () => (
        await this._withRetries((t) => xE(t, e)),
        delete this.localCache[e],
        this.notifyServiceWorker(e)
      ),
    );
  }
  async _poll() {
    const e = await this._withRetries((o) => {
      const l = rf(o, !1).getAll();
      return new Mu(l).toPromise();
    });
    if (!e) return [];
    if (this.pendingWrites !== 0) return [];
    const t = [],
      s = new Set();
    if (e.length !== 0)
      for (const { fbase_key: o, value: l } of e)
        (s.add(o),
          JSON.stringify(this.localCache[o]) !== JSON.stringify(l) &&
            (this.notifyListeners(o, l), t.push(o)));
    for (const o of Object.keys(this.localCache))
      this.localCache[o] &&
        !s.has(o) &&
        (this.notifyListeners(o, null), t.push(o));
    return t;
  }
  notifyListeners(e, t) {
    this.localCache[e] = t;
    const s = this.listeners[e];
    if (s) for (const o of Array.from(s)) o(t);
  }
  startPolling() {
    (this.stopPolling(),
      (this.pollTimer = setInterval(async () => this._poll(), qx)));
  }
  stopPolling() {
    this.pollTimer && (clearInterval(this.pollTimer), (this.pollTimer = null));
  }
  _addListener(e, t) {
    (Object.keys(this.listeners).length === 0 && this.startPolling(),
      this.listeners[e] || ((this.listeners[e] = new Set()), this._get(e)),
      this.listeners[e].add(t));
  }
  _removeListener(e, t) {
    (this.listeners[e] &&
      (this.listeners[e].delete(t),
      this.listeners[e].size === 0 && delete this.listeners[e]),
      Object.keys(this.listeners).length === 0 && this.stopPolling());
  }
}
gS.type = "LOCAL";
const $x = gS;
new Nu(3e4, 6e4);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Kx(r, e) {
  return e
    ? Di(e)
    : (Le(r._popupRedirectResolver, r, "argument-error"),
      r._popupRedirectResolver);
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Gm extends Hm {
  constructor(e) {
    (super("custom", "custom"), (this.params = e));
  }
  _getIdTokenResponse(e) {
    return Co(e, this._buildIdpRequest());
  }
  _linkToIdToken(e, t) {
    return Co(e, this._buildIdpRequest(t));
  }
  _getReauthenticationResolver(e) {
    return Co(e, this._buildIdpRequest());
  }
  _buildIdpRequest(e) {
    const t = {
      requestUri: this.params.requestUri,
      sessionId: this.params.sessionId,
      postBody: this.params.postBody,
      tenantId: this.params.tenantId,
      pendingToken: this.params.pendingToken,
      returnSecureToken: !0,
      returnIdpCredential: !0,
    };
    return (e && (t.idToken = e), t);
  }
}
function Yx(r) {
  return oS(r.auth, new Gm(r), r.bypassAuthState);
}
function Qx(r) {
  const { auth: e, user: t } = r;
  return (Le(t, e, "internal-error"), wx(t, new Gm(r), r.bypassAuthState));
}
async function Xx(r) {
  const { auth: e, user: t } = r;
  return (Le(t, e, "internal-error"), bx(t, new Gm(r), r.bypassAuthState));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class yS {
  constructor(e, t, s, o, l = !1) {
    ((this.auth = e),
      (this.resolver = s),
      (this.user = o),
      (this.bypassAuthState = l),
      (this.pendingPromise = null),
      (this.eventManager = null),
      (this.filter = Array.isArray(t) ? t : [t]));
  }
  execute() {
    return new Promise(async (e, t) => {
      this.pendingPromise = { resolve: e, reject: t };
      try {
        ((this.eventManager = await this.resolver._initialize(this.auth)),
          await this.onExecution(),
          this.eventManager.registerConsumer(this));
      } catch (s) {
        this.reject(s);
      }
    });
  }
  async onAuthEvent(e) {
    const {
      urlResponse: t,
      sessionId: s,
      postBody: o,
      tenantId: l,
      error: c,
      type: d,
    } = e;
    if (c) {
      this.reject(c);
      return;
    }
    const m = {
      auth: this.auth,
      requestUri: t,
      sessionId: s,
      tenantId: l || void 0,
      postBody: o || void 0,
      user: this.user,
      bypassAuthState: this.bypassAuthState,
    };
    try {
      this.resolve(await this.getIdpTask(d)(m));
    } catch (g) {
      this.reject(g);
    }
  }
  onError(e) {
    this.reject(e);
  }
  getIdpTask(e) {
    switch (e) {
      case "signInViaPopup":
      case "signInViaRedirect":
        return Yx;
      case "linkViaPopup":
      case "linkViaRedirect":
        return Xx;
      case "reauthViaPopup":
      case "reauthViaRedirect":
        return Qx;
      default:
        Cr(this.auth, "internal-error");
    }
  }
  resolve(e) {
    (Li(this.pendingPromise, "Pending promise was never set"),
      this.pendingPromise.resolve(e),
      this.unregisterAndCleanUp());
  }
  reject(e) {
    (Li(this.pendingPromise, "Pending promise was never set"),
      this.pendingPromise.reject(e),
      this.unregisterAndCleanUp());
  }
  unregisterAndCleanUp() {
    (this.eventManager && this.eventManager.unregisterConsumer(this),
      (this.pendingPromise = null),
      this.cleanUp());
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Wx = new Nu(2e3, 1e4);
class bo extends yS {
  constructor(e, t, s, o, l) {
    (super(e, t, o, l),
      (this.provider = s),
      (this.authWindow = null),
      (this.pollId = null),
      bo.currentPopupAction && bo.currentPopupAction.cancel(),
      (bo.currentPopupAction = this));
  }
  async executeNotNull() {
    const e = await this.execute();
    return (Le(e, this.auth, "internal-error"), e);
  }
  async onExecution() {
    Li(this.filter.length === 1, "Popup operations only handle one event");
    const e = qm();
    ((this.authWindow = await this.resolver._openPopup(
      this.auth,
      this.provider,
      this.filter[0],
      e,
    )),
      (this.authWindow.associatedEvent = e),
      this.resolver._originValidation(this.auth).catch((t) => {
        this.reject(t);
      }),
      this.resolver._isIframeWebStorageSupported(this.auth, (t) => {
        t || this.reject(ei(this.auth, "web-storage-unsupported"));
      }),
      this.pollUserCancellation());
  }
  get eventId() {
    return this.authWindow?.associatedEvent || null;
  }
  cancel() {
    this.reject(ei(this.auth, "cancelled-popup-request"));
  }
  cleanUp() {
    (this.authWindow && this.authWindow.close(),
      this.pollId && window.clearTimeout(this.pollId),
      (this.authWindow = null),
      (this.pollId = null),
      (bo.currentPopupAction = null));
  }
  pollUserCancellation() {
    const e = () => {
      if (this.authWindow?.window?.closed) {
        this.pollId = window.setTimeout(() => {
          ((this.pollId = null),
            this.reject(ei(this.auth, "popup-closed-by-user")));
        }, 8e3);
        return;
      }
      this.pollId = window.setTimeout(e, Wx.get());
    };
    e();
  }
}
bo.currentPopupAction = null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Jx = "pendingRedirect",
  _h = new Map();
class Zx extends yS {
  constructor(e, t, s = !1) {
    (super(
      e,
      ["signInViaRedirect", "linkViaRedirect", "reauthViaRedirect", "unknown"],
      t,
      void 0,
      s,
    ),
      (this.eventId = null));
  }
  async execute() {
    let e = _h.get(this.auth._key());
    if (!e) {
      try {
        const s = (await eN(this.resolver, this.auth))
          ? await super.execute()
          : null;
        e = () => Promise.resolve(s);
      } catch (t) {
        e = () => Promise.reject(t);
      }
      _h.set(this.auth._key(), e);
    }
    return (
      this.bypassAuthState ||
        _h.set(this.auth._key(), () => Promise.resolve(null)),
      e()
    );
  }
  async onAuthEvent(e) {
    if (e.type === "signInViaRedirect") return super.onAuthEvent(e);
    if (e.type === "unknown") {
      this.resolve(null);
      return;
    }
    if (e.eventId) {
      const t = await this.auth._redirectUserForId(e.eventId);
      if (t) return ((this.user = t), super.onAuthEvent(e));
      this.resolve(null);
    }
  }
  async onExecution() {}
  cleanUp() {}
}
async function eN(r, e) {
  const t = rN(e),
    s = nN(r);
  if (!(await s._isAvailable())) return !1;
  const o = (await s._get(t)) === "true";
  return (await s._remove(t), o);
}
function tN(r, e) {
  _h.set(r._key(), e);
}
function nN(r) {
  return Di(r._redirectPersistence);
}
function rN(r) {
  return vh(Jx, r.config.apiKey, r.name);
}
async function iN(r, e, t = !1) {
  if (mr(r.app)) return Promise.reject(Mi(r));
  const s = Ia(r),
    o = Kx(s, e),
    c = await new Zx(s, o, t).execute();
  return (
    c &&
      !t &&
      (delete c.user._redirectEventId,
      await s._persistUserIfCurrent(c.user),
      await s._setRedirectUser(null, e)),
    c
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const sN = 600 * 1e3;
class aN {
  constructor(e) {
    ((this.auth = e),
      (this.cachedEventUids = new Set()),
      (this.consumers = new Set()),
      (this.queuedRedirectEvent = null),
      (this.hasHandledPotentialRedirect = !1),
      (this.lastProcessedEventTime = Date.now()));
  }
  registerConsumer(e) {
    (this.consumers.add(e),
      this.queuedRedirectEvent &&
        this.isEventForConsumer(this.queuedRedirectEvent, e) &&
        (this.sendToConsumer(this.queuedRedirectEvent, e),
        this.saveEventToCache(this.queuedRedirectEvent),
        (this.queuedRedirectEvent = null)));
  }
  unregisterConsumer(e) {
    this.consumers.delete(e);
  }
  onEvent(e) {
    if (this.hasEventBeenHandled(e)) return !1;
    let t = !1;
    return (
      this.consumers.forEach((s) => {
        this.isEventForConsumer(e, s) &&
          ((t = !0), this.sendToConsumer(e, s), this.saveEventToCache(e));
      }),
      this.hasHandledPotentialRedirect ||
        !oN(e) ||
        ((this.hasHandledPotentialRedirect = !0),
        t || ((this.queuedRedirectEvent = e), (t = !0))),
      t
    );
  }
  sendToConsumer(e, t) {
    if (e.error && !vS(e)) {
      const s = e.error.code?.split("auth/")[1] || "internal-error";
      t.onError(ei(this.auth, s));
    } else t.onAuthEvent(e);
  }
  isEventForConsumer(e, t) {
    const s = t.eventId === null || (!!e.eventId && e.eventId === t.eventId);
    return t.filter.includes(e.type) && s;
  }
  hasEventBeenHandled(e) {
    return (
      Date.now() - this.lastProcessedEventTime >= sN &&
        this.cachedEventUids.clear(),
      this.cachedEventUids.has(NE(e))
    );
  }
  saveEventToCache(e) {
    (this.cachedEventUids.add(NE(e)),
      (this.lastProcessedEventTime = Date.now()));
  }
}
function NE(r) {
  return [r.type, r.eventId, r.sessionId, r.tenantId]
    .filter((e) => e)
    .join("-");
}
function vS({ type: r, error: e }) {
  return r === "unknown" && e?.code === "auth/no-auth-event";
}
function oN(r) {
  switch (r.type) {
    case "signInViaRedirect":
    case "linkViaRedirect":
    case "reauthViaRedirect":
      return !0;
    case "unknown":
      return vS(r);
    default:
      return !1;
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function lN(r, e = {}) {
  return zs(r, "GET", "/v1/projects", e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const uN = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,
  cN = /^https?/;
async function hN(r) {
  if (r.config.emulator) return;
  const { authorizedDomains: e } = await lN(r);
  for (const t of e)
    try {
      if (fN(t)) return;
    } catch {}
  Cr(r, "unauthorized-domain");
}
function fN(r) {
  const e = Wp(),
    { protocol: t, hostname: s } = new URL(e);
  if (r.startsWith("chrome-extension://")) {
    const c = new URL(r);
    return c.hostname === "" && s === ""
      ? t === "chrome-extension:" &&
          r.replace("chrome-extension://", "") ===
            e.replace("chrome-extension://", "")
      : t === "chrome-extension:" && c.hostname === s;
  }
  if (!cN.test(t)) return !1;
  if (uN.test(r)) return s === r;
  const o = r.replace(/\./g, "\\.");
  return new RegExp("^(.+\\." + o + "|" + o + ")$", "i").test(s);
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const dN = new Nu(3e4, 6e4);
function DE() {
  const r = ti().___jsl;
  if (r?.H) {
    for (const e of Object.keys(r.H))
      if (
        ((r.H[e].r = r.H[e].r || []),
        (r.H[e].L = r.H[e].L || []),
        (r.H[e].r = [...r.H[e].L]),
        r.CP)
      )
        for (let t = 0; t < r.CP.length; t++) r.CP[t] = null;
  }
}
function pN(r) {
  return new Promise((e, t) => {
    function s() {
      (DE(),
        gapi.load("gapi.iframes", {
          callback: () => {
            e(gapi.iframes.getContext());
          },
          ontimeout: () => {
            (DE(), t(ei(r, "network-request-failed")));
          },
          timeout: dN.get(),
        }));
    }
    if (ti().gapi?.iframes?.Iframe) e(gapi.iframes.getContext());
    else if (ti().gapi?.load) s();
    else {
      const o = sx("iframefcb");
      return (
        (ti()[o] = () => {
          gapi.load ? s() : t(ei(r, "network-request-failed"));
        }),
        nS(`${ix()}?onload=${o}`).catch((l) => t(l))
      );
    }
  }).catch((e) => {
    throw ((Eh = null), e);
  });
}
let Eh = null;
function mN(r) {
  return ((Eh = Eh || pN(r)), Eh);
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const gN = new Nu(5e3, 15e3),
  yN = "__/auth/iframe",
  vN = "emulator/auth/iframe",
  _N = {
    style: { position: "absolute", top: "-100px", width: "1px", height: "1px" },
    "aria-hidden": "true",
    tabindex: "-1",
  },
  EN = new Map([
    ["identitytoolkit.googleapis.com", "p"],
    ["staging-identitytoolkit.sandbox.googleapis.com", "s"],
    ["test-identitytoolkit.sandbox.googleapis.com", "t"],
  ]);
function TN(r) {
  const e = r.config;
  Le(e.authDomain, r, "auth-domain-config-required");
  const t = e.emulator ? jm(e, vN) : `https://${r.config.authDomain}/${yN}`,
    s = { apiKey: e.apiKey, appName: r.name, v: Fo },
    o = EN.get(r.config.apiHost);
  o && (s.eid = o);
  const l = r._getFrameworks();
  return (l.length && (s.fw = l.join(",")), `${t}?${xu(s).slice(1)}`);
}
async function SN(r) {
  const e = await mN(r),
    t = ti().gapi;
  return (
    Le(t, r, "internal-error"),
    e.open(
      {
        where: document.body,
        url: TN(r),
        messageHandlersFilter: t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,
        attributes: _N,
        dontclear: !0,
      },
      (s) =>
        new Promise(async (o, l) => {
          await s.restyle({ setHideOnLeave: !1 });
          const c = ei(r, "network-request-failed"),
            d = ti().setTimeout(() => {
              l(c);
            }, gN.get());
          function m() {
            (ti().clearTimeout(d), o(s));
          }
          s.ping(m).then(m, () => {
            l(c);
          });
        }),
    )
  );
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const bN = {
    location: "yes",
    resizable: "yes",
    statusbar: "yes",
    toolbar: "no",
  },
  wN = 500,
  AN = 600,
  RN = "_blank",
  CN = "http://localhost";
class OE {
  constructor(e) {
    ((this.window = e), (this.associatedEvent = null));
  }
  close() {
    if (this.window)
      try {
        this.window.close();
      } catch {}
  }
}
function IN(r, e, t, s = wN, o = AN) {
  const l = Math.max((window.screen.availHeight - o) / 2, 0).toString(),
    c = Math.max((window.screen.availWidth - s) / 2, 0).toString();
  let d = "";
  const m = {
      ...bN,
      width: s.toString(),
      height: o.toString(),
      top: l,
      left: c,
    },
    g = Tn().toLowerCase();
  (t && (d = QT(g) ? RN : t), KT(g) && ((e = e || CN), (m.scrollbars = "yes")));
  const v = Object.entries(m).reduce((b, [A, D]) => `${b}${A}=${D},`, "");
  if (QI(g) && d !== "_self") return (xN(e || "", d), new OE(null));
  const T = window.open(e || "", d, v);
  Le(T, r, "popup-blocked");
  try {
    T.focus();
  } catch {}
  return new OE(T);
}
function xN(r, e) {
  const t = document.createElement("a");
  ((t.href = r), (t.target = e));
  const s = document.createEvent("MouseEvent");
  (s.initMouseEvent(
    "click",
    !0,
    !0,
    window,
    1,
    0,
    0,
    0,
    0,
    !1,
    !1,
    !1,
    !1,
    1,
    null,
  ),
    t.dispatchEvent(s));
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const NN = "__/auth/handler",
  DN = "emulator/auth/handler",
  ON = encodeURIComponent("fac");
async function ME(r, e, t, s, o, l) {
  (Le(r.config.authDomain, r, "auth-domain-config-required"),
    Le(r.config.apiKey, r, "invalid-api-key"));
  const c = {
    apiKey: r.config.apiKey,
    appName: r.name,
    authType: t,
    redirectUrl: s,
    v: Fo,
    eventId: o,
  };
  if (e instanceof sS) {
    (e.setDefaultLanguage(r.languageCode),
      (c.providerId = e.providerId || ""),
      yC(e.getCustomParameters()) ||
        (c.customParameters = JSON.stringify(e.getCustomParameters())));
    for (const [v, T] of Object.entries({})) c[v] = T;
  }
  if (e instanceof Ou) {
    const v = e.getScopes().filter((T) => T !== "");
    v.length > 0 && (c.scopes = v.join(","));
  }
  r.tenantId && (c.tid = r.tenantId);
  const d = c;
  for (const v of Object.keys(d)) d[v] === void 0 && delete d[v];
  const m = await r._getAppCheckToken(),
    g = m ? `#${ON}=${encodeURIComponent(m)}` : "";
  return `${MN(r)}?${xu(d).slice(1)}${g}`;
}
function MN({ config: r }) {
  return r.emulator ? jm(r, DN) : `https://${r.authDomain}/${NN}`;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Op = "webStorageSupport";
class PN {
  constructor() {
    ((this.eventManagers = {}),
      (this.iframes = {}),
      (this.originValidationPromises = {}),
      (this._redirectPersistence = fS),
      (this._completeRedirectFn = iN),
      (this._overrideRedirectResult = tN));
  }
  async _openPopup(e, t, s, o) {
    Li(
      this.eventManagers[e._key()]?.manager,
      "_initialize() not called before _openPopup()",
    );
    const l = await ME(e, t, s, Wp(), o);
    return IN(e, l, qm());
  }
  async _openRedirect(e, t, s, o) {
    await this._originValidation(e);
    const l = await ME(e, t, s, Wp(), o);
    return (Ux(l), new Promise(() => {}));
  }
  _initialize(e) {
    const t = e._key();
    if (this.eventManagers[t]) {
      const { manager: o, promise: l } = this.eventManagers[t];
      return o
        ? Promise.resolve(o)
        : (Li(l, "If manager is not set, promise should be"), l);
    }
    const s = this.initAndGetManager(e);
    return (
      (this.eventManagers[t] = { promise: s }),
      s.catch(() => {
        delete this.eventManagers[t];
      }),
      s
    );
  }
  async initAndGetManager(e) {
    const t = await SN(e),
      s = new aN(e);
    return (
      t.register(
        "authEvent",
        (o) => (
          Le(o?.authEvent, e, "invalid-auth-event"),
          { status: s.onEvent(o.authEvent) ? "ACK" : "ERROR" }
        ),
        gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER,
      ),
      (this.eventManagers[e._key()] = { manager: s }),
      (this.iframes[e._key()] = t),
      s
    );
  }
  _isIframeWebStorageSupported(e, t) {
    this.iframes[e._key()].send(
      Op,
      { type: Op },
      (o) => {
        const l = o?.[0]?.[Op];
        (l !== void 0 && t(!!l), Cr(e, "internal-error"));
      },
      gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER,
    );
  }
  _originValidation(e) {
    const t = e._key();
    return (
      this.originValidationPromises[t] ||
        (this.originValidationPromises[t] = hN(e)),
      this.originValidationPromises[t]
    );
  }
  get _shouldInitProactively() {
    return eS() || YT() || Bm();
  }
}
const LN = PN;
var PE = "@firebase/auth",
  LE = "1.11.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class VN {
  constructor(e) {
    ((this.auth = e), (this.internalListeners = new Map()));
  }
  getUid() {
    return (this.assertAuthConfigured(), this.auth.currentUser?.uid || null);
  }
  async getToken(e) {
    return (
      this.assertAuthConfigured(),
      await this.auth._initializationPromise,
      this.auth.currentUser
        ? { accessToken: await this.auth.currentUser.getIdToken(e) }
        : null
    );
  }
  addAuthTokenListener(e) {
    if ((this.assertAuthConfigured(), this.internalListeners.has(e))) return;
    const t = this.auth.onIdTokenChanged((s) => {
      e(s?.stsTokenManager.accessToken || null);
    });
    (this.internalListeners.set(e, t), this.updateProactiveRefresh());
  }
  removeAuthTokenListener(e) {
    this.assertAuthConfigured();
    const t = this.internalListeners.get(e);
    t && (this.internalListeners.delete(e), t(), this.updateProactiveRefresh());
  }
  assertAuthConfigured() {
    Le(
      this.auth._initializationPromise,
      "dependent-sdk-initialized-before-auth",
    );
  }
  updateProactiveRefresh() {
    this.internalListeners.size > 0
      ? this.auth._startProactiveRefresh()
      : this.auth._stopProactiveRefresh();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function UN(r) {
  switch (r) {
    case "Node":
      return "node";
    case "ReactNative":
      return "rn";
    case "Worker":
      return "webworker";
    case "Cordova":
      return "cordova";
    case "WebExtension":
      return "web-extension";
    default:
      return;
  }
}
function kN(r) {
  (Mo(
    new ba(
      "auth",
      (e, { options: t }) => {
        const s = e.getProvider("app").getImmediate(),
          o = e.getProvider("heartbeat"),
          l = e.getProvider("app-check-internal"),
          { apiKey: c, authDomain: d } = s.options;
        Le(c && !c.includes(":"), "invalid-api-key", { appName: s.name });
        const m = {
            apiKey: c,
            authDomain: d,
            clientPlatform: r,
            apiHost: "identitytoolkit.googleapis.com",
            tokenApiHost: "securetoken.googleapis.com",
            apiScheme: "https",
            sdkClientVersion: tS(r),
          },
          g = new tx(s, o, l, m);
        return (hx(g, t), g);
      },
      "PUBLIC",
    )
      .setInstantiationMode("EXPLICIT")
      .setInstanceCreatedCallback((e, t, s) => {
        e.getProvider("auth-internal").initialize();
      }),
  ),
    Mo(
      new ba(
        "auth-internal",
        (e) => {
          const t = Ia(e.getProvider("auth").getImmediate());
          return ((s) => new VN(s))(t);
        },
        "PRIVATE",
      ).setInstantiationMode("EXPLICIT"),
    ),
    xs(PE, LE, UN(r)),
    xs(PE, LE, "esm2020"));
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const jN = 300,
  zN = NT("authIdTokenMaxAge") || jN;
let VE = null;
const BN = (r) => async (e) => {
  const t = e && (await e.getIdTokenResult()),
    s = t && (new Date().getTime() - Date.parse(t.issuedAtTime)) / 1e3;
  if (s && s > zN) return;
  const o = t?.token;
  VE !== o &&
    ((VE = o),
    await fetch(r, {
      method: o ? "POST" : "DELETE",
      headers: o ? { Authorization: `Bearer ${o}` } : {},
    }));
};
function _S(r = VT()) {
  const e = Um(r, "auth");
  if (e.isInitialized()) return e.getImmediate();
  const t = cx(r, { popupRedirectResolver: LN, persistence: [$x, Px, fS] }),
    s = NT("authTokenSyncURL");
  if (s && typeof isSecureContext == "boolean" && isSecureContext) {
    const l = new URL(s, location.origin);
    if (location.origin === l.origin) {
      const c = BN(l.toString());
      (xx(t, c, () => c(t.currentUser)), Ix(t, (d) => c(d)));
    }
  }
  const o = IT("auth");
  return (o && fx(t, `http://${o}`), t);
}
function HN() {
  return document.getElementsByTagName("head")?.[0] ?? document;
}
nx({
  loadJS(r) {
    return new Promise((e, t) => {
      const s = document.createElement("script");
      (s.setAttribute("src", r),
        (s.onload = e),
        (s.onerror = (o) => {
          const l = ei("internal-error");
          ((l.customData = o), t(l));
        }),
        (s.type = "text/javascript"),
        (s.charset = "UTF-8"),
        HN().appendChild(s));
    });
  },
  gapiScript: "https://apis.google.com/js/api.js",
  recaptchaV2Script: "https://www.google.com/recaptcha/api.js",
  recaptchaEnterpriseScript:
    "https://www.google.com/recaptcha/enterprise.js?render=",
});
kN("Browser");
var FN = "firebase",
  qN = "12.2.1";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ xs(FN, qN, "app");
var UE =
  typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
      ? window
      : typeof global < "u"
        ? global
        : typeof self < "u"
          ? self
          : {};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/ var Ns, ES;
(function () {
  var r;
  /** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/ function e(x, R) {
    function C() {}
    ((C.prototype = R.prototype),
      (x.D = R.prototype),
      (x.prototype = new C()),
      (x.prototype.constructor = x),
      (x.C = function (M, V, j) {
        for (
          var I = Array(arguments.length - 2), Ie = 2;
          Ie < arguments.length;
          Ie++
        )
          I[Ie - 2] = arguments[Ie];
        return R.prototype[V].apply(M, I);
      }));
  }
  function t() {
    this.blockSize = -1;
  }
  function s() {
    ((this.blockSize = -1),
      (this.blockSize = 64),
      (this.g = Array(4)),
      (this.B = Array(this.blockSize)),
      (this.o = this.h = 0),
      this.s());
  }
  (e(s, t),
    (s.prototype.s = function () {
      ((this.g[0] = 1732584193),
        (this.g[1] = 4023233417),
        (this.g[2] = 2562383102),
        (this.g[3] = 271733878),
        (this.o = this.h = 0));
    }));
  function o(x, R, C) {
    C || (C = 0);
    var M = Array(16);
    if (typeof R == "string")
      for (var V = 0; 16 > V; ++V)
        M[V] =
          R.charCodeAt(C++) |
          (R.charCodeAt(C++) << 8) |
          (R.charCodeAt(C++) << 16) |
          (R.charCodeAt(C++) << 24);
    else
      for (V = 0; 16 > V; ++V)
        M[V] = R[C++] | (R[C++] << 8) | (R[C++] << 16) | (R[C++] << 24);
    ((R = x.g[0]), (C = x.g[1]), (V = x.g[2]));
    var j = x.g[3],
      I = (R + (j ^ (C & (V ^ j))) + M[0] + 3614090360) & 4294967295;
    ((R = C + (((I << 7) & 4294967295) | (I >>> 25))),
      (I = (j + (V ^ (R & (C ^ V))) + M[1] + 3905402710) & 4294967295),
      (j = R + (((I << 12) & 4294967295) | (I >>> 20))),
      (I = (V + (C ^ (j & (R ^ C))) + M[2] + 606105819) & 4294967295),
      (V = j + (((I << 17) & 4294967295) | (I >>> 15))),
      (I = (C + (R ^ (V & (j ^ R))) + M[3] + 3250441966) & 4294967295),
      (C = V + (((I << 22) & 4294967295) | (I >>> 10))),
      (I = (R + (j ^ (C & (V ^ j))) + M[4] + 4118548399) & 4294967295),
      (R = C + (((I << 7) & 4294967295) | (I >>> 25))),
      (I = (j + (V ^ (R & (C ^ V))) + M[5] + 1200080426) & 4294967295),
      (j = R + (((I << 12) & 4294967295) | (I >>> 20))),
      (I = (V + (C ^ (j & (R ^ C))) + M[6] + 2821735955) & 4294967295),
      (V = j + (((I << 17) & 4294967295) | (I >>> 15))),
      (I = (C + (R ^ (V & (j ^ R))) + M[7] + 4249261313) & 4294967295),
      (C = V + (((I << 22) & 4294967295) | (I >>> 10))),
      (I = (R + (j ^ (C & (V ^ j))) + M[8] + 1770035416) & 4294967295),
      (R = C + (((I << 7) & 4294967295) | (I >>> 25))),
      (I = (j + (V ^ (R & (C ^ V))) + M[9] + 2336552879) & 4294967295),
      (j = R + (((I << 12) & 4294967295) | (I >>> 20))),
      (I = (V + (C ^ (j & (R ^ C))) + M[10] + 4294925233) & 4294967295),
      (V = j + (((I << 17) & 4294967295) | (I >>> 15))),
      (I = (C + (R ^ (V & (j ^ R))) + M[11] + 2304563134) & 4294967295),
      (C = V + (((I << 22) & 4294967295) | (I >>> 10))),
      (I = (R + (j ^ (C & (V ^ j))) + M[12] + 1804603682) & 4294967295),
      (R = C + (((I << 7) & 4294967295) | (I >>> 25))),
      (I = (j + (V ^ (R & (C ^ V))) + M[13] + 4254626195) & 4294967295),
      (j = R + (((I << 12) & 4294967295) | (I >>> 20))),
      (I = (V + (C ^ (j & (R ^ C))) + M[14] + 2792965006) & 4294967295),
      (V = j + (((I << 17) & 4294967295) | (I >>> 15))),
      (I = (C + (R ^ (V & (j ^ R))) + M[15] + 1236535329) & 4294967295),
      (C = V + (((I << 22) & 4294967295) | (I >>> 10))),
      (I = (R + (V ^ (j & (C ^ V))) + M[1] + 4129170786) & 4294967295),
      (R = C + (((I << 5) & 4294967295) | (I >>> 27))),
      (I = (j + (C ^ (V & (R ^ C))) + M[6] + 3225465664) & 4294967295),
      (j = R + (((I << 9) & 4294967295) | (I >>> 23))),
      (I = (V + (R ^ (C & (j ^ R))) + M[11] + 643717713) & 4294967295),
      (V = j + (((I << 14) & 4294967295) | (I >>> 18))),
      (I = (C + (j ^ (R & (V ^ j))) + M[0] + 3921069994) & 4294967295),
      (C = V + (((I << 20) & 4294967295) | (I >>> 12))),
      (I = (R + (V ^ (j & (C ^ V))) + M[5] + 3593408605) & 4294967295),
      (R = C + (((I << 5) & 4294967295) | (I >>> 27))),
      (I = (j + (C ^ (V & (R ^ C))) + M[10] + 38016083) & 4294967295),
      (j = R + (((I << 9) & 4294967295) | (I >>> 23))),
      (I = (V + (R ^ (C & (j ^ R))) + M[15] + 3634488961) & 4294967295),
      (V = j + (((I << 14) & 4294967295) | (I >>> 18))),
      (I = (C + (j ^ (R & (V ^ j))) + M[4] + 3889429448) & 4294967295),
      (C = V + (((I << 20) & 4294967295) | (I >>> 12))),
      (I = (R + (V ^ (j & (C ^ V))) + M[9] + 568446438) & 4294967295),
      (R = C + (((I << 5) & 4294967295) | (I >>> 27))),
      (I = (j + (C ^ (V & (R ^ C))) + M[14] + 3275163606) & 4294967295),
      (j = R + (((I << 9) & 4294967295) | (I >>> 23))),
      (I = (V + (R ^ (C & (j ^ R))) + M[3] + 4107603335) & 4294967295),
      (V = j + (((I << 14) & 4294967295) | (I >>> 18))),
      (I = (C + (j ^ (R & (V ^ j))) + M[8] + 1163531501) & 4294967295),
      (C = V + (((I << 20) & 4294967295) | (I >>> 12))),
      (I = (R + (V ^ (j & (C ^ V))) + M[13] + 2850285829) & 4294967295),
      (R = C + (((I << 5) & 4294967295) | (I >>> 27))),
      (I = (j + (C ^ (V & (R ^ C))) + M[2] + 4243563512) & 4294967295),
      (j = R + (((I << 9) & 4294967295) | (I >>> 23))),
      (I = (V + (R ^ (C & (j ^ R))) + M[7] + 1735328473) & 4294967295),
      (V = j + (((I << 14) & 4294967295) | (I >>> 18))),
      (I = (C + (j ^ (R & (V ^ j))) + M[12] + 2368359562) & 4294967295),
      (C = V + (((I << 20) & 4294967295) | (I >>> 12))),
      (I = (R + (C ^ V ^ j) + M[5] + 4294588738) & 4294967295),
      (R = C + (((I << 4) & 4294967295) | (I >>> 28))),
      (I = (j + (R ^ C ^ V) + M[8] + 2272392833) & 4294967295),
      (j = R + (((I << 11) & 4294967295) | (I >>> 21))),
      (I = (V + (j ^ R ^ C) + M[11] + 1839030562) & 4294967295),
      (V = j + (((I << 16) & 4294967295) | (I >>> 16))),
      (I = (C + (V ^ j ^ R) + M[14] + 4259657740) & 4294967295),
      (C = V + (((I << 23) & 4294967295) | (I >>> 9))),
      (I = (R + (C ^ V ^ j) + M[1] + 2763975236) & 4294967295),
      (R = C + (((I << 4) & 4294967295) | (I >>> 28))),
      (I = (j + (R ^ C ^ V) + M[4] + 1272893353) & 4294967295),
      (j = R + (((I << 11) & 4294967295) | (I >>> 21))),
      (I = (V + (j ^ R ^ C) + M[7] + 4139469664) & 4294967295),
      (V = j + (((I << 16) & 4294967295) | (I >>> 16))),
      (I = (C + (V ^ j ^ R) + M[10] + 3200236656) & 4294967295),
      (C = V + (((I << 23) & 4294967295) | (I >>> 9))),
      (I = (R + (C ^ V ^ j) + M[13] + 681279174) & 4294967295),
      (R = C + (((I << 4) & 4294967295) | (I >>> 28))),
      (I = (j + (R ^ C ^ V) + M[0] + 3936430074) & 4294967295),
      (j = R + (((I << 11) & 4294967295) | (I >>> 21))),
      (I = (V + (j ^ R ^ C) + M[3] + 3572445317) & 4294967295),
      (V = j + (((I << 16) & 4294967295) | (I >>> 16))),
      (I = (C + (V ^ j ^ R) + M[6] + 76029189) & 4294967295),
      (C = V + (((I << 23) & 4294967295) | (I >>> 9))),
      (I = (R + (C ^ V ^ j) + M[9] + 3654602809) & 4294967295),
      (R = C + (((I << 4) & 4294967295) | (I >>> 28))),
      (I = (j + (R ^ C ^ V) + M[12] + 3873151461) & 4294967295),
      (j = R + (((I << 11) & 4294967295) | (I >>> 21))),
      (I = (V + (j ^ R ^ C) + M[15] + 530742520) & 4294967295),
      (V = j + (((I << 16) & 4294967295) | (I >>> 16))),
      (I = (C + (V ^ j ^ R) + M[2] + 3299628645) & 4294967295),
      (C = V + (((I << 23) & 4294967295) | (I >>> 9))),
      (I = (R + (V ^ (C | ~j)) + M[0] + 4096336452) & 4294967295),
      (R = C + (((I << 6) & 4294967295) | (I >>> 26))),
      (I = (j + (C ^ (R | ~V)) + M[7] + 1126891415) & 4294967295),
      (j = R + (((I << 10) & 4294967295) | (I >>> 22))),
      (I = (V + (R ^ (j | ~C)) + M[14] + 2878612391) & 4294967295),
      (V = j + (((I << 15) & 4294967295) | (I >>> 17))),
      (I = (C + (j ^ (V | ~R)) + M[5] + 4237533241) & 4294967295),
      (C = V + (((I << 21) & 4294967295) | (I >>> 11))),
      (I = (R + (V ^ (C | ~j)) + M[12] + 1700485571) & 4294967295),
      (R = C + (((I << 6) & 4294967295) | (I >>> 26))),
      (I = (j + (C ^ (R | ~V)) + M[3] + 2399980690) & 4294967295),
      (j = R + (((I << 10) & 4294967295) | (I >>> 22))),
      (I = (V + (R ^ (j | ~C)) + M[10] + 4293915773) & 4294967295),
      (V = j + (((I << 15) & 4294967295) | (I >>> 17))),
      (I = (C + (j ^ (V | ~R)) + M[1] + 2240044497) & 4294967295),
      (C = V + (((I << 21) & 4294967295) | (I >>> 11))),
      (I = (R + (V ^ (C | ~j)) + M[8] + 1873313359) & 4294967295),
      (R = C + (((I << 6) & 4294967295) | (I >>> 26))),
      (I = (j + (C ^ (R | ~V)) + M[15] + 4264355552) & 4294967295),
      (j = R + (((I << 10) & 4294967295) | (I >>> 22))),
      (I = (V + (R ^ (j | ~C)) + M[6] + 2734768916) & 4294967295),
      (V = j + (((I << 15) & 4294967295) | (I >>> 17))),
      (I = (C + (j ^ (V | ~R)) + M[13] + 1309151649) & 4294967295),
      (C = V + (((I << 21) & 4294967295) | (I >>> 11))),
      (I = (R + (V ^ (C | ~j)) + M[4] + 4149444226) & 4294967295),
      (R = C + (((I << 6) & 4294967295) | (I >>> 26))),
      (I = (j + (C ^ (R | ~V)) + M[11] + 3174756917) & 4294967295),
      (j = R + (((I << 10) & 4294967295) | (I >>> 22))),
      (I = (V + (R ^ (j | ~C)) + M[2] + 718787259) & 4294967295),
      (V = j + (((I << 15) & 4294967295) | (I >>> 17))),
      (I = (C + (j ^ (V | ~R)) + M[9] + 3951481745) & 4294967295),
      (x.g[0] = (x.g[0] + R) & 4294967295),
      (x.g[1] =
        (x.g[1] + (V + (((I << 21) & 4294967295) | (I >>> 11)))) & 4294967295),
      (x.g[2] = (x.g[2] + V) & 4294967295),
      (x.g[3] = (x.g[3] + j) & 4294967295));
  }
  ((s.prototype.u = function (x, R) {
    R === void 0 && (R = x.length);
    for (var C = R - this.blockSize, M = this.B, V = this.h, j = 0; j < R; ) {
      if (V == 0) for (; j <= C; ) (o(this, x, j), (j += this.blockSize));
      if (typeof x == "string") {
        for (; j < R; )
          if (((M[V++] = x.charCodeAt(j++)), V == this.blockSize)) {
            (o(this, M), (V = 0));
            break;
          }
      } else
        for (; j < R; )
          if (((M[V++] = x[j++]), V == this.blockSize)) {
            (o(this, M), (V = 0));
            break;
          }
    }
    ((this.h = V), (this.o += R));
  }),
    (s.prototype.v = function () {
      var x = Array(
        (56 > this.h ? this.blockSize : 2 * this.blockSize) - this.h,
      );
      x[0] = 128;
      for (var R = 1; R < x.length - 8; ++R) x[R] = 0;
      var C = 8 * this.o;
      for (R = x.length - 8; R < x.length; ++R) ((x[R] = C & 255), (C /= 256));
      for (this.u(x), x = Array(16), R = C = 0; 4 > R; ++R)
        for (var M = 0; 32 > M; M += 8) x[C++] = (this.g[R] >>> M) & 255;
      return x;
    }));
  function l(x, R) {
    var C = d;
    return Object.prototype.hasOwnProperty.call(C, x) ? C[x] : (C[x] = R(x));
  }
  function c(x, R) {
    this.h = R;
    for (var C = [], M = !0, V = x.length - 1; 0 <= V; V--) {
      var j = x[V] | 0;
      (M && j == R) || ((C[V] = j), (M = !1));
    }
    this.g = C;
  }
  var d = {};
  function m(x) {
    return -128 <= x && 128 > x
      ? l(x, function (R) {
          return new c([R | 0], 0 > R ? -1 : 0);
        })
      : new c([x | 0], 0 > x ? -1 : 0);
  }
  function g(x) {
    if (isNaN(x) || !isFinite(x)) return T;
    if (0 > x) return B(g(-x));
    for (var R = [], C = 1, M = 0; x >= C; M++)
      ((R[M] = (x / C) | 0), (C *= 4294967296));
    return new c(R, 0);
  }
  function v(x, R) {
    if (x.length == 0) throw Error("number format error: empty string");
    if (((R = R || 10), 2 > R || 36 < R))
      throw Error("radix out of range: " + R);
    if (x.charAt(0) == "-") return B(v(x.substring(1), R));
    if (0 <= x.indexOf("-"))
      throw Error('number format error: interior "-" character');
    for (var C = g(Math.pow(R, 8)), M = T, V = 0; V < x.length; V += 8) {
      var j = Math.min(8, x.length - V),
        I = parseInt(x.substring(V, V + j), R);
      8 > j
        ? ((j = g(Math.pow(R, j))), (M = M.j(j).add(g(I))))
        : ((M = M.j(C)), (M = M.add(g(I))));
    }
    return M;
  }
  var T = m(0),
    b = m(1),
    A = m(16777216);
  ((r = c.prototype),
    (r.m = function () {
      if (J(this)) return -B(this).m();
      for (var x = 0, R = 1, C = 0; C < this.g.length; C++) {
        var M = this.i(C);
        ((x += (0 <= M ? M : 4294967296 + M) * R), (R *= 4294967296));
      }
      return x;
    }),
    (r.toString = function (x) {
      if (((x = x || 10), 2 > x || 36 < x))
        throw Error("radix out of range: " + x);
      if (D(this)) return "0";
      if (J(this)) return "-" + B(this).toString(x);
      for (var R = g(Math.pow(x, 6)), C = this, M = ""; ; ) {
        var V = pe(C, R).g;
        C = Q(C, V.j(R));
        var j = ((0 < C.g.length ? C.g[0] : C.h) >>> 0).toString(x);
        if (((C = V), D(C))) return j + M;
        for (; 6 > j.length; ) j = "0" + j;
        M = j + M;
      }
    }),
    (r.i = function (x) {
      return 0 > x ? 0 : x < this.g.length ? this.g[x] : this.h;
    }));
  function D(x) {
    if (x.h != 0) return !1;
    for (var R = 0; R < x.g.length; R++) if (x.g[R] != 0) return !1;
    return !0;
  }
  function J(x) {
    return x.h == -1;
  }
  r.l = function (x) {
    return ((x = Q(this, x)), J(x) ? -1 : D(x) ? 0 : 1);
  };
  function B(x) {
    for (var R = x.g.length, C = [], M = 0; M < R; M++) C[M] = ~x.g[M];
    return new c(C, ~x.h).add(b);
  }
  ((r.abs = function () {
    return J(this) ? B(this) : this;
  }),
    (r.add = function (x) {
      for (
        var R = Math.max(this.g.length, x.g.length), C = [], M = 0, V = 0;
        V <= R;
        V++
      ) {
        var j = M + (this.i(V) & 65535) + (x.i(V) & 65535),
          I = (j >>> 16) + (this.i(V) >>> 16) + (x.i(V) >>> 16);
        ((M = I >>> 16), (j &= 65535), (I &= 65535), (C[V] = (I << 16) | j));
      }
      return new c(C, C[C.length - 1] & -2147483648 ? -1 : 0);
    }));
  function Q(x, R) {
    return x.add(B(R));
  }
  r.j = function (x) {
    if (D(this) || D(x)) return T;
    if (J(this)) return J(x) ? B(this).j(B(x)) : B(B(this).j(x));
    if (J(x)) return B(this.j(B(x)));
    if (0 > this.l(A) && 0 > x.l(A)) return g(this.m() * x.m());
    for (var R = this.g.length + x.g.length, C = [], M = 0; M < 2 * R; M++)
      C[M] = 0;
    for (M = 0; M < this.g.length; M++)
      for (var V = 0; V < x.g.length; V++) {
        var j = this.i(M) >>> 16,
          I = this.i(M) & 65535,
          Ie = x.i(V) >>> 16,
          Ke = x.i(V) & 65535;
        ((C[2 * M + 2 * V] += I * Ke),
          Z(C, 2 * M + 2 * V),
          (C[2 * M + 2 * V + 1] += j * Ke),
          Z(C, 2 * M + 2 * V + 1),
          (C[2 * M + 2 * V + 1] += I * Ie),
          Z(C, 2 * M + 2 * V + 1),
          (C[2 * M + 2 * V + 2] += j * Ie),
          Z(C, 2 * M + 2 * V + 2));
      }
    for (M = 0; M < R; M++) C[M] = (C[2 * M + 1] << 16) | C[2 * M];
    for (M = R; M < 2 * R; M++) C[M] = 0;
    return new c(C, 0);
  };
  function Z(x, R) {
    for (; (x[R] & 65535) != x[R]; )
      ((x[R + 1] += x[R] >>> 16), (x[R] &= 65535), R++);
  }
  function ie(x, R) {
    ((this.g = x), (this.h = R));
  }
  function pe(x, R) {
    if (D(R)) throw Error("division by zero");
    if (D(x)) return new ie(T, T);
    if (J(x)) return ((R = pe(B(x), R)), new ie(B(R.g), B(R.h)));
    if (J(R)) return ((R = pe(x, B(R))), new ie(B(R.g), R.h));
    if (30 < x.g.length) {
      if (J(x) || J(R))
        throw Error("slowDivide_ only works with positive integers.");
      for (var C = b, M = R; 0 >= M.l(x); ) ((C = le(C)), (M = le(M)));
      var V = k(C, 1),
        j = k(M, 1);
      for (M = k(M, 2), C = k(C, 2); !D(M); ) {
        var I = j.add(M);
        (0 >= I.l(x) && ((V = V.add(C)), (j = I)),
          (M = k(M, 1)),
          (C = k(C, 1)));
      }
      return ((R = Q(x, V.j(R))), new ie(V, R));
    }
    for (V = T; 0 <= x.l(R); ) {
      for (
        C = Math.max(1, Math.floor(x.m() / R.m())),
          M = Math.ceil(Math.log(C) / Math.LN2),
          M = 48 >= M ? 1 : Math.pow(2, M - 48),
          j = g(C),
          I = j.j(R);
        J(I) || 0 < I.l(x);

      )
        ((C -= M), (j = g(C)), (I = j.j(R)));
      (D(j) && (j = b), (V = V.add(j)), (x = Q(x, I)));
    }
    return new ie(V, x);
  }
  ((r.A = function (x) {
    return pe(this, x).h;
  }),
    (r.and = function (x) {
      for (
        var R = Math.max(this.g.length, x.g.length), C = [], M = 0;
        M < R;
        M++
      )
        C[M] = this.i(M) & x.i(M);
      return new c(C, this.h & x.h);
    }),
    (r.or = function (x) {
      for (
        var R = Math.max(this.g.length, x.g.length), C = [], M = 0;
        M < R;
        M++
      )
        C[M] = this.i(M) | x.i(M);
      return new c(C, this.h | x.h);
    }),
    (r.xor = function (x) {
      for (
        var R = Math.max(this.g.length, x.g.length), C = [], M = 0;
        M < R;
        M++
      )
        C[M] = this.i(M) ^ x.i(M);
      return new c(C, this.h ^ x.h);
    }));
  function le(x) {
    for (var R = x.g.length + 1, C = [], M = 0; M < R; M++)
      C[M] = (x.i(M) << 1) | (x.i(M - 1) >>> 31);
    return new c(C, x.h);
  }
  function k(x, R) {
    var C = R >> 5;
    R %= 32;
    for (var M = x.g.length - C, V = [], j = 0; j < M; j++)
      V[j] =
        0 < R ? (x.i(j + C) >>> R) | (x.i(j + C + 1) << (32 - R)) : x.i(j + C);
    return new c(V, x.h);
  }
  ((s.prototype.digest = s.prototype.v),
    (s.prototype.reset = s.prototype.s),
    (s.prototype.update = s.prototype.u),
    (ES = s),
    (c.prototype.add = c.prototype.add),
    (c.prototype.multiply = c.prototype.j),
    (c.prototype.modulo = c.prototype.A),
    (c.prototype.compare = c.prototype.l),
    (c.prototype.toNumber = c.prototype.m),
    (c.prototype.toString = c.prototype.toString),
    (c.prototype.getBits = c.prototype.i),
    (c.fromNumber = g),
    (c.fromString = v),
    (Ns = c));
}).apply(
  typeof UE < "u"
    ? UE
    : typeof self < "u"
      ? self
      : typeof window < "u"
        ? window
        : {},
);
var ih =
  typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
      ? window
      : typeof global < "u"
        ? global
        : typeof self < "u"
          ? self
          : {};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/ var TS, iu, SS, Th, tm, bS, wS, AS;
(function () {
  var r,
    e =
      typeof Object.defineProperties == "function"
        ? Object.defineProperty
        : function (h, y, _) {
            return (
              h == Array.prototype || h == Object.prototype || (h[y] = _.value),
              h
            );
          };
  function t(h) {
    h = [
      typeof globalThis == "object" && globalThis,
      h,
      typeof window == "object" && window,
      typeof self == "object" && self,
      typeof ih == "object" && ih,
    ];
    for (var y = 0; y < h.length; ++y) {
      var _ = h[y];
      if (_ && _.Math == Math) return _;
    }
    throw Error("Cannot find global object");
  }
  var s = t(this);
  function o(h, y) {
    if (y)
      e: {
        var _ = s;
        h = h.split(".");
        for (var w = 0; w < h.length - 1; w++) {
          var F = h[w];
          if (!(F in _)) break e;
          _ = _[F];
        }
        ((h = h[h.length - 1]),
          (w = _[h]),
          (y = y(w)),
          y != w &&
            y != null &&
            e(_, h, { configurable: !0, writable: !0, value: y }));
      }
  }
  function l(h, y) {
    h instanceof String && (h += "");
    var _ = 0,
      w = !1,
      F = {
        next: function () {
          if (!w && _ < h.length) {
            var ee = _++;
            return { value: y(ee, h[ee]), done: !1 };
          }
          return ((w = !0), { done: !0, value: void 0 });
        },
      };
    return (
      (F[Symbol.iterator] = function () {
        return F;
      }),
      F
    );
  }
  o("Array.prototype.values", function (h) {
    return (
      h ||
      function () {
        return l(this, function (y, _) {
          return _;
        });
      }
    );
  });
  /** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/ var c = c || {},
    d = this || self;
  function m(h) {
    var y = typeof h;
    return (
      (y = y != "object" ? y : h ? (Array.isArray(h) ? "array" : y) : "null"),
      y == "array" || (y == "object" && typeof h.length == "number")
    );
  }
  function g(h) {
    var y = typeof h;
    return (y == "object" && h != null) || y == "function";
  }
  function v(h, y, _) {
    return h.call.apply(h.bind, arguments);
  }
  function T(h, y, _) {
    if (!h) throw Error();
    if (2 < arguments.length) {
      var w = Array.prototype.slice.call(arguments, 2);
      return function () {
        var F = Array.prototype.slice.call(arguments);
        return (Array.prototype.unshift.apply(F, w), h.apply(y, F));
      };
    }
    return function () {
      return h.apply(y, arguments);
    };
  }
  function b(h, y, _) {
    return (
      (b =
        Function.prototype.bind &&
        Function.prototype.bind.toString().indexOf("native code") != -1
          ? v
          : T),
      b.apply(null, arguments)
    );
  }
  function A(h, y) {
    var _ = Array.prototype.slice.call(arguments, 1);
    return function () {
      var w = _.slice();
      return (w.push.apply(w, arguments), h.apply(this, w));
    };
  }
  function D(h, y) {
    function _() {}
    ((_.prototype = y.prototype),
      (h.aa = y.prototype),
      (h.prototype = new _()),
      (h.prototype.constructor = h),
      (h.Qb = function (w, F, ee) {
        for (
          var me = Array(arguments.length - 2), tt = 2;
          tt < arguments.length;
          tt++
        )
          me[tt - 2] = arguments[tt];
        return y.prototype[F].apply(w, me);
      }));
  }
  function J(h) {
    const y = h.length;
    if (0 < y) {
      const _ = Array(y);
      for (let w = 0; w < y; w++) _[w] = h[w];
      return _;
    }
    return [];
  }
  function B(h, y) {
    for (let _ = 1; _ < arguments.length; _++) {
      const w = arguments[_];
      if (m(w)) {
        const F = h.length || 0,
          ee = w.length || 0;
        h.length = F + ee;
        for (let me = 0; me < ee; me++) h[F + me] = w[me];
      } else h.push(w);
    }
  }
  class Q {
    constructor(y, _) {
      ((this.i = y), (this.j = _), (this.h = 0), (this.g = null));
    }
    get() {
      let y;
      return (
        0 < this.h
          ? (this.h--, (y = this.g), (this.g = y.next), (y.next = null))
          : (y = this.i()),
        y
      );
    }
  }
  function Z(h) {
    return /^[\s\xa0]*$/.test(h);
  }
  function ie() {
    var h = d.navigator;
    return h && (h = h.userAgent) ? h : "";
  }
  function pe(h) {
    return (pe[" "](h), h);
  }
  pe[" "] = function () {};
  var le =
    ie().indexOf("Gecko") != -1 &&
    !(
      ie().toLowerCase().indexOf("webkit") != -1 && ie().indexOf("Edge") == -1
    ) &&
    !(ie().indexOf("Trident") != -1 || ie().indexOf("MSIE") != -1) &&
    ie().indexOf("Edge") == -1;
  function k(h, y, _) {
    for (const w in h) y.call(_, h[w], w, h);
  }
  function x(h, y) {
    for (const _ in h) y.call(void 0, h[_], _, h);
  }
  function R(h) {
    const y = {};
    for (const _ in h) y[_] = h[_];
    return y;
  }
  const C =
    "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(
      " ",
    );
  function M(h, y) {
    let _, w;
    for (let F = 1; F < arguments.length; F++) {
      w = arguments[F];
      for (_ in w) h[_] = w[_];
      for (let ee = 0; ee < C.length; ee++)
        ((_ = C[ee]),
          Object.prototype.hasOwnProperty.call(w, _) && (h[_] = w[_]));
    }
  }
  function V(h) {
    var y = 1;
    h = h.split(":");
    const _ = [];
    for (; 0 < y && h.length; ) (_.push(h.shift()), y--);
    return (h.length && _.push(h.join(":")), _);
  }
  function j(h) {
    d.setTimeout(() => {
      throw h;
    }, 0);
  }
  function I() {
    var h = Ve;
    let y = null;
    return (
      h.g &&
        ((y = h.g), (h.g = h.g.next), h.g || (h.h = null), (y.next = null)),
      y
    );
  }
  class Ie {
    constructor() {
      this.h = this.g = null;
    }
    add(y, _) {
      const w = Ke.get();
      (w.set(y, _), this.h ? (this.h.next = w) : (this.g = w), (this.h = w));
    }
  }
  var Ke = new Q(
    () => new G(),
    (h) => h.reset(),
  );
  class G {
    constructor() {
      this.next = this.g = this.h = null;
    }
    set(y, _) {
      ((this.h = y), (this.g = _), (this.next = null));
    }
    reset() {
      this.next = this.g = this.h = null;
    }
  }
  let ce,
    ge = !1,
    Ve = new Ie(),
    O = () => {
      const h = d.Promise.resolve(void 0);
      ce = () => {
        h.then(te);
      };
    };
  var te = () => {
    for (var h; (h = I()); ) {
      try {
        h.h.call(h.g);
      } catch (_) {
        j(_);
      }
      var y = Ke;
      (y.j(h), 100 > y.h && (y.h++, (h.next = y.g), (y.g = h)));
    }
    ge = !1;
  };
  function fe() {
    ((this.s = this.s), (this.C = this.C));
  }
  ((fe.prototype.s = !1),
    (fe.prototype.ma = function () {
      this.s || ((this.s = !0), this.N());
    }),
    (fe.prototype.N = function () {
      if (this.C) for (; this.C.length; ) this.C.shift()();
    }));
  function ue(h, y) {
    ((this.type = h), (this.g = this.target = y), (this.defaultPrevented = !1));
  }
  ue.prototype.h = function () {
    this.defaultPrevented = !0;
  };
  var Ee = (function () {
    if (!d.addEventListener || !Object.defineProperty) return !1;
    var h = !1,
      y = Object.defineProperty({}, "passive", {
        get: function () {
          h = !0;
        },
      });
    try {
      const _ = () => {};
      (d.addEventListener("test", _, y), d.removeEventListener("test", _, y));
    } catch {}
    return h;
  })();
  function He(h, y) {
    if (
      (ue.call(this, h ? h.type : ""),
      (this.relatedTarget = this.g = this.target = null),
      (this.button =
        this.screenY =
        this.screenX =
        this.clientY =
        this.clientX =
          0),
      (this.key = ""),
      (this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1),
      (this.state = null),
      (this.pointerId = 0),
      (this.pointerType = ""),
      (this.i = null),
      h)
    ) {
      var _ = (this.type = h.type),
        w =
          h.changedTouches && h.changedTouches.length
            ? h.changedTouches[0]
            : null;
      if (
        ((this.target = h.target || h.srcElement),
        (this.g = y),
        (y = h.relatedTarget))
      ) {
        if (le) {
          e: {
            try {
              pe(y.nodeName);
              var F = !0;
              break e;
            } catch {}
            F = !1;
          }
          F || (y = null);
        }
      } else
        _ == "mouseover"
          ? (y = h.fromElement)
          : _ == "mouseout" && (y = h.toElement);
      ((this.relatedTarget = y),
        w
          ? ((this.clientX = w.clientX !== void 0 ? w.clientX : w.pageX),
            (this.clientY = w.clientY !== void 0 ? w.clientY : w.pageY),
            (this.screenX = w.screenX || 0),
            (this.screenY = w.screenY || 0))
          : ((this.clientX = h.clientX !== void 0 ? h.clientX : h.pageX),
            (this.clientY = h.clientY !== void 0 ? h.clientY : h.pageY),
            (this.screenX = h.screenX || 0),
            (this.screenY = h.screenY || 0)),
        (this.button = h.button),
        (this.key = h.key || ""),
        (this.ctrlKey = h.ctrlKey),
        (this.altKey = h.altKey),
        (this.shiftKey = h.shiftKey),
        (this.metaKey = h.metaKey),
        (this.pointerId = h.pointerId || 0),
        (this.pointerType =
          typeof h.pointerType == "string"
            ? h.pointerType
            : Ne[h.pointerType] || ""),
        (this.state = h.state),
        (this.i = h),
        h.defaultPrevented && He.aa.h.call(this));
    }
  }
  D(He, ue);
  var Ne = { 2: "touch", 3: "pen", 4: "mouse" };
  He.prototype.h = function () {
    He.aa.h.call(this);
    var h = this.i;
    h.preventDefault ? h.preventDefault() : (h.returnValue = !1);
  };
  var kt = "closure_listenable_" + ((1e6 * Math.random()) | 0),
    gt = 0;
  function Wn(h, y, _, w, F) {
    ((this.listener = h),
      (this.proxy = null),
      (this.src = y),
      (this.type = _),
      (this.capture = !!w),
      (this.ha = F),
      (this.key = ++gt),
      (this.da = this.fa = !1));
  }
  function wt(h) {
    ((h.da = !0),
      (h.listener = null),
      (h.proxy = null),
      (h.src = null),
      (h.ha = null));
  }
  function dn(h) {
    ((this.src = h), (this.g = {}), (this.h = 0));
  }
  dn.prototype.add = function (h, y, _, w, F) {
    var ee = h.toString();
    ((h = this.g[ee]), h || ((h = this.g[ee] = []), this.h++));
    var me = ai(h, y, w, F);
    return (
      -1 < me
        ? ((y = h[me]), _ || (y.fa = !1))
        : ((y = new Wn(y, this.src, ee, !!w, F)), (y.fa = _), h.push(y)),
      y
    );
  };
  function Or(h, y) {
    var _ = y.type;
    if (_ in h.g) {
      var w = h.g[_],
        F = Array.prototype.indexOf.call(w, y, void 0),
        ee;
      ((ee = 0 <= F) && Array.prototype.splice.call(w, F, 1),
        ee && (wt(y), h.g[_].length == 0 && (delete h.g[_], h.h--)));
    }
  }
  function ai(h, y, _, w) {
    for (var F = 0; F < h.length; ++F) {
      var ee = h[F];
      if (!ee.da && ee.listener == y && ee.capture == !!_ && ee.ha == w)
        return F;
    }
    return -1;
  }
  var bn = "closure_lm_" + ((1e6 * Math.random()) | 0),
    Bs = {};
  function Na(h, y, _, w, F) {
    if (Array.isArray(y)) {
      for (var ee = 0; ee < y.length; ee++) Na(h, y[ee], _, w, F);
      return null;
    }
    return (
      (_ = Bi(_)),
      h && h[kt] ? h.K(y, _, g(w) ? !!w.capture : !1, F) : wn(h, y, _, !1, w, F)
    );
  }
  function wn(h, y, _, w, F, ee) {
    if (!y) throw Error("Invalid event type");
    var me = g(F) ? !!F.capture : !!F,
      tt = Jn(h);
    if (
      (tt || (h[bn] = tt = new dn(h)), (_ = tt.add(y, _, w, me, ee)), _.proxy)
    )
      return _;
    if (
      ((w = Wo()),
      (_.proxy = w),
      (w.src = h),
      (w.listener = _),
      h.addEventListener)
    )
      (Ee || (F = me),
        F === void 0 && (F = !1),
        h.addEventListener(y.toString(), w, F));
    else if (h.attachEvent) h.attachEvent(oi(y.toString()), w);
    else if (h.addListener && h.removeListener) h.addListener(w);
    else throw Error("addEventListener and attachEvent are unavailable.");
    return _;
  }
  function Wo() {
    function h(_) {
      return y.call(h.src, h.listener, _);
    }
    const y = vr;
    return h;
  }
  function Hs(h, y, _, w, F) {
    if (Array.isArray(y))
      for (var ee = 0; ee < y.length; ee++) Hs(h, y[ee], _, w, F);
    else
      ((w = g(w) ? !!w.capture : !!w),
        (_ = Bi(_)),
        h && h[kt]
          ? ((h = h.i),
            (y = String(y).toString()),
            y in h.g &&
              ((ee = h.g[y]),
              (_ = ai(ee, _, w, F)),
              -1 < _ &&
                (wt(ee[_]),
                Array.prototype.splice.call(ee, _, 1),
                ee.length == 0 && (delete h.g[y], h.h--))))
          : h &&
            (h = Jn(h)) &&
            ((y = h.g[y.toString()]),
            (h = -1),
            y && (h = ai(y, _, w, F)),
            (_ = -1 < h ? y[h] : null) && ji(_)));
  }
  function ji(h) {
    if (typeof h != "number" && h && !h.da) {
      var y = h.src;
      if (y && y[kt]) Or(y.i, h);
      else {
        var _ = h.type,
          w = h.proxy;
        (y.removeEventListener
          ? y.removeEventListener(_, w, h.capture)
          : y.detachEvent
            ? y.detachEvent(oi(_), w)
            : y.addListener && y.removeListener && y.removeListener(w),
          (_ = Jn(y))
            ? (Or(_, h), _.h == 0 && ((_.src = null), (y[bn] = null)))
            : wt(h));
      }
    }
  }
  function oi(h) {
    return h in Bs ? Bs[h] : (Bs[h] = "on" + h);
  }
  function vr(h, y) {
    if (h.da) h = !0;
    else {
      y = new He(y, this);
      var _ = h.listener,
        w = h.ha || h.src;
      (h.fa && ji(h), (h = _.call(w, y)));
    }
    return h;
  }
  function Jn(h) {
    return ((h = h[bn]), h instanceof dn ? h : null);
  }
  var zi = "__closure_events_fn_" + ((1e9 * Math.random()) >>> 0);
  function Bi(h) {
    return typeof h == "function"
      ? h
      : (h[zi] ||
          (h[zi] = function (y) {
            return h.handleEvent(y);
          }),
        h[zi]);
  }
  function lt() {
    (fe.call(this), (this.i = new dn(this)), (this.M = this), (this.F = null));
  }
  (D(lt, fe),
    (lt.prototype[kt] = !0),
    (lt.prototype.removeEventListener = function (h, y, _, w) {
      Hs(this, h, y, _, w);
    }));
  function Ge(h, y) {
    var _,
      w = h.F;
    if (w) for (_ = []; w; w = w.F) _.push(w);
    if (((h = h.M), (w = y.type || y), typeof y == "string")) y = new ue(y, h);
    else if (y instanceof ue) y.target = y.target || h;
    else {
      var F = y;
      ((y = new ue(w, h)), M(y, F));
    }
    if (((F = !0), _))
      for (var ee = _.length - 1; 0 <= ee; ee--) {
        var me = (y.g = _[ee]);
        F = pn(me, w, !0, y) && F;
      }
    if (
      ((me = y.g = h),
      (F = pn(me, w, !0, y) && F),
      (F = pn(me, w, !1, y) && F),
      _)
    )
      for (ee = 0; ee < _.length; ee++)
        ((me = y.g = _[ee]), (F = pn(me, w, !1, y) && F));
  }
  ((lt.prototype.N = function () {
    if ((lt.aa.N.call(this), this.i)) {
      var h = this.i,
        y;
      for (y in h.g) {
        for (var _ = h.g[y], w = 0; w < _.length; w++) wt(_[w]);
        (delete h.g[y], h.h--);
      }
    }
    this.F = null;
  }),
    (lt.prototype.K = function (h, y, _, w) {
      return this.i.add(String(h), y, !1, _, w);
    }),
    (lt.prototype.L = function (h, y, _, w) {
      return this.i.add(String(h), y, !0, _, w);
    }));
  function pn(h, y, _, w) {
    if (((y = h.i.g[String(y)]), !y)) return !0;
    y = y.concat();
    for (var F = !0, ee = 0; ee < y.length; ++ee) {
      var me = y[ee];
      if (me && !me.da && me.capture == _) {
        var tt = me.listener,
          $t = me.ha || me.src;
        (me.fa && Or(h.i, me), (F = tt.call($t, w) !== !1 && F));
      }
    }
    return F && !w.defaultPrevented;
  }
  function jt(h, y, _) {
    if (typeof h == "function") _ && (h = b(h, _));
    else if (h && typeof h.handleEvent == "function") h = b(h.handleEvent, h);
    else throw Error("Invalid listener argument");
    return 2147483647 < Number(y) ? -1 : d.setTimeout(h, y || 0);
  }
  function Da(h) {
    h.g = jt(() => {
      ((h.g = null), h.i && ((h.i = !1), Da(h)));
    }, h.l);
    const y = h.h;
    ((h.h = null), h.m.apply(null, y));
  }
  class Zn extends fe {
    constructor(y, _) {
      (super(),
        (this.m = y),
        (this.l = _),
        (this.h = null),
        (this.i = !1),
        (this.g = null));
    }
    j(y) {
      ((this.h = arguments), this.g ? (this.i = !0) : Da(this));
    }
    N() {
      (super.N(),
        this.g &&
          (d.clearTimeout(this.g),
          (this.g = null),
          (this.i = !1),
          (this.h = null)));
    }
  }
  function Mr(h) {
    (fe.call(this), (this.h = h), (this.g = {}));
  }
  D(Mr, fe);
  var Pr = [];
  function Lr(h) {
    (k(
      h.g,
      function (y, _) {
        this.g.hasOwnProperty(_) && ji(y);
      },
      h,
    ),
      (h.g = {}));
  }
  ((Mr.prototype.N = function () {
    (Mr.aa.N.call(this), Lr(this));
  }),
    (Mr.prototype.handleEvent = function () {
      throw Error("EventHandler.handleEvent not implemented");
    }));
  var kn = d.JSON.stringify,
    li = d.JSON.parse,
    er = class {
      stringify(h) {
        return d.JSON.stringify(h, void 0);
      }
      parse(h) {
        return d.JSON.parse(h, void 0);
      }
    };
  function Hi() {}
  Hi.prototype.h = null;
  function ui(h) {
    return h.h || (h.h = h.i());
  }
  function Fs() {}
  var tr = { OPEN: "a", kb: "b", Ja: "c", wb: "d" };
  function _r() {
    ue.call(this, "d");
  }
  D(_r, ue);
  function Fi() {
    ue.call(this, "c");
  }
  D(Fi, ue);
  var An = {},
    Vr = null;
  function Ur() {
    return (Vr = Vr || new lt());
  }
  An.La = "serverreachability";
  function qi(h) {
    ue.call(this, An.La, h);
  }
  D(qi, ue);
  function P(h) {
    const y = Ur();
    Ge(y, new qi(y));
  }
  An.STAT_EVENT = "statevent";
  function H(h, y) {
    (ue.call(this, An.STAT_EVENT, h), (this.stat = y));
  }
  D(H, ue);
  function K(h) {
    const y = Ur();
    Ge(y, new H(y, h));
  }
  An.Ma = "timingevent";
  function ae(h, y) {
    (ue.call(this, An.Ma, h), (this.size = y));
  }
  D(ae, ue);
  function he(h, y) {
    if (typeof h != "function")
      throw Error("Fn must not be null and must be a function");
    return d.setTimeout(function () {
      h();
    }, y);
  }
  function ye() {
    this.g = !0;
  }
  ye.prototype.xa = function () {
    this.g = !1;
  };
  function Re(h, y, _, w, F, ee) {
    h.info(function () {
      if (h.g)
        if (ee)
          for (var me = "", tt = ee.split("&"), $t = 0; $t < tt.length; $t++) {
            var nt = tt[$t].split("=");
            if (1 < nt.length) {
              var Zt = nt[0];
              nt = nt[1];
              var Kt = Zt.split("_");
              me =
                2 <= Kt.length && Kt[1] == "type"
                  ? me + (Zt + "=" + nt + "&")
                  : me + (Zt + "=redacted&");
            }
          }
        else me = null;
      else me = ee;
      return (
        "XMLHTTP REQ (" +
        w +
        ") [attempt " +
        F +
        "]: " +
        y +
        `
` +
        _ +
        `
` +
        me
      );
    });
  }
  function be(h, y, _, w, F, ee, me) {
    h.info(function () {
      return (
        "XMLHTTP RESP (" +
        w +
        ") [ attempt " +
        F +
        "]: " +
        y +
        `
` +
        _ +
        `
` +
        ee +
        " " +
        me
      );
    });
  }
  function we(h, y, _, w) {
    h.info(function () {
      return "XMLHTTP TEXT (" + y + "): " + Ae(h, _) + (w ? " " + w : "");
    });
  }
  function xe(h, y) {
    h.info(function () {
      return "TIMEOUT: " + y;
    });
  }
  ye.prototype.info = function () {};
  function Ae(h, y) {
    if (!h.g) return y;
    if (!y) return null;
    try {
      var _ = JSON.parse(y);
      if (_) {
        for (h = 0; h < _.length; h++)
          if (Array.isArray(_[h])) {
            var w = _[h];
            if (!(2 > w.length)) {
              var F = w[1];
              if (Array.isArray(F) && !(1 > F.length)) {
                var ee = F[0];
                if (ee != "noop" && ee != "stop" && ee != "close")
                  for (var me = 1; me < F.length; me++) F[me] = "";
              }
            }
          }
      }
      return kn(_);
    } catch {
      return y;
    }
  }
  var _e = {
      NO_ERROR: 0,
      gb: 1,
      tb: 2,
      sb: 3,
      nb: 4,
      rb: 5,
      ub: 6,
      Ia: 7,
      TIMEOUT: 8,
      xb: 9,
    },
    Fe = {
      lb: "complete",
      Hb: "success",
      Ja: "error",
      Ia: "abort",
      zb: "ready",
      Ab: "readystatechange",
      TIMEOUT: "timeout",
      vb: "incrementaldata",
      yb: "progress",
      ob: "downloadprogress",
      Pb: "uploadprogress",
    },
    Ze;
  function dt() {}
  (D(dt, Hi),
    (dt.prototype.g = function () {
      return new XMLHttpRequest();
    }),
    (dt.prototype.i = function () {
      return {};
    }),
    (Ze = new dt()));
  function ut(h, y, _, w) {
    ((this.j = h),
      (this.i = y),
      (this.l = _),
      (this.R = w || 1),
      (this.U = new Mr(this)),
      (this.I = 45e3),
      (this.H = null),
      (this.o = !1),
      (this.m = this.A = this.v = this.L = this.F = this.S = this.B = null),
      (this.D = []),
      (this.g = null),
      (this.C = 0),
      (this.s = this.u = null),
      (this.X = -1),
      (this.J = !1),
      (this.O = 0),
      (this.M = null),
      (this.W = this.K = this.T = this.P = !1),
      (this.h = new je()));
  }
  function je() {
    ((this.i = null), (this.g = ""), (this.h = !1));
  }
  var ct = {},
    On = {};
  function sn(h, y, _) {
    ((h.L = 1), (h.v = $s(Bn(y))), (h.m = _), (h.P = !0), Wt(h, null));
  }
  function Wt(h, y) {
    ((h.F = Date.now()), jn(h), (h.A = Bn(h.v)));
    var _ = h.A,
      w = h.R;
    (Array.isArray(w) || (w = [String(w)]),
      nl(_.i, "t", w),
      (h.C = 0),
      (_ = h.j.J),
      (h.h = new je()),
      (h.g = Xu(h.j, _ ? y : null, !h.m)),
      0 < h.O && (h.M = new Zn(b(h.Y, h, h.g), h.O)),
      (y = h.U),
      (_ = h.g),
      (w = h.ca));
    var F = "readystatechange";
    Array.isArray(F) || (F && (Pr[0] = F.toString()), (F = Pr));
    for (var ee = 0; ee < F.length; ee++) {
      var me = Na(_, F[ee], w || y.handleEvent, !1, y.h || y);
      if (!me) break;
      y.g[me.key] = me;
    }
    ((y = h.H ? R(h.H) : {}),
      h.m
        ? (h.u || (h.u = "POST"),
          (y["Content-Type"] = "application/x-www-form-urlencoded"),
          h.g.ea(h.A, h.u, h.m, y))
        : ((h.u = "GET"), h.g.ea(h.A, h.u, null, y)),
      P(),
      Re(h.i, h.u, h.A, h.l, h.R, h.m));
  }
  ((ut.prototype.ca = function (h) {
    h = h.target;
    const y = this.M;
    y && ar(h) == 3 ? y.j() : this.Y(h);
  }),
    (ut.prototype.Y = function (h) {
      try {
        if (h == this.g)
          e: {
            const Kt = ar(this.g);
            var y = this.g.Ba();
            const gi = this.g.Z();
            if (
              !(3 > Kt) &&
              (Kt != 3 || (this.g && (this.h.h || this.g.oa() || Hu(this.g))))
            ) {
              (this.J || Kt != 4 || y == 7 || (y == 8 || 0 >= gi ? P(3) : P(2)),
                zn(this));
              var _ = this.g.Z();
              this.X = _;
              t: if (Rn(this)) {
                var w = Hu(this.g);
                h = "";
                var F = w.length,
                  ee = ar(this.g) == 4;
                if (!this.h.i) {
                  if (typeof TextDecoder > "u") {
                    (Me(this), Cn(this));
                    var me = "";
                    break t;
                  }
                  this.h.i = new d.TextDecoder();
                }
                for (y = 0; y < F; y++)
                  ((this.h.h = !0),
                    (h += this.h.i.decode(w[y], {
                      stream: !(ee && y == F - 1),
                    })));
                ((w.length = 0),
                  (this.h.g += h),
                  (this.C = 0),
                  (me = this.h.g));
              } else me = this.g.oa();
              if (
                ((this.o = _ == 200),
                be(this.i, this.u, this.A, this.l, this.R, Kt, _),
                this.o)
              ) {
                if (this.T && !this.K) {
                  t: {
                    if (this.g) {
                      var tt,
                        $t = this.g;
                      if (
                        (tt = $t.g
                          ? $t.g.getResponseHeader("X-HTTP-Initial-Response")
                          : null) &&
                        !Z(tt)
                      ) {
                        var nt = tt;
                        break t;
                      }
                    }
                    nt = null;
                  }
                  if ((_ = nt))
                    (we(
                      this.i,
                      this.l,
                      _,
                      "Initial handshake response via X-HTTP-Initial-Response",
                    ),
                      (this.K = !0),
                      At(this, _));
                  else {
                    ((this.o = !1), (this.s = 3), K(12), Me(this), Cn(this));
                    break e;
                  }
                }
                if (this.P) {
                  _ = !0;
                  let on;
                  for (; !this.J && this.C < me.length; )
                    if (((on = Gi(this, me)), on == On)) {
                      (Kt == 4 && ((this.s = 4), K(14), (_ = !1)),
                        we(this.i, this.l, null, "[Incomplete Response]"));
                      break;
                    } else if (on == ct) {
                      ((this.s = 4),
                        K(15),
                        we(this.i, this.l, me, "[Invalid Chunk]"),
                        (_ = !1));
                      break;
                    } else (we(this.i, this.l, on, null), At(this, on));
                  if (
                    (Rn(this) &&
                      this.C != 0 &&
                      ((this.h.g = this.h.g.slice(this.C)), (this.C = 0)),
                    Kt != 4 ||
                      me.length != 0 ||
                      this.h.h ||
                      ((this.s = 1), K(16), (_ = !1)),
                    (this.o = this.o && _),
                    !_)
                  )
                    (we(this.i, this.l, me, "[Invalid Chunked Response]"),
                      Me(this),
                      Cn(this));
                  else if (0 < me.length && !this.W) {
                    this.W = !0;
                    var Zt = this.j;
                    Zt.g == this &&
                      Zt.ba &&
                      !Zt.M &&
                      (Zt.j.info(
                        "Great, no buffering proxy detected. Bytes received: " +
                          me.length,
                      ),
                      ea(Zt),
                      (Zt.M = !0),
                      K(11));
                  }
                } else (we(this.i, this.l, me, null), At(this, me));
                (Kt == 4 && Me(this),
                  this.o &&
                    !this.J &&
                    (Kt == 4 ? Ku(this.j, this) : ((this.o = !1), jn(this))));
              } else
                (bf(this.g),
                  _ == 400 && 0 < me.indexOf("Unknown SID")
                    ? ((this.s = 3), K(12))
                    : ((this.s = 0), K(13)),
                  Me(this),
                  Cn(this));
            }
          }
      } catch {
      } finally {
      }
    }));
  function Rn(h) {
    return h.g ? h.u == "GET" && h.L != 2 && h.j.Ca : !1;
  }
  function Gi(h, y) {
    var _ = h.C,
      w = y.indexOf(
        `
`,
        _,
      );
    return w == -1
      ? On
      : ((_ = Number(y.substring(_, w))),
        isNaN(_)
          ? ct
          : ((w += 1),
            w + _ > y.length
              ? On
              : ((y = y.slice(w, w + _)), (h.C = w + _), y)));
  }
  ut.prototype.cancel = function () {
    ((this.J = !0), Me(this));
  };
  function jn(h) {
    ((h.S = Date.now() + h.I), nr(h, h.I));
  }
  function nr(h, y) {
    if (h.B != null) throw Error("WatchDog timer not null");
    h.B = he(b(h.ba, h), y);
  }
  function zn(h) {
    h.B && (d.clearTimeout(h.B), (h.B = null));
  }
  ut.prototype.ba = function () {
    this.B = null;
    const h = Date.now();
    0 <= h - this.S
      ? (xe(this.i, this.A),
        this.L != 2 && (P(), K(17)),
        Me(this),
        (this.s = 2),
        Cn(this))
      : nr(this, this.S - h);
  };
  function Cn(h) {
    h.j.G == 0 || h.J || Ku(h.j, h);
  }
  function Me(h) {
    zn(h);
    var y = h.M;
    (y && typeof y.ma == "function" && y.ma(),
      (h.M = null),
      Lr(h.U),
      h.g && ((y = h.g), (h.g = null), y.abort(), y.ma()));
  }
  function At(h, y) {
    try {
      var _ = h.j;
      if (_.G != 0 && (_.g == h || $i(_.h, h))) {
        if (!h.K && $i(_.h, h) && _.G == 3) {
          try {
            var w = _.Da.g.parse(y);
          } catch {
            w = null;
          }
          if (Array.isArray(w) && w.length == 3) {
            var F = w;
            if (F[0] == 0) {
              e: if (!_.u) {
                if (_.g)
                  if (_.g.F + 3e3 < h.F) (za(_), ka(_));
                  else break e;
                (ol(_), K(18));
              }
            } else
              ((_.za = F[1]),
                0 < _.za - _.T &&
                  37500 > F[2] &&
                  _.F &&
                  _.v == 0 &&
                  !_.C &&
                  (_.C = he(b(_.Za, _), 6e3)));
            if (1 >= Tr(_.h) && _.ca) {
              try {
                _.ca();
              } catch {}
              _.ca = void 0;
            }
          } else mi(_, 11);
        } else if (((h.K || _.g == h) && za(_), !Z(y)))
          for (F = _.Da.g.parse(y), y = 0; y < F.length; y++) {
            let nt = F[y];
            if (((_.T = nt[0]), (nt = nt[1]), _.G == 2))
              if (nt[0] == "c") {
                ((_.K = nt[1]), (_.ia = nt[2]));
                const Zt = nt[3];
                Zt != null && ((_.la = Zt), _.j.info("VER=" + _.la));
                const Kt = nt[4];
                Kt != null && ((_.Aa = Kt), _.j.info("SVER=" + _.Aa));
                const gi = nt[5];
                (gi != null &&
                  typeof gi == "number" &&
                  0 < gi &&
                  ((w = 1.5 * gi),
                  (_.L = w),
                  _.j.info("backChannelRequestTimeoutMs_=" + w)),
                  (w = _));
                const on = h.g;
                if (on) {
                  const qr = on.g
                    ? on.g.getResponseHeader("X-Client-Wire-Protocol")
                    : null;
                  if (qr) {
                    var ee = w.h;
                    ee.g ||
                      (qr.indexOf("spdy") == -1 &&
                        qr.indexOf("quic") == -1 &&
                        qr.indexOf("h2") == -1) ||
                      ((ee.j = ee.l),
                      (ee.g = new Set()),
                      ee.h && (Ki(ee, ee.h), (ee.h = null)));
                  }
                  if (w.D) {
                    const ul = on.g
                      ? on.g.getResponseHeader("X-HTTP-Session-Id")
                      : null;
                    ul && ((w.ya = ul), yt(w.I, w.D, ul));
                  }
                }
                ((_.G = 3),
                  _.l && _.l.ua(),
                  _.ba &&
                    ((_.R = Date.now() - h.F),
                    _.j.info("Handshake RTT: " + _.R + "ms")),
                  (w = _));
                var me = h;
                if (((w.qa = Qu(w, w.J ? w.ia : null, w.W)), me.K)) {
                  In(w.h, me);
                  var tt = me,
                    $t = w.L;
                  ($t && (tt.I = $t), tt.B && (zn(tt), jn(tt)), (w.g = me));
                } else Gu(w);
                0 < _.i.length && ja(_);
              } else (nt[0] != "stop" && nt[0] != "close") || mi(_, 7);
            else
              _.G == 3 &&
                (nt[0] == "stop" || nt[0] == "close"
                  ? nt[0] == "stop"
                    ? mi(_, 7)
                    : sl(_)
                  : nt[0] != "noop" && _.l && _.l.ta(nt),
                (_.v = 0));
          }
      }
      P(4);
    } catch {}
  }
  var Er = class {
    constructor(h, y) {
      ((this.g = h), (this.map = y));
    }
  };
  function an(h) {
    ((this.l = h || 10),
      d.PerformanceNavigationTiming
        ? ((h = d.performance.getEntriesByType("navigation")),
          (h =
            0 < h.length &&
            (h[0].nextHopProtocol == "hq" || h[0].nextHopProtocol == "h2")))
        : (h = !!(
            d.chrome &&
            d.chrome.loadTimes &&
            d.chrome.loadTimes() &&
            d.chrome.loadTimes().wasFetchedViaSpdy
          )),
      (this.j = h ? this.l : 1),
      (this.g = null),
      1 < this.j && (this.g = new Set()),
      (this.h = null),
      (this.i = []));
  }
  function St(h) {
    return h.h ? !0 : h.g ? h.g.size >= h.j : !1;
  }
  function Tr(h) {
    return h.h ? 1 : h.g ? h.g.size : 0;
  }
  function $i(h, y) {
    return h.h ? h.h == y : h.g ? h.g.has(y) : !1;
  }
  function Ki(h, y) {
    h.g ? h.g.add(y) : (h.h = y);
  }
  function In(h, y) {
    h.h && h.h == y ? (h.h = null) : h.g && h.g.has(y) && h.g.delete(y);
  }
  an.prototype.cancel = function () {
    if (((this.i = Jo(this)), this.h)) (this.h.cancel(), (this.h = null));
    else if (this.g && this.g.size !== 0) {
      for (const h of this.g.values()) h.cancel();
      this.g.clear();
    }
  };
  function Jo(h) {
    if (h.h != null) return h.i.concat(h.h.D);
    if (h.g != null && h.g.size !== 0) {
      let y = h.i;
      for (const _ of h.g.values()) y = y.concat(_.D);
      return y;
    }
    return J(h.i);
  }
  function _f(h) {
    if (h.V && typeof h.V == "function") return h.V();
    if (
      (typeof Map < "u" && h instanceof Map) ||
      (typeof Set < "u" && h instanceof Set)
    )
      return Array.from(h.values());
    if (typeof h == "string") return h.split("");
    if (m(h)) {
      for (var y = [], _ = h.length, w = 0; w < _; w++) y.push(h[w]);
      return y;
    }
    ((y = []), (_ = 0));
    for (w in h) y[_++] = h[w];
    return y;
  }
  function Oa(h) {
    if (h.na && typeof h.na == "function") return h.na();
    if (!h.V || typeof h.V != "function") {
      if (typeof Map < "u" && h instanceof Map) return Array.from(h.keys());
      if (!(typeof Set < "u" && h instanceof Set)) {
        if (m(h) || typeof h == "string") {
          var y = [];
          h = h.length;
          for (var _ = 0; _ < h; _++) y.push(_);
          return y;
        }
        ((y = []), (_ = 0));
        for (const w in h) y[_++] = w;
        return y;
      }
    }
  }
  function Zo(h, y) {
    if (h.forEach && typeof h.forEach == "function") h.forEach(y, void 0);
    else if (m(h) || typeof h == "string")
      Array.prototype.forEach.call(h, y, void 0);
    else
      for (var _ = Oa(h), w = _f(h), F = w.length, ee = 0; ee < F; ee++)
        y.call(void 0, w[ee], _ && _[ee], h);
  }
  var qs = RegExp(
    "^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$",
  );
  function Ef(h, y) {
    if (h) {
      h = h.split("&");
      for (var _ = 0; _ < h.length; _++) {
        var w = h[_].indexOf("="),
          F = null;
        if (0 <= w) {
          var ee = h[_].substring(0, w);
          F = h[_].substring(w + 1);
        } else ee = h[_];
        y(ee, F ? decodeURIComponent(F.replace(/\+/g, " ")) : "");
      }
    }
  }
  function zt(h) {
    if (
      ((this.g = this.o = this.j = ""),
      (this.s = null),
      (this.m = this.l = ""),
      (this.h = !1),
      h instanceof zt)
    ) {
      ((this.h = h.h),
        Gs(this, h.j),
        (this.o = h.o),
        (this.g = h.g),
        Yi(this, h.s),
        (this.l = h.l));
      var y = h.i,
        _ = new hi();
      ((_.i = y.i),
        y.g && ((_.g = new Map(y.g)), (_.h = y.h)),
        ci(this, _),
        (this.m = h.m));
    } else
      h && (y = String(h).match(qs))
        ? ((this.h = !1),
          Gs(this, y[1] || "", !0),
          (this.o = rr(y[2] || "")),
          (this.g = rr(y[3] || "", !0)),
          Yi(this, y[4]),
          (this.l = rr(y[5] || "", !0)),
          ci(this, y[6] || "", !0),
          (this.m = rr(y[7] || "")))
        : ((this.h = !1), (this.i = new hi(null, this.h)));
  }
  zt.prototype.toString = function () {
    var h = [],
      y = this.j;
    y && h.push(Ks(y, el, !0), ":");
    var _ = this.g;
    return (
      (_ || y == "file") &&
        (h.push("//"),
        (y = this.o) && h.push(Ks(y, el, !0), "@"),
        h.push(
          encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g, "%$1"),
        ),
        (_ = this.s),
        _ != null && h.push(":", String(_))),
      (_ = this.l) &&
        (this.g && _.charAt(0) != "/" && h.push("/"),
        h.push(Ks(_, _.charAt(0) == "/" ? Tf : tl, !0))),
      (_ = this.i.toString()) && h.push("?", _),
      (_ = this.m) && h.push("#", Ks(_, Ma)),
      h.join("")
    );
  };
  function Bn(h) {
    return new zt(h);
  }
  function Gs(h, y, _) {
    ((h.j = _ ? rr(y, !0) : y), h.j && (h.j = h.j.replace(/:$/, "")));
  }
  function Yi(h, y) {
    if (y) {
      if (((y = Number(y)), isNaN(y) || 0 > y))
        throw Error("Bad port number " + y);
      h.s = y;
    } else h.s = null;
  }
  function ci(h, y, _) {
    y instanceof hi
      ? ((h.i = y), zu(h.i, h.h))
      : (_ || (y = Ks(y, Sf)), (h.i = new hi(y, h.h)));
  }
  function yt(h, y, _) {
    h.i.set(y, _);
  }
  function $s(h) {
    return (
      yt(
        h,
        "zx",
        Math.floor(2147483648 * Math.random()).toString(36) +
          Math.abs(
            Math.floor(2147483648 * Math.random()) ^ Date.now(),
          ).toString(36),
      ),
      h
    );
  }
  function rr(h, y) {
    return h
      ? y
        ? decodeURI(h.replace(/%25/g, "%2525"))
        : decodeURIComponent(h)
      : "";
  }
  function Ks(h, y, _) {
    return typeof h == "string"
      ? ((h = encodeURI(h).replace(y, ju)),
        _ && (h = h.replace(/%25([0-9a-fA-F]{2})/g, "%$1")),
        h)
      : null;
  }
  function ju(h) {
    return (
      (h = h.charCodeAt(0)),
      "%" + ((h >> 4) & 15).toString(16) + (h & 15).toString(16)
    );
  }
  var el = /[#\/\?@]/g,
    tl = /[#\?:]/g,
    Tf = /[#\?]/g,
    Sf = /[#\?@]/g,
    Ma = /#/g;
  function hi(h, y) {
    ((this.h = this.g = null), (this.i = h || null), (this.j = !!y));
  }
  function ir(h) {
    h.g ||
      ((h.g = new Map()),
      (h.h = 0),
      h.i &&
        Ef(h.i, function (y, _) {
          h.add(decodeURIComponent(y.replace(/\+/g, " ")), _);
        }));
  }
  ((r = hi.prototype),
    (r.add = function (h, y) {
      (ir(this), (this.i = null), (h = kr(this, h)));
      var _ = this.g.get(h);
      return (_ || this.g.set(h, (_ = [])), _.push(y), (this.h += 1), this);
    }));
  function fi(h, y) {
    (ir(h),
      (y = kr(h, y)),
      h.g.has(y) && ((h.i = null), (h.h -= h.g.get(y).length), h.g.delete(y)));
  }
  function di(h, y) {
    return (ir(h), (y = kr(h, y)), h.g.has(y));
  }
  ((r.forEach = function (h, y) {
    (ir(this),
      this.g.forEach(function (_, w) {
        _.forEach(function (F) {
          h.call(y, F, w, this);
        }, this);
      }, this));
  }),
    (r.na = function () {
      ir(this);
      const h = Array.from(this.g.values()),
        y = Array.from(this.g.keys()),
        _ = [];
      for (let w = 0; w < y.length; w++) {
        const F = h[w];
        for (let ee = 0; ee < F.length; ee++) _.push(y[w]);
      }
      return _;
    }),
    (r.V = function (h) {
      ir(this);
      let y = [];
      if (typeof h == "string")
        di(this, h) && (y = y.concat(this.g.get(kr(this, h))));
      else {
        h = Array.from(this.g.values());
        for (let _ = 0; _ < h.length; _++) y = y.concat(h[_]);
      }
      return y;
    }),
    (r.set = function (h, y) {
      return (
        ir(this),
        (this.i = null),
        (h = kr(this, h)),
        di(this, h) && (this.h -= this.g.get(h).length),
        this.g.set(h, [y]),
        (this.h += 1),
        this
      );
    }),
    (r.get = function (h, y) {
      return h ? ((h = this.V(h)), 0 < h.length ? String(h[0]) : y) : y;
    }));
  function nl(h, y, _) {
    (fi(h, y),
      0 < _.length &&
        ((h.i = null), h.g.set(kr(h, y), J(_)), (h.h += _.length)));
  }
  r.toString = function () {
    if (this.i) return this.i;
    if (!this.g) return "";
    const h = [],
      y = Array.from(this.g.keys());
    for (var _ = 0; _ < y.length; _++) {
      var w = y[_];
      const ee = encodeURIComponent(String(w)),
        me = this.V(w);
      for (w = 0; w < me.length; w++) {
        var F = ee;
        (me[w] !== "" && (F += "=" + encodeURIComponent(String(me[w]))),
          h.push(F));
      }
    }
    return (this.i = h.join("&"));
  };
  function kr(h, y) {
    return ((y = String(y)), h.j && (y = y.toLowerCase()), y);
  }
  function zu(h, y) {
    (y &&
      !h.j &&
      (ir(h),
      (h.i = null),
      h.g.forEach(function (_, w) {
        var F = w.toLowerCase();
        w != F && (fi(this, w), nl(this, F, _));
      }, h)),
      (h.j = y));
  }
  function Ys(h, y) {
    const _ = new ye();
    if (d.Image) {
      const w = new Image();
      ((w.onload = A(sr, _, "TestLoadImage: loaded", !0, y, w)),
        (w.onerror = A(sr, _, "TestLoadImage: error", !1, y, w)),
        (w.onabort = A(sr, _, "TestLoadImage: abort", !1, y, w)),
        (w.ontimeout = A(sr, _, "TestLoadImage: timeout", !1, y, w)),
        d.setTimeout(function () {
          w.ontimeout && w.ontimeout();
        }, 1e4),
        (w.src = h));
    } else y(!1);
  }
  function Sr(h, y) {
    const _ = new ye(),
      w = new AbortController(),
      F = setTimeout(() => {
        (w.abort(), sr(_, "TestPingServer: timeout", !1, y));
      }, 1e4);
    fetch(h, { signal: w.signal })
      .then((ee) => {
        (clearTimeout(F),
          ee.ok
            ? sr(_, "TestPingServer: ok", !0, y)
            : sr(_, "TestPingServer: server error", !1, y));
      })
      .catch(() => {
        (clearTimeout(F), sr(_, "TestPingServer: error", !1, y));
      });
  }
  function sr(h, y, _, w, F) {
    try {
      (F &&
        ((F.onload = null),
        (F.onerror = null),
        (F.onabort = null),
        (F.ontimeout = null)),
        w(_));
    } catch {}
  }
  function Qs() {
    this.g = new er();
  }
  function jr(h, y, _) {
    const w = _ || "";
    try {
      Zo(h, function (F, ee) {
        let me = F;
        (g(F) && (me = kn(F)), y.push(w + ee + "=" + encodeURIComponent(me)));
      });
    } catch (F) {
      throw (y.push(w + "type=" + encodeURIComponent("_badmap")), F);
    }
  }
  function Qi(h) {
    ((this.l = h.Ub || null), (this.j = h.eb || !1));
  }
  (D(Qi, Hi),
    (Qi.prototype.g = function () {
      return new pi(this.l, this.j);
    }),
    (Qi.prototype.i = (function (h) {
      return function () {
        return h;
      };
    })({})));
  function pi(h, y) {
    (lt.call(this),
      (this.D = h),
      (this.o = y),
      (this.m = void 0),
      (this.status = this.readyState = 0),
      (this.responseType =
        this.responseText =
        this.response =
        this.statusText =
          ""),
      (this.onreadystatechange = null),
      (this.u = new Headers()),
      (this.h = null),
      (this.B = "GET"),
      (this.A = ""),
      (this.g = !1),
      (this.v = this.j = this.l = null));
  }
  (D(pi, lt),
    (r = pi.prototype),
    (r.open = function (h, y) {
      if (this.readyState != 0)
        throw (this.abort(), Error("Error reopening a connection"));
      ((this.B = h), (this.A = y), (this.readyState = 1), Br(this));
    }),
    (r.send = function (h) {
      if (this.readyState != 1)
        throw (this.abort(), Error("need to call open() first. "));
      this.g = !0;
      const y = {
        headers: this.u,
        method: this.B,
        credentials: this.m,
        cache: void 0,
      };
      (h && (y.body = h),
        (this.D || d)
          .fetch(new Request(this.A, y))
          .then(this.Sa.bind(this), this.ga.bind(this)));
    }),
    (r.abort = function () {
      ((this.response = this.responseText = ""),
        (this.u = new Headers()),
        (this.status = 0),
        this.j && this.j.cancel("Request was aborted.").catch(() => {}),
        1 <= this.readyState &&
          this.g &&
          this.readyState != 4 &&
          ((this.g = !1), zr(this)),
        (this.readyState = 0));
    }),
    (r.Sa = function (h) {
      if (
        this.g &&
        ((this.l = h),
        this.h ||
          ((this.status = this.l.status),
          (this.statusText = this.l.statusText),
          (this.h = h.headers),
          (this.readyState = 2),
          Br(this)),
        this.g && ((this.readyState = 3), Br(this), this.g))
      )
        if (this.responseType === "arraybuffer")
          h.arrayBuffer().then(this.Qa.bind(this), this.ga.bind(this));
        else if (typeof d.ReadableStream < "u" && "body" in h) {
          if (((this.j = h.body.getReader()), this.o)) {
            if (this.responseType)
              throw Error(
                'responseType must be empty for "streamBinaryChunks" mode responses.',
              );
            this.response = [];
          } else
            ((this.response = this.responseText = ""),
              (this.v = new TextDecoder()));
          rl(this);
        } else h.text().then(this.Ra.bind(this), this.ga.bind(this));
    }));
  function rl(h) {
    h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h));
  }
  ((r.Pa = function (h) {
    if (this.g) {
      if (this.o && h.value) this.response.push(h.value);
      else if (!this.o) {
        var y = h.value ? h.value : new Uint8Array(0);
        (y = this.v.decode(y, { stream: !h.done })) &&
          (this.response = this.responseText += y);
      }
      (h.done ? zr(this) : Br(this), this.readyState == 3 && rl(this));
    }
  }),
    (r.Ra = function (h) {
      this.g && ((this.response = this.responseText = h), zr(this));
    }),
    (r.Qa = function (h) {
      this.g && ((this.response = h), zr(this));
    }),
    (r.ga = function () {
      this.g && zr(this);
    }));
  function zr(h) {
    ((h.readyState = 4), (h.l = null), (h.j = null), (h.v = null), Br(h));
  }
  ((r.setRequestHeader = function (h, y) {
    this.u.append(h, y);
  }),
    (r.getResponseHeader = function (h) {
      return (this.h && this.h.get(h.toLowerCase())) || "";
    }),
    (r.getAllResponseHeaders = function () {
      if (!this.h) return "";
      const h = [],
        y = this.h.entries();
      for (var _ = y.next(); !_.done; )
        ((_ = _.value), h.push(_[0] + ": " + _[1]), (_ = y.next()));
      return h.join(`\r
`);
    }));
  function Br(h) {
    h.onreadystatechange && h.onreadystatechange.call(h);
  }
  Object.defineProperty(pi.prototype, "withCredentials", {
    get: function () {
      return this.m === "include";
    },
    set: function (h) {
      this.m = h ? "include" : "same-origin";
    },
  });
  function il(h) {
    let y = "";
    return (
      k(h, function (_, w) {
        ((y += w),
          (y += ":"),
          (y += _),
          (y += `\r
`));
      }),
      y
    );
  }
  function Jt(h, y, _) {
    e: {
      for (w in _) {
        var w = !1;
        break e;
      }
      w = !0;
    }
    w ||
      ((_ = il(_)),
      typeof h == "string"
        ? _ != null && encodeURIComponent(String(_))
        : yt(h, y, _));
  }
  function ft(h) {
    (lt.call(this),
      (this.headers = new Map()),
      (this.o = h || null),
      (this.h = !1),
      (this.v = this.g = null),
      (this.D = ""),
      (this.m = 0),
      (this.l = ""),
      (this.j = this.B = this.u = this.A = !1),
      (this.I = null),
      (this.H = ""),
      (this.J = !1));
  }
  D(ft, lt);
  var Pa = /^https?$/i,
    Xs = ["POST", "PUT"];
  ((r = ft.prototype),
    (r.Ha = function (h) {
      this.J = h;
    }),
    (r.ea = function (h, y, _, w) {
      if (this.g)
        throw Error(
          "[goog.net.XhrIo] Object is active with another request=" +
            this.D +
            "; newUri=" +
            h,
        );
      ((y = y ? y.toUpperCase() : "GET"),
        (this.D = h),
        (this.l = ""),
        (this.m = 0),
        (this.A = !1),
        (this.h = !0),
        (this.g = this.o ? this.o.g() : Ze.g()),
        (this.v = this.o ? ui(this.o) : ui(Ze)),
        (this.g.onreadystatechange = b(this.Ea, this)));
      try {
        ((this.B = !0), this.g.open(y, String(h), !0), (this.B = !1));
      } catch (ee) {
        Bu(this, ee);
        return;
      }
      if (((h = _ || ""), (_ = new Map(this.headers)), w))
        if (Object.getPrototypeOf(w) === Object.prototype)
          for (var F in w) _.set(F, w[F]);
        else if (typeof w.keys == "function" && typeof w.get == "function")
          for (const ee of w.keys()) _.set(ee, w.get(ee));
        else throw Error("Unknown input type for opt_headers: " + String(w));
      ((w = Array.from(_.keys()).find(
        (ee) => ee.toLowerCase() == "content-type",
      )),
        (F = d.FormData && h instanceof d.FormData),
        !(0 <= Array.prototype.indexOf.call(Xs, y, void 0)) ||
          w ||
          F ||
          _.set(
            "Content-Type",
            "application/x-www-form-urlencoded;charset=utf-8",
          ));
      for (const [ee, me] of _) this.g.setRequestHeader(ee, me);
      (this.H && (this.g.responseType = this.H),
        "withCredentials" in this.g &&
          this.g.withCredentials !== this.J &&
          (this.g.withCredentials = this.J));
      try {
        (Ws(this), (this.u = !0), this.g.send(h), (this.u = !1));
      } catch (ee) {
        Bu(this, ee);
      }
    }));
  function Bu(h, y) {
    ((h.h = !1),
      h.g && ((h.j = !0), h.g.abort(), (h.j = !1)),
      (h.l = y),
      (h.m = 5),
      La(h),
      Hr(h));
  }
  function La(h) {
    h.A || ((h.A = !0), Ge(h, "complete"), Ge(h, "error"));
  }
  ((r.abort = function (h) {
    this.g &&
      this.h &&
      ((this.h = !1),
      (this.j = !0),
      this.g.abort(),
      (this.j = !1),
      (this.m = h || 7),
      Ge(this, "complete"),
      Ge(this, "abort"),
      Hr(this));
  }),
    (r.N = function () {
      (this.g &&
        (this.h &&
          ((this.h = !1), (this.j = !0), this.g.abort(), (this.j = !1)),
        Hr(this, !0)),
        ft.aa.N.call(this));
    }),
    (r.Ea = function () {
      this.s || (this.B || this.u || this.j ? Va(this) : this.bb());
    }),
    (r.bb = function () {
      Va(this);
    }));
  function Va(h) {
    if (h.h && typeof c < "u" && (!h.v[1] || ar(h) != 4 || h.Z() != 2)) {
      if (h.u && ar(h) == 4) jt(h.Ea, 0, h);
      else if ((Ge(h, "readystatechange"), ar(h) == 4)) {
        h.h = !1;
        try {
          const me = h.Z();
          e: switch (me) {
            case 200:
            case 201:
            case 202:
            case 204:
            case 206:
            case 304:
            case 1223:
              var y = !0;
              break e;
            default:
              y = !1;
          }
          var _;
          if (!(_ = y)) {
            var w;
            if ((w = me === 0)) {
              var F = String(h.D).match(qs)[1] || null;
              (!F &&
                d.self &&
                d.self.location &&
                (F = d.self.location.protocol.slice(0, -1)),
                (w = !Pa.test(F ? F.toLowerCase() : "")));
            }
            _ = w;
          }
          if (_) (Ge(h, "complete"), Ge(h, "success"));
          else {
            h.m = 6;
            try {
              var ee = 2 < ar(h) ? h.g.statusText : "";
            } catch {
              ee = "";
            }
            ((h.l = ee + " [" + h.Z() + "]"), La(h));
          }
        } finally {
          Hr(h);
        }
      }
    }
  }
  function Hr(h, y) {
    if (h.g) {
      Ws(h);
      const _ = h.g,
        w = h.v[0] ? () => {} : null;
      ((h.g = null), (h.v = null), y || Ge(h, "ready"));
      try {
        _.onreadystatechange = w;
      } catch {}
    }
  }
  function Ws(h) {
    h.I && (d.clearTimeout(h.I), (h.I = null));
  }
  r.isActive = function () {
    return !!this.g;
  };
  function ar(h) {
    return h.g ? h.g.readyState : 0;
  }
  ((r.Z = function () {
    try {
      return 2 < ar(this) ? this.g.status : -1;
    } catch {
      return -1;
    }
  }),
    (r.oa = function () {
      try {
        return this.g ? this.g.responseText : "";
      } catch {
        return "";
      }
    }),
    (r.Oa = function (h) {
      if (this.g) {
        var y = this.g.responseText;
        return (h && y.indexOf(h) == 0 && (y = y.substring(h.length)), li(y));
      }
    }));
  function Hu(h) {
    try {
      if (!h.g) return null;
      if ("response" in h.g) return h.g.response;
      switch (h.H) {
        case "":
        case "text":
          return h.g.responseText;
        case "arraybuffer":
          if ("mozResponseArrayBuffer" in h.g)
            return h.g.mozResponseArrayBuffer;
      }
      return null;
    } catch {
      return null;
    }
  }
  function bf(h) {
    const y = {};
    h = ((h.g && 2 <= ar(h) && h.g.getAllResponseHeaders()) || "").split(`\r
`);
    for (let w = 0; w < h.length; w++) {
      if (Z(h[w])) continue;
      var _ = V(h[w]);
      const F = _[0];
      if (((_ = _[1]), typeof _ != "string")) continue;
      _ = _.trim();
      const ee = y[F] || [];
      ((y[F] = ee), ee.push(_));
    }
    x(y, function (w) {
      return w.join(", ");
    });
  }
  ((r.Ba = function () {
    return this.m;
  }),
    (r.Ka = function () {
      return typeof this.l == "string" ? this.l : String(this.l);
    }));
  function Js(h, y, _) {
    return (_ && _.internalChannelParams && _.internalChannelParams[h]) || y;
  }
  function Ua(h) {
    ((this.Aa = 0),
      (this.i = []),
      (this.j = new ye()),
      (this.ia =
        this.qa =
        this.I =
        this.W =
        this.g =
        this.ya =
        this.D =
        this.H =
        this.m =
        this.S =
        this.o =
          null),
      (this.Ya = this.U = 0),
      (this.Va = Js("failFast", !1, h)),
      (this.F = this.C = this.u = this.s = this.l = null),
      (this.X = !0),
      (this.za = this.T = -1),
      (this.Y = this.v = this.B = 0),
      (this.Ta = Js("baseRetryDelayMs", 5e3, h)),
      (this.cb = Js("retryDelaySeedMs", 1e4, h)),
      (this.Wa = Js("forwardChannelMaxRetries", 2, h)),
      (this.wa = Js("forwardChannelRequestTimeoutMs", 2e4, h)),
      (this.pa = (h && h.xmlHttpFactory) || void 0),
      (this.Xa = (h && h.Tb) || void 0),
      (this.Ca = (h && h.useFetchStreams) || !1),
      (this.L = void 0),
      (this.J = (h && h.supportsCrossDomainXhr) || !1),
      (this.K = ""),
      (this.h = new an(h && h.concurrentRequestLimit)),
      (this.Da = new Qs()),
      (this.P = (h && h.fastHandshake) || !1),
      (this.O = (h && h.encodeInitMessageHeaders) || !1),
      this.P && this.O && (this.O = !1),
      (this.Ua = (h && h.Rb) || !1),
      h && h.xa && this.j.xa(),
      h && h.forceLongPolling && (this.X = !1),
      (this.ba = (!this.P && this.X && h && h.detectBufferingProxy) || !1),
      (this.ja = void 0),
      h &&
        h.longPollingTimeout &&
        0 < h.longPollingTimeout &&
        (this.ja = h.longPollingTimeout),
      (this.ca = void 0),
      (this.R = 0),
      (this.M = !1),
      (this.ka = this.A = null));
  }
  ((r = Ua.prototype),
    (r.la = 8),
    (r.G = 1),
    (r.connect = function (h, y, _, w) {
      (K(0),
        (this.W = h),
        (this.H = y || {}),
        _ && w !== void 0 && ((this.H.OSID = _), (this.H.OAID = w)),
        (this.F = this.X),
        (this.I = Qu(this, null, this.W)),
        ja(this));
    }));
  function sl(h) {
    if ((Fu(h), h.G == 3)) {
      var y = h.U++,
        _ = Bn(h.I);
      if (
        (yt(_, "SID", h.K),
        yt(_, "RID", y),
        yt(_, "TYPE", "terminate"),
        Zs(h, _),
        (y = new ut(h, h.j, y)),
        (y.L = 2),
        (y.v = $s(Bn(_))),
        (_ = !1),
        d.navigator && d.navigator.sendBeacon)
      )
        try {
          _ = d.navigator.sendBeacon(y.v.toString(), "");
        } catch {}
      (!_ && d.Image && ((new Image().src = y.v), (_ = !0)),
        _ || ((y.g = Xu(y.j, null)), y.g.ea(y.v)),
        (y.F = Date.now()),
        jn(y));
    }
    Yu(h);
  }
  function ka(h) {
    h.g && (ea(h), h.g.cancel(), (h.g = null));
  }
  function Fu(h) {
    (ka(h),
      h.u && (d.clearTimeout(h.u), (h.u = null)),
      za(h),
      h.h.cancel(),
      h.s && (typeof h.s == "number" && d.clearTimeout(h.s), (h.s = null)));
  }
  function ja(h) {
    if (!St(h.h) && !h.s) {
      h.s = !0;
      var y = h.Ga;
      (ce || O(), ge || (ce(), (ge = !0)), Ve.add(y, h), (h.B = 0));
    }
  }
  function wf(h, y) {
    return Tr(h.h) >= h.h.j - (h.s ? 1 : 0)
      ? !1
      : h.s
        ? ((h.i = y.D.concat(h.i)), !0)
        : h.G == 1 || h.G == 2 || h.B >= (h.Va ? 0 : h.Wa)
          ? !1
          : ((h.s = he(b(h.Ga, h, y), ll(h, h.B))), h.B++, !0);
  }
  r.Ga = function (h) {
    if (this.s)
      if (((this.s = null), this.G == 1)) {
        if (!h) {
          ((this.U = Math.floor(1e5 * Math.random())), (h = this.U++));
          const F = new ut(this, this.j, h);
          let ee = this.o;
          if (
            (this.S && (ee ? ((ee = R(ee)), M(ee, this.S)) : (ee = this.S)),
            this.m !== null || this.O || ((F.H = ee), (ee = null)),
            this.P)
          )
            e: {
              for (var y = 0, _ = 0; _ < this.i.length; _++) {
                t: {
                  var w = this.i[_];
                  if (
                    "__data__" in w.map &&
                    ((w = w.map.__data__), typeof w == "string")
                  ) {
                    w = w.length;
                    break t;
                  }
                  w = void 0;
                }
                if (w === void 0) break;
                if (((y += w), 4096 < y)) {
                  y = _;
                  break e;
                }
                if (y === 4096 || _ === this.i.length - 1) {
                  y = _ + 1;
                  break e;
                }
              }
              y = 1e3;
            }
          else y = 1e3;
          ((y = qu(this, F, y)),
            (_ = Bn(this.I)),
            yt(_, "RID", h),
            yt(_, "CVER", 22),
            this.D && yt(_, "X-HTTP-Session-Id", this.D),
            Zs(this, _),
            ee &&
              (this.O
                ? (y =
                    "headers=" + encodeURIComponent(String(il(ee))) + "&" + y)
                : this.m && Jt(_, this.m, ee)),
            Ki(this.h, F),
            this.Ua && yt(_, "TYPE", "init"),
            this.P
              ? (yt(_, "$req", y),
                yt(_, "SID", "null"),
                (F.T = !0),
                sn(F, _, null))
              : sn(F, _, y),
            (this.G = 2));
        }
      } else
        this.G == 3 &&
          (h ? al(this, h) : this.i.length == 0 || St(this.h) || al(this));
  };
  function al(h, y) {
    var _;
    y ? (_ = y.l) : (_ = h.U++);
    const w = Bn(h.I);
    (yt(w, "SID", h.K),
      yt(w, "RID", _),
      yt(w, "AID", h.T),
      Zs(h, w),
      h.m && h.o && Jt(w, h.m, h.o),
      (_ = new ut(h, h.j, _, h.B + 1)),
      h.m === null && (_.H = h.o),
      y && (h.i = y.D.concat(h.i)),
      (y = qu(h, _, 1e3)),
      (_.I = Math.round(0.5 * h.wa) + Math.round(0.5 * h.wa * Math.random())),
      Ki(h.h, _),
      sn(_, w, y));
  }
  function Zs(h, y) {
    (h.H &&
      k(h.H, function (_, w) {
        yt(y, w, _);
      }),
      h.l &&
        Zo({}, function (_, w) {
          yt(y, w, _);
        }));
  }
  function qu(h, y, _) {
    _ = Math.min(h.i.length, _);
    var w = h.l ? b(h.l.Na, h.l, h) : null;
    e: {
      var F = h.i;
      let ee = -1;
      for (;;) {
        const me = ["count=" + _];
        ee == -1
          ? 0 < _
            ? ((ee = F[0].g), me.push("ofs=" + ee))
            : (ee = 0)
          : me.push("ofs=" + ee);
        let tt = !0;
        for (let $t = 0; $t < _; $t++) {
          let nt = F[$t].g;
          const Zt = F[$t].map;
          if (((nt -= ee), 0 > nt))
            ((ee = Math.max(0, F[$t].g - 100)), (tt = !1));
          else
            try {
              jr(Zt, me, "req" + nt + "_");
            } catch {
              w && w(Zt);
            }
        }
        if (tt) {
          w = me.join("&");
          break e;
        }
      }
    }
    return ((h = h.i.splice(0, _)), (y.D = h), w);
  }
  function Gu(h) {
    if (!h.g && !h.u) {
      h.Y = 1;
      var y = h.Fa;
      (ce || O(), ge || (ce(), (ge = !0)), Ve.add(y, h), (h.v = 0));
    }
  }
  function ol(h) {
    return h.g || h.u || 3 <= h.v
      ? !1
      : (h.Y++, (h.u = he(b(h.Fa, h), ll(h, h.v))), h.v++, !0);
  }
  ((r.Fa = function () {
    if (
      ((this.u = null),
      $u(this),
      this.ba && !(this.M || this.g == null || 0 >= this.R))
    ) {
      var h = 2 * this.R;
      (this.j.info("BP detection timer enabled: " + h),
        (this.A = he(b(this.ab, this), h)));
    }
  }),
    (r.ab = function () {
      this.A &&
        ((this.A = null),
        this.j.info("BP detection timeout reached."),
        this.j.info("Buffering proxy detected and switch to long-polling!"),
        (this.F = !1),
        (this.M = !0),
        K(10),
        ka(this),
        $u(this));
    }));
  function ea(h) {
    h.A != null && (d.clearTimeout(h.A), (h.A = null));
  }
  function $u(h) {
    ((h.g = new ut(h, h.j, "rpc", h.Y)),
      h.m === null && (h.g.H = h.o),
      (h.g.O = 0));
    var y = Bn(h.qa);
    (yt(y, "RID", "rpc"),
      yt(y, "SID", h.K),
      yt(y, "AID", h.T),
      yt(y, "CI", h.F ? "0" : "1"),
      !h.F && h.ja && yt(y, "TO", h.ja),
      yt(y, "TYPE", "xmlhttp"),
      Zs(h, y),
      h.m && h.o && Jt(y, h.m, h.o),
      h.L && (h.g.I = h.L));
    var _ = h.g;
    ((h = h.ia),
      (_.L = 1),
      (_.v = $s(Bn(y))),
      (_.m = null),
      (_.P = !0),
      Wt(_, h));
  }
  r.Za = function () {
    this.C != null && ((this.C = null), ka(this), ol(this), K(19));
  };
  function za(h) {
    h.C != null && (d.clearTimeout(h.C), (h.C = null));
  }
  function Ku(h, y) {
    var _ = null;
    if (h.g == y) {
      (za(h), ea(h), (h.g = null));
      var w = 2;
    } else if ($i(h.h, y)) ((_ = y.D), In(h.h, y), (w = 1));
    else return;
    if (h.G != 0) {
      if (y.o)
        if (w == 1) {
          ((_ = y.m ? y.m.length : 0), (y = Date.now() - y.F));
          var F = h.B;
          ((w = Ur()), Ge(w, new ae(w, _)), ja(h));
        } else Gu(h);
      else if (
        ((F = y.s),
        F == 3 ||
          (F == 0 && 0 < y.X) ||
          !((w == 1 && wf(h, y)) || (w == 2 && ol(h))))
      )
        switch ((_ && 0 < _.length && ((y = h.h), (y.i = y.i.concat(_))), F)) {
          case 1:
            mi(h, 5);
            break;
          case 4:
            mi(h, 10);
            break;
          case 3:
            mi(h, 6);
            break;
          default:
            mi(h, 2);
        }
    }
  }
  function ll(h, y) {
    let _ = h.Ta + Math.floor(Math.random() * h.cb);
    return (h.isActive() || (_ *= 2), _ * y);
  }
  function mi(h, y) {
    if ((h.j.info("Error code " + y), y == 2)) {
      var _ = b(h.fb, h),
        w = h.Xa;
      const F = !w;
      ((w = new zt(w || "//www.google.com/images/cleardot.gif")),
        (d.location && d.location.protocol == "http") || Gs(w, "https"),
        $s(w),
        F ? Ys(w.toString(), _) : Sr(w.toString(), _));
    } else K(2);
    ((h.G = 0), h.l && h.l.sa(y), Yu(h), Fu(h));
  }
  r.fb = function (h) {
    h
      ? (this.j.info("Successfully pinged google.com"), K(2))
      : (this.j.info("Failed to ping google.com"), K(1));
  };
  function Yu(h) {
    if (((h.G = 0), (h.ka = []), h.l)) {
      const y = Jo(h.h);
      ((y.length != 0 || h.i.length != 0) &&
        (B(h.ka, y),
        B(h.ka, h.i),
        (h.h.i.length = 0),
        J(h.i),
        (h.i.length = 0)),
        h.l.ra());
    }
  }
  function Qu(h, y, _) {
    var w = _ instanceof zt ? Bn(_) : new zt(_);
    if (w.g != "") (y && (w.g = y + "." + w.g), Yi(w, w.s));
    else {
      var F = d.location;
      ((w = F.protocol),
        (y = y ? y + "." + F.hostname : F.hostname),
        (F = +F.port));
      var ee = new zt(null);
      (w && Gs(ee, w),
        y && (ee.g = y),
        F && Yi(ee, F),
        _ && (ee.l = _),
        (w = ee));
    }
    return (
      (_ = h.D),
      (y = h.ya),
      _ && y && yt(w, _, y),
      yt(w, "VER", h.la),
      Zs(h, w),
      w
    );
  }
  function Xu(h, y, _) {
    if (y && !h.J)
      throw Error("Can't create secondary domain capable XhrIo object.");
    return (
      (y = h.Ca && !h.pa ? new ft(new Qi({ eb: _ })) : new ft(h.pa)),
      y.Ha(h.J),
      y
    );
  }
  r.isActive = function () {
    return !!this.l && this.l.isActive(this);
  };
  function Wu() {}
  ((r = Wu.prototype),
    (r.ua = function () {}),
    (r.ta = function () {}),
    (r.sa = function () {}),
    (r.ra = function () {}),
    (r.isActive = function () {
      return !0;
    }),
    (r.Na = function () {}));
  function Ba() {}
  Ba.prototype.g = function (h, y) {
    return new xn(h, y);
  };
  function xn(h, y) {
    (lt.call(this),
      (this.g = new Ua(y)),
      (this.l = h),
      (this.h = (y && y.messageUrlParams) || null),
      (h = (y && y.messageHeaders) || null),
      y &&
        y.clientProtocolHeaderRequired &&
        (h
          ? (h["X-Client-Protocol"] = "webchannel")
          : (h = { "X-Client-Protocol": "webchannel" })),
      (this.g.o = h),
      (h = (y && y.initMessageHeaders) || null),
      y &&
        y.messageContentType &&
        (h
          ? (h["X-WebChannel-Content-Type"] = y.messageContentType)
          : (h = { "X-WebChannel-Content-Type": y.messageContentType })),
      y &&
        y.va &&
        (h
          ? (h["X-WebChannel-Client-Profile"] = y.va)
          : (h = { "X-WebChannel-Client-Profile": y.va })),
      (this.g.S = h),
      (h = y && y.Sb) && !Z(h) && (this.g.m = h),
      (this.v = (y && y.supportsCrossDomainXhr) || !1),
      (this.u = (y && y.sendRawJson) || !1),
      (y = y && y.httpSessionIdParam) &&
        !Z(y) &&
        ((this.g.D = y),
        (h = this.h),
        h !== null && y in h && ((h = this.h), y in h && delete h[y])),
      (this.j = new Fr(this)));
  }
  (D(xn, lt),
    (xn.prototype.m = function () {
      ((this.g.l = this.j),
        this.v && (this.g.J = !0),
        this.g.connect(this.l, this.h || void 0));
    }),
    (xn.prototype.close = function () {
      sl(this.g);
    }),
    (xn.prototype.o = function (h) {
      var y = this.g;
      if (typeof h == "string") {
        var _ = {};
        ((_.__data__ = h), (h = _));
      } else this.u && ((_ = {}), (_.__data__ = kn(h)), (h = _));
      (y.i.push(new Er(y.Ya++, h)), y.G == 3 && ja(y));
    }),
    (xn.prototype.N = function () {
      ((this.g.l = null),
        delete this.j,
        sl(this.g),
        delete this.g,
        xn.aa.N.call(this));
    }));
  function Ju(h) {
    (_r.call(this),
      h.__headers__ &&
        ((this.headers = h.__headers__),
        (this.statusCode = h.__status__),
        delete h.__headers__,
        delete h.__status__));
    var y = h.__sm__;
    if (y) {
      e: {
        for (const _ in y) {
          h = _;
          break e;
        }
        h = void 0;
      }
      ((this.i = h) &&
        ((h = this.i), (y = y !== null && h in y ? y[h] : void 0)),
        (this.data = y));
    } else this.data = h;
  }
  D(Ju, _r);
  function Zu() {
    (Fi.call(this), (this.status = 1));
  }
  D(Zu, Fi);
  function Fr(h) {
    this.g = h;
  }
  (D(Fr, Wu),
    (Fr.prototype.ua = function () {
      Ge(this.g, "a");
    }),
    (Fr.prototype.ta = function (h) {
      Ge(this.g, new Ju(h));
    }),
    (Fr.prototype.sa = function (h) {
      Ge(this.g, new Zu());
    }),
    (Fr.prototype.ra = function () {
      Ge(this.g, "b");
    }),
    (Ba.prototype.createWebChannel = Ba.prototype.g),
    (xn.prototype.send = xn.prototype.o),
    (xn.prototype.open = xn.prototype.m),
    (xn.prototype.close = xn.prototype.close),
    (AS = function () {
      return new Ba();
    }),
    (wS = function () {
      return Ur();
    }),
    (bS = An),
    (tm = {
      mb: 0,
      pb: 1,
      qb: 2,
      Jb: 3,
      Ob: 4,
      Lb: 5,
      Mb: 6,
      Kb: 7,
      Ib: 8,
      Nb: 9,
      PROXY: 10,
      NOPROXY: 11,
      Gb: 12,
      Cb: 13,
      Db: 14,
      Bb: 15,
      Eb: 16,
      Fb: 17,
      ib: 18,
      hb: 19,
      jb: 20,
    }),
    (_e.NO_ERROR = 0),
    (_e.TIMEOUT = 8),
    (_e.HTTP_ERROR = 6),
    (Th = _e),
    (Fe.COMPLETE = "complete"),
    (SS = Fe),
    (Fs.EventType = tr),
    (tr.OPEN = "a"),
    (tr.CLOSE = "b"),
    (tr.ERROR = "c"),
    (tr.MESSAGE = "d"),
    (lt.prototype.listen = lt.prototype.K),
    (iu = Fs),
    (ft.prototype.listenOnce = ft.prototype.L),
    (ft.prototype.getLastError = ft.prototype.Ka),
    (ft.prototype.getLastErrorCode = ft.prototype.Ba),
    (ft.prototype.getStatus = ft.prototype.Z),
    (ft.prototype.getResponseJson = ft.prototype.Oa),
    (ft.prototype.getResponseText = ft.prototype.oa),
    (ft.prototype.send = ft.prototype.ea),
    (ft.prototype.setWithCredentials = ft.prototype.Ha),
    (TS = ft));
}).apply(
  typeof ih < "u"
    ? ih
    : typeof self < "u"
      ? self
      : typeof window < "u"
        ? window
        : {},
);
const kE = "@firebase/firestore",
  jE = "4.9.1";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class vn {
  constructor(e) {
    this.uid = e;
  }
  isAuthenticated() {
    return this.uid != null;
  }
  toKey() {
    return this.isAuthenticated() ? "uid:" + this.uid : "anonymous-user";
  }
  isEqual(e) {
    return e.uid === this.uid;
  }
}
((vn.UNAUTHENTICATED = new vn(null)),
  (vn.GOOGLE_CREDENTIALS = new vn("google-credentials-uid")),
  (vn.FIRST_PARTY = new vn("first-party-uid")),
  (vn.MOCK_USER = new vn("mock-user")));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let Go = "12.2.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Ra = new Lm("@firebase/firestore");
function _o() {
  return Ra.logLevel;
}
function ve(r, ...e) {
  if (Ra.logLevel <= Je.DEBUG) {
    const t = e.map($m);
    Ra.debug(`Firestore (${Go}): ${r}`, ...t);
  }
}
function Vi(r, ...e) {
  if (Ra.logLevel <= Je.ERROR) {
    const t = e.map($m);
    Ra.error(`Firestore (${Go}): ${r}`, ...t);
  }
}
function Po(r, ...e) {
  if (Ra.logLevel <= Je.WARN) {
    const t = e.map($m);
    Ra.warn(`Firestore (${Go}): ${r}`, ...t);
  }
}
function $m(r) {
  if (typeof r == "string") return r;
  try {
    /**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */ return (function (t) {
      return JSON.stringify(t);
    })(r);
  } catch {
    return r;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Be(r, e, t) {
  let s = "Unexpected state";
  (typeof e == "string" ? (s = e) : (t = e), RS(r, s, t));
}
function RS(r, e, t) {
  let s = `FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;
  if (t !== void 0)
    try {
      s += " CONTEXT: " + JSON.stringify(t);
    } catch {
      s += " CONTEXT: " + t;
    }
  throw (Vi(s), new Error(s));
}
function Nt(r, e, t, s) {
  let o = "Unexpected state";
  (typeof t == "string" ? (o = t) : (s = t), r || RS(e, o, s));
}
function st(r, e) {
  return r;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const de = {
  OK: "ok",
  CANCELLED: "cancelled",
  UNKNOWN: "unknown",
  INVALID_ARGUMENT: "invalid-argument",
  DEADLINE_EXCEEDED: "deadline-exceeded",
  NOT_FOUND: "not-found",
  ALREADY_EXISTS: "already-exists",
  PERMISSION_DENIED: "permission-denied",
  UNAUTHENTICATED: "unauthenticated",
  RESOURCE_EXHAUSTED: "resource-exhausted",
  FAILED_PRECONDITION: "failed-precondition",
  ABORTED: "aborted",
  OUT_OF_RANGE: "out-of-range",
  UNIMPLEMENTED: "unimplemented",
  INTERNAL: "internal",
  UNAVAILABLE: "unavailable",
  DATA_LOSS: "data-loss",
};
class Se extends ki {
  constructor(e, t) {
    (super(e, t),
      (this.code = e),
      (this.message = t),
      (this.toString = () =>
        `${this.name}: [code=${this.code}]: ${this.message}`));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class _a {
  constructor() {
    this.promise = new Promise((e, t) => {
      ((this.resolve = e), (this.reject = t));
    });
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class CS {
  constructor(e, t) {
    ((this.user = t),
      (this.type = "OAuth"),
      (this.headers = new Map()),
      this.headers.set("Authorization", `Bearer ${e}`));
  }
}
class GN {
  getToken() {
    return Promise.resolve(null);
  }
  invalidateToken() {}
  start(e, t) {
    e.enqueueRetryable(() => t(vn.UNAUTHENTICATED));
  }
  shutdown() {}
}
class $N {
  constructor(e) {
    ((this.token = e), (this.changeListener = null));
  }
  getToken() {
    return Promise.resolve(this.token);
  }
  invalidateToken() {}
  start(e, t) {
    ((this.changeListener = t), e.enqueueRetryable(() => t(this.token.user)));
  }
  shutdown() {
    this.changeListener = null;
  }
}
class KN {
  constructor(e) {
    ((this.t = e),
      (this.currentUser = vn.UNAUTHENTICATED),
      (this.i = 0),
      (this.forceRefresh = !1),
      (this.auth = null));
  }
  start(e, t) {
    Nt(this.o === void 0, 42304);
    let s = this.i;
    const o = (m) => (this.i !== s ? ((s = this.i), t(m)) : Promise.resolve());
    let l = new _a();
    this.o = () => {
      (this.i++,
        (this.currentUser = this.u()),
        l.resolve(),
        (l = new _a()),
        e.enqueueRetryable(() => o(this.currentUser)));
    };
    const c = () => {
        const m = l;
        e.enqueueRetryable(async () => {
          (await m.promise, await o(this.currentUser));
        });
      },
      d = (m) => {
        (ve("FirebaseAuthCredentialsProvider", "Auth detected"),
          (this.auth = m),
          this.o && (this.auth.addAuthTokenListener(this.o), c()));
      };
    (this.t.onInit((m) => d(m)),
      setTimeout(() => {
        if (!this.auth) {
          const m = this.t.getImmediate({ optional: !0 });
          m
            ? d(m)
            : (ve("FirebaseAuthCredentialsProvider", "Auth not yet detected"),
              l.resolve(),
              (l = new _a()));
        }
      }, 0),
      c());
  }
  getToken() {
    const e = this.i,
      t = this.forceRefresh;
    return (
      (this.forceRefresh = !1),
      this.auth
        ? this.auth
            .getToken(t)
            .then((s) =>
              this.i !== e
                ? (ve(
                    "FirebaseAuthCredentialsProvider",
                    "getToken aborted due to token change.",
                  ),
                  this.getToken())
                : s
                  ? (Nt(typeof s.accessToken == "string", 31837, { l: s }),
                    new CS(s.accessToken, this.currentUser))
                  : null,
            )
        : Promise.resolve(null)
    );
  }
  invalidateToken() {
    this.forceRefresh = !0;
  }
  shutdown() {
    (this.auth && this.o && this.auth.removeAuthTokenListener(this.o),
      (this.o = void 0));
  }
  u() {
    const e = this.auth && this.auth.getUid();
    return (Nt(e === null || typeof e == "string", 2055, { h: e }), new vn(e));
  }
}
class YN {
  constructor(e, t, s) {
    ((this.P = e),
      (this.T = t),
      (this.I = s),
      (this.type = "FirstParty"),
      (this.user = vn.FIRST_PARTY),
      (this.A = new Map()));
  }
  R() {
    return this.I ? this.I() : null;
  }
  get headers() {
    this.A.set("X-Goog-AuthUser", this.P);
    const e = this.R();
    return (
      e && this.A.set("Authorization", e),
      this.T && this.A.set("X-Goog-Iam-Authorization-Token", this.T),
      this.A
    );
  }
}
class QN {
  constructor(e, t, s) {
    ((this.P = e), (this.T = t), (this.I = s));
  }
  getToken() {
    return Promise.resolve(new YN(this.P, this.T, this.I));
  }
  start(e, t) {
    e.enqueueRetryable(() => t(vn.FIRST_PARTY));
  }
  shutdown() {}
  invalidateToken() {}
}
class zE {
  constructor(e) {
    ((this.value = e),
      (this.type = "AppCheck"),
      (this.headers = new Map()),
      e && e.length > 0 && this.headers.set("x-firebase-appcheck", this.value));
  }
}
class XN {
  constructor(e, t) {
    ((this.V = t),
      (this.forceRefresh = !1),
      (this.appCheck = null),
      (this.m = null),
      (this.p = null),
      mr(e) && e.settings.appCheckToken && (this.p = e.settings.appCheckToken));
  }
  start(e, t) {
    Nt(this.o === void 0, 3512);
    const s = (l) => {
      l.error != null &&
        ve(
          "FirebaseAppCheckTokenProvider",
          `Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`,
        );
      const c = l.token !== this.m;
      return (
        (this.m = l.token),
        ve(
          "FirebaseAppCheckTokenProvider",
          `Received ${c ? "new" : "existing"} token.`,
        ),
        c ? t(l.token) : Promise.resolve()
      );
    };
    this.o = (l) => {
      e.enqueueRetryable(() => s(l));
    };
    const o = (l) => {
      (ve("FirebaseAppCheckTokenProvider", "AppCheck detected"),
        (this.appCheck = l),
        this.o && this.appCheck.addTokenListener(this.o));
    };
    (this.V.onInit((l) => o(l)),
      setTimeout(() => {
        if (!this.appCheck) {
          const l = this.V.getImmediate({ optional: !0 });
          l
            ? o(l)
            : ve("FirebaseAppCheckTokenProvider", "AppCheck not yet detected");
        }
      }, 0));
  }
  getToken() {
    if (this.p) return Promise.resolve(new zE(this.p));
    const e = this.forceRefresh;
    return (
      (this.forceRefresh = !1),
      this.appCheck
        ? this.appCheck
            .getToken(e)
            .then((t) =>
              t
                ? (Nt(typeof t.token == "string", 44558, { tokenResult: t }),
                  (this.m = t.token),
                  new zE(t.token))
                : null,
            )
        : Promise.resolve(null)
    );
  }
  invalidateToken() {
    this.forceRefresh = !0;
  }
  shutdown() {
    (this.appCheck && this.o && this.appCheck.removeTokenListener(this.o),
      (this.o = void 0));
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function WN(r) {
  const e = typeof self < "u" && (self.crypto || self.msCrypto),
    t = new Uint8Array(r);
  if (e && typeof e.getRandomValues == "function") e.getRandomValues(t);
  else for (let s = 0; s < r; s++) t[s] = Math.floor(256 * Math.random());
  return t;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class IS {
  static newId() {
    const e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
      t = 62 * Math.floor(4.129032258064516);
    let s = "";
    for (; s.length < 20; ) {
      const o = WN(40);
      for (let l = 0; l < o.length; ++l)
        s.length < 20 && o[l] < t && (s += e.charAt(o[l] % 62));
    }
    return s;
  }
}
function et(r, e) {
  return r < e ? -1 : r > e ? 1 : 0;
}
function nm(r, e) {
  const t = Math.min(r.length, e.length);
  for (let s = 0; s < t; s++) {
    const o = r.charAt(s),
      l = e.charAt(s);
    if (o !== l) return Mp(o) === Mp(l) ? et(o, l) : Mp(o) ? 1 : -1;
  }
  return et(r.length, e.length);
}
const JN = 55296,
  ZN = 57343;
function Mp(r) {
  const e = r.charCodeAt(0);
  return e >= JN && e <= ZN;
}
function Lo(r, e, t) {
  return r.length === e.length && r.every((s, o) => t(s, e[o]));
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const BE = "__name__";
class Xr {
  constructor(e, t, s) {
    (t === void 0
      ? (t = 0)
      : t > e.length && Be(637, { offset: t, range: e.length }),
      s === void 0
        ? (s = e.length - t)
        : s > e.length - t && Be(1746, { length: s, range: e.length - t }),
      (this.segments = e),
      (this.offset = t),
      (this.len = s));
  }
  get length() {
    return this.len;
  }
  isEqual(e) {
    return Xr.comparator(this, e) === 0;
  }
  child(e) {
    const t = this.segments.slice(this.offset, this.limit());
    return (
      e instanceof Xr
        ? e.forEach((s) => {
            t.push(s);
          })
        : t.push(e),
      this.construct(t)
    );
  }
  limit() {
    return this.offset + this.length;
  }
  popFirst(e) {
    return (
      (e = e === void 0 ? 1 : e),
      this.construct(this.segments, this.offset + e, this.length - e)
    );
  }
  popLast() {
    return this.construct(this.segments, this.offset, this.length - 1);
  }
  firstSegment() {
    return this.segments[this.offset];
  }
  lastSegment() {
    return this.get(this.length - 1);
  }
  get(e) {
    return this.segments[this.offset + e];
  }
  isEmpty() {
    return this.length === 0;
  }
  isPrefixOf(e) {
    if (e.length < this.length) return !1;
    for (let t = 0; t < this.length; t++)
      if (this.get(t) !== e.get(t)) return !1;
    return !0;
  }
  isImmediateParentOf(e) {
    if (this.length + 1 !== e.length) return !1;
    for (let t = 0; t < this.length; t++)
      if (this.get(t) !== e.get(t)) return !1;
    return !0;
  }
  forEach(e) {
    for (let t = this.offset, s = this.limit(); t < s; t++) e(this.segments[t]);
  }
  toArray() {
    return this.segments.slice(this.offset, this.limit());
  }
  static comparator(e, t) {
    const s = Math.min(e.length, t.length);
    for (let o = 0; o < s; o++) {
      const l = Xr.compareSegments(e.get(o), t.get(o));
      if (l !== 0) return l;
    }
    return et(e.length, t.length);
  }
  static compareSegments(e, t) {
    const s = Xr.isNumericId(e),
      o = Xr.isNumericId(t);
    return s && !o
      ? -1
      : !s && o
        ? 1
        : s && o
          ? Xr.extractNumericId(e).compare(Xr.extractNumericId(t))
          : nm(e, t);
  }
  static isNumericId(e) {
    return e.startsWith("__id") && e.endsWith("__");
  }
  static extractNumericId(e) {
    return Ns.fromString(e.substring(4, e.length - 2));
  }
}
class Ct extends Xr {
  construct(e, t, s) {
    return new Ct(e, t, s);
  }
  canonicalString() {
    return this.toArray().join("/");
  }
  toString() {
    return this.canonicalString();
  }
  toUriEncodedString() {
    return this.toArray().map(encodeURIComponent).join("/");
  }
  static fromString(...e) {
    const t = [];
    for (const s of e) {
      if (s.indexOf("//") >= 0)
        throw new Se(
          de.INVALID_ARGUMENT,
          `Invalid segment (${s}). Paths must not contain // in them.`,
        );
      t.push(...s.split("/").filter((o) => o.length > 0));
    }
    return new Ct(t);
  }
  static emptyPath() {
    return new Ct([]);
  }
}
const eD = /^[_a-zA-Z][_a-zA-Z0-9]*$/;
class En extends Xr {
  construct(e, t, s) {
    return new En(e, t, s);
  }
  static isValidIdentifier(e) {
    return eD.test(e);
  }
  canonicalString() {
    return this.toArray()
      .map(
        (e) => (
          (e = e.replace(/\\/g, "\\\\").replace(/`/g, "\\`")),
          En.isValidIdentifier(e) || (e = "`" + e + "`"),
          e
        ),
      )
      .join(".");
  }
  toString() {
    return this.canonicalString();
  }
  isKeyField() {
    return this.length === 1 && this.get(0) === BE;
  }
  static keyField() {
    return new En([BE]);
  }
  static fromServerFormat(e) {
    const t = [];
    let s = "",
      o = 0;
    const l = () => {
      if (s.length === 0)
        throw new Se(
          de.INVALID_ARGUMENT,
          `Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,
        );
      (t.push(s), (s = ""));
    };
    let c = !1;
    for (; o < e.length; ) {
      const d = e[o];
      if (d === "\\") {
        if (o + 1 === e.length)
          throw new Se(
            de.INVALID_ARGUMENT,
            "Path has trailing escape character: " + e,
          );
        const m = e[o + 1];
        if (m !== "\\" && m !== "." && m !== "`")
          throw new Se(
            de.INVALID_ARGUMENT,
            "Path has invalid escape sequence: " + e,
          );
        ((s += m), (o += 2));
      } else
        d === "`"
          ? ((c = !c), o++)
          : d !== "." || c
            ? ((s += d), o++)
            : (l(), o++);
    }
    if ((l(), c))
      throw new Se(de.INVALID_ARGUMENT, "Unterminated ` in path: " + e);
    return new En(t);
  }
  static emptyPath() {
    return new En([]);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Oe {
  constructor(e) {
    this.path = e;
  }
  static fromPath(e) {
    return new Oe(Ct.fromString(e));
  }
  static fromName(e) {
    return new Oe(Ct.fromString(e).popFirst(5));
  }
  static empty() {
    return new Oe(Ct.emptyPath());
  }
  get collectionGroup() {
    return this.path.popLast().lastSegment();
  }
  hasCollectionId(e) {
    return this.path.length >= 2 && this.path.get(this.path.length - 2) === e;
  }
  getCollectionGroup() {
    return this.path.get(this.path.length - 2);
  }
  getCollectionPath() {
    return this.path.popLast();
  }
  isEqual(e) {
    return e !== null && Ct.comparator(this.path, e.path) === 0;
  }
  toString() {
    return this.path.toString();
  }
  static comparator(e, t) {
    return Ct.comparator(e.path, t.path);
  }
  static isDocumentKey(e) {
    return e.length % 2 == 0;
  }
  static fromSegments(e) {
    return new Oe(new Ct(e.slice()));
  }
}
function tD(r, e, t, s) {
  if (e === !0 && s === !0)
    throw new Se(de.INVALID_ARGUMENT, `${r} and ${t} cannot be used together.`);
}
function HE(r) {
  if (Oe.isDocumentKey(r))
    throw new Se(
      de.INVALID_ARGUMENT,
      `Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`,
    );
}
function xS(r) {
  return (
    typeof r == "object" &&
    r !== null &&
    (Object.getPrototypeOf(r) === Object.prototype ||
      Object.getPrototypeOf(r) === null)
  );
}
function sf(r) {
  if (r === void 0) return "undefined";
  if (r === null) return "null";
  if (typeof r == "string")
    return (
      r.length > 20 && (r = `${r.substring(0, 20)}...`),
      JSON.stringify(r)
    );
  if (typeof r == "number" || typeof r == "boolean") return "" + r;
  if (typeof r == "object") {
    if (r instanceof Array) return "an array";
    {
      const e = (function (s) {
        return s.constructor ? s.constructor.name : null;
      })(r);
      return e ? `a custom ${e} object` : "an object";
    }
  }
  return typeof r == "function" ? "a function" : Be(12329, { type: typeof r });
}
function rm(r, e) {
  if (("_delegate" in r && (r = r._delegate), !(r instanceof e))) {
    if (e.name === r.constructor.name)
      throw new Se(
        de.INVALID_ARGUMENT,
        "Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?",
      );
    {
      const t = sf(r);
      throw new Se(
        de.INVALID_ARGUMENT,
        `Expected type '${e.name}', but it was: ${t}`,
      );
    }
  }
  return r;
}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Gt(r, e) {
  const t = { typeString: r };
  return (e && (t.value = e), t);
}
function Pu(r, e) {
  if (!xS(r)) throw new Se(de.INVALID_ARGUMENT, "JSON must be an object");
  let t;
  for (const s in e)
    if (e[s]) {
      const o = e[s].typeString,
        l = "value" in e[s] ? { value: e[s].value } : void 0;
      if (!(s in r)) {
        t = `JSON missing required field: '${s}'`;
        break;
      }
      const c = r[s];
      if (o && typeof c !== o) {
        t = `JSON field '${s}' must be a ${o}.`;
        break;
      }
      if (l !== void 0 && c !== l.value) {
        t = `Expected '${s}' field to equal '${l.value}'`;
        break;
      }
    }
  if (t) throw new Se(de.INVALID_ARGUMENT, t);
  return !0;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const FE = -62135596800,
  qE = 1e6;
class It {
  static now() {
    return It.fromMillis(Date.now());
  }
  static fromDate(e) {
    return It.fromMillis(e.getTime());
  }
  static fromMillis(e) {
    const t = Math.floor(e / 1e3),
      s = Math.floor((e - 1e3 * t) * qE);
    return new It(t, s);
  }
  constructor(e, t) {
    if (((this.seconds = e), (this.nanoseconds = t), t < 0))
      throw new Se(
        de.INVALID_ARGUMENT,
        "Timestamp nanoseconds out of range: " + t,
      );
    if (t >= 1e9)
      throw new Se(
        de.INVALID_ARGUMENT,
        "Timestamp nanoseconds out of range: " + t,
      );
    if (e < FE)
      throw new Se(de.INVALID_ARGUMENT, "Timestamp seconds out of range: " + e);
    if (e >= 253402300800)
      throw new Se(de.INVALID_ARGUMENT, "Timestamp seconds out of range: " + e);
  }
  toDate() {
    return new Date(this.toMillis());
  }
  toMillis() {
    return 1e3 * this.seconds + this.nanoseconds / qE;
  }
  _compareTo(e) {
    return this.seconds === e.seconds
      ? et(this.nanoseconds, e.nanoseconds)
      : et(this.seconds, e.seconds);
  }
  isEqual(e) {
    return e.seconds === this.seconds && e.nanoseconds === this.nanoseconds;
  }
  toString() {
    return (
      "Timestamp(seconds=" +
      this.seconds +
      ", nanoseconds=" +
      this.nanoseconds +
      ")"
    );
  }
  toJSON() {
    return {
      type: It._jsonSchemaVersion,
      seconds: this.seconds,
      nanoseconds: this.nanoseconds,
    };
  }
  static fromJSON(e) {
    if (Pu(e, It._jsonSchema)) return new It(e.seconds, e.nanoseconds);
  }
  valueOf() {
    const e = this.seconds - FE;
    return (
      String(e).padStart(12, "0") +
      "." +
      String(this.nanoseconds).padStart(9, "0")
    );
  }
}
((It._jsonSchemaVersion = "firestore/timestamp/1.0"),
  (It._jsonSchema = {
    type: Gt("string", It._jsonSchemaVersion),
    seconds: Gt("number"),
    nanoseconds: Gt("number"),
  }));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ze {
  static fromTimestamp(e) {
    return new ze(e);
  }
  static min() {
    return new ze(new It(0, 0));
  }
  static max() {
    return new ze(new It(253402300799, 999999999));
  }
  constructor(e) {
    this.timestamp = e;
  }
  compareTo(e) {
    return this.timestamp._compareTo(e.timestamp);
  }
  isEqual(e) {
    return this.timestamp.isEqual(e.timestamp);
  }
  toMicroseconds() {
    return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3;
  }
  toString() {
    return "SnapshotVersion(" + this.timestamp.toString() + ")";
  }
  toTimestamp() {
    return this.timestamp;
  }
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Eu = -1;
function nD(r, e) {
  const t = r.toTimestamp().seconds,
    s = r.toTimestamp().nanoseconds + 1,
    o = ze.fromTimestamp(s === 1e9 ? new It(t + 1, 0) : new It(t, s));
  return new Os(o, Oe.empty(), e);
}
function rD(r) {
  return new Os(r.readTime, r.key, Eu);
}
class Os {
  constructor(e, t, s) {
    ((this.readTime = e), (this.documentKey = t), (this.largestBatchId = s));
  }
  static min() {
    return new Os(ze.min(), Oe.empty(), Eu);
  }
  static max() {
    return new Os(ze.max(), Oe.empty(), Eu);
  }
}
function iD(r, e) {
  let t = r.readTime.compareTo(e.readTime);
  return t !== 0
    ? t
    : ((t = Oe.comparator(r.documentKey, e.documentKey)),
      t !== 0 ? t : et(r.largestBatchId, e.largestBatchId));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const sD =
  "The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";
class aD {
  constructor() {
    this.onCommittedListeners = [];
  }
  addOnCommittedListener(e) {
    this.onCommittedListeners.push(e);
  }
  raiseOnCommittedEvent() {
    this.onCommittedListeners.forEach((e) => e());
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function af(r) {
  if (r.code !== de.FAILED_PRECONDITION || r.message !== sD) throw r;
  ve("LocalStore", "Unexpectedly lost primary lease");
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class oe {
  constructor(e) {
    ((this.nextCallback = null),
      (this.catchCallback = null),
      (this.result = void 0),
      (this.error = void 0),
      (this.isDone = !1),
      (this.callbackAttached = !1),
      e(
        (t) => {
          ((this.isDone = !0),
            (this.result = t),
            this.nextCallback && this.nextCallback(t));
        },
        (t) => {
          ((this.isDone = !0),
            (this.error = t),
            this.catchCallback && this.catchCallback(t));
        },
      ));
  }
  catch(e) {
    return this.next(void 0, e);
  }
  next(e, t) {
    return (
      this.callbackAttached && Be(59440),
      (this.callbackAttached = !0),
      this.isDone
        ? this.error
          ? this.wrapFailure(t, this.error)
          : this.wrapSuccess(e, this.result)
        : new oe((s, o) => {
            ((this.nextCallback = (l) => {
              this.wrapSuccess(e, l).next(s, o);
            }),
              (this.catchCallback = (l) => {
                this.wrapFailure(t, l).next(s, o);
              }));
          })
    );
  }
  toPromise() {
    return new Promise((e, t) => {
      this.next(e, t);
    });
  }
  wrapUserFunction(e) {
    try {
      const t = e();
      return t instanceof oe ? t : oe.resolve(t);
    } catch (t) {
      return oe.reject(t);
    }
  }
  wrapSuccess(e, t) {
    return e ? this.wrapUserFunction(() => e(t)) : oe.resolve(t);
  }
  wrapFailure(e, t) {
    return e ? this.wrapUserFunction(() => e(t)) : oe.reject(t);
  }
  static resolve(e) {
    return new oe((t, s) => {
      t(e);
    });
  }
  static reject(e) {
    return new oe((t, s) => {
      s(e);
    });
  }
  static waitFor(e) {
    return new oe((t, s) => {
      let o = 0,
        l = 0,
        c = !1;
      (e.forEach((d) => {
        (++o,
          d.next(
            () => {
              (++l, c && l === o && t());
            },
            (m) => s(m),
          ));
      }),
        (c = !0),
        l === o && t());
    });
  }
  static or(e) {
    let t = oe.resolve(!1);
    for (const s of e) t = t.next((o) => (o ? oe.resolve(o) : s()));
    return t;
  }
  static forEach(e, t) {
    const s = [];
    return (
      e.forEach((o, l) => {
        s.push(t.call(this, o, l));
      }),
      this.waitFor(s)
    );
  }
  static mapArray(e, t) {
    return new oe((s, o) => {
      const l = e.length,
        c = new Array(l);
      let d = 0;
      for (let m = 0; m < l; m++) {
        const g = m;
        t(e[g]).next(
          (v) => {
            ((c[g] = v), ++d, d === l && s(c));
          },
          (v) => o(v),
        );
      }
    });
  }
  static doWhile(e, t) {
    return new oe((s, o) => {
      const l = () => {
        e() === !0
          ? t().next(() => {
              l();
            }, o)
          : s();
      };
      l();
    });
  }
}
function oD(r) {
  const e = r.match(/Android ([\d.]+)/i),
    t = e ? e[1].split(".").slice(0, 2).join(".") : "-1";
  return Number(t);
}
function $o(r) {
  return r.name === "IndexedDbTransactionError";
}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class of {
  constructor(e, t) {
    ((this.previousValue = e),
      t &&
        ((t.sequenceNumberHandler = (s) => this.ae(s)),
        (this.ue = (s) => t.writeSequenceNumber(s))));
  }
  ae(e) {
    return (
      (this.previousValue = Math.max(e, this.previousValue)),
      this.previousValue
    );
  }
  next() {
    const e = ++this.previousValue;
    return (this.ue && this.ue(e), e);
  }
}
of.ce = -1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const lD = -1;
function lf(r) {
  return r == null;
}
function Uh(r) {
  return r === 0 && 1 / r == -1 / 0;
}
function uD(r) {
  return (
    typeof r == "number" &&
    Number.isInteger(r) &&
    !Uh(r) &&
    r <= Number.MAX_SAFE_INTEGER &&
    r >= Number.MIN_SAFE_INTEGER
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const NS = "";
function cD(r) {
  let e = "";
  for (let t = 0; t < r.length; t++)
    (e.length > 0 && (e = GE(e)), (e = hD(r.get(t), e)));
  return GE(e);
}
function hD(r, e) {
  let t = e;
  const s = r.length;
  for (let o = 0; o < s; o++) {
    const l = r.charAt(o);
    switch (l) {
      case "\0":
        t += "";
        break;
      case NS:
        t += "";
        break;
      default:
        t += l;
    }
  }
  return t;
}
function GE(r) {
  return r + NS + "";
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function $E(r) {
  let e = 0;
  for (const t in r) Object.prototype.hasOwnProperty.call(r, t) && e++;
  return e;
}
function Ko(r, e) {
  for (const t in r) Object.prototype.hasOwnProperty.call(r, t) && e(t, r[t]);
}
function DS(r) {
  for (const e in r) if (Object.prototype.hasOwnProperty.call(r, e)) return !1;
  return !0;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ut {
  constructor(e, t) {
    ((this.comparator = e), (this.root = t || hn.EMPTY));
  }
  insert(e, t) {
    return new Ut(
      this.comparator,
      this.root
        .insert(e, t, this.comparator)
        .copy(null, null, hn.BLACK, null, null),
    );
  }
  remove(e) {
    return new Ut(
      this.comparator,
      this.root
        .remove(e, this.comparator)
        .copy(null, null, hn.BLACK, null, null),
    );
  }
  get(e) {
    let t = this.root;
    for (; !t.isEmpty(); ) {
      const s = this.comparator(e, t.key);
      if (s === 0) return t.value;
      s < 0 ? (t = t.left) : s > 0 && (t = t.right);
    }
    return null;
  }
  indexOf(e) {
    let t = 0,
      s = this.root;
    for (; !s.isEmpty(); ) {
      const o = this.comparator(e, s.key);
      if (o === 0) return t + s.left.size;
      o < 0 ? (s = s.left) : ((t += s.left.size + 1), (s = s.right));
    }
    return -1;
  }
  isEmpty() {
    return this.root.isEmpty();
  }
  get size() {
    return this.root.size;
  }
  minKey() {
    return this.root.minKey();
  }
  maxKey() {
    return this.root.maxKey();
  }
  inorderTraversal(e) {
    return this.root.inorderTraversal(e);
  }
  forEach(e) {
    this.inorderTraversal((t, s) => (e(t, s), !1));
  }
  toString() {
    const e = [];
    return (
      this.inorderTraversal((t, s) => (e.push(`${t}:${s}`), !1)),
      `{${e.join(", ")}}`
    );
  }
  reverseTraversal(e) {
    return this.root.reverseTraversal(e);
  }
  getIterator() {
    return new sh(this.root, null, this.comparator, !1);
  }
  getIteratorFrom(e) {
    return new sh(this.root, e, this.comparator, !1);
  }
  getReverseIterator() {
    return new sh(this.root, null, this.comparator, !0);
  }
  getReverseIteratorFrom(e) {
    return new sh(this.root, e, this.comparator, !0);
  }
}
class sh {
  constructor(e, t, s, o) {
    ((this.isReverse = o), (this.nodeStack = []));
    let l = 1;
    for (; !e.isEmpty(); )
      if (((l = t ? s(e.key, t) : 1), t && o && (l *= -1), l < 0))
        e = this.isReverse ? e.left : e.right;
      else {
        if (l === 0) {
          this.nodeStack.push(e);
          break;
        }
        (this.nodeStack.push(e), (e = this.isReverse ? e.right : e.left));
      }
  }
  getNext() {
    let e = this.nodeStack.pop();
    const t = { key: e.key, value: e.value };
    if (this.isReverse)
      for (e = e.left; !e.isEmpty(); ) (this.nodeStack.push(e), (e = e.right));
    else
      for (e = e.right; !e.isEmpty(); ) (this.nodeStack.push(e), (e = e.left));
    return t;
  }
  hasNext() {
    return this.nodeStack.length > 0;
  }
  peek() {
    if (this.nodeStack.length === 0) return null;
    const e = this.nodeStack[this.nodeStack.length - 1];
    return { key: e.key, value: e.value };
  }
}
class hn {
  constructor(e, t, s, o, l) {
    ((this.key = e),
      (this.value = t),
      (this.color = s ?? hn.RED),
      (this.left = o ?? hn.EMPTY),
      (this.right = l ?? hn.EMPTY),
      (this.size = this.left.size + 1 + this.right.size));
  }
  copy(e, t, s, o, l) {
    return new hn(
      e ?? this.key,
      t ?? this.value,
      s ?? this.color,
      o ?? this.left,
      l ?? this.right,
    );
  }
  isEmpty() {
    return !1;
  }
  inorderTraversal(e) {
    return (
      this.left.inorderTraversal(e) ||
      e(this.key, this.value) ||
      this.right.inorderTraversal(e)
    );
  }
  reverseTraversal(e) {
    return (
      this.right.reverseTraversal(e) ||
      e(this.key, this.value) ||
      this.left.reverseTraversal(e)
    );
  }
  min() {
    return this.left.isEmpty() ? this : this.left.min();
  }
  minKey() {
    return this.min().key;
  }
  maxKey() {
    return this.right.isEmpty() ? this.key : this.right.maxKey();
  }
  insert(e, t, s) {
    let o = this;
    const l = s(e, o.key);
    return (
      (o =
        l < 0
          ? o.copy(null, null, null, o.left.insert(e, t, s), null)
          : l === 0
            ? o.copy(null, t, null, null, null)
            : o.copy(null, null, null, null, o.right.insert(e, t, s))),
      o.fixUp()
    );
  }
  removeMin() {
    if (this.left.isEmpty()) return hn.EMPTY;
    let e = this;
    return (
      e.left.isRed() || e.left.left.isRed() || (e = e.moveRedLeft()),
      (e = e.copy(null, null, null, e.left.removeMin(), null)),
      e.fixUp()
    );
  }
  remove(e, t) {
    let s,
      o = this;
    if (t(e, o.key) < 0)
      (o.left.isEmpty() ||
        o.left.isRed() ||
        o.left.left.isRed() ||
        (o = o.moveRedLeft()),
        (o = o.copy(null, null, null, o.left.remove(e, t), null)));
    else {
      if (
        (o.left.isRed() && (o = o.rotateRight()),
        o.right.isEmpty() ||
          o.right.isRed() ||
          o.right.left.isRed() ||
          (o = o.moveRedRight()),
        t(e, o.key) === 0)
      ) {
        if (o.right.isEmpty()) return hn.EMPTY;
        ((s = o.right.min()),
          (o = o.copy(s.key, s.value, null, null, o.right.removeMin())));
      }
      o = o.copy(null, null, null, null, o.right.remove(e, t));
    }
    return o.fixUp();
  }
  isRed() {
    return this.color;
  }
  fixUp() {
    let e = this;
    return (
      e.right.isRed() && !e.left.isRed() && (e = e.rotateLeft()),
      e.left.isRed() && e.left.left.isRed() && (e = e.rotateRight()),
      e.left.isRed() && e.right.isRed() && (e = e.colorFlip()),
      e
    );
  }
  moveRedLeft() {
    let e = this.colorFlip();
    return (
      e.right.left.isRed() &&
        ((e = e.copy(null, null, null, null, e.right.rotateRight())),
        (e = e.rotateLeft()),
        (e = e.colorFlip())),
      e
    );
  }
  moveRedRight() {
    let e = this.colorFlip();
    return (
      e.left.left.isRed() && ((e = e.rotateRight()), (e = e.colorFlip())),
      e
    );
  }
  rotateLeft() {
    const e = this.copy(null, null, hn.RED, null, this.right.left);
    return this.right.copy(null, null, this.color, e, null);
  }
  rotateRight() {
    const e = this.copy(null, null, hn.RED, this.left.right, null);
    return this.left.copy(null, null, this.color, null, e);
  }
  colorFlip() {
    const e = this.left.copy(null, null, !this.left.color, null, null),
      t = this.right.copy(null, null, !this.right.color, null, null);
    return this.copy(null, null, !this.color, e, t);
  }
  checkMaxDepth() {
    const e = this.check();
    return Math.pow(2, e) <= this.size + 1;
  }
  check() {
    if (this.isRed() && this.left.isRed())
      throw Be(43730, { key: this.key, value: this.value });
    if (this.right.isRed())
      throw Be(14113, { key: this.key, value: this.value });
    const e = this.left.check();
    if (e !== this.right.check()) throw Be(27949);
    return e + (this.isRed() ? 0 : 1);
  }
}
((hn.EMPTY = null), (hn.RED = !0), (hn.BLACK = !1));
hn.EMPTY = new (class {
  constructor() {
    this.size = 0;
  }
  get key() {
    throw Be(57766);
  }
  get value() {
    throw Be(16141);
  }
  get color() {
    throw Be(16727);
  }
  get left() {
    throw Be(29726);
  }
  get right() {
    throw Be(36894);
  }
  copy(e, t, s, o, l) {
    return this;
  }
  insert(e, t, s) {
    return new hn(e, t);
  }
  remove(e, t) {
    return this;
  }
  isEmpty() {
    return !0;
  }
  inorderTraversal(e) {
    return !1;
  }
  reverseTraversal(e) {
    return !1;
  }
  minKey() {
    return null;
  }
  maxKey() {
    return null;
  }
  isRed() {
    return !1;
  }
  checkMaxDepth() {
    return !0;
  }
  check() {
    return 0;
  }
})();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Xt {
  constructor(e) {
    ((this.comparator = e), (this.data = new Ut(this.comparator)));
  }
  has(e) {
    return this.data.get(e) !== null;
  }
  first() {
    return this.data.minKey();
  }
  last() {
    return this.data.maxKey();
  }
  get size() {
    return this.data.size;
  }
  indexOf(e) {
    return this.data.indexOf(e);
  }
  forEach(e) {
    this.data.inorderTraversal((t, s) => (e(t), !1));
  }
  forEachInRange(e, t) {
    const s = this.data.getIteratorFrom(e[0]);
    for (; s.hasNext(); ) {
      const o = s.getNext();
      if (this.comparator(o.key, e[1]) >= 0) return;
      t(o.key);
    }
  }
  forEachWhile(e, t) {
    let s;
    for (
      s = t !== void 0 ? this.data.getIteratorFrom(t) : this.data.getIterator();
      s.hasNext();

    )
      if (!e(s.getNext().key)) return;
  }
  firstAfterOrEqual(e) {
    const t = this.data.getIteratorFrom(e);
    return t.hasNext() ? t.getNext().key : null;
  }
  getIterator() {
    return new KE(this.data.getIterator());
  }
  getIteratorFrom(e) {
    return new KE(this.data.getIteratorFrom(e));
  }
  add(e) {
    return this.copy(this.data.remove(e).insert(e, !0));
  }
  delete(e) {
    return this.has(e) ? this.copy(this.data.remove(e)) : this;
  }
  isEmpty() {
    return this.data.isEmpty();
  }
  unionWith(e) {
    let t = this;
    return (
      t.size < e.size && ((t = e), (e = this)),
      e.forEach((s) => {
        t = t.add(s);
      }),
      t
    );
  }
  isEqual(e) {
    if (!(e instanceof Xt) || this.size !== e.size) return !1;
    const t = this.data.getIterator(),
      s = e.data.getIterator();
    for (; t.hasNext(); ) {
      const o = t.getNext().key,
        l = s.getNext().key;
      if (this.comparator(o, l) !== 0) return !1;
    }
    return !0;
  }
  toArray() {
    const e = [];
    return (
      this.forEach((t) => {
        e.push(t);
      }),
      e
    );
  }
  toString() {
    const e = [];
    return (this.forEach((t) => e.push(t)), "SortedSet(" + e.toString() + ")");
  }
  copy(e) {
    const t = new Xt(this.comparator);
    return ((t.data = e), t);
  }
}
class KE {
  constructor(e) {
    this.iter = e;
  }
  getNext() {
    return this.iter.getNext().key;
  }
  hasNext() {
    return this.iter.hasNext();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class As {
  constructor(e) {
    ((this.fields = e), e.sort(En.comparator));
  }
  static empty() {
    return new As([]);
  }
  unionWith(e) {
    let t = new Xt(En.comparator);
    for (const s of this.fields) t = t.add(s);
    for (const s of e) t = t.add(s);
    return new As(t.toArray());
  }
  covers(e) {
    for (const t of this.fields) if (t.isPrefixOf(e)) return !0;
    return !1;
  }
  isEqual(e) {
    return Lo(this.fields, e.fields, (t, s) => t.isEqual(s));
  }
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class OS extends Error {
  constructor() {
    (super(...arguments), (this.name = "Base64DecodeError"));
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class fn {
  constructor(e) {
    this.binaryString = e;
  }
  static fromBase64String(e) {
    const t = (function (o) {
      try {
        return atob(o);
      } catch (l) {
        throw typeof DOMException < "u" && l instanceof DOMException
          ? new OS("Invalid base64 string: " + l)
          : l;
      }
    })(e);
    return new fn(t);
  }
  static fromUint8Array(e) {
    const t = (function (o) {
      let l = "";
      for (let c = 0; c < o.length; ++c) l += String.fromCharCode(o[c]);
      return l;
    })(e);
    return new fn(t);
  }
  [Symbol.iterator]() {
    let e = 0;
    return {
      next: () =>
        e < this.binaryString.length
          ? { value: this.binaryString.charCodeAt(e++), done: !1 }
          : { value: void 0, done: !0 },
    };
  }
  toBase64() {
    return (function (t) {
      return btoa(t);
    })(this.binaryString);
  }
  toUint8Array() {
    return (function (t) {
      const s = new Uint8Array(t.length);
      for (let o = 0; o < t.length; o++) s[o] = t.charCodeAt(o);
      return s;
    })(this.binaryString);
  }
  approximateByteSize() {
    return 2 * this.binaryString.length;
  }
  compareTo(e) {
    return et(this.binaryString, e.binaryString);
  }
  isEqual(e) {
    return this.binaryString === e.binaryString;
  }
}
fn.EMPTY_BYTE_STRING = new fn("");
const fD = new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
function Ms(r) {
  if ((Nt(!!r, 39018), typeof r == "string")) {
    let e = 0;
    const t = fD.exec(r);
    if ((Nt(!!t, 46558, { timestamp: r }), t[1])) {
      let o = t[1];
      ((o = (o + "000000000").substr(0, 9)), (e = Number(o)));
    }
    const s = new Date(r);
    return { seconds: Math.floor(s.getTime() / 1e3), nanos: e };
  }
  return { seconds: Lt(r.seconds), nanos: Lt(r.nanos) };
}
function Lt(r) {
  return typeof r == "number" ? r : typeof r == "string" ? Number(r) : 0;
}
function Ps(r) {
  return typeof r == "string" ? fn.fromBase64String(r) : fn.fromUint8Array(r);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const MS = "server_timestamp",
  PS = "__type__",
  LS = "__previous_value__",
  VS = "__local_write_time__";
function Km(r) {
  return (r?.mapValue?.fields || {})[PS]?.stringValue === MS;
}
function uf(r) {
  const e = r.mapValue.fields[LS];
  return Km(e) ? uf(e) : e;
}
function Tu(r) {
  const e = Ms(r.mapValue.fields[VS].timestampValue);
  return new It(e.seconds, e.nanos);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class dD {
  constructor(e, t, s, o, l, c, d, m, g, v) {
    ((this.databaseId = e),
      (this.appId = t),
      (this.persistenceKey = s),
      (this.host = o),
      (this.ssl = l),
      (this.forceLongPolling = c),
      (this.autoDetectLongPolling = d),
      (this.longPollingOptions = m),
      (this.useFetchStreams = g),
      (this.isUsingEmulator = v));
  }
}
const kh = "(default)";
class Su {
  constructor(e, t) {
    ((this.projectId = e), (this.database = t || kh));
  }
  static empty() {
    return new Su("", "");
  }
  get isDefaultDatabase() {
    return this.database === kh;
  }
  isEqual(e) {
    return (
      e instanceof Su &&
      e.projectId === this.projectId &&
      e.database === this.database
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const US = "__type__",
  pD = "__max__",
  ah = { mapValue: {} },
  kS = "__vector__",
  jh = "value";
function Ls(r) {
  return "nullValue" in r
    ? 0
    : "booleanValue" in r
      ? 1
      : "integerValue" in r || "doubleValue" in r
        ? 2
        : "timestampValue" in r
          ? 3
          : "stringValue" in r
            ? 5
            : "bytesValue" in r
              ? 6
              : "referenceValue" in r
                ? 7
                : "geoPointValue" in r
                  ? 8
                  : "arrayValue" in r
                    ? 9
                    : "mapValue" in r
                      ? Km(r)
                        ? 4
                        : gD(r)
                          ? 9007199254740991
                          : mD(r)
                            ? 10
                            : 11
                      : Be(28295, { value: r });
}
function si(r, e) {
  if (r === e) return !0;
  const t = Ls(r);
  if (t !== Ls(e)) return !1;
  switch (t) {
    case 0:
    case 9007199254740991:
      return !0;
    case 1:
      return r.booleanValue === e.booleanValue;
    case 4:
      return Tu(r).isEqual(Tu(e));
    case 3:
      return (function (o, l) {
        if (
          typeof o.timestampValue == "string" &&
          typeof l.timestampValue == "string" &&
          o.timestampValue.length === l.timestampValue.length
        )
          return o.timestampValue === l.timestampValue;
        const c = Ms(o.timestampValue),
          d = Ms(l.timestampValue);
        return c.seconds === d.seconds && c.nanos === d.nanos;
      })(r, e);
    case 5:
      return r.stringValue === e.stringValue;
    case 6:
      return (function (o, l) {
        return Ps(o.bytesValue).isEqual(Ps(l.bytesValue));
      })(r, e);
    case 7:
      return r.referenceValue === e.referenceValue;
    case 8:
      return (function (o, l) {
        return (
          Lt(o.geoPointValue.latitude) === Lt(l.geoPointValue.latitude) &&
          Lt(o.geoPointValue.longitude) === Lt(l.geoPointValue.longitude)
        );
      })(r, e);
    case 2:
      return (function (o, l) {
        if ("integerValue" in o && "integerValue" in l)
          return Lt(o.integerValue) === Lt(l.integerValue);
        if ("doubleValue" in o && "doubleValue" in l) {
          const c = Lt(o.doubleValue),
            d = Lt(l.doubleValue);
          return c === d ? Uh(c) === Uh(d) : isNaN(c) && isNaN(d);
        }
        return !1;
      })(r, e);
    case 9:
      return Lo(r.arrayValue.values || [], e.arrayValue.values || [], si);
    case 10:
    case 11:
      return (function (o, l) {
        const c = o.mapValue.fields || {},
          d = l.mapValue.fields || {};
        if ($E(c) !== $E(d)) return !1;
        for (const m in c)
          if (c.hasOwnProperty(m) && (d[m] === void 0 || !si(c[m], d[m])))
            return !1;
        return !0;
      })(r, e);
    default:
      return Be(52216, { left: r });
  }
}
function bu(r, e) {
  return (r.values || []).find((t) => si(t, e)) !== void 0;
}
function Vo(r, e) {
  if (r === e) return 0;
  const t = Ls(r),
    s = Ls(e);
  if (t !== s) return et(t, s);
  switch (t) {
    case 0:
    case 9007199254740991:
      return 0;
    case 1:
      return et(r.booleanValue, e.booleanValue);
    case 2:
      return (function (l, c) {
        const d = Lt(l.integerValue || l.doubleValue),
          m = Lt(c.integerValue || c.doubleValue);
        return d < m
          ? -1
          : d > m
            ? 1
            : d === m
              ? 0
              : isNaN(d)
                ? isNaN(m)
                  ? 0
                  : -1
                : 1;
      })(r, e);
    case 3:
      return YE(r.timestampValue, e.timestampValue);
    case 4:
      return YE(Tu(r), Tu(e));
    case 5:
      return nm(r.stringValue, e.stringValue);
    case 6:
      return (function (l, c) {
        const d = Ps(l),
          m = Ps(c);
        return d.compareTo(m);
      })(r.bytesValue, e.bytesValue);
    case 7:
      return (function (l, c) {
        const d = l.split("/"),
          m = c.split("/");
        for (let g = 0; g < d.length && g < m.length; g++) {
          const v = et(d[g], m[g]);
          if (v !== 0) return v;
        }
        return et(d.length, m.length);
      })(r.referenceValue, e.referenceValue);
    case 8:
      return (function (l, c) {
        const d = et(Lt(l.latitude), Lt(c.latitude));
        return d !== 0 ? d : et(Lt(l.longitude), Lt(c.longitude));
      })(r.geoPointValue, e.geoPointValue);
    case 9:
      return QE(r.arrayValue, e.arrayValue);
    case 10:
      return (function (l, c) {
        const d = l.fields || {},
          m = c.fields || {},
          g = d[jh]?.arrayValue,
          v = m[jh]?.arrayValue,
          T = et(g?.values?.length || 0, v?.values?.length || 0);
        return T !== 0 ? T : QE(g, v);
      })(r.mapValue, e.mapValue);
    case 11:
      return (function (l, c) {
        if (l === ah.mapValue && c === ah.mapValue) return 0;
        if (l === ah.mapValue) return 1;
        if (c === ah.mapValue) return -1;
        const d = l.fields || {},
          m = Object.keys(d),
          g = c.fields || {},
          v = Object.keys(g);
        (m.sort(), v.sort());
        for (let T = 0; T < m.length && T < v.length; ++T) {
          const b = nm(m[T], v[T]);
          if (b !== 0) return b;
          const A = Vo(d[m[T]], g[v[T]]);
          if (A !== 0) return A;
        }
        return et(m.length, v.length);
      })(r.mapValue, e.mapValue);
    default:
      throw Be(23264, { he: t });
  }
}
function YE(r, e) {
  if (typeof r == "string" && typeof e == "string" && r.length === e.length)
    return et(r, e);
  const t = Ms(r),
    s = Ms(e),
    o = et(t.seconds, s.seconds);
  return o !== 0 ? o : et(t.nanos, s.nanos);
}
function QE(r, e) {
  const t = r.values || [],
    s = e.values || [];
  for (let o = 0; o < t.length && o < s.length; ++o) {
    const l = Vo(t[o], s[o]);
    if (l) return l;
  }
  return et(t.length, s.length);
}
function Uo(r) {
  return im(r);
}
function im(r) {
  return "nullValue" in r
    ? "null"
    : "booleanValue" in r
      ? "" + r.booleanValue
      : "integerValue" in r
        ? "" + r.integerValue
        : "doubleValue" in r
          ? "" + r.doubleValue
          : "timestampValue" in r
            ? (function (t) {
                const s = Ms(t);
                return `time(${s.seconds},${s.nanos})`;
              })(r.timestampValue)
            : "stringValue" in r
              ? r.stringValue
              : "bytesValue" in r
                ? (function (t) {
                    return Ps(t).toBase64();
                  })(r.bytesValue)
                : "referenceValue" in r
                  ? (function (t) {
                      return Oe.fromName(t).toString();
                    })(r.referenceValue)
                  : "geoPointValue" in r
                    ? (function (t) {
                        return `geo(${t.latitude},${t.longitude})`;
                      })(r.geoPointValue)
                    : "arrayValue" in r
                      ? (function (t) {
                          let s = "[",
                            o = !0;
                          for (const l of t.values || [])
                            (o ? (o = !1) : (s += ","), (s += im(l)));
                          return s + "]";
                        })(r.arrayValue)
                      : "mapValue" in r
                        ? (function (t) {
                            const s = Object.keys(t.fields || {}).sort();
                            let o = "{",
                              l = !0;
                            for (const c of s)
                              (l ? (l = !1) : (o += ","),
                                (o += `${c}:${im(t.fields[c])}`));
                            return o + "}";
                          })(r.mapValue)
                        : Be(61005, { value: r });
}
function Sh(r) {
  switch (Ls(r)) {
    case 0:
    case 1:
      return 4;
    case 2:
      return 8;
    case 3:
    case 8:
      return 16;
    case 4:
      const e = uf(r);
      return e ? 16 + Sh(e) : 16;
    case 5:
      return 2 * r.stringValue.length;
    case 6:
      return Ps(r.bytesValue).approximateByteSize();
    case 7:
      return r.referenceValue.length;
    case 9:
      return (function (s) {
        return (s.values || []).reduce((o, l) => o + Sh(l), 0);
      })(r.arrayValue);
    case 10:
    case 11:
      return (function (s) {
        let o = 0;
        return (
          Ko(s.fields, (l, c) => {
            o += l.length + Sh(c);
          }),
          o
        );
      })(r.mapValue);
    default:
      throw Be(13486, { value: r });
  }
}
function XE(r, e) {
  return {
    referenceValue: `projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`,
  };
}
function sm(r) {
  return !!r && "integerValue" in r;
}
function Ym(r) {
  return !!r && "arrayValue" in r;
}
function WE(r) {
  return !!r && "nullValue" in r;
}
function JE(r) {
  return !!r && "doubleValue" in r && isNaN(Number(r.doubleValue));
}
function Pp(r) {
  return !!r && "mapValue" in r;
}
function mD(r) {
  return (r?.mapValue?.fields || {})[US]?.stringValue === kS;
}
function uu(r) {
  if (r.geoPointValue) return { geoPointValue: { ...r.geoPointValue } };
  if (r.timestampValue && typeof r.timestampValue == "object")
    return { timestampValue: { ...r.timestampValue } };
  if (r.mapValue) {
    const e = { mapValue: { fields: {} } };
    return (Ko(r.mapValue.fields, (t, s) => (e.mapValue.fields[t] = uu(s))), e);
  }
  if (r.arrayValue) {
    const e = { arrayValue: { values: [] } };
    for (let t = 0; t < (r.arrayValue.values || []).length; ++t)
      e.arrayValue.values[t] = uu(r.arrayValue.values[t]);
    return e;
  }
  return { ...r };
}
function gD(r) {
  return (((r.mapValue || {}).fields || {}).__type__ || {}).stringValue === pD;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Wr {
  constructor(e) {
    this.value = e;
  }
  static empty() {
    return new Wr({ mapValue: {} });
  }
  field(e) {
    if (e.isEmpty()) return this.value;
    {
      let t = this.value;
      for (let s = 0; s < e.length - 1; ++s)
        if (((t = (t.mapValue.fields || {})[e.get(s)]), !Pp(t))) return null;
      return ((t = (t.mapValue.fields || {})[e.lastSegment()]), t || null);
    }
  }
  set(e, t) {
    this.getFieldsMap(e.popLast())[e.lastSegment()] = uu(t);
  }
  setAll(e) {
    let t = En.emptyPath(),
      s = {},
      o = [];
    e.forEach((c, d) => {
      if (!t.isImmediateParentOf(d)) {
        const m = this.getFieldsMap(t);
        (this.applyChanges(m, s, o), (s = {}), (o = []), (t = d.popLast()));
      }
      c ? (s[d.lastSegment()] = uu(c)) : o.push(d.lastSegment());
    });
    const l = this.getFieldsMap(t);
    this.applyChanges(l, s, o);
  }
  delete(e) {
    const t = this.field(e.popLast());
    Pp(t) && t.mapValue.fields && delete t.mapValue.fields[e.lastSegment()];
  }
  isEqual(e) {
    return si(this.value, e.value);
  }
  getFieldsMap(e) {
    let t = this.value;
    t.mapValue.fields || (t.mapValue = { fields: {} });
    for (let s = 0; s < e.length; ++s) {
      let o = t.mapValue.fields[e.get(s)];
      ((Pp(o) && o.mapValue.fields) ||
        ((o = { mapValue: { fields: {} } }), (t.mapValue.fields[e.get(s)] = o)),
        (t = o));
    }
    return t.mapValue.fields;
  }
  applyChanges(e, t, s) {
    Ko(t, (o, l) => (e[o] = l));
    for (const o of s) delete e[o];
  }
  clone() {
    return new Wr(uu(this.value));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class _n {
  constructor(e, t, s, o, l, c, d) {
    ((this.key = e),
      (this.documentType = t),
      (this.version = s),
      (this.readTime = o),
      (this.createTime = l),
      (this.data = c),
      (this.documentState = d));
  }
  static newInvalidDocument(e) {
    return new _n(e, 0, ze.min(), ze.min(), ze.min(), Wr.empty(), 0);
  }
  static newFoundDocument(e, t, s, o) {
    return new _n(e, 1, t, ze.min(), s, o, 0);
  }
  static newNoDocument(e, t) {
    return new _n(e, 2, t, ze.min(), ze.min(), Wr.empty(), 0);
  }
  static newUnknownDocument(e, t) {
    return new _n(e, 3, t, ze.min(), ze.min(), Wr.empty(), 2);
  }
  convertToFoundDocument(e, t) {
    return (
      !this.createTime.isEqual(ze.min()) ||
        (this.documentType !== 2 && this.documentType !== 0) ||
        (this.createTime = e),
      (this.version = e),
      (this.documentType = 1),
      (this.data = t),
      (this.documentState = 0),
      this
    );
  }
  convertToNoDocument(e) {
    return (
      (this.version = e),
      (this.documentType = 2),
      (this.data = Wr.empty()),
      (this.documentState = 0),
      this
    );
  }
  convertToUnknownDocument(e) {
    return (
      (this.version = e),
      (this.documentType = 3),
      (this.data = Wr.empty()),
      (this.documentState = 2),
      this
    );
  }
  setHasCommittedMutations() {
    return ((this.documentState = 2), this);
  }
  setHasLocalMutations() {
    return ((this.documentState = 1), (this.version = ze.min()), this);
  }
  setReadTime(e) {
    return ((this.readTime = e), this);
  }
  get hasLocalMutations() {
    return this.documentState === 1;
  }
  get hasCommittedMutations() {
    return this.documentState === 2;
  }
  get hasPendingWrites() {
    return this.hasLocalMutations || this.hasCommittedMutations;
  }
  isValidDocument() {
    return this.documentType !== 0;
  }
  isFoundDocument() {
    return this.documentType === 1;
  }
  isNoDocument() {
    return this.documentType === 2;
  }
  isUnknownDocument() {
    return this.documentType === 3;
  }
  isEqual(e) {
    return (
      e instanceof _n &&
      this.key.isEqual(e.key) &&
      this.version.isEqual(e.version) &&
      this.documentType === e.documentType &&
      this.documentState === e.documentState &&
      this.data.isEqual(e.data)
    );
  }
  mutableCopy() {
    return new _n(
      this.key,
      this.documentType,
      this.version,
      this.readTime,
      this.createTime,
      this.data.clone(),
      this.documentState,
    );
  }
  toString() {
    return `Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`;
  }
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class zh {
  constructor(e, t) {
    ((this.position = e), (this.inclusive = t));
  }
}
function ZE(r, e, t) {
  let s = 0;
  for (let o = 0; o < r.position.length; o++) {
    const l = e[o],
      c = r.position[o];
    if (
      (l.field.isKeyField()
        ? (s = Oe.comparator(Oe.fromName(c.referenceValue), t.key))
        : (s = Vo(c, t.data.field(l.field))),
      l.dir === "desc" && (s *= -1),
      s !== 0)
    )
      break;
  }
  return s;
}
function e0(r, e) {
  if (r === null) return e === null;
  if (
    e === null ||
    r.inclusive !== e.inclusive ||
    r.position.length !== e.position.length
  )
    return !1;
  for (let t = 0; t < r.position.length; t++)
    if (!si(r.position[t], e.position[t])) return !1;
  return !0;
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Bh {
  constructor(e, t = "asc") {
    ((this.field = e), (this.dir = t));
  }
}
function yD(r, e) {
  return r.dir === e.dir && r.field.isEqual(e.field);
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class jS {}
class qt extends jS {
  constructor(e, t, s) {
    (super(), (this.field = e), (this.op = t), (this.value = s));
  }
  static create(e, t, s) {
    return e.isKeyField()
      ? t === "in" || t === "not-in"
        ? this.createKeyFieldInFilter(e, t, s)
        : new _D(e, t, s)
      : t === "array-contains"
        ? new SD(e, s)
        : t === "in"
          ? new bD(e, s)
          : t === "not-in"
            ? new wD(e, s)
            : t === "array-contains-any"
              ? new AD(e, s)
              : new qt(e, t, s);
  }
  static createKeyFieldInFilter(e, t, s) {
    return t === "in" ? new ED(e, s) : new TD(e, s);
  }
  matches(e) {
    const t = e.data.field(this.field);
    return this.op === "!="
      ? t !== null &&
          t.nullValue === void 0 &&
          this.matchesComparison(Vo(t, this.value))
      : t !== null &&
          Ls(this.value) === Ls(t) &&
          this.matchesComparison(Vo(t, this.value));
  }
  matchesComparison(e) {
    switch (this.op) {
      case "<":
        return e < 0;
      case "<=":
        return e <= 0;
      case "==":
        return e === 0;
      case "!=":
        return e !== 0;
      case ">":
        return e > 0;
      case ">=":
        return e >= 0;
      default:
        return Be(47266, { operator: this.op });
    }
  }
  isInequality() {
    return ["<", "<=", ">", ">=", "!=", "not-in"].indexOf(this.op) >= 0;
  }
  getFlattenedFilters() {
    return [this];
  }
  getFilters() {
    return [this];
  }
}
class Ir extends jS {
  constructor(e, t) {
    (super(), (this.filters = e), (this.op = t), (this.Pe = null));
  }
  static create(e, t) {
    return new Ir(e, t);
  }
  matches(e) {
    return zS(this)
      ? this.filters.find((t) => !t.matches(e)) === void 0
      : this.filters.find((t) => t.matches(e)) !== void 0;
  }
  getFlattenedFilters() {
    return (
      this.Pe !== null ||
        (this.Pe = this.filters.reduce(
          (e, t) => e.concat(t.getFlattenedFilters()),
          [],
        )),
      this.Pe
    );
  }
  getFilters() {
    return Object.assign([], this.filters);
  }
}
function zS(r) {
  return r.op === "and";
}
function BS(r) {
  return vD(r) && zS(r);
}
function vD(r) {
  for (const e of r.filters) if (e instanceof Ir) return !1;
  return !0;
}
function am(r) {
  if (r instanceof qt)
    return r.field.canonicalString() + r.op.toString() + Uo(r.value);
  if (BS(r)) return r.filters.map((e) => am(e)).join(",");
  {
    const e = r.filters.map((t) => am(t)).join(",");
    return `${r.op}(${e})`;
  }
}
function HS(r, e) {
  return r instanceof qt
    ? (function (s, o) {
        return (
          o instanceof qt &&
          s.op === o.op &&
          s.field.isEqual(o.field) &&
          si(s.value, o.value)
        );
      })(r, e)
    : r instanceof Ir
      ? (function (s, o) {
          return o instanceof Ir &&
            s.op === o.op &&
            s.filters.length === o.filters.length
            ? s.filters.reduce((l, c, d) => l && HS(c, o.filters[d]), !0)
            : !1;
        })(r, e)
      : void Be(19439);
}
function FS(r) {
  return r instanceof qt
    ? (function (t) {
        return `${t.field.canonicalString()} ${t.op} ${Uo(t.value)}`;
      })(r)
    : r instanceof Ir
      ? (function (t) {
          return (
            t.op.toString() + " {" + t.getFilters().map(FS).join(" ,") + "}"
          );
        })(r)
      : "Filter";
}
class _D extends qt {
  constructor(e, t, s) {
    (super(e, t, s), (this.key = Oe.fromName(s.referenceValue)));
  }
  matches(e) {
    const t = Oe.comparator(e.key, this.key);
    return this.matchesComparison(t);
  }
}
class ED extends qt {
  constructor(e, t) {
    (super(e, "in", t), (this.keys = qS("in", t)));
  }
  matches(e) {
    return this.keys.some((t) => t.isEqual(e.key));
  }
}
class TD extends qt {
  constructor(e, t) {
    (super(e, "not-in", t), (this.keys = qS("not-in", t)));
  }
  matches(e) {
    return !this.keys.some((t) => t.isEqual(e.key));
  }
}
function qS(r, e) {
  return (e.arrayValue?.values || []).map((t) => Oe.fromName(t.referenceValue));
}
class SD extends qt {
  constructor(e, t) {
    super(e, "array-contains", t);
  }
  matches(e) {
    const t = e.data.field(this.field);
    return Ym(t) && bu(t.arrayValue, this.value);
  }
}
class bD extends qt {
  constructor(e, t) {
    super(e, "in", t);
  }
  matches(e) {
    const t = e.data.field(this.field);
    return t !== null && bu(this.value.arrayValue, t);
  }
}
class wD extends qt {
  constructor(e, t) {
    super(e, "not-in", t);
  }
  matches(e) {
    if (bu(this.value.arrayValue, { nullValue: "NULL_VALUE" })) return !1;
    const t = e.data.field(this.field);
    return (
      t !== null && t.nullValue === void 0 && !bu(this.value.arrayValue, t)
    );
  }
}
class AD extends qt {
  constructor(e, t) {
    super(e, "array-contains-any", t);
  }
  matches(e) {
    const t = e.data.field(this.field);
    return (
      !(!Ym(t) || !t.arrayValue.values) &&
      t.arrayValue.values.some((s) => bu(this.value.arrayValue, s))
    );
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class RD {
  constructor(e, t = null, s = [], o = [], l = null, c = null, d = null) {
    ((this.path = e),
      (this.collectionGroup = t),
      (this.orderBy = s),
      (this.filters = o),
      (this.limit = l),
      (this.startAt = c),
      (this.endAt = d),
      (this.Te = null));
  }
}
function t0(r, e = null, t = [], s = [], o = null, l = null, c = null) {
  return new RD(r, e, t, s, o, l, c);
}
function Qm(r) {
  const e = st(r);
  if (e.Te === null) {
    let t = e.path.canonicalString();
    (e.collectionGroup !== null && (t += "|cg:" + e.collectionGroup),
      (t += "|f:"),
      (t += e.filters.map((s) => am(s)).join(",")),
      (t += "|ob:"),
      (t += e.orderBy
        .map((s) =>
          (function (l) {
            return l.field.canonicalString() + l.dir;
          })(s),
        )
        .join(",")),
      lf(e.limit) || ((t += "|l:"), (t += e.limit)),
      e.startAt &&
        ((t += "|lb:"),
        (t += e.startAt.inclusive ? "b:" : "a:"),
        (t += e.startAt.position.map((s) => Uo(s)).join(","))),
      e.endAt &&
        ((t += "|ub:"),
        (t += e.endAt.inclusive ? "a:" : "b:"),
        (t += e.endAt.position.map((s) => Uo(s)).join(","))),
      (e.Te = t));
  }
  return e.Te;
}
function Xm(r, e) {
  if (r.limit !== e.limit || r.orderBy.length !== e.orderBy.length) return !1;
  for (let t = 0; t < r.orderBy.length; t++)
    if (!yD(r.orderBy[t], e.orderBy[t])) return !1;
  if (r.filters.length !== e.filters.length) return !1;
  for (let t = 0; t < r.filters.length; t++)
    if (!HS(r.filters[t], e.filters[t])) return !1;
  return (
    r.collectionGroup === e.collectionGroup &&
    !!r.path.isEqual(e.path) &&
    !!e0(r.startAt, e.startAt) &&
    e0(r.endAt, e.endAt)
  );
}
function om(r) {
  return (
    Oe.isDocumentKey(r.path) &&
    r.collectionGroup === null &&
    r.filters.length === 0
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Lu {
  constructor(
    e,
    t = null,
    s = [],
    o = [],
    l = null,
    c = "F",
    d = null,
    m = null,
  ) {
    ((this.path = e),
      (this.collectionGroup = t),
      (this.explicitOrderBy = s),
      (this.filters = o),
      (this.limit = l),
      (this.limitType = c),
      (this.startAt = d),
      (this.endAt = m),
      (this.Ie = null),
      (this.Ee = null),
      (this.de = null),
      this.startAt,
      this.endAt);
  }
}
function CD(r, e, t, s, o, l, c, d) {
  return new Lu(r, e, t, s, o, l, c, d);
}
function GS(r) {
  return new Lu(r);
}
function n0(r) {
  return (
    r.filters.length === 0 &&
    r.limit === null &&
    r.startAt == null &&
    r.endAt == null &&
    (r.explicitOrderBy.length === 0 ||
      (r.explicitOrderBy.length === 1 &&
        r.explicitOrderBy[0].field.isKeyField()))
  );
}
function $S(r) {
  return r.collectionGroup !== null;
}
function cu(r) {
  const e = st(r);
  if (e.Ie === null) {
    e.Ie = [];
    const t = new Set();
    for (const l of e.explicitOrderBy)
      (e.Ie.push(l), t.add(l.field.canonicalString()));
    const s =
      e.explicitOrderBy.length > 0
        ? e.explicitOrderBy[e.explicitOrderBy.length - 1].dir
        : "asc";
    ((function (c) {
      let d = new Xt(En.comparator);
      return (
        c.filters.forEach((m) => {
          m.getFlattenedFilters().forEach((g) => {
            g.isInequality() && (d = d.add(g.field));
          });
        }),
        d
      );
    })(e).forEach((l) => {
      t.has(l.canonicalString()) || l.isKeyField() || e.Ie.push(new Bh(l, s));
    }),
      t.has(En.keyField().canonicalString()) ||
        e.Ie.push(new Bh(En.keyField(), s)));
  }
  return e.Ie;
}
function ni(r) {
  const e = st(r);
  return (e.Ee || (e.Ee = ID(e, cu(r))), e.Ee);
}
function ID(r, e) {
  if (r.limitType === "F")
    return t0(
      r.path,
      r.collectionGroup,
      e,
      r.filters,
      r.limit,
      r.startAt,
      r.endAt,
    );
  {
    e = e.map((o) => {
      const l = o.dir === "desc" ? "asc" : "desc";
      return new Bh(o.field, l);
    });
    const t = r.endAt ? new zh(r.endAt.position, r.endAt.inclusive) : null,
      s = r.startAt ? new zh(r.startAt.position, r.startAt.inclusive) : null;
    return t0(r.path, r.collectionGroup, e, r.filters, r.limit, t, s);
  }
}
function lm(r, e) {
  const t = r.filters.concat([e]);
  return new Lu(
    r.path,
    r.collectionGroup,
    r.explicitOrderBy.slice(),
    t,
    r.limit,
    r.limitType,
    r.startAt,
    r.endAt,
  );
}
function um(r, e, t) {
  return new Lu(
    r.path,
    r.collectionGroup,
    r.explicitOrderBy.slice(),
    r.filters.slice(),
    e,
    t,
    r.startAt,
    r.endAt,
  );
}
function cf(r, e) {
  return Xm(ni(r), ni(e)) && r.limitType === e.limitType;
}
function KS(r) {
  return `${Qm(ni(r))}|lt:${r.limitType}`;
}
function Eo(r) {
  return `Query(target=${(function (t) {
    let s = t.path.canonicalString();
    return (
      t.collectionGroup !== null &&
        (s += " collectionGroup=" + t.collectionGroup),
      t.filters.length > 0 &&
        (s += `, filters: [${t.filters.map((o) => FS(o)).join(", ")}]`),
      lf(t.limit) || (s += ", limit: " + t.limit),
      t.orderBy.length > 0 &&
        (s += `, orderBy: [${t.orderBy
          .map((o) =>
            (function (c) {
              return `${c.field.canonicalString()} (${c.dir})`;
            })(o),
          )
          .join(", ")}]`),
      t.startAt &&
        ((s += ", startAt: "),
        (s += t.startAt.inclusive ? "b:" : "a:"),
        (s += t.startAt.position.map((o) => Uo(o)).join(","))),
      t.endAt &&
        ((s += ", endAt: "),
        (s += t.endAt.inclusive ? "a:" : "b:"),
        (s += t.endAt.position.map((o) => Uo(o)).join(","))),
      `Target(${s})`
    );
  })(ni(r))}; limitType=${r.limitType})`;
}
function hf(r, e) {
  return (
    e.isFoundDocument() &&
    (function (s, o) {
      const l = o.key.path;
      return s.collectionGroup !== null
        ? o.key.hasCollectionId(s.collectionGroup) && s.path.isPrefixOf(l)
        : Oe.isDocumentKey(s.path)
          ? s.path.isEqual(l)
          : s.path.isImmediateParentOf(l);
    })(r, e) &&
    (function (s, o) {
      for (const l of cu(s))
        if (!l.field.isKeyField() && o.data.field(l.field) === null) return !1;
      return !0;
    })(r, e) &&
    (function (s, o) {
      for (const l of s.filters) if (!l.matches(o)) return !1;
      return !0;
    })(r, e) &&
    (function (s, o) {
      return !(
        (s.startAt &&
          !(function (c, d, m) {
            const g = ZE(c, d, m);
            return c.inclusive ? g <= 0 : g < 0;
          })(s.startAt, cu(s), o)) ||
        (s.endAt &&
          !(function (c, d, m) {
            const g = ZE(c, d, m);
            return c.inclusive ? g >= 0 : g > 0;
          })(s.endAt, cu(s), o))
      );
    })(r, e)
  );
}
function xD(r) {
  return (
    r.collectionGroup ||
    (r.path.length % 2 == 1
      ? r.path.lastSegment()
      : r.path.get(r.path.length - 2))
  );
}
function YS(r) {
  return (e, t) => {
    let s = !1;
    for (const o of cu(r)) {
      const l = ND(o, e, t);
      if (l !== 0) return l;
      s = s || o.field.isKeyField();
    }
    return 0;
  };
}
function ND(r, e, t) {
  const s = r.field.isKeyField()
    ? Oe.comparator(e.key, t.key)
    : (function (l, c, d) {
        const m = c.data.field(l),
          g = d.data.field(l);
        return m !== null && g !== null ? Vo(m, g) : Be(42886);
      })(r.field, e, t);
  switch (r.dir) {
    case "asc":
      return s;
    case "desc":
      return -1 * s;
    default:
      return Be(19790, { direction: r.dir });
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class xa {
  constructor(e, t) {
    ((this.mapKeyFn = e),
      (this.equalsFn = t),
      (this.inner = {}),
      (this.innerSize = 0));
  }
  get(e) {
    const t = this.mapKeyFn(e),
      s = this.inner[t];
    if (s !== void 0) {
      for (const [o, l] of s) if (this.equalsFn(o, e)) return l;
    }
  }
  has(e) {
    return this.get(e) !== void 0;
  }
  set(e, t) {
    const s = this.mapKeyFn(e),
      o = this.inner[s];
    if (o === void 0)
      return ((this.inner[s] = [[e, t]]), void this.innerSize++);
    for (let l = 0; l < o.length; l++)
      if (this.equalsFn(o[l][0], e)) return void (o[l] = [e, t]);
    (o.push([e, t]), this.innerSize++);
  }
  delete(e) {
    const t = this.mapKeyFn(e),
      s = this.inner[t];
    if (s === void 0) return !1;
    for (let o = 0; o < s.length; o++)
      if (this.equalsFn(s[o][0], e))
        return (
          s.length === 1 ? delete this.inner[t] : s.splice(o, 1),
          this.innerSize--,
          !0
        );
    return !1;
  }
  forEach(e) {
    Ko(this.inner, (t, s) => {
      for (const [o, l] of s) e(o, l);
    });
  }
  isEmpty() {
    return DS(this.inner);
  }
  size() {
    return this.innerSize;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const DD = new Ut(Oe.comparator);
function Vs() {
  return DD;
}
const QS = new Ut(Oe.comparator);
function su(...r) {
  let e = QS;
  for (const t of r) e = e.insert(t.key, t);
  return e;
}
function OD(r) {
  let e = QS;
  return (r.forEach((t, s) => (e = e.insert(t, s.overlayedDocument))), e);
}
function va() {
  return hu();
}
function XS() {
  return hu();
}
function hu() {
  return new xa(
    (r) => r.toString(),
    (r, e) => r.isEqual(e),
  );
}
const MD = new Xt(Oe.comparator);
function at(...r) {
  let e = MD;
  for (const t of r) e = e.add(t);
  return e;
}
const PD = new Xt(et);
function LD() {
  return PD;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Wm(r, e) {
  if (r.useProto3Json) {
    if (isNaN(e)) return { doubleValue: "NaN" };
    if (e === 1 / 0) return { doubleValue: "Infinity" };
    if (e === -1 / 0) return { doubleValue: "-Infinity" };
  }
  return { doubleValue: Uh(e) ? "-0" : e };
}
function WS(r) {
  return { integerValue: "" + r };
}
function VD(r, e) {
  return uD(e) ? WS(e) : Wm(r, e);
}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ff {
  constructor() {
    this._ = void 0;
  }
}
function UD(r, e, t) {
  return r instanceof cm
    ? (function (o, l) {
        const c = {
          fields: {
            [PS]: { stringValue: MS },
            [VS]: {
              timestampValue: { seconds: o.seconds, nanos: o.nanoseconds },
            },
          },
        };
        return (
          l && Km(l) && (l = uf(l)),
          l && (c.fields[LS] = l),
          { mapValue: c }
        );
      })(t, e)
    : r instanceof Hh
      ? JS(r, e)
      : r instanceof Fh
        ? ZS(r, e)
        : (function (o, l) {
            const c = jD(o, l),
              d = r0(c) + r0(o.Ae);
            return sm(c) && sm(o.Ae) ? WS(d) : Wm(o.serializer, d);
          })(r, e);
}
function kD(r, e, t) {
  return r instanceof Hh ? JS(r, e) : r instanceof Fh ? ZS(r, e) : t;
}
function jD(r, e) {
  return r instanceof hm
    ? (function (s) {
        return (
          sm(s) ||
          (function (l) {
            return !!l && "doubleValue" in l;
          })(s)
        );
      })(e)
      ? e
      : { integerValue: 0 }
    : null;
}
class cm extends ff {}
class Hh extends ff {
  constructor(e) {
    (super(), (this.elements = e));
  }
}
function JS(r, e) {
  const t = eb(e);
  for (const s of r.elements) t.some((o) => si(o, s)) || t.push(s);
  return { arrayValue: { values: t } };
}
class Fh extends ff {
  constructor(e) {
    (super(), (this.elements = e));
  }
}
function ZS(r, e) {
  let t = eb(e);
  for (const s of r.elements) t = t.filter((o) => !si(o, s));
  return { arrayValue: { values: t } };
}
class hm extends ff {
  constructor(e, t) {
    (super(), (this.serializer = e), (this.Ae = t));
  }
}
function r0(r) {
  return Lt(r.integerValue || r.doubleValue);
}
function eb(r) {
  return Ym(r) && r.arrayValue.values ? r.arrayValue.values.slice() : [];
}
function zD(r, e) {
  return (
    r.field.isEqual(e.field) &&
    (function (s, o) {
      return (s instanceof Hh && o instanceof Hh) ||
        (s instanceof Fh && o instanceof Fh)
        ? Lo(s.elements, o.elements, si)
        : s instanceof hm && o instanceof hm
          ? si(s.Ae, o.Ae)
          : s instanceof cm && o instanceof cm;
    })(r.transform, e.transform)
  );
}
class Ea {
  constructor(e, t) {
    ((this.updateTime = e), (this.exists = t));
  }
  static none() {
    return new Ea();
  }
  static exists(e) {
    return new Ea(void 0, e);
  }
  static updateTime(e) {
    return new Ea(e);
  }
  get isNone() {
    return this.updateTime === void 0 && this.exists === void 0;
  }
  isEqual(e) {
    return (
      this.exists === e.exists &&
      (this.updateTime
        ? !!e.updateTime && this.updateTime.isEqual(e.updateTime)
        : !e.updateTime)
    );
  }
}
function bh(r, e) {
  return r.updateTime !== void 0
    ? e.isFoundDocument() && e.version.isEqual(r.updateTime)
    : r.exists === void 0 || r.exists === e.isFoundDocument();
}
class Jm {}
function tb(r, e) {
  if (!r.hasLocalMutations || (e && e.fields.length === 0)) return null;
  if (e === null)
    return r.isNoDocument()
      ? new HD(r.key, Ea.none())
      : new Zm(r.key, r.data, Ea.none());
  {
    const t = r.data,
      s = Wr.empty();
    let o = new Xt(En.comparator);
    for (let l of e.fields)
      if (!o.has(l)) {
        let c = t.field(l);
        (c === null && l.length > 1 && ((l = l.popLast()), (c = t.field(l))),
          c === null ? s.delete(l) : s.set(l, c),
          (o = o.add(l)));
      }
    return new df(r.key, s, new As(o.toArray()), Ea.none());
  }
}
function BD(r, e, t) {
  r instanceof Zm
    ? (function (o, l, c) {
        const d = o.value.clone(),
          m = s0(o.fieldTransforms, l, c.transformResults);
        (d.setAll(m),
          l.convertToFoundDocument(c.version, d).setHasCommittedMutations());
      })(r, e, t)
    : r instanceof df
      ? (function (o, l, c) {
          if (!bh(o.precondition, l))
            return void l.convertToUnknownDocument(c.version);
          const d = s0(o.fieldTransforms, l, c.transformResults),
            m = l.data;
          (m.setAll(nb(o)),
            m.setAll(d),
            l.convertToFoundDocument(c.version, m).setHasCommittedMutations());
        })(r, e, t)
      : (function (o, l, c) {
          l.convertToNoDocument(c.version).setHasCommittedMutations();
        })(0, e, t);
}
function fu(r, e, t, s) {
  return r instanceof Zm
    ? (function (l, c, d, m) {
        if (!bh(l.precondition, c)) return d;
        const g = l.value.clone(),
          v = a0(l.fieldTransforms, m, c);
        return (
          g.setAll(v),
          c.convertToFoundDocument(c.version, g).setHasLocalMutations(),
          null
        );
      })(r, e, t, s)
    : r instanceof df
      ? (function (l, c, d, m) {
          if (!bh(l.precondition, c)) return d;
          const g = a0(l.fieldTransforms, m, c),
            v = c.data;
          return (
            v.setAll(nb(l)),
            v.setAll(g),
            c.convertToFoundDocument(c.version, v).setHasLocalMutations(),
            d === null
              ? null
              : d
                  .unionWith(l.fieldMask.fields)
                  .unionWith(l.fieldTransforms.map((T) => T.field))
          );
        })(r, e, t, s)
      : (function (l, c, d) {
          return bh(l.precondition, c)
            ? (c.convertToNoDocument(c.version).setHasLocalMutations(), null)
            : d;
        })(r, e, t);
}
function i0(r, e) {
  return (
    r.type === e.type &&
    !!r.key.isEqual(e.key) &&
    !!r.precondition.isEqual(e.precondition) &&
    !!(function (s, o) {
      return (
        (s === void 0 && o === void 0) ||
        (!(!s || !o) && Lo(s, o, (l, c) => zD(l, c)))
      );
    })(r.fieldTransforms, e.fieldTransforms) &&
    (r.type === 0
      ? r.value.isEqual(e.value)
      : r.type !== 1 ||
        (r.data.isEqual(e.data) && r.fieldMask.isEqual(e.fieldMask)))
  );
}
class Zm extends Jm {
  constructor(e, t, s, o = []) {
    (super(),
      (this.key = e),
      (this.value = t),
      (this.precondition = s),
      (this.fieldTransforms = o),
      (this.type = 0));
  }
  getFieldMask() {
    return null;
  }
}
class df extends Jm {
  constructor(e, t, s, o, l = []) {
    (super(),
      (this.key = e),
      (this.data = t),
      (this.fieldMask = s),
      (this.precondition = o),
      (this.fieldTransforms = l),
      (this.type = 1));
  }
  getFieldMask() {
    return this.fieldMask;
  }
}
function nb(r) {
  const e = new Map();
  return (
    r.fieldMask.fields.forEach((t) => {
      if (!t.isEmpty()) {
        const s = r.data.field(t);
        e.set(t, s);
      }
    }),
    e
  );
}
function s0(r, e, t) {
  const s = new Map();
  Nt(r.length === t.length, 32656, { Re: t.length, Ve: r.length });
  for (let o = 0; o < t.length; o++) {
    const l = r[o],
      c = l.transform,
      d = e.data.field(l.field);
    s.set(l.field, kD(c, d, t[o]));
  }
  return s;
}
function a0(r, e, t) {
  const s = new Map();
  for (const o of r) {
    const l = o.transform,
      c = t.data.field(o.field);
    s.set(o.field, UD(l, c, e));
  }
  return s;
}
class HD extends Jm {
  constructor(e, t) {
    (super(),
      (this.key = e),
      (this.precondition = t),
      (this.type = 2),
      (this.fieldTransforms = []));
  }
  getFieldMask() {
    return null;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class FD {
  constructor(e, t, s, o) {
    ((this.batchId = e),
      (this.localWriteTime = t),
      (this.baseMutations = s),
      (this.mutations = o));
  }
  applyToRemoteDocument(e, t) {
    const s = t.mutationResults;
    for (let o = 0; o < this.mutations.length; o++) {
      const l = this.mutations[o];
      l.key.isEqual(e.key) && BD(l, e, s[o]);
    }
  }
  applyToLocalView(e, t) {
    for (const s of this.baseMutations)
      s.key.isEqual(e.key) && (t = fu(s, e, t, this.localWriteTime));
    for (const s of this.mutations)
      s.key.isEqual(e.key) && (t = fu(s, e, t, this.localWriteTime));
    return t;
  }
  applyToLocalDocumentSet(e, t) {
    const s = XS();
    return (
      this.mutations.forEach((o) => {
        const l = e.get(o.key),
          c = l.overlayedDocument;
        let d = this.applyToLocalView(c, l.mutatedFields);
        d = t.has(o.key) ? null : d;
        const m = tb(c, d);
        (m !== null && s.set(o.key, m),
          c.isValidDocument() || c.convertToNoDocument(ze.min()));
      }),
      s
    );
  }
  keys() {
    return this.mutations.reduce((e, t) => e.add(t.key), at());
  }
  isEqual(e) {
    return (
      this.batchId === e.batchId &&
      Lo(this.mutations, e.mutations, (t, s) => i0(t, s)) &&
      Lo(this.baseMutations, e.baseMutations, (t, s) => i0(t, s))
    );
  }
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class qD {
  constructor(e, t) {
    ((this.largestBatchId = e), (this.mutation = t));
  }
  getKey() {
    return this.mutation.key;
  }
  isEqual(e) {
    return e !== null && this.mutation === e.mutation;
  }
  toString() {
    return `Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class GD {
  constructor(e, t) {
    ((this.count = e), (this.unchangedNames = t));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var Ft, it;
function rb(r) {
  if (r === void 0) return (Vi("GRPC error has no .code"), de.UNKNOWN);
  switch (r) {
    case Ft.OK:
      return de.OK;
    case Ft.CANCELLED:
      return de.CANCELLED;
    case Ft.UNKNOWN:
      return de.UNKNOWN;
    case Ft.DEADLINE_EXCEEDED:
      return de.DEADLINE_EXCEEDED;
    case Ft.RESOURCE_EXHAUSTED:
      return de.RESOURCE_EXHAUSTED;
    case Ft.INTERNAL:
      return de.INTERNAL;
    case Ft.UNAVAILABLE:
      return de.UNAVAILABLE;
    case Ft.UNAUTHENTICATED:
      return de.UNAUTHENTICATED;
    case Ft.INVALID_ARGUMENT:
      return de.INVALID_ARGUMENT;
    case Ft.NOT_FOUND:
      return de.NOT_FOUND;
    case Ft.ALREADY_EXISTS:
      return de.ALREADY_EXISTS;
    case Ft.PERMISSION_DENIED:
      return de.PERMISSION_DENIED;
    case Ft.FAILED_PRECONDITION:
      return de.FAILED_PRECONDITION;
    case Ft.ABORTED:
      return de.ABORTED;
    case Ft.OUT_OF_RANGE:
      return de.OUT_OF_RANGE;
    case Ft.UNIMPLEMENTED:
      return de.UNIMPLEMENTED;
    case Ft.DATA_LOSS:
      return de.DATA_LOSS;
    default:
      return Be(39323, { code: r });
  }
}
(((it = Ft || (Ft = {}))[(it.OK = 0)] = "OK"),
  (it[(it.CANCELLED = 1)] = "CANCELLED"),
  (it[(it.UNKNOWN = 2)] = "UNKNOWN"),
  (it[(it.INVALID_ARGUMENT = 3)] = "INVALID_ARGUMENT"),
  (it[(it.DEADLINE_EXCEEDED = 4)] = "DEADLINE_EXCEEDED"),
  (it[(it.NOT_FOUND = 5)] = "NOT_FOUND"),
  (it[(it.ALREADY_EXISTS = 6)] = "ALREADY_EXISTS"),
  (it[(it.PERMISSION_DENIED = 7)] = "PERMISSION_DENIED"),
  (it[(it.UNAUTHENTICATED = 16)] = "UNAUTHENTICATED"),
  (it[(it.RESOURCE_EXHAUSTED = 8)] = "RESOURCE_EXHAUSTED"),
  (it[(it.FAILED_PRECONDITION = 9)] = "FAILED_PRECONDITION"),
  (it[(it.ABORTED = 10)] = "ABORTED"),
  (it[(it.OUT_OF_RANGE = 11)] = "OUT_OF_RANGE"),
  (it[(it.UNIMPLEMENTED = 12)] = "UNIMPLEMENTED"),
  (it[(it.INTERNAL = 13)] = "INTERNAL"),
  (it[(it.UNAVAILABLE = 14)] = "UNAVAILABLE"),
  (it[(it.DATA_LOSS = 15)] = "DATA_LOSS"));
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function $D() {
  return new TextEncoder();
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const KD = new Ns([4294967295, 4294967295], 0);
function o0(r) {
  const e = $D().encode(r),
    t = new ES();
  return (t.update(e), new Uint8Array(t.digest()));
}
function l0(r) {
  const e = new DataView(r.buffer),
    t = e.getUint32(0, !0),
    s = e.getUint32(4, !0),
    o = e.getUint32(8, !0),
    l = e.getUint32(12, !0);
  return [new Ns([t, s], 0), new Ns([o, l], 0)];
}
class eg {
  constructor(e, t, s) {
    if (
      ((this.bitmap = e),
      (this.padding = t),
      (this.hashCount = s),
      t < 0 || t >= 8)
    )
      throw new au(`Invalid padding: ${t}`);
    if (s < 0) throw new au(`Invalid hash count: ${s}`);
    if (e.length > 0 && this.hashCount === 0)
      throw new au(`Invalid hash count: ${s}`);
    if (e.length === 0 && t !== 0)
      throw new au(`Invalid padding when bitmap length is 0: ${t}`);
    ((this.ge = 8 * e.length - t), (this.pe = Ns.fromNumber(this.ge)));
  }
  ye(e, t, s) {
    let o = e.add(t.multiply(Ns.fromNumber(s)));
    return (
      o.compare(KD) === 1 && (o = new Ns([o.getBits(0), o.getBits(1)], 0)),
      o.modulo(this.pe).toNumber()
    );
  }
  we(e) {
    return !!(this.bitmap[Math.floor(e / 8)] & (1 << e % 8));
  }
  mightContain(e) {
    if (this.ge === 0) return !1;
    const t = o0(e),
      [s, o] = l0(t);
    for (let l = 0; l < this.hashCount; l++) {
      const c = this.ye(s, o, l);
      if (!this.we(c)) return !1;
    }
    return !0;
  }
  static create(e, t, s) {
    const o = e % 8 == 0 ? 0 : 8 - (e % 8),
      l = new Uint8Array(Math.ceil(e / 8)),
      c = new eg(l, o, t);
    return (s.forEach((d) => c.insert(d)), c);
  }
  insert(e) {
    if (this.ge === 0) return;
    const t = o0(e),
      [s, o] = l0(t);
    for (let l = 0; l < this.hashCount; l++) {
      const c = this.ye(s, o, l);
      this.Se(c);
    }
  }
  Se(e) {
    const t = Math.floor(e / 8),
      s = e % 8;
    this.bitmap[t] |= 1 << s;
  }
}
class au extends Error {
  constructor() {
    (super(...arguments), (this.name = "BloomFilterError"));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class pf {
  constructor(e, t, s, o, l) {
    ((this.snapshotVersion = e),
      (this.targetChanges = t),
      (this.targetMismatches = s),
      (this.documentUpdates = o),
      (this.resolvedLimboDocuments = l));
  }
  static createSynthesizedRemoteEventForCurrentChange(e, t, s) {
    const o = new Map();
    return (
      o.set(e, Vu.createSynthesizedTargetChangeForCurrentChange(e, t, s)),
      new pf(ze.min(), o, new Ut(et), Vs(), at())
    );
  }
}
class Vu {
  constructor(e, t, s, o, l) {
    ((this.resumeToken = e),
      (this.current = t),
      (this.addedDocuments = s),
      (this.modifiedDocuments = o),
      (this.removedDocuments = l));
  }
  static createSynthesizedTargetChangeForCurrentChange(e, t, s) {
    return new Vu(s, t, at(), at(), at());
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class wh {
  constructor(e, t, s, o) {
    ((this.be = e), (this.removedTargetIds = t), (this.key = s), (this.De = o));
  }
}
class ib {
  constructor(e, t) {
    ((this.targetId = e), (this.Ce = t));
  }
}
class sb {
  constructor(e, t, s = fn.EMPTY_BYTE_STRING, o = null) {
    ((this.state = e),
      (this.targetIds = t),
      (this.resumeToken = s),
      (this.cause = o));
  }
}
class u0 {
  constructor() {
    ((this.ve = 0),
      (this.Fe = c0()),
      (this.Me = fn.EMPTY_BYTE_STRING),
      (this.xe = !1),
      (this.Oe = !0));
  }
  get current() {
    return this.xe;
  }
  get resumeToken() {
    return this.Me;
  }
  get Ne() {
    return this.ve !== 0;
  }
  get Be() {
    return this.Oe;
  }
  Le(e) {
    e.approximateByteSize() > 0 && ((this.Oe = !0), (this.Me = e));
  }
  ke() {
    let e = at(),
      t = at(),
      s = at();
    return (
      this.Fe.forEach((o, l) => {
        switch (l) {
          case 0:
            e = e.add(o);
            break;
          case 2:
            t = t.add(o);
            break;
          case 1:
            s = s.add(o);
            break;
          default:
            Be(38017, { changeType: l });
        }
      }),
      new Vu(this.Me, this.xe, e, t, s)
    );
  }
  qe() {
    ((this.Oe = !1), (this.Fe = c0()));
  }
  Qe(e, t) {
    ((this.Oe = !0), (this.Fe = this.Fe.insert(e, t)));
  }
  $e(e) {
    ((this.Oe = !0), (this.Fe = this.Fe.remove(e)));
  }
  Ue() {
    this.ve += 1;
  }
  Ke() {
    ((this.ve -= 1), Nt(this.ve >= 0, 3241, { ve: this.ve }));
  }
  We() {
    ((this.Oe = !0), (this.xe = !0));
  }
}
class YD {
  constructor(e) {
    ((this.Ge = e),
      (this.ze = new Map()),
      (this.je = Vs()),
      (this.Je = oh()),
      (this.He = oh()),
      (this.Ye = new Ut(et)));
  }
  Ze(e) {
    for (const t of e.be)
      e.De && e.De.isFoundDocument()
        ? this.Xe(t, e.De)
        : this.et(t, e.key, e.De);
    for (const t of e.removedTargetIds) this.et(t, e.key, e.De);
  }
  tt(e) {
    this.forEachTarget(e, (t) => {
      const s = this.nt(t);
      switch (e.state) {
        case 0:
          this.rt(t) && s.Le(e.resumeToken);
          break;
        case 1:
          (s.Ke(), s.Ne || s.qe(), s.Le(e.resumeToken));
          break;
        case 2:
          (s.Ke(), s.Ne || this.removeTarget(t));
          break;
        case 3:
          this.rt(t) && (s.We(), s.Le(e.resumeToken));
          break;
        case 4:
          this.rt(t) && (this.it(t), s.Le(e.resumeToken));
          break;
        default:
          Be(56790, { state: e.state });
      }
    });
  }
  forEachTarget(e, t) {
    e.targetIds.length > 0
      ? e.targetIds.forEach(t)
      : this.ze.forEach((s, o) => {
          this.rt(o) && t(o);
        });
  }
  st(e) {
    const t = e.targetId,
      s = e.Ce.count,
      o = this.ot(t);
    if (o) {
      const l = o.target;
      if (om(l))
        if (s === 0) {
          const c = new Oe(l.path);
          this.et(t, c, _n.newNoDocument(c, ze.min()));
        } else Nt(s === 1, 20013, { expectedCount: s });
      else {
        const c = this._t(t);
        if (c !== s) {
          const d = this.ut(e),
            m = d ? this.ct(d, e, c) : 1;
          if (m !== 0) {
            this.it(t);
            const g =
              m === 2
                ? "TargetPurposeExistenceFilterMismatchBloom"
                : "TargetPurposeExistenceFilterMismatch";
            this.Ye = this.Ye.insert(t, g);
          }
        }
      }
    }
  }
  ut(e) {
    const t = e.Ce.unchangedNames;
    if (!t || !t.bits) return null;
    const {
      bits: { bitmap: s = "", padding: o = 0 },
      hashCount: l = 0,
    } = t;
    let c, d;
    try {
      c = Ps(s).toUint8Array();
    } catch (m) {
      if (m instanceof OS)
        return (
          Po(
            "Decoding the base64 bloom filter in existence filter failed (" +
              m.message +
              "); ignoring the bloom filter and falling back to full re-query.",
          ),
          null
        );
      throw m;
    }
    try {
      d = new eg(c, o, l);
    } catch (m) {
      return (
        Po(
          m instanceof au
            ? "BloomFilter error: "
            : "Applying bloom filter failed: ",
          m,
        ),
        null
      );
    }
    return d.ge === 0 ? null : d;
  }
  ct(e, t, s) {
    return t.Ce.count === s - this.Pt(e, t.targetId) ? 0 : 2;
  }
  Pt(e, t) {
    const s = this.Ge.getRemoteKeysForTarget(t);
    let o = 0;
    return (
      s.forEach((l) => {
        const c = this.Ge.ht(),
          d = `projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;
        e.mightContain(d) || (this.et(t, l, null), o++);
      }),
      o
    );
  }
  Tt(e) {
    const t = new Map();
    this.ze.forEach((l, c) => {
      const d = this.ot(c);
      if (d) {
        if (l.current && om(d.target)) {
          const m = new Oe(d.target.path);
          this.It(m).has(c) ||
            this.Et(c, m) ||
            this.et(c, m, _n.newNoDocument(m, e));
        }
        l.Be && (t.set(c, l.ke()), l.qe());
      }
    });
    let s = at();
    (this.He.forEach((l, c) => {
      let d = !0;
      (c.forEachWhile((m) => {
        const g = this.ot(m);
        return (
          !g || g.purpose === "TargetPurposeLimboResolution" || ((d = !1), !1)
        );
      }),
        d && (s = s.add(l)));
    }),
      this.je.forEach((l, c) => c.setReadTime(e)));
    const o = new pf(e, t, this.Ye, this.je, s);
    return (
      (this.je = Vs()),
      (this.Je = oh()),
      (this.He = oh()),
      (this.Ye = new Ut(et)),
      o
    );
  }
  Xe(e, t) {
    if (!this.rt(e)) return;
    const s = this.Et(e, t.key) ? 2 : 0;
    (this.nt(e).Qe(t.key, s),
      (this.je = this.je.insert(t.key, t)),
      (this.Je = this.Je.insert(t.key, this.It(t.key).add(e))),
      (this.He = this.He.insert(t.key, this.dt(t.key).add(e))));
  }
  et(e, t, s) {
    if (!this.rt(e)) return;
    const o = this.nt(e);
    (this.Et(e, t) ? o.Qe(t, 1) : o.$e(t),
      (this.He = this.He.insert(t, this.dt(t).delete(e))),
      (this.He = this.He.insert(t, this.dt(t).add(e))),
      s && (this.je = this.je.insert(t, s)));
  }
  removeTarget(e) {
    this.ze.delete(e);
  }
  _t(e) {
    const t = this.nt(e).ke();
    return (
      this.Ge.getRemoteKeysForTarget(e).size +
      t.addedDocuments.size -
      t.removedDocuments.size
    );
  }
  Ue(e) {
    this.nt(e).Ue();
  }
  nt(e) {
    let t = this.ze.get(e);
    return (t || ((t = new u0()), this.ze.set(e, t)), t);
  }
  dt(e) {
    let t = this.He.get(e);
    return (t || ((t = new Xt(et)), (this.He = this.He.insert(e, t))), t);
  }
  It(e) {
    let t = this.Je.get(e);
    return (t || ((t = new Xt(et)), (this.Je = this.Je.insert(e, t))), t);
  }
  rt(e) {
    const t = this.ot(e) !== null;
    return (t || ve("WatchChangeAggregator", "Detected inactive target", e), t);
  }
  ot(e) {
    const t = this.ze.get(e);
    return t && t.Ne ? null : this.Ge.At(e);
  }
  it(e) {
    (this.ze.set(e, new u0()),
      this.Ge.getRemoteKeysForTarget(e).forEach((t) => {
        this.et(e, t, null);
      }));
  }
  Et(e, t) {
    return this.Ge.getRemoteKeysForTarget(e).has(t);
  }
}
function oh() {
  return new Ut(Oe.comparator);
}
function c0() {
  return new Ut(Oe.comparator);
}
const QD = { asc: "ASCENDING", desc: "DESCENDING" },
  XD = {
    "<": "LESS_THAN",
    "<=": "LESS_THAN_OR_EQUAL",
    ">": "GREATER_THAN",
    ">=": "GREATER_THAN_OR_EQUAL",
    "==": "EQUAL",
    "!=": "NOT_EQUAL",
    "array-contains": "ARRAY_CONTAINS",
    in: "IN",
    "not-in": "NOT_IN",
    "array-contains-any": "ARRAY_CONTAINS_ANY",
  },
  WD = { and: "AND", or: "OR" };
class JD {
  constructor(e, t) {
    ((this.databaseId = e), (this.useProto3Json = t));
  }
}
function fm(r, e) {
  return r.useProto3Json || lf(e) ? e : { value: e };
}
function dm(r, e) {
  return r.useProto3Json
    ? `${new Date(1e3 * e.seconds).toISOString().replace(/\.\d*/, "").replace("Z", "")}.${("000000000" + e.nanoseconds).slice(-9)}Z`
    : { seconds: "" + e.seconds, nanos: e.nanoseconds };
}
function ab(r, e) {
  return r.useProto3Json ? e.toBase64() : e.toUint8Array();
}
function Io(r) {
  return (
    Nt(!!r, 49232),
    ze.fromTimestamp(
      (function (t) {
        const s = Ms(t);
        return new It(s.seconds, s.nanos);
      })(r),
    )
  );
}
function ob(r, e) {
  return pm(r, e).canonicalString();
}
function pm(r, e) {
  const t = (function (o) {
    return new Ct(["projects", o.projectId, "databases", o.database]);
  })(r).child("documents");
  return e === void 0 ? t : t.child(e);
}
function lb(r) {
  const e = Ct.fromString(r);
  return (Nt(db(e), 10190, { key: e.toString() }), e);
}
function Lp(r, e) {
  const t = lb(e);
  if (t.get(1) !== r.databaseId.projectId)
    throw new Se(
      de.INVALID_ARGUMENT,
      "Tried to deserialize key from different project: " +
        t.get(1) +
        " vs " +
        r.databaseId.projectId,
    );
  if (t.get(3) !== r.databaseId.database)
    throw new Se(
      de.INVALID_ARGUMENT,
      "Tried to deserialize key from different database: " +
        t.get(3) +
        " vs " +
        r.databaseId.database,
    );
  return new Oe(cb(t));
}
function ub(r, e) {
  return ob(r.databaseId, e);
}
function ZD(r) {
  const e = lb(r);
  return e.length === 4 ? Ct.emptyPath() : cb(e);
}
function h0(r) {
  return new Ct([
    "projects",
    r.databaseId.projectId,
    "databases",
    r.databaseId.database,
  ]).canonicalString();
}
function cb(r) {
  return (
    Nt(r.length > 4 && r.get(4) === "documents", 29091, { key: r.toString() }),
    r.popFirst(5)
  );
}
function eO(r, e) {
  let t;
  if ("targetChange" in e) {
    e.targetChange;
    const s = (function (g) {
        return g === "NO_CHANGE"
          ? 0
          : g === "ADD"
            ? 1
            : g === "REMOVE"
              ? 2
              : g === "CURRENT"
                ? 3
                : g === "RESET"
                  ? 4
                  : Be(39313, { state: g });
      })(e.targetChange.targetChangeType || "NO_CHANGE"),
      o = e.targetChange.targetIds || [],
      l = (function (g, v) {
        return g.useProto3Json
          ? (Nt(v === void 0 || typeof v == "string", 58123),
            fn.fromBase64String(v || ""))
          : (Nt(
              v === void 0 || v instanceof Buffer || v instanceof Uint8Array,
              16193,
            ),
            fn.fromUint8Array(v || new Uint8Array()));
      })(r, e.targetChange.resumeToken),
      c = e.targetChange.cause,
      d =
        c &&
        (function (g) {
          const v = g.code === void 0 ? de.UNKNOWN : rb(g.code);
          return new Se(v, g.message || "");
        })(c);
    t = new sb(s, o, l, d || null);
  } else if ("documentChange" in e) {
    e.documentChange;
    const s = e.documentChange;
    (s.document, s.document.name, s.document.updateTime);
    const o = Lp(r, s.document.name),
      l = Io(s.document.updateTime),
      c = s.document.createTime ? Io(s.document.createTime) : ze.min(),
      d = new Wr({ mapValue: { fields: s.document.fields } }),
      m = _n.newFoundDocument(o, l, c, d),
      g = s.targetIds || [],
      v = s.removedTargetIds || [];
    t = new wh(g, v, m.key, m);
  } else if ("documentDelete" in e) {
    e.documentDelete;
    const s = e.documentDelete;
    s.document;
    const o = Lp(r, s.document),
      l = s.readTime ? Io(s.readTime) : ze.min(),
      c = _n.newNoDocument(o, l),
      d = s.removedTargetIds || [];
    t = new wh([], d, c.key, c);
  } else if ("documentRemove" in e) {
    e.documentRemove;
    const s = e.documentRemove;
    s.document;
    const o = Lp(r, s.document),
      l = s.removedTargetIds || [];
    t = new wh([], l, o, null);
  } else {
    if (!("filter" in e)) return Be(11601, { Rt: e });
    {
      e.filter;
      const s = e.filter;
      s.targetId;
      const { count: o = 0, unchangedNames: l } = s,
        c = new GD(o, l),
        d = s.targetId;
      t = new ib(d, c);
    }
  }
  return t;
}
function tO(r, e) {
  return { documents: [ub(r, e.path)] };
}
function nO(r, e) {
  const t = { structuredQuery: {} },
    s = e.path;
  let o;
  (e.collectionGroup !== null
    ? ((o = s),
      (t.structuredQuery.from = [
        { collectionId: e.collectionGroup, allDescendants: !0 },
      ]))
    : ((o = s.popLast()),
      (t.structuredQuery.from = [{ collectionId: s.lastSegment() }])),
    (t.parent = ub(r, o)));
  const l = (function (g) {
    if (g.length !== 0) return fb(Ir.create(g, "and"));
  })(e.filters);
  l && (t.structuredQuery.where = l);
  const c = (function (g) {
    if (g.length !== 0)
      return g.map((v) =>
        (function (b) {
          return { field: To(b.field), direction: sO(b.dir) };
        })(v),
      );
  })(e.orderBy);
  c && (t.structuredQuery.orderBy = c);
  const d = fm(r, e.limit);
  return (
    d !== null && (t.structuredQuery.limit = d),
    e.startAt &&
      (t.structuredQuery.startAt = (function (g) {
        return { before: g.inclusive, values: g.position };
      })(e.startAt)),
    e.endAt &&
      (t.structuredQuery.endAt = (function (g) {
        return { before: !g.inclusive, values: g.position };
      })(e.endAt)),
    { ft: t, parent: o }
  );
}
function rO(r) {
  let e = ZD(r.parent);
  const t = r.structuredQuery,
    s = t.from ? t.from.length : 0;
  let o = null;
  if (s > 0) {
    Nt(s === 1, 65062);
    const v = t.from[0];
    v.allDescendants ? (o = v.collectionId) : (e = e.child(v.collectionId));
  }
  let l = [];
  t.where &&
    (l = (function (T) {
      const b = hb(T);
      return b instanceof Ir && BS(b) ? b.getFilters() : [b];
    })(t.where));
  let c = [];
  t.orderBy &&
    (c = (function (T) {
      return T.map((b) =>
        (function (D) {
          return new Bh(
            So(D.field),
            (function (B) {
              switch (B) {
                case "ASCENDING":
                  return "asc";
                case "DESCENDING":
                  return "desc";
                default:
                  return;
              }
            })(D.direction),
          );
        })(b),
      );
    })(t.orderBy));
  let d = null;
  t.limit &&
    (d = (function (T) {
      let b;
      return ((b = typeof T == "object" ? T.value : T), lf(b) ? null : b);
    })(t.limit));
  let m = null;
  t.startAt &&
    (m = (function (T) {
      const b = !!T.before,
        A = T.values || [];
      return new zh(A, b);
    })(t.startAt));
  let g = null;
  return (
    t.endAt &&
      (g = (function (T) {
        const b = !T.before,
          A = T.values || [];
        return new zh(A, b);
      })(t.endAt)),
    CD(e, o, c, l, d, "F", m, g)
  );
}
function iO(r, e) {
  const t = (function (o) {
    switch (o) {
      case "TargetPurposeListen":
        return null;
      case "TargetPurposeExistenceFilterMismatch":
        return "existence-filter-mismatch";
      case "TargetPurposeExistenceFilterMismatchBloom":
        return "existence-filter-mismatch-bloom";
      case "TargetPurposeLimboResolution":
        return "limbo-document";
      default:
        return Be(28987, { purpose: o });
    }
  })(e.purpose);
  return t == null ? null : { "goog-listen-tags": t };
}
function hb(r) {
  return r.unaryFilter !== void 0
    ? (function (t) {
        switch (t.unaryFilter.op) {
          case "IS_NAN":
            const s = So(t.unaryFilter.field);
            return qt.create(s, "==", { doubleValue: NaN });
          case "IS_NULL":
            const o = So(t.unaryFilter.field);
            return qt.create(o, "==", { nullValue: "NULL_VALUE" });
          case "IS_NOT_NAN":
            const l = So(t.unaryFilter.field);
            return qt.create(l, "!=", { doubleValue: NaN });
          case "IS_NOT_NULL":
            const c = So(t.unaryFilter.field);
            return qt.create(c, "!=", { nullValue: "NULL_VALUE" });
          case "OPERATOR_UNSPECIFIED":
            return Be(61313);
          default:
            return Be(60726);
        }
      })(r)
    : r.fieldFilter !== void 0
      ? (function (t) {
          return qt.create(
            So(t.fieldFilter.field),
            (function (o) {
              switch (o) {
                case "EQUAL":
                  return "==";
                case "NOT_EQUAL":
                  return "!=";
                case "GREATER_THAN":
                  return ">";
                case "GREATER_THAN_OR_EQUAL":
                  return ">=";
                case "LESS_THAN":
                  return "<";
                case "LESS_THAN_OR_EQUAL":
                  return "<=";
                case "ARRAY_CONTAINS":
                  return "array-contains";
                case "IN":
                  return "in";
                case "NOT_IN":
                  return "not-in";
                case "ARRAY_CONTAINS_ANY":
                  return "array-contains-any";
                case "OPERATOR_UNSPECIFIED":
                  return Be(58110);
                default:
                  return Be(50506);
              }
            })(t.fieldFilter.op),
            t.fieldFilter.value,
          );
        })(r)
      : r.compositeFilter !== void 0
        ? (function (t) {
            return Ir.create(
              t.compositeFilter.filters.map((s) => hb(s)),
              (function (o) {
                switch (o) {
                  case "AND":
                    return "and";
                  case "OR":
                    return "or";
                  default:
                    return Be(1026);
                }
              })(t.compositeFilter.op),
            );
          })(r)
        : Be(30097, { filter: r });
}
function sO(r) {
  return QD[r];
}
function aO(r) {
  return XD[r];
}
function oO(r) {
  return WD[r];
}
function To(r) {
  return { fieldPath: r.canonicalString() };
}
function So(r) {
  return En.fromServerFormat(r.fieldPath);
}
function fb(r) {
  return r instanceof qt
    ? (function (t) {
        if (t.op === "==") {
          if (JE(t.value))
            return { unaryFilter: { field: To(t.field), op: "IS_NAN" } };
          if (WE(t.value))
            return { unaryFilter: { field: To(t.field), op: "IS_NULL" } };
        } else if (t.op === "!=") {
          if (JE(t.value))
            return { unaryFilter: { field: To(t.field), op: "IS_NOT_NAN" } };
          if (WE(t.value))
            return { unaryFilter: { field: To(t.field), op: "IS_NOT_NULL" } };
        }
        return {
          fieldFilter: { field: To(t.field), op: aO(t.op), value: t.value },
        };
      })(r)
    : r instanceof Ir
      ? (function (t) {
          const s = t.getFilters().map((o) => fb(o));
          return s.length === 1
            ? s[0]
            : { compositeFilter: { op: oO(t.op), filters: s } };
        })(r)
      : Be(54877, { filter: r });
}
function db(r) {
  return r.length >= 4 && r.get(0) === "projects" && r.get(2) === "databases";
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Rs {
  constructor(
    e,
    t,
    s,
    o,
    l = ze.min(),
    c = ze.min(),
    d = fn.EMPTY_BYTE_STRING,
    m = null,
  ) {
    ((this.target = e),
      (this.targetId = t),
      (this.purpose = s),
      (this.sequenceNumber = o),
      (this.snapshotVersion = l),
      (this.lastLimboFreeSnapshotVersion = c),
      (this.resumeToken = d),
      (this.expectedCount = m));
  }
  withSequenceNumber(e) {
    return new Rs(
      this.target,
      this.targetId,
      this.purpose,
      e,
      this.snapshotVersion,
      this.lastLimboFreeSnapshotVersion,
      this.resumeToken,
      this.expectedCount,
    );
  }
  withResumeToken(e, t) {
    return new Rs(
      this.target,
      this.targetId,
      this.purpose,
      this.sequenceNumber,
      t,
      this.lastLimboFreeSnapshotVersion,
      e,
      null,
    );
  }
  withExpectedCount(e) {
    return new Rs(
      this.target,
      this.targetId,
      this.purpose,
      this.sequenceNumber,
      this.snapshotVersion,
      this.lastLimboFreeSnapshotVersion,
      this.resumeToken,
      e,
    );
  }
  withLastLimboFreeSnapshotVersion(e) {
    return new Rs(
      this.target,
      this.targetId,
      this.purpose,
      this.sequenceNumber,
      this.snapshotVersion,
      e,
      this.resumeToken,
      this.expectedCount,
    );
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class lO {
  constructor(e) {
    this.yt = e;
  }
}
function uO(r) {
  const e = rO({ parent: r.parent, structuredQuery: r.structuredQuery });
  return r.limitType === "LAST" ? um(e, e.limit, "L") : e;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cO {
  constructor() {
    this.Cn = new hO();
  }
  addToCollectionParentIndex(e, t) {
    return (this.Cn.add(t), oe.resolve());
  }
  getCollectionParents(e, t) {
    return oe.resolve(this.Cn.getEntries(t));
  }
  addFieldIndex(e, t) {
    return oe.resolve();
  }
  deleteFieldIndex(e, t) {
    return oe.resolve();
  }
  deleteAllFieldIndexes(e) {
    return oe.resolve();
  }
  createTargetIndexes(e, t) {
    return oe.resolve();
  }
  getDocumentsMatchingTarget(e, t) {
    return oe.resolve(null);
  }
  getIndexType(e, t) {
    return oe.resolve(0);
  }
  getFieldIndexes(e, t) {
    return oe.resolve([]);
  }
  getNextCollectionGroupToUpdate(e) {
    return oe.resolve(null);
  }
  getMinOffset(e, t) {
    return oe.resolve(Os.min());
  }
  getMinOffsetFromCollectionGroup(e, t) {
    return oe.resolve(Os.min());
  }
  updateCollectionGroup(e, t, s) {
    return oe.resolve();
  }
  updateIndexEntries(e, t) {
    return oe.resolve();
  }
}
class hO {
  constructor() {
    this.index = {};
  }
  add(e) {
    const t = e.lastSegment(),
      s = e.popLast(),
      o = this.index[t] || new Xt(Ct.comparator),
      l = !o.has(s);
    return ((this.index[t] = o.add(s)), l);
  }
  has(e) {
    const t = e.lastSegment(),
      s = e.popLast(),
      o = this.index[t];
    return o && o.has(s);
  }
  getEntries(e) {
    return (this.index[e] || new Xt(Ct.comparator)).toArray();
  }
}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const f0 = {
    didRun: !1,
    sequenceNumbersCollected: 0,
    targetsRemoved: 0,
    documentsRemoved: 0,
  },
  pb = 41943040;
class Vn {
  static withCacheSize(e) {
    return new Vn(
      e,
      Vn.DEFAULT_COLLECTION_PERCENTILE,
      Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT,
    );
  }
  constructor(e, t, s) {
    ((this.cacheSizeCollectionThreshold = e),
      (this.percentileToCollect = t),
      (this.maximumSequenceNumbersToCollect = s));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ ((Vn.DEFAULT_COLLECTION_PERCENTILE = 10),
  (Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT = 1e3),
  (Vn.DEFAULT = new Vn(
    pb,
    Vn.DEFAULT_COLLECTION_PERCENTILE,
    Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT,
  )),
  (Vn.DISABLED = new Vn(-1, 0, 0)));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ko {
  constructor(e) {
    this.ar = e;
  }
  next() {
    return ((this.ar += 2), this.ar);
  }
  static ur() {
    return new ko(0);
  }
  static cr() {
    return new ko(-1);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const d0 = "LruGarbageCollector",
  fO = 1048576;
function p0([r, e], [t, s]) {
  const o = et(r, t);
  return o === 0 ? et(e, s) : o;
}
class dO {
  constructor(e) {
    ((this.Ir = e), (this.buffer = new Xt(p0)), (this.Er = 0));
  }
  dr() {
    return ++this.Er;
  }
  Ar(e) {
    const t = [e, this.dr()];
    if (this.buffer.size < this.Ir) this.buffer = this.buffer.add(t);
    else {
      const s = this.buffer.last();
      p0(t, s) < 0 && (this.buffer = this.buffer.delete(s).add(t));
    }
  }
  get maxValue() {
    return this.buffer.last()[0];
  }
}
class pO {
  constructor(e, t, s) {
    ((this.garbageCollector = e),
      (this.asyncQueue = t),
      (this.localStore = s),
      (this.Rr = null));
  }
  start() {
    this.garbageCollector.params.cacheSizeCollectionThreshold !== -1 &&
      this.Vr(6e4);
  }
  stop() {
    this.Rr && (this.Rr.cancel(), (this.Rr = null));
  }
  get started() {
    return this.Rr !== null;
  }
  Vr(e) {
    (ve(d0, `Garbage collection scheduled in ${e}ms`),
      (this.Rr = this.asyncQueue.enqueueAfterDelay(
        "lru_garbage_collection",
        e,
        async () => {
          this.Rr = null;
          try {
            await this.localStore.collectGarbage(this.garbageCollector);
          } catch (t) {
            $o(t)
              ? ve(
                  d0,
                  "Ignoring IndexedDB error during garbage collection: ",
                  t,
                )
              : await af(t);
          }
          await this.Vr(3e5);
        },
      )));
  }
}
class mO {
  constructor(e, t) {
    ((this.mr = e), (this.params = t));
  }
  calculateTargetCount(e, t) {
    return this.mr.gr(e).next((s) => Math.floor((t / 100) * s));
  }
  nthSequenceNumber(e, t) {
    if (t === 0) return oe.resolve(of.ce);
    const s = new dO(t);
    return this.mr
      .forEachTarget(e, (o) => s.Ar(o.sequenceNumber))
      .next(() => this.mr.pr(e, (o) => s.Ar(o)))
      .next(() => s.maxValue);
  }
  removeTargets(e, t, s) {
    return this.mr.removeTargets(e, t, s);
  }
  removeOrphanedDocuments(e, t) {
    return this.mr.removeOrphanedDocuments(e, t);
  }
  collect(e, t) {
    return this.params.cacheSizeCollectionThreshold === -1
      ? (ve("LruGarbageCollector", "Garbage collection skipped; disabled"),
        oe.resolve(f0))
      : this.getCacheSize(e).next((s) =>
          s < this.params.cacheSizeCollectionThreshold
            ? (ve(
                "LruGarbageCollector",
                `Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`,
              ),
              f0)
            : this.yr(e, t),
        );
  }
  getCacheSize(e) {
    return this.mr.getCacheSize(e);
  }
  yr(e, t) {
    let s, o, l, c, d, m, g;
    const v = Date.now();
    return this.calculateTargetCount(e, this.params.percentileToCollect)
      .next(
        (T) => (
          T > this.params.maximumSequenceNumbersToCollect
            ? (ve(
                "LruGarbageCollector",
                `Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`,
              ),
              (o = this.params.maximumSequenceNumbersToCollect))
            : (o = T),
          (c = Date.now()),
          this.nthSequenceNumber(e, o)
        ),
      )
      .next((T) => ((s = T), (d = Date.now()), this.removeTargets(e, s, t)))
      .next(
        (T) => ((l = T), (m = Date.now()), this.removeOrphanedDocuments(e, s)),
      )
      .next(
        (T) => (
          (g = Date.now()),
          _o() <= Je.DEBUG &&
            ve(
              "LruGarbageCollector",
              `LRU Garbage Collection
	Counted targets in ${c - v}ms
	Determined least recently used ${o} in ` +
                (d - c) +
                `ms
	Removed ${l} targets in ` +
                (m - d) +
                `ms
	Removed ${T} documents in ` +
                (g - m) +
                `ms
Total Duration: ${g - v}ms`,
            ),
          oe.resolve({
            didRun: !0,
            sequenceNumbersCollected: o,
            targetsRemoved: l,
            documentsRemoved: T,
          })
        ),
      );
  }
}
function gO(r, e) {
  return new mO(r, e);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class yO {
  constructor() {
    ((this.changes = new xa(
      (e) => e.toString(),
      (e, t) => e.isEqual(t),
    )),
      (this.changesApplied = !1));
  }
  addEntry(e) {
    (this.assertNotApplied(), this.changes.set(e.key, e));
  }
  removeEntry(e, t) {
    (this.assertNotApplied(),
      this.changes.set(e, _n.newInvalidDocument(e).setReadTime(t)));
  }
  getEntry(e, t) {
    this.assertNotApplied();
    const s = this.changes.get(t);
    return s !== void 0 ? oe.resolve(s) : this.getFromCache(e, t);
  }
  getEntries(e, t) {
    return this.getAllFromCache(e, t);
  }
  apply(e) {
    return (
      this.assertNotApplied(),
      (this.changesApplied = !0),
      this.applyChanges(e)
    );
  }
  assertNotApplied() {}
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class vO {
  constructor(e, t) {
    ((this.overlayedDocument = e), (this.mutatedFields = t));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class _O {
  constructor(e, t, s, o) {
    ((this.remoteDocumentCache = e),
      (this.mutationQueue = t),
      (this.documentOverlayCache = s),
      (this.indexManager = o));
  }
  getDocument(e, t) {
    let s = null;
    return this.documentOverlayCache
      .getOverlay(e, t)
      .next((o) => ((s = o), this.remoteDocumentCache.getEntry(e, t)))
      .next((o) => (s !== null && fu(s.mutation, o, As.empty(), It.now()), o));
  }
  getDocuments(e, t) {
    return this.remoteDocumentCache
      .getEntries(e, t)
      .next((s) => this.getLocalViewOfDocuments(e, s, at()).next(() => s));
  }
  getLocalViewOfDocuments(e, t, s = at()) {
    const o = va();
    return this.populateOverlays(e, o, t).next(() =>
      this.computeViews(e, t, o, s).next((l) => {
        let c = su();
        return (
          l.forEach((d, m) => {
            c = c.insert(d, m.overlayedDocument);
          }),
          c
        );
      }),
    );
  }
  getOverlayedDocuments(e, t) {
    const s = va();
    return this.populateOverlays(e, s, t).next(() =>
      this.computeViews(e, t, s, at()),
    );
  }
  populateOverlays(e, t, s) {
    const o = [];
    return (
      s.forEach((l) => {
        t.has(l) || o.push(l);
      }),
      this.documentOverlayCache.getOverlays(e, o).next((l) => {
        l.forEach((c, d) => {
          t.set(c, d);
        });
      })
    );
  }
  computeViews(e, t, s, o) {
    let l = Vs();
    const c = hu(),
      d = (function () {
        return hu();
      })();
    return (
      t.forEach((m, g) => {
        const v = s.get(g.key);
        o.has(g.key) && (v === void 0 || v.mutation instanceof df)
          ? (l = l.insert(g.key, g))
          : v !== void 0
            ? (c.set(g.key, v.mutation.getFieldMask()),
              fu(v.mutation, g, v.mutation.getFieldMask(), It.now()))
            : c.set(g.key, As.empty());
      }),
      this.recalculateAndSaveOverlays(e, l).next(
        (m) => (
          m.forEach((g, v) => c.set(g, v)),
          t.forEach((g, v) => d.set(g, new vO(v, c.get(g) ?? null))),
          d
        ),
      )
    );
  }
  recalculateAndSaveOverlays(e, t) {
    const s = hu();
    let o = new Ut((c, d) => c - d),
      l = at();
    return this.mutationQueue
      .getAllMutationBatchesAffectingDocumentKeys(e, t)
      .next((c) => {
        for (const d of c)
          d.keys().forEach((m) => {
            const g = t.get(m);
            if (g === null) return;
            let v = s.get(m) || As.empty();
            ((v = d.applyToLocalView(g, v)), s.set(m, v));
            const T = (o.get(d.batchId) || at()).add(m);
            o = o.insert(d.batchId, T);
          });
      })
      .next(() => {
        const c = [],
          d = o.getReverseIterator();
        for (; d.hasNext(); ) {
          const m = d.getNext(),
            g = m.key,
            v = m.value,
            T = XS();
          (v.forEach((b) => {
            if (!l.has(b)) {
              const A = tb(t.get(b), s.get(b));
              (A !== null && T.set(b, A), (l = l.add(b)));
            }
          }),
            c.push(this.documentOverlayCache.saveOverlays(e, g, T)));
        }
        return oe.waitFor(c);
      })
      .next(() => s);
  }
  recalculateAndSaveOverlaysForDocumentKeys(e, t) {
    return this.remoteDocumentCache
      .getEntries(e, t)
      .next((s) => this.recalculateAndSaveOverlays(e, s));
  }
  getDocumentsMatchingQuery(e, t, s, o) {
    return (function (c) {
      return (
        Oe.isDocumentKey(c.path) &&
        c.collectionGroup === null &&
        c.filters.length === 0
      );
    })(t)
      ? this.getDocumentsMatchingDocumentQuery(e, t.path)
      : $S(t)
        ? this.getDocumentsMatchingCollectionGroupQuery(e, t, s, o)
        : this.getDocumentsMatchingCollectionQuery(e, t, s, o);
  }
  getNextDocuments(e, t, s, o) {
    return this.remoteDocumentCache
      .getAllFromCollectionGroup(e, t, s, o)
      .next((l) => {
        const c =
          o - l.size > 0
            ? this.documentOverlayCache.getOverlaysForCollectionGroup(
                e,
                t,
                s.largestBatchId,
                o - l.size,
              )
            : oe.resolve(va());
        let d = Eu,
          m = l;
        return c.next((g) =>
          oe
            .forEach(
              g,
              (v, T) => (
                d < T.largestBatchId && (d = T.largestBatchId),
                l.get(v)
                  ? oe.resolve()
                  : this.remoteDocumentCache.getEntry(e, v).next((b) => {
                      m = m.insert(v, b);
                    })
              ),
            )
            .next(() => this.populateOverlays(e, g, l))
            .next(() => this.computeViews(e, m, g, at()))
            .next((v) => ({ batchId: d, changes: OD(v) })),
        );
      });
  }
  getDocumentsMatchingDocumentQuery(e, t) {
    return this.getDocument(e, new Oe(t)).next((s) => {
      let o = su();
      return (s.isFoundDocument() && (o = o.insert(s.key, s)), o);
    });
  }
  getDocumentsMatchingCollectionGroupQuery(e, t, s, o) {
    const l = t.collectionGroup;
    let c = su();
    return this.indexManager.getCollectionParents(e, l).next((d) =>
      oe
        .forEach(d, (m) => {
          const g = (function (T, b) {
            return new Lu(
              b,
              null,
              T.explicitOrderBy.slice(),
              T.filters.slice(),
              T.limit,
              T.limitType,
              T.startAt,
              T.endAt,
            );
          })(t, m.child(l));
          return this.getDocumentsMatchingCollectionQuery(e, g, s, o).next(
            (v) => {
              v.forEach((T, b) => {
                c = c.insert(T, b);
              });
            },
          );
        })
        .next(() => c),
    );
  }
  getDocumentsMatchingCollectionQuery(e, t, s, o) {
    let l;
    return this.documentOverlayCache
      .getOverlaysForCollection(e, t.path, s.largestBatchId)
      .next(
        (c) => (
          (l = c),
          this.remoteDocumentCache.getDocumentsMatchingQuery(e, t, s, l, o)
        ),
      )
      .next((c) => {
        l.forEach((m, g) => {
          const v = g.getKey();
          c.get(v) === null && (c = c.insert(v, _n.newInvalidDocument(v)));
        });
        let d = su();
        return (
          c.forEach((m, g) => {
            const v = l.get(m);
            (v !== void 0 && fu(v.mutation, g, As.empty(), It.now()),
              hf(t, g) && (d = d.insert(m, g)));
          }),
          d
        );
      });
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class EO {
  constructor(e) {
    ((this.serializer = e), (this.Lr = new Map()), (this.kr = new Map()));
  }
  getBundleMetadata(e, t) {
    return oe.resolve(this.Lr.get(t));
  }
  saveBundleMetadata(e, t) {
    return (
      this.Lr.set(
        t.id,
        (function (o) {
          return { id: o.id, version: o.version, createTime: Io(o.createTime) };
        })(t),
      ),
      oe.resolve()
    );
  }
  getNamedQuery(e, t) {
    return oe.resolve(this.kr.get(t));
  }
  saveNamedQuery(e, t) {
    return (
      this.kr.set(
        t.name,
        (function (o) {
          return {
            name: o.name,
            query: uO(o.bundledQuery),
            readTime: Io(o.readTime),
          };
        })(t),
      ),
      oe.resolve()
    );
  }
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class TO {
  constructor() {
    ((this.overlays = new Ut(Oe.comparator)), (this.qr = new Map()));
  }
  getOverlay(e, t) {
    return oe.resolve(this.overlays.get(t));
  }
  getOverlays(e, t) {
    const s = va();
    return oe
      .forEach(t, (o) =>
        this.getOverlay(e, o).next((l) => {
          l !== null && s.set(o, l);
        }),
      )
      .next(() => s);
  }
  saveOverlays(e, t, s) {
    return (
      s.forEach((o, l) => {
        this.St(e, t, l);
      }),
      oe.resolve()
    );
  }
  removeOverlaysForBatchId(e, t, s) {
    const o = this.qr.get(s);
    return (
      o !== void 0 &&
        (o.forEach((l) => (this.overlays = this.overlays.remove(l))),
        this.qr.delete(s)),
      oe.resolve()
    );
  }
  getOverlaysForCollection(e, t, s) {
    const o = va(),
      l = t.length + 1,
      c = new Oe(t.child("")),
      d = this.overlays.getIteratorFrom(c);
    for (; d.hasNext(); ) {
      const m = d.getNext().value,
        g = m.getKey();
      if (!t.isPrefixOf(g.path)) break;
      g.path.length === l && m.largestBatchId > s && o.set(m.getKey(), m);
    }
    return oe.resolve(o);
  }
  getOverlaysForCollectionGroup(e, t, s, o) {
    let l = new Ut((g, v) => g - v);
    const c = this.overlays.getIterator();
    for (; c.hasNext(); ) {
      const g = c.getNext().value;
      if (g.getKey().getCollectionGroup() === t && g.largestBatchId > s) {
        let v = l.get(g.largestBatchId);
        (v === null && ((v = va()), (l = l.insert(g.largestBatchId, v))),
          v.set(g.getKey(), g));
      }
    }
    const d = va(),
      m = l.getIterator();
    for (
      ;
      m.hasNext() &&
      (m.getNext().value.forEach((g, v) => d.set(g, v)), !(d.size() >= o));

    );
    return oe.resolve(d);
  }
  St(e, t, s) {
    const o = this.overlays.get(s.key);
    if (o !== null) {
      const c = this.qr.get(o.largestBatchId).delete(s.key);
      this.qr.set(o.largestBatchId, c);
    }
    this.overlays = this.overlays.insert(s.key, new qD(t, s));
    let l = this.qr.get(t);
    (l === void 0 && ((l = at()), this.qr.set(t, l)),
      this.qr.set(t, l.add(s.key)));
  }
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class SO {
  constructor() {
    this.sessionToken = fn.EMPTY_BYTE_STRING;
  }
  getSessionToken(e) {
    return oe.resolve(this.sessionToken);
  }
  setSessionToken(e, t) {
    return ((this.sessionToken = t), oe.resolve());
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class tg {
  constructor() {
    ((this.Qr = new Xt(rn.$r)), (this.Ur = new Xt(rn.Kr)));
  }
  isEmpty() {
    return this.Qr.isEmpty();
  }
  addReference(e, t) {
    const s = new rn(e, t);
    ((this.Qr = this.Qr.add(s)), (this.Ur = this.Ur.add(s)));
  }
  Wr(e, t) {
    e.forEach((s) => this.addReference(s, t));
  }
  removeReference(e, t) {
    this.Gr(new rn(e, t));
  }
  zr(e, t) {
    e.forEach((s) => this.removeReference(s, t));
  }
  jr(e) {
    const t = new Oe(new Ct([])),
      s = new rn(t, e),
      o = new rn(t, e + 1),
      l = [];
    return (
      this.Ur.forEachInRange([s, o], (c) => {
        (this.Gr(c), l.push(c.key));
      }),
      l
    );
  }
  Jr() {
    this.Qr.forEach((e) => this.Gr(e));
  }
  Gr(e) {
    ((this.Qr = this.Qr.delete(e)), (this.Ur = this.Ur.delete(e)));
  }
  Hr(e) {
    const t = new Oe(new Ct([])),
      s = new rn(t, e),
      o = new rn(t, e + 1);
    let l = at();
    return (
      this.Ur.forEachInRange([s, o], (c) => {
        l = l.add(c.key);
      }),
      l
    );
  }
  containsKey(e) {
    const t = new rn(e, 0),
      s = this.Qr.firstAfterOrEqual(t);
    return s !== null && e.isEqual(s.key);
  }
}
class rn {
  constructor(e, t) {
    ((this.key = e), (this.Yr = t));
  }
  static $r(e, t) {
    return Oe.comparator(e.key, t.key) || et(e.Yr, t.Yr);
  }
  static Kr(e, t) {
    return et(e.Yr, t.Yr) || Oe.comparator(e.key, t.key);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class bO {
  constructor(e, t) {
    ((this.indexManager = e),
      (this.referenceDelegate = t),
      (this.mutationQueue = []),
      (this.tr = 1),
      (this.Zr = new Xt(rn.$r)));
  }
  checkEmpty(e) {
    return oe.resolve(this.mutationQueue.length === 0);
  }
  addMutationBatch(e, t, s, o) {
    const l = this.tr;
    (this.tr++,
      this.mutationQueue.length > 0 &&
        this.mutationQueue[this.mutationQueue.length - 1]);
    const c = new FD(l, t, s, o);
    this.mutationQueue.push(c);
    for (const d of o)
      ((this.Zr = this.Zr.add(new rn(d.key, l))),
        this.indexManager.addToCollectionParentIndex(e, d.key.path.popLast()));
    return oe.resolve(c);
  }
  lookupMutationBatch(e, t) {
    return oe.resolve(this.Xr(t));
  }
  getNextMutationBatchAfterBatchId(e, t) {
    const s = t + 1,
      o = this.ei(s),
      l = o < 0 ? 0 : o;
    return oe.resolve(
      this.mutationQueue.length > l ? this.mutationQueue[l] : null,
    );
  }
  getHighestUnacknowledgedBatchId() {
    return oe.resolve(this.mutationQueue.length === 0 ? lD : this.tr - 1);
  }
  getAllMutationBatches(e) {
    return oe.resolve(this.mutationQueue.slice());
  }
  getAllMutationBatchesAffectingDocumentKey(e, t) {
    const s = new rn(t, 0),
      o = new rn(t, Number.POSITIVE_INFINITY),
      l = [];
    return (
      this.Zr.forEachInRange([s, o], (c) => {
        const d = this.Xr(c.Yr);
        l.push(d);
      }),
      oe.resolve(l)
    );
  }
  getAllMutationBatchesAffectingDocumentKeys(e, t) {
    let s = new Xt(et);
    return (
      t.forEach((o) => {
        const l = new rn(o, 0),
          c = new rn(o, Number.POSITIVE_INFINITY);
        this.Zr.forEachInRange([l, c], (d) => {
          s = s.add(d.Yr);
        });
      }),
      oe.resolve(this.ti(s))
    );
  }
  getAllMutationBatchesAffectingQuery(e, t) {
    const s = t.path,
      o = s.length + 1;
    let l = s;
    Oe.isDocumentKey(l) || (l = l.child(""));
    const c = new rn(new Oe(l), 0);
    let d = new Xt(et);
    return (
      this.Zr.forEachWhile((m) => {
        const g = m.key.path;
        return !!s.isPrefixOf(g) && (g.length === o && (d = d.add(m.Yr)), !0);
      }, c),
      oe.resolve(this.ti(d))
    );
  }
  ti(e) {
    const t = [];
    return (
      e.forEach((s) => {
        const o = this.Xr(s);
        o !== null && t.push(o);
      }),
      t
    );
  }
  removeMutationBatch(e, t) {
    (Nt(this.ni(t.batchId, "removed") === 0, 55003),
      this.mutationQueue.shift());
    let s = this.Zr;
    return oe
      .forEach(t.mutations, (o) => {
        const l = new rn(o.key, t.batchId);
        return (
          (s = s.delete(l)),
          this.referenceDelegate.markPotentiallyOrphaned(e, o.key)
        );
      })
      .next(() => {
        this.Zr = s;
      });
  }
  ir(e) {}
  containsKey(e, t) {
    const s = new rn(t, 0),
      o = this.Zr.firstAfterOrEqual(s);
    return oe.resolve(t.isEqual(o && o.key));
  }
  performConsistencyCheck(e) {
    return (this.mutationQueue.length, oe.resolve());
  }
  ni(e, t) {
    return this.ei(e);
  }
  ei(e) {
    return this.mutationQueue.length === 0
      ? 0
      : e - this.mutationQueue[0].batchId;
  }
  Xr(e) {
    const t = this.ei(e);
    return t < 0 || t >= this.mutationQueue.length
      ? null
      : this.mutationQueue[t];
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class wO {
  constructor(e) {
    ((this.ri = e),
      (this.docs = (function () {
        return new Ut(Oe.comparator);
      })()),
      (this.size = 0));
  }
  setIndexManager(e) {
    this.indexManager = e;
  }
  addEntry(e, t) {
    const s = t.key,
      o = this.docs.get(s),
      l = o ? o.size : 0,
      c = this.ri(t);
    return (
      (this.docs = this.docs.insert(s, { document: t.mutableCopy(), size: c })),
      (this.size += c - l),
      this.indexManager.addToCollectionParentIndex(e, s.path.popLast())
    );
  }
  removeEntry(e) {
    const t = this.docs.get(e);
    t && ((this.docs = this.docs.remove(e)), (this.size -= t.size));
  }
  getEntry(e, t) {
    const s = this.docs.get(t);
    return oe.resolve(s ? s.document.mutableCopy() : _n.newInvalidDocument(t));
  }
  getEntries(e, t) {
    let s = Vs();
    return (
      t.forEach((o) => {
        const l = this.docs.get(o);
        s = s.insert(
          o,
          l ? l.document.mutableCopy() : _n.newInvalidDocument(o),
        );
      }),
      oe.resolve(s)
    );
  }
  getDocumentsMatchingQuery(e, t, s, o) {
    let l = Vs();
    const c = t.path,
      d = new Oe(c.child("__id-9223372036854775808__")),
      m = this.docs.getIteratorFrom(d);
    for (; m.hasNext(); ) {
      const {
        key: g,
        value: { document: v },
      } = m.getNext();
      if (!c.isPrefixOf(g.path)) break;
      g.path.length > c.length + 1 ||
        iD(rD(v), s) <= 0 ||
        ((o.has(v.key) || hf(t, v)) && (l = l.insert(v.key, v.mutableCopy())));
    }
    return oe.resolve(l);
  }
  getAllFromCollectionGroup(e, t, s, o) {
    Be(9500);
  }
  ii(e, t) {
    return oe.forEach(this.docs, (s) => t(s));
  }
  newChangeBuffer(e) {
    return new AO(this);
  }
  getSize(e) {
    return oe.resolve(this.size);
  }
}
class AO extends yO {
  constructor(e) {
    (super(), (this.Nr = e));
  }
  applyChanges(e) {
    const t = [];
    return (
      this.changes.forEach((s, o) => {
        o.isValidDocument()
          ? t.push(this.Nr.addEntry(e, o))
          : this.Nr.removeEntry(s);
      }),
      oe.waitFor(t)
    );
  }
  getFromCache(e, t) {
    return this.Nr.getEntry(e, t);
  }
  getAllFromCache(e, t) {
    return this.Nr.getEntries(e, t);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class RO {
  constructor(e) {
    ((this.persistence = e),
      (this.si = new xa((t) => Qm(t), Xm)),
      (this.lastRemoteSnapshotVersion = ze.min()),
      (this.highestTargetId = 0),
      (this.oi = 0),
      (this._i = new tg()),
      (this.targetCount = 0),
      (this.ai = ko.ur()));
  }
  forEachTarget(e, t) {
    return (this.si.forEach((s, o) => t(o)), oe.resolve());
  }
  getLastRemoteSnapshotVersion(e) {
    return oe.resolve(this.lastRemoteSnapshotVersion);
  }
  getHighestSequenceNumber(e) {
    return oe.resolve(this.oi);
  }
  allocateTargetId(e) {
    return (
      (this.highestTargetId = this.ai.next()),
      oe.resolve(this.highestTargetId)
    );
  }
  setTargetsMetadata(e, t, s) {
    return (
      s && (this.lastRemoteSnapshotVersion = s),
      t > this.oi && (this.oi = t),
      oe.resolve()
    );
  }
  Pr(e) {
    this.si.set(e.target, e);
    const t = e.targetId;
    (t > this.highestTargetId &&
      ((this.ai = new ko(t)), (this.highestTargetId = t)),
      e.sequenceNumber > this.oi && (this.oi = e.sequenceNumber));
  }
  addTargetData(e, t) {
    return (this.Pr(t), (this.targetCount += 1), oe.resolve());
  }
  updateTargetData(e, t) {
    return (this.Pr(t), oe.resolve());
  }
  removeTargetData(e, t) {
    return (
      this.si.delete(t.target),
      this._i.jr(t.targetId),
      (this.targetCount -= 1),
      oe.resolve()
    );
  }
  removeTargets(e, t, s) {
    let o = 0;
    const l = [];
    return (
      this.si.forEach((c, d) => {
        d.sequenceNumber <= t &&
          s.get(d.targetId) === null &&
          (this.si.delete(c),
          l.push(this.removeMatchingKeysForTargetId(e, d.targetId)),
          o++);
      }),
      oe.waitFor(l).next(() => o)
    );
  }
  getTargetCount(e) {
    return oe.resolve(this.targetCount);
  }
  getTargetData(e, t) {
    const s = this.si.get(t) || null;
    return oe.resolve(s);
  }
  addMatchingKeys(e, t, s) {
    return (this._i.Wr(t, s), oe.resolve());
  }
  removeMatchingKeys(e, t, s) {
    this._i.zr(t, s);
    const o = this.persistence.referenceDelegate,
      l = [];
    return (
      o &&
        t.forEach((c) => {
          l.push(o.markPotentiallyOrphaned(e, c));
        }),
      oe.waitFor(l)
    );
  }
  removeMatchingKeysForTargetId(e, t) {
    return (this._i.jr(t), oe.resolve());
  }
  getMatchingKeysForTargetId(e, t) {
    const s = this._i.Hr(t);
    return oe.resolve(s);
  }
  containsKey(e, t) {
    return oe.resolve(this._i.containsKey(t));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class mb {
  constructor(e, t) {
    ((this.ui = {}),
      (this.overlays = {}),
      (this.ci = new of(0)),
      (this.li = !1),
      (this.li = !0),
      (this.hi = new SO()),
      (this.referenceDelegate = e(this)),
      (this.Pi = new RO(this)),
      (this.indexManager = new cO()),
      (this.remoteDocumentCache = (function (o) {
        return new wO(o);
      })((s) => this.referenceDelegate.Ti(s))),
      (this.serializer = new lO(t)),
      (this.Ii = new EO(this.serializer)));
  }
  start() {
    return Promise.resolve();
  }
  shutdown() {
    return ((this.li = !1), Promise.resolve());
  }
  get started() {
    return this.li;
  }
  setDatabaseDeletedListener() {}
  setNetworkEnabled() {}
  getIndexManager(e) {
    return this.indexManager;
  }
  getDocumentOverlayCache(e) {
    let t = this.overlays[e.toKey()];
    return (t || ((t = new TO()), (this.overlays[e.toKey()] = t)), t);
  }
  getMutationQueue(e, t) {
    let s = this.ui[e.toKey()];
    return (
      s || ((s = new bO(t, this.referenceDelegate)), (this.ui[e.toKey()] = s)),
      s
    );
  }
  getGlobalsCache() {
    return this.hi;
  }
  getTargetCache() {
    return this.Pi;
  }
  getRemoteDocumentCache() {
    return this.remoteDocumentCache;
  }
  getBundleCache() {
    return this.Ii;
  }
  runTransaction(e, t, s) {
    ve("MemoryPersistence", "Starting transaction:", e);
    const o = new CO(this.ci.next());
    return (
      this.referenceDelegate.Ei(),
      s(o)
        .next((l) => this.referenceDelegate.di(o).next(() => l))
        .toPromise()
        .then((l) => (o.raiseOnCommittedEvent(), l))
    );
  }
  Ai(e, t) {
    return oe.or(Object.values(this.ui).map((s) => () => s.containsKey(e, t)));
  }
}
class CO extends aD {
  constructor(e) {
    (super(), (this.currentSequenceNumber = e));
  }
}
class ng {
  constructor(e) {
    ((this.persistence = e), (this.Ri = new tg()), (this.Vi = null));
  }
  static mi(e) {
    return new ng(e);
  }
  get fi() {
    if (this.Vi) return this.Vi;
    throw Be(60996);
  }
  addReference(e, t, s) {
    return (
      this.Ri.addReference(s, t),
      this.fi.delete(s.toString()),
      oe.resolve()
    );
  }
  removeReference(e, t, s) {
    return (
      this.Ri.removeReference(s, t),
      this.fi.add(s.toString()),
      oe.resolve()
    );
  }
  markPotentiallyOrphaned(e, t) {
    return (this.fi.add(t.toString()), oe.resolve());
  }
  removeTarget(e, t) {
    this.Ri.jr(t.targetId).forEach((o) => this.fi.add(o.toString()));
    const s = this.persistence.getTargetCache();
    return s
      .getMatchingKeysForTargetId(e, t.targetId)
      .next((o) => {
        o.forEach((l) => this.fi.add(l.toString()));
      })
      .next(() => s.removeTargetData(e, t));
  }
  Ei() {
    this.Vi = new Set();
  }
  di(e) {
    const t = this.persistence.getRemoteDocumentCache().newChangeBuffer();
    return oe
      .forEach(this.fi, (s) => {
        const o = Oe.fromPath(s);
        return this.gi(e, o).next((l) => {
          l || t.removeEntry(o, ze.min());
        });
      })
      .next(() => ((this.Vi = null), t.apply(e)));
  }
  updateLimboDocument(e, t) {
    return this.gi(e, t).next((s) => {
      s ? this.fi.delete(t.toString()) : this.fi.add(t.toString());
    });
  }
  Ti(e) {
    return 0;
  }
  gi(e, t) {
    return oe.or([
      () => oe.resolve(this.Ri.containsKey(t)),
      () => this.persistence.getTargetCache().containsKey(e, t),
      () => this.persistence.Ai(e, t),
    ]);
  }
}
class qh {
  constructor(e, t) {
    ((this.persistence = e),
      (this.pi = new xa(
        (s) => cD(s.path),
        (s, o) => s.isEqual(o),
      )),
      (this.garbageCollector = gO(this, t)));
  }
  static mi(e, t) {
    return new qh(e, t);
  }
  Ei() {}
  di(e) {
    return oe.resolve();
  }
  forEachTarget(e, t) {
    return this.persistence.getTargetCache().forEachTarget(e, t);
  }
  gr(e) {
    const t = this.wr(e);
    return this.persistence
      .getTargetCache()
      .getTargetCount(e)
      .next((s) => t.next((o) => s + o));
  }
  wr(e) {
    let t = 0;
    return this.pr(e, (s) => {
      t++;
    }).next(() => t);
  }
  pr(e, t) {
    return oe.forEach(this.pi, (s, o) =>
      this.br(e, s, o).next((l) => (l ? oe.resolve() : t(o))),
    );
  }
  removeTargets(e, t, s) {
    return this.persistence.getTargetCache().removeTargets(e, t, s);
  }
  removeOrphanedDocuments(e, t) {
    let s = 0;
    const o = this.persistence.getRemoteDocumentCache(),
      l = o.newChangeBuffer();
    return o
      .ii(e, (c) =>
        this.br(e, c, t).next((d) => {
          d || (s++, l.removeEntry(c, ze.min()));
        }),
      )
      .next(() => l.apply(e))
      .next(() => s);
  }
  markPotentiallyOrphaned(e, t) {
    return (this.pi.set(t, e.currentSequenceNumber), oe.resolve());
  }
  removeTarget(e, t) {
    const s = t.withSequenceNumber(e.currentSequenceNumber);
    return this.persistence.getTargetCache().updateTargetData(e, s);
  }
  addReference(e, t, s) {
    return (this.pi.set(s, e.currentSequenceNumber), oe.resolve());
  }
  removeReference(e, t, s) {
    return (this.pi.set(s, e.currentSequenceNumber), oe.resolve());
  }
  updateLimboDocument(e, t) {
    return (this.pi.set(t, e.currentSequenceNumber), oe.resolve());
  }
  Ti(e) {
    let t = e.key.toString().length;
    return (e.isFoundDocument() && (t += Sh(e.data.value)), t);
  }
  br(e, t, s) {
    return oe.or([
      () => this.persistence.Ai(e, t),
      () => this.persistence.getTargetCache().containsKey(e, t),
      () => {
        const o = this.pi.get(t);
        return oe.resolve(o !== void 0 && o > s);
      },
    ]);
  }
  getCacheSize(e) {
    return this.persistence.getRemoteDocumentCache().getSize(e);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class rg {
  constructor(e, t, s, o) {
    ((this.targetId = e), (this.fromCache = t), (this.Es = s), (this.ds = o));
  }
  static As(e, t) {
    let s = at(),
      o = at();
    for (const l of t.docChanges)
      switch (l.type) {
        case 0:
          s = s.add(l.doc.key);
          break;
        case 1:
          o = o.add(l.doc.key);
      }
    return new rg(e, t.fromCache, s, o);
  }
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class IO {
  constructor() {
    this._documentReadCount = 0;
  }
  get documentReadCount() {
    return this._documentReadCount;
  }
  incrementDocumentReadCount(e) {
    this._documentReadCount += e;
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class xO {
  constructor() {
    ((this.Rs = !1),
      (this.Vs = !1),
      (this.fs = 100),
      (this.gs = (function () {
        return hC() ? 8 : oD(Tn()) > 0 ? 6 : 4;
      })()));
  }
  initialize(e, t) {
    ((this.ps = e), (this.indexManager = t), (this.Rs = !0));
  }
  getDocumentsMatchingQuery(e, t, s, o) {
    const l = { result: null };
    return this.ys(e, t)
      .next((c) => {
        l.result = c;
      })
      .next(() => {
        if (!l.result)
          return this.ws(e, t, o, s).next((c) => {
            l.result = c;
          });
      })
      .next(() => {
        if (l.result) return;
        const c = new IO();
        return this.Ss(e, t, c).next((d) => {
          if (((l.result = d), this.Vs)) return this.bs(e, t, c, d.size);
        });
      })
      .next(() => l.result);
  }
  bs(e, t, s, o) {
    return s.documentReadCount < this.fs
      ? (_o() <= Je.DEBUG &&
          ve(
            "QueryEngine",
            "SDK will not create cache indexes for query:",
            Eo(t),
            "since it only creates cache indexes for collection contains",
            "more than or equal to",
            this.fs,
            "documents",
          ),
        oe.resolve())
      : (_o() <= Je.DEBUG &&
          ve(
            "QueryEngine",
            "Query:",
            Eo(t),
            "scans",
            s.documentReadCount,
            "local documents and returns",
            o,
            "documents as results.",
          ),
        s.documentReadCount > this.gs * o
          ? (_o() <= Je.DEBUG &&
              ve(
                "QueryEngine",
                "The SDK decides to create cache indexes for query:",
                Eo(t),
                "as using cache indexes may help improve performance.",
              ),
            this.indexManager.createTargetIndexes(e, ni(t)))
          : oe.resolve());
  }
  ys(e, t) {
    if (n0(t)) return oe.resolve(null);
    let s = ni(t);
    return this.indexManager.getIndexType(e, s).next((o) =>
      o === 0
        ? null
        : (t.limit !== null && o === 1 && ((t = um(t, null, "F")), (s = ni(t))),
          this.indexManager.getDocumentsMatchingTarget(e, s).next((l) => {
            const c = at(...l);
            return this.ps.getDocuments(e, c).next((d) =>
              this.indexManager.getMinOffset(e, s).next((m) => {
                const g = this.Ds(t, d);
                return this.Cs(t, g, c, m.readTime)
                  ? this.ys(e, um(t, null, "F"))
                  : this.vs(e, g, t, m);
              }),
            );
          })),
    );
  }
  ws(e, t, s, o) {
    return n0(t) || o.isEqual(ze.min())
      ? oe.resolve(null)
      : this.ps.getDocuments(e, s).next((l) => {
          const c = this.Ds(t, l);
          return this.Cs(t, c, s, o)
            ? oe.resolve(null)
            : (_o() <= Je.DEBUG &&
                ve(
                  "QueryEngine",
                  "Re-using previous result from %s to execute query: %s",
                  o.toString(),
                  Eo(t),
                ),
              this.vs(e, c, t, nD(o, Eu)).next((d) => d));
        });
  }
  Ds(e, t) {
    let s = new Xt(YS(e));
    return (
      t.forEach((o, l) => {
        hf(e, l) && (s = s.add(l));
      }),
      s
    );
  }
  Cs(e, t, s, o) {
    if (e.limit === null) return !1;
    if (s.size !== t.size) return !0;
    const l = e.limitType === "F" ? t.last() : t.first();
    return !!l && (l.hasPendingWrites || l.version.compareTo(o) > 0);
  }
  Ss(e, t, s) {
    return (
      _o() <= Je.DEBUG &&
        ve(
          "QueryEngine",
          "Using full collection scan to execute query:",
          Eo(t),
        ),
      this.ps.getDocumentsMatchingQuery(e, t, Os.min(), s)
    );
  }
  vs(e, t, s, o) {
    return this.ps.getDocumentsMatchingQuery(e, s, o).next(
      (l) => (
        t.forEach((c) => {
          l = l.insert(c.key, c);
        }),
        l
      ),
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const ig = "LocalStore",
  NO = 3e8;
class DO {
  constructor(e, t, s, o) {
    ((this.persistence = e),
      (this.Fs = t),
      (this.serializer = o),
      (this.Ms = new Ut(et)),
      (this.xs = new xa((l) => Qm(l), Xm)),
      (this.Os = new Map()),
      (this.Ns = e.getRemoteDocumentCache()),
      (this.Pi = e.getTargetCache()),
      (this.Ii = e.getBundleCache()),
      this.Bs(s));
  }
  Bs(e) {
    ((this.documentOverlayCache = this.persistence.getDocumentOverlayCache(e)),
      (this.indexManager = this.persistence.getIndexManager(e)),
      (this.mutationQueue = this.persistence.getMutationQueue(
        e,
        this.indexManager,
      )),
      (this.localDocuments = new _O(
        this.Ns,
        this.mutationQueue,
        this.documentOverlayCache,
        this.indexManager,
      )),
      this.Ns.setIndexManager(this.indexManager),
      this.Fs.initialize(this.localDocuments, this.indexManager));
  }
  collectGarbage(e) {
    return this.persistence.runTransaction(
      "Collect garbage",
      "readwrite-primary",
      (t) => e.collect(t, this.Ms),
    );
  }
}
function OO(r, e, t, s) {
  return new DO(r, e, t, s);
}
async function gb(r, e) {
  const t = st(r);
  return await t.persistence.runTransaction(
    "Handle user change",
    "readonly",
    (s) => {
      let o;
      return t.mutationQueue
        .getAllMutationBatches(s)
        .next(
          (l) => ((o = l), t.Bs(e), t.mutationQueue.getAllMutationBatches(s)),
        )
        .next((l) => {
          const c = [],
            d = [];
          let m = at();
          for (const g of o) {
            c.push(g.batchId);
            for (const v of g.mutations) m = m.add(v.key);
          }
          for (const g of l) {
            d.push(g.batchId);
            for (const v of g.mutations) m = m.add(v.key);
          }
          return t.localDocuments
            .getDocuments(s, m)
            .next((g) => ({ Ls: g, removedBatchIds: c, addedBatchIds: d }));
        });
    },
  );
}
function yb(r) {
  const e = st(r);
  return e.persistence.runTransaction(
    "Get last remote snapshot version",
    "readonly",
    (t) => e.Pi.getLastRemoteSnapshotVersion(t),
  );
}
function MO(r, e) {
  const t = st(r),
    s = e.snapshotVersion;
  let o = t.Ms;
  return t.persistence
    .runTransaction("Apply remote event", "readwrite-primary", (l) => {
      const c = t.Ns.newChangeBuffer({ trackRemovals: !0 });
      o = t.Ms;
      const d = [];
      e.targetChanges.forEach((v, T) => {
        const b = o.get(T);
        if (!b) return;
        d.push(
          t.Pi.removeMatchingKeys(l, v.removedDocuments, T).next(() =>
            t.Pi.addMatchingKeys(l, v.addedDocuments, T),
          ),
        );
        let A = b.withSequenceNumber(l.currentSequenceNumber);
        (e.targetMismatches.get(T) !== null
          ? (A = A.withResumeToken(
              fn.EMPTY_BYTE_STRING,
              ze.min(),
            ).withLastLimboFreeSnapshotVersion(ze.min()))
          : v.resumeToken.approximateByteSize() > 0 &&
            (A = A.withResumeToken(v.resumeToken, s)),
          (o = o.insert(T, A)),
          (function (J, B, Q) {
            return J.resumeToken.approximateByteSize() === 0 ||
              B.snapshotVersion.toMicroseconds() -
                J.snapshotVersion.toMicroseconds() >=
                NO
              ? !0
              : Q.addedDocuments.size +
                  Q.modifiedDocuments.size +
                  Q.removedDocuments.size >
                  0;
          })(b, A, v) && d.push(t.Pi.updateTargetData(l, A)));
      });
      let m = Vs(),
        g = at();
      if (
        (e.documentUpdates.forEach((v) => {
          e.resolvedLimboDocuments.has(v) &&
            d.push(t.persistence.referenceDelegate.updateLimboDocument(l, v));
        }),
        d.push(
          PO(l, c, e.documentUpdates).next((v) => {
            ((m = v.ks), (g = v.qs));
          }),
        ),
        !s.isEqual(ze.min()))
      ) {
        const v = t.Pi.getLastRemoteSnapshotVersion(l).next((T) =>
          t.Pi.setTargetsMetadata(l, l.currentSequenceNumber, s),
        );
        d.push(v);
      }
      return oe
        .waitFor(d)
        .next(() => c.apply(l))
        .next(() => t.localDocuments.getLocalViewOfDocuments(l, m, g))
        .next(() => m);
    })
    .then((l) => ((t.Ms = o), l));
}
function PO(r, e, t) {
  let s = at(),
    o = at();
  return (
    t.forEach((l) => (s = s.add(l))),
    e.getEntries(r, s).next((l) => {
      let c = Vs();
      return (
        t.forEach((d, m) => {
          const g = l.get(d);
          (m.isFoundDocument() !== g.isFoundDocument() && (o = o.add(d)),
            m.isNoDocument() && m.version.isEqual(ze.min())
              ? (e.removeEntry(d, m.readTime), (c = c.insert(d, m)))
              : !g.isValidDocument() ||
                  m.version.compareTo(g.version) > 0 ||
                  (m.version.compareTo(g.version) === 0 && g.hasPendingWrites)
                ? (e.addEntry(m), (c = c.insert(d, m)))
                : ve(
                    ig,
                    "Ignoring outdated watch update for ",
                    d,
                    ". Current version:",
                    g.version,
                    " Watch version:",
                    m.version,
                  ));
        }),
        { ks: c, qs: o }
      );
    })
  );
}
function LO(r, e) {
  const t = st(r);
  return t.persistence
    .runTransaction("Allocate target", "readwrite", (s) => {
      let o;
      return t.Pi.getTargetData(s, e).next((l) =>
        l
          ? ((o = l), oe.resolve(o))
          : t.Pi.allocateTargetId(s).next(
              (c) => (
                (o = new Rs(
                  e,
                  c,
                  "TargetPurposeListen",
                  s.currentSequenceNumber,
                )),
                t.Pi.addTargetData(s, o).next(() => o)
              ),
            ),
      );
    })
    .then((s) => {
      const o = t.Ms.get(s.targetId);
      return (
        (o === null || s.snapshotVersion.compareTo(o.snapshotVersion) > 0) &&
          ((t.Ms = t.Ms.insert(s.targetId, s)), t.xs.set(e, s.targetId)),
        s
      );
    });
}
async function mm(r, e, t) {
  const s = st(r),
    o = s.Ms.get(e),
    l = t ? "readwrite" : "readwrite-primary";
  try {
    t ||
      (await s.persistence.runTransaction("Release target", l, (c) =>
        s.persistence.referenceDelegate.removeTarget(c, o),
      ));
  } catch (c) {
    if (!$o(c)) throw c;
    ve(ig, `Failed to update sequence numbers for target ${e}: ${c}`);
  }
  ((s.Ms = s.Ms.remove(e)), s.xs.delete(o.target));
}
function m0(r, e, t) {
  const s = st(r);
  let o = ze.min(),
    l = at();
  return s.persistence.runTransaction("Execute query", "readwrite", (c) =>
    (function (m, g, v) {
      const T = st(m),
        b = T.xs.get(v);
      return b !== void 0 ? oe.resolve(T.Ms.get(b)) : T.Pi.getTargetData(g, v);
    })(s, c, ni(e))
      .next((d) => {
        if (d)
          return (
            (o = d.lastLimboFreeSnapshotVersion),
            s.Pi.getMatchingKeysForTargetId(c, d.targetId).next((m) => {
              l = m;
            })
          );
      })
      .next(() =>
        s.Fs.getDocumentsMatchingQuery(c, e, t ? o : ze.min(), t ? l : at()),
      )
      .next((d) => (VO(s, xD(e), d), { documents: d, Qs: l })),
  );
}
function VO(r, e, t) {
  let s = r.Os.get(e) || ze.min();
  (t.forEach((o, l) => {
    l.readTime.compareTo(s) > 0 && (s = l.readTime);
  }),
    r.Os.set(e, s));
}
class g0 {
  constructor() {
    this.activeTargetIds = LD();
  }
  zs(e) {
    this.activeTargetIds = this.activeTargetIds.add(e);
  }
  js(e) {
    this.activeTargetIds = this.activeTargetIds.delete(e);
  }
  Gs() {
    const e = {
      activeTargetIds: this.activeTargetIds.toArray(),
      updateTimeMs: Date.now(),
    };
    return JSON.stringify(e);
  }
}
class UO {
  constructor() {
    ((this.Mo = new g0()),
      (this.xo = {}),
      (this.onlineStateHandler = null),
      (this.sequenceNumberHandler = null));
  }
  addPendingMutation(e) {}
  updateMutationState(e, t, s) {}
  addLocalQueryTarget(e, t = !0) {
    return (t && this.Mo.zs(e), this.xo[e] || "not-current");
  }
  updateQueryState(e, t, s) {
    this.xo[e] = t;
  }
  removeLocalQueryTarget(e) {
    this.Mo.js(e);
  }
  isLocalQueryTarget(e) {
    return this.Mo.activeTargetIds.has(e);
  }
  clearQueryState(e) {
    delete this.xo[e];
  }
  getAllActiveQueryTargets() {
    return this.Mo.activeTargetIds;
  }
  isActiveQueryTarget(e) {
    return this.Mo.activeTargetIds.has(e);
  }
  start() {
    return ((this.Mo = new g0()), Promise.resolve());
  }
  handleUserChange(e, t, s) {}
  setOnlineState(e) {}
  shutdown() {}
  writeSequenceNumber(e) {}
  notifyBundleLoaded(e) {}
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class kO {
  Oo(e) {}
  shutdown() {}
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const y0 = "ConnectivityMonitor";
class v0 {
  constructor() {
    ((this.No = () => this.Bo()),
      (this.Lo = () => this.ko()),
      (this.qo = []),
      this.Qo());
  }
  Oo(e) {
    this.qo.push(e);
  }
  shutdown() {
    (window.removeEventListener("online", this.No),
      window.removeEventListener("offline", this.Lo));
  }
  Qo() {
    (window.addEventListener("online", this.No),
      window.addEventListener("offline", this.Lo));
  }
  Bo() {
    ve(y0, "Network connectivity changed: AVAILABLE");
    for (const e of this.qo) e(0);
  }
  ko() {
    ve(y0, "Network connectivity changed: UNAVAILABLE");
    for (const e of this.qo) e(1);
  }
  static v() {
    return (
      typeof window < "u" &&
      window.addEventListener !== void 0 &&
      window.removeEventListener !== void 0
    );
  }
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let lh = null;
function gm() {
  return (
    lh === null
      ? (lh = (function () {
          return 268435456 + Math.round(2147483648 * Math.random());
        })())
      : lh++,
    "0x" + lh.toString(16)
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Vp = "RestConnection",
  jO = {
    BatchGetDocuments: "batchGet",
    Commit: "commit",
    RunQuery: "runQuery",
    RunAggregationQuery: "runAggregationQuery",
  };
class zO {
  get $o() {
    return !1;
  }
  constructor(e) {
    ((this.databaseInfo = e), (this.databaseId = e.databaseId));
    const t = e.ssl ? "https" : "http",
      s = encodeURIComponent(this.databaseId.projectId),
      o = encodeURIComponent(this.databaseId.database);
    ((this.Uo = t + "://" + e.host),
      (this.Ko = `projects/${s}/databases/${o}`),
      (this.Wo =
        this.databaseId.database === kh
          ? `project_id=${s}`
          : `project_id=${s}&database_id=${o}`));
  }
  Go(e, t, s, o, l) {
    const c = gm(),
      d = this.zo(e, t.toUriEncodedString());
    ve(Vp, `Sending RPC '${e}' ${c}:`, d, s);
    const m = {
      "google-cloud-resource-prefix": this.Ko,
      "x-goog-request-params": this.Wo,
    };
    this.jo(m, o, l);
    const { host: g } = new URL(d),
      v = Ho(g);
    return this.Jo(e, d, m, s, v).then(
      (T) => (ve(Vp, `Received RPC '${e}' ${c}: `, T), T),
      (T) => {
        throw (
          Po(
            Vp,
            `RPC '${e}' ${c} failed with error: `,
            T,
            "url: ",
            d,
            "request:",
            s,
          ),
          T
        );
      },
    );
  }
  Ho(e, t, s, o, l, c) {
    return this.Go(e, t, s, o, l);
  }
  jo(e, t, s) {
    ((e["X-Goog-Api-Client"] = (function () {
      return "gl-js/ fire/" + Go;
    })()),
      (e["Content-Type"] = "text/plain"),
      this.databaseInfo.appId &&
        (e["X-Firebase-GMPID"] = this.databaseInfo.appId),
      t && t.headers.forEach((o, l) => (e[l] = o)),
      s && s.headers.forEach((o, l) => (e[l] = o)));
  }
  zo(e, t) {
    const s = jO[e];
    return `${this.Uo}/v1/${t}:${s}`;
  }
  terminate() {}
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class BO {
  constructor(e) {
    ((this.Yo = e.Yo), (this.Zo = e.Zo));
  }
  Xo(e) {
    this.e_ = e;
  }
  t_(e) {
    this.n_ = e;
  }
  r_(e) {
    this.i_ = e;
  }
  onMessage(e) {
    this.s_ = e;
  }
  close() {
    this.Zo();
  }
  send(e) {
    this.Yo(e);
  }
  o_() {
    this.e_();
  }
  __() {
    this.n_();
  }
  a_(e) {
    this.i_(e);
  }
  u_(e) {
    this.s_(e);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const yn = "WebChannelConnection";
class HO extends zO {
  constructor(e) {
    (super(e),
      (this.c_ = []),
      (this.forceLongPolling = e.forceLongPolling),
      (this.autoDetectLongPolling = e.autoDetectLongPolling),
      (this.useFetchStreams = e.useFetchStreams),
      (this.longPollingOptions = e.longPollingOptions));
  }
  Jo(e, t, s, o, l) {
    const c = gm();
    return new Promise((d, m) => {
      const g = new TS();
      (g.setWithCredentials(!0),
        g.listenOnce(SS.COMPLETE, () => {
          try {
            switch (g.getLastErrorCode()) {
              case Th.NO_ERROR:
                const T = g.getResponseJson();
                (ve(yn, `XHR for RPC '${e}' ${c} received:`, JSON.stringify(T)),
                  d(T));
                break;
              case Th.TIMEOUT:
                (ve(yn, `RPC '${e}' ${c} timed out`),
                  m(new Se(de.DEADLINE_EXCEEDED, "Request time out")));
                break;
              case Th.HTTP_ERROR:
                const b = g.getStatus();
                if (
                  (ve(
                    yn,
                    `RPC '${e}' ${c} failed with status:`,
                    b,
                    "response text:",
                    g.getResponseText(),
                  ),
                  b > 0)
                ) {
                  let A = g.getResponseJson();
                  Array.isArray(A) && (A = A[0]);
                  const D = A?.error;
                  if (D && D.status && D.message) {
                    const J = (function (Q) {
                      const Z = Q.toLowerCase().replace(/_/g, "-");
                      return Object.values(de).indexOf(Z) >= 0 ? Z : de.UNKNOWN;
                    })(D.status);
                    m(new Se(J, D.message));
                  } else
                    m(
                      new Se(
                        de.UNKNOWN,
                        "Server responded with status " + g.getStatus(),
                      ),
                    );
                } else m(new Se(de.UNAVAILABLE, "Connection failed."));
                break;
              default:
                Be(9055, {
                  l_: e,
                  streamId: c,
                  h_: g.getLastErrorCode(),
                  P_: g.getLastError(),
                });
            }
          } finally {
            ve(yn, `RPC '${e}' ${c} completed.`);
          }
        }));
      const v = JSON.stringify(o);
      (ve(yn, `RPC '${e}' ${c} sending request:`, o),
        g.send(t, "POST", v, s, 15));
    });
  }
  T_(e, t, s) {
    const o = gm(),
      l = [this.Uo, "/", "google.firestore.v1.Firestore", "/", e, "/channel"],
      c = AS(),
      d = wS(),
      m = {
        httpSessionIdParam: "gsessionid",
        initMessageHeaders: {},
        messageUrlParams: {
          database: `projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`,
        },
        sendRawJson: !0,
        supportsCrossDomainXhr: !0,
        internalChannelParams: { forwardChannelRequestTimeoutMs: 6e5 },
        forceLongPolling: this.forceLongPolling,
        detectBufferingProxy: this.autoDetectLongPolling,
      },
      g = this.longPollingOptions.timeoutSeconds;
    (g !== void 0 && (m.longPollingTimeout = Math.round(1e3 * g)),
      this.useFetchStreams && (m.useFetchStreams = !0),
      this.jo(m.initMessageHeaders, t, s),
      (m.encodeInitMessageHeaders = !0));
    const v = l.join("");
    ve(yn, `Creating RPC '${e}' stream ${o}: ${v}`, m);
    const T = c.createWebChannel(v, m);
    this.I_(T);
    let b = !1,
      A = !1;
    const D = new BO({
        Yo: (B) => {
          A
            ? ve(yn, `Not sending because RPC '${e}' stream ${o} is closed:`, B)
            : (b ||
                (ve(yn, `Opening RPC '${e}' stream ${o} transport.`),
                T.open(),
                (b = !0)),
              ve(yn, `RPC '${e}' stream ${o} sending:`, B),
              T.send(B));
        },
        Zo: () => T.close(),
      }),
      J = (B, Q, Z) => {
        B.listen(Q, (ie) => {
          try {
            Z(ie);
          } catch (pe) {
            setTimeout(() => {
              throw pe;
            }, 0);
          }
        });
      };
    return (
      J(T, iu.EventType.OPEN, () => {
        A || (ve(yn, `RPC '${e}' stream ${o} transport opened.`), D.o_());
      }),
      J(T, iu.EventType.CLOSE, () => {
        A ||
          ((A = !0),
          ve(yn, `RPC '${e}' stream ${o} transport closed`),
          D.a_(),
          this.E_(T));
      }),
      J(T, iu.EventType.ERROR, (B) => {
        A ||
          ((A = !0),
          Po(
            yn,
            `RPC '${e}' stream ${o} transport errored. Name:`,
            B.name,
            "Message:",
            B.message,
          ),
          D.a_(new Se(de.UNAVAILABLE, "The operation could not be completed")));
      }),
      J(T, iu.EventType.MESSAGE, (B) => {
        if (!A) {
          const Q = B.data[0];
          Nt(!!Q, 16349);
          const Z = Q,
            ie = Z?.error || Z[0]?.error;
          if (ie) {
            ve(yn, `RPC '${e}' stream ${o} received error:`, ie);
            const pe = ie.status;
            let le = (function (R) {
                const C = Ft[R];
                if (C !== void 0) return rb(C);
              })(pe),
              k = ie.message;
            (le === void 0 &&
              ((le = de.INTERNAL),
              (k =
                "Unknown error status: " + pe + " with message " + ie.message)),
              (A = !0),
              D.a_(new Se(le, k)),
              T.close());
          } else (ve(yn, `RPC '${e}' stream ${o} received:`, Q), D.u_(Q));
        }
      }),
      J(d, bS.STAT_EVENT, (B) => {
        B.stat === tm.PROXY
          ? ve(yn, `RPC '${e}' stream ${o} detected buffering proxy`)
          : B.stat === tm.NOPROXY &&
            ve(yn, `RPC '${e}' stream ${o} detected no buffering proxy`);
      }),
      setTimeout(() => {
        D.__();
      }, 0),
      D
    );
  }
  terminate() {
    (this.c_.forEach((e) => e.close()), (this.c_ = []));
  }
  I_(e) {
    this.c_.push(e);
  }
  E_(e) {
    this.c_ = this.c_.filter((t) => t === e);
  }
}
function Up() {
  return typeof document < "u" ? document : null;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function mf(r) {
  return new JD(r, !0);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class vb {
  constructor(e, t, s = 1e3, o = 1.5, l = 6e4) {
    ((this.Mi = e),
      (this.timerId = t),
      (this.d_ = s),
      (this.A_ = o),
      (this.R_ = l),
      (this.V_ = 0),
      (this.m_ = null),
      (this.f_ = Date.now()),
      this.reset());
  }
  reset() {
    this.V_ = 0;
  }
  g_() {
    this.V_ = this.R_;
  }
  p_(e) {
    this.cancel();
    const t = Math.floor(this.V_ + this.y_()),
      s = Math.max(0, Date.now() - this.f_),
      o = Math.max(0, t - s);
    (o > 0 &&
      ve(
        "ExponentialBackoff",
        `Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`,
      ),
      (this.m_ = this.Mi.enqueueAfterDelay(
        this.timerId,
        o,
        () => ((this.f_ = Date.now()), e()),
      )),
      (this.V_ *= this.A_),
      this.V_ < this.d_ && (this.V_ = this.d_),
      this.V_ > this.R_ && (this.V_ = this.R_));
  }
  w_() {
    this.m_ !== null && (this.m_.skipDelay(), (this.m_ = null));
  }
  cancel() {
    this.m_ !== null && (this.m_.cancel(), (this.m_ = null));
  }
  y_() {
    return (Math.random() - 0.5) * this.V_;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const _0 = "PersistentStream";
class FO {
  constructor(e, t, s, o, l, c, d, m) {
    ((this.Mi = e),
      (this.S_ = s),
      (this.b_ = o),
      (this.connection = l),
      (this.authCredentialsProvider = c),
      (this.appCheckCredentialsProvider = d),
      (this.listener = m),
      (this.state = 0),
      (this.D_ = 0),
      (this.C_ = null),
      (this.v_ = null),
      (this.stream = null),
      (this.F_ = 0),
      (this.M_ = new vb(e, t)));
  }
  x_() {
    return this.state === 1 || this.state === 5 || this.O_();
  }
  O_() {
    return this.state === 2 || this.state === 3;
  }
  start() {
    ((this.F_ = 0), this.state !== 4 ? this.auth() : this.N_());
  }
  async stop() {
    this.x_() && (await this.close(0));
  }
  B_() {
    ((this.state = 0), this.M_.reset());
  }
  L_() {
    this.O_() &&
      this.C_ === null &&
      (this.C_ = this.Mi.enqueueAfterDelay(this.S_, 6e4, () => this.k_()));
  }
  q_(e) {
    (this.Q_(), this.stream.send(e));
  }
  async k_() {
    if (this.O_()) return this.close(0);
  }
  Q_() {
    this.C_ && (this.C_.cancel(), (this.C_ = null));
  }
  U_() {
    this.v_ && (this.v_.cancel(), (this.v_ = null));
  }
  async close(e, t) {
    (this.Q_(),
      this.U_(),
      this.M_.cancel(),
      this.D_++,
      e !== 4
        ? this.M_.reset()
        : t && t.code === de.RESOURCE_EXHAUSTED
          ? (Vi(t.toString()),
            Vi(
              "Using maximum backoff delay to prevent overloading the backend.",
            ),
            this.M_.g_())
          : t &&
            t.code === de.UNAUTHENTICATED &&
            this.state !== 3 &&
            (this.authCredentialsProvider.invalidateToken(),
            this.appCheckCredentialsProvider.invalidateToken()),
      this.stream !== null &&
        (this.K_(), this.stream.close(), (this.stream = null)),
      (this.state = e),
      await this.listener.r_(t));
  }
  K_() {}
  auth() {
    this.state = 1;
    const e = this.W_(this.D_),
      t = this.D_;
    Promise.all([
      this.authCredentialsProvider.getToken(),
      this.appCheckCredentialsProvider.getToken(),
    ]).then(
      ([s, o]) => {
        this.D_ === t && this.G_(s, o);
      },
      (s) => {
        e(() => {
          const o = new Se(
            de.UNKNOWN,
            "Fetching auth token failed: " + s.message,
          );
          return this.z_(o);
        });
      },
    );
  }
  G_(e, t) {
    const s = this.W_(this.D_);
    ((this.stream = this.j_(e, t)),
      this.stream.Xo(() => {
        s(() => this.listener.Xo());
      }),
      this.stream.t_(() => {
        s(
          () => (
            (this.state = 2),
            (this.v_ = this.Mi.enqueueAfterDelay(
              this.b_,
              1e4,
              () => (this.O_() && (this.state = 3), Promise.resolve()),
            )),
            this.listener.t_()
          ),
        );
      }),
      this.stream.r_((o) => {
        s(() => this.z_(o));
      }),
      this.stream.onMessage((o) => {
        s(() => (++this.F_ == 1 ? this.J_(o) : this.onNext(o)));
      }));
  }
  N_() {
    ((this.state = 5),
      this.M_.p_(async () => {
        ((this.state = 0), this.start());
      }));
  }
  z_(e) {
    return (
      ve(_0, `close with error: ${e}`),
      (this.stream = null),
      this.close(4, e)
    );
  }
  W_(e) {
    return (t) => {
      this.Mi.enqueueAndForget(() =>
        this.D_ === e
          ? t()
          : (ve(_0, "stream callback skipped by getCloseGuardedDispatcher."),
            Promise.resolve()),
      );
    };
  }
}
class qO extends FO {
  constructor(e, t, s, o, l, c) {
    (super(
      e,
      "listen_stream_connection_backoff",
      "listen_stream_idle",
      "health_check_timeout",
      t,
      s,
      o,
      c,
    ),
      (this.serializer = l));
  }
  j_(e, t) {
    return this.connection.T_("Listen", e, t);
  }
  J_(e) {
    return this.onNext(e);
  }
  onNext(e) {
    this.M_.reset();
    const t = eO(this.serializer, e),
      s = (function (l) {
        if (!("targetChange" in l)) return ze.min();
        const c = l.targetChange;
        return c.targetIds && c.targetIds.length
          ? ze.min()
          : c.readTime
            ? Io(c.readTime)
            : ze.min();
      })(e);
    return this.listener.H_(t, s);
  }
  Y_(e) {
    const t = {};
    ((t.database = h0(this.serializer)),
      (t.addTarget = (function (l, c) {
        let d;
        const m = c.target;
        if (
          ((d = om(m) ? { documents: tO(l, m) } : { query: nO(l, m).ft }),
          (d.targetId = c.targetId),
          c.resumeToken.approximateByteSize() > 0)
        ) {
          d.resumeToken = ab(l, c.resumeToken);
          const g = fm(l, c.expectedCount);
          g !== null && (d.expectedCount = g);
        } else if (c.snapshotVersion.compareTo(ze.min()) > 0) {
          d.readTime = dm(l, c.snapshotVersion.toTimestamp());
          const g = fm(l, c.expectedCount);
          g !== null && (d.expectedCount = g);
        }
        return d;
      })(this.serializer, e)));
    const s = iO(this.serializer, e);
    (s && (t.labels = s), this.q_(t));
  }
  Z_(e) {
    const t = {};
    ((t.database = h0(this.serializer)), (t.removeTarget = e), this.q_(t));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class GO {}
class $O extends GO {
  constructor(e, t, s, o) {
    (super(),
      (this.authCredentials = e),
      (this.appCheckCredentials = t),
      (this.connection = s),
      (this.serializer = o),
      (this.ia = !1));
  }
  sa() {
    if (this.ia)
      throw new Se(
        de.FAILED_PRECONDITION,
        "The client has already been terminated.",
      );
  }
  Go(e, t, s, o) {
    return (
      this.sa(),
      Promise.all([
        this.authCredentials.getToken(),
        this.appCheckCredentials.getToken(),
      ])
        .then(([l, c]) => this.connection.Go(e, pm(t, s), o, l, c))
        .catch((l) => {
          throw l.name === "FirebaseError"
            ? (l.code === de.UNAUTHENTICATED &&
                (this.authCredentials.invalidateToken(),
                this.appCheckCredentials.invalidateToken()),
              l)
            : new Se(de.UNKNOWN, l.toString());
        })
    );
  }
  Ho(e, t, s, o, l) {
    return (
      this.sa(),
      Promise.all([
        this.authCredentials.getToken(),
        this.appCheckCredentials.getToken(),
      ])
        .then(([c, d]) => this.connection.Ho(e, pm(t, s), o, c, d, l))
        .catch((c) => {
          throw c.name === "FirebaseError"
            ? (c.code === de.UNAUTHENTICATED &&
                (this.authCredentials.invalidateToken(),
                this.appCheckCredentials.invalidateToken()),
              c)
            : new Se(de.UNKNOWN, c.toString());
        })
    );
  }
  terminate() {
    ((this.ia = !0), this.connection.terminate());
  }
}
class KO {
  constructor(e, t) {
    ((this.asyncQueue = e),
      (this.onlineStateHandler = t),
      (this.state = "Unknown"),
      (this.oa = 0),
      (this._a = null),
      (this.aa = !0));
  }
  ua() {
    this.oa === 0 &&
      (this.ca("Unknown"),
      (this._a = this.asyncQueue.enqueueAfterDelay(
        "online_state_timeout",
        1e4,
        () => (
          (this._a = null),
          this.la("Backend didn't respond within 10 seconds."),
          this.ca("Offline"),
          Promise.resolve()
        ),
      )));
  }
  ha(e) {
    this.state === "Online"
      ? this.ca("Unknown")
      : (this.oa++,
        this.oa >= 1 &&
          (this.Pa(),
          this.la(
            `Connection failed 1 times. Most recent error: ${e.toString()}`,
          ),
          this.ca("Offline")));
  }
  set(e) {
    (this.Pa(), (this.oa = 0), e === "Online" && (this.aa = !1), this.ca(e));
  }
  ca(e) {
    e !== this.state && ((this.state = e), this.onlineStateHandler(e));
  }
  la(e) {
    const t = `Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;
    this.aa ? (Vi(t), (this.aa = !1)) : ve("OnlineStateTracker", t);
  }
  Pa() {
    this._a !== null && (this._a.cancel(), (this._a = null));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const jo = "RemoteStore";
class YO {
  constructor(e, t, s, o, l) {
    ((this.localStore = e),
      (this.datastore = t),
      (this.asyncQueue = s),
      (this.remoteSyncer = {}),
      (this.Ta = []),
      (this.Ia = new Map()),
      (this.Ea = new Set()),
      (this.da = []),
      (this.Aa = l),
      this.Aa.Oo((c) => {
        s.enqueueAndForget(async () => {
          ku(this) &&
            (ve(jo, "Restarting streams for network reachability change."),
            await (async function (m) {
              const g = st(m);
              (g.Ea.add(4),
                await Uu(g),
                g.Ra.set("Unknown"),
                g.Ea.delete(4),
                await gf(g));
            })(this));
        });
      }),
      (this.Ra = new KO(s, o)));
  }
}
async function gf(r) {
  if (ku(r)) for (const e of r.da) await e(!0);
}
async function Uu(r) {
  for (const e of r.da) await e(!1);
}
function _b(r, e) {
  const t = st(r);
  t.Ia.has(e.targetId) ||
    (t.Ia.set(e.targetId, e), lg(t) ? og(t) : Yo(t).O_() && ag(t, e));
}
function sg(r, e) {
  const t = st(r),
    s = Yo(t);
  (t.Ia.delete(e),
    s.O_() && Eb(t, e),
    t.Ia.size === 0 && (s.O_() ? s.L_() : ku(t) && t.Ra.set("Unknown")));
}
function ag(r, e) {
  if (
    (r.Va.Ue(e.targetId),
    e.resumeToken.approximateByteSize() > 0 ||
      e.snapshotVersion.compareTo(ze.min()) > 0)
  ) {
    const t = r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;
    e = e.withExpectedCount(t);
  }
  Yo(r).Y_(e);
}
function Eb(r, e) {
  (r.Va.Ue(e), Yo(r).Z_(e));
}
function og(r) {
  ((r.Va = new YD({
    getRemoteKeysForTarget: (e) => r.remoteSyncer.getRemoteKeysForTarget(e),
    At: (e) => r.Ia.get(e) || null,
    ht: () => r.datastore.serializer.databaseId,
  })),
    Yo(r).start(),
    r.Ra.ua());
}
function lg(r) {
  return ku(r) && !Yo(r).x_() && r.Ia.size > 0;
}
function ku(r) {
  return st(r).Ea.size === 0;
}
function Tb(r) {
  r.Va = void 0;
}
async function QO(r) {
  r.Ra.set("Online");
}
async function XO(r) {
  r.Ia.forEach((e, t) => {
    ag(r, e);
  });
}
async function WO(r, e) {
  (Tb(r), lg(r) ? (r.Ra.ha(e), og(r)) : r.Ra.set("Unknown"));
}
async function JO(r, e, t) {
  if ((r.Ra.set("Online"), e instanceof sb && e.state === 2 && e.cause))
    try {
      await (async function (o, l) {
        const c = l.cause;
        for (const d of l.targetIds)
          o.Ia.has(d) &&
            (await o.remoteSyncer.rejectListen(d, c),
            o.Ia.delete(d),
            o.Va.removeTarget(d));
      })(r, e);
    } catch (s) {
      (ve(jo, "Failed to remove targets %s: %s ", e.targetIds.join(","), s),
        await E0(r, s));
    }
  else if (
    (e instanceof wh ? r.Va.Ze(e) : e instanceof ib ? r.Va.st(e) : r.Va.tt(e),
    !t.isEqual(ze.min()))
  )
    try {
      const s = await yb(r.localStore);
      t.compareTo(s) >= 0 &&
        (await (function (l, c) {
          const d = l.Va.Tt(c);
          return (
            d.targetChanges.forEach((m, g) => {
              if (m.resumeToken.approximateByteSize() > 0) {
                const v = l.Ia.get(g);
                v && l.Ia.set(g, v.withResumeToken(m.resumeToken, c));
              }
            }),
            d.targetMismatches.forEach((m, g) => {
              const v = l.Ia.get(m);
              if (!v) return;
              (l.Ia.set(
                m,
                v.withResumeToken(fn.EMPTY_BYTE_STRING, v.snapshotVersion),
              ),
                Eb(l, m));
              const T = new Rs(v.target, m, g, v.sequenceNumber);
              ag(l, T);
            }),
            l.remoteSyncer.applyRemoteEvent(d)
          );
        })(r, t));
    } catch (s) {
      (ve(jo, "Failed to raise snapshot:", s), await E0(r, s));
    }
}
async function E0(r, e, t) {
  if (!$o(e)) throw e;
  (r.Ea.add(1),
    await Uu(r),
    r.Ra.set("Offline"),
    t || (t = () => yb(r.localStore)),
    r.asyncQueue.enqueueRetryable(async () => {
      (ve(jo, "Retrying IndexedDB access"),
        await t(),
        r.Ea.delete(1),
        await gf(r));
    }));
}
async function T0(r, e) {
  const t = st(r);
  (t.asyncQueue.verifyOperationInProgress(),
    ve(jo, "RemoteStore received new credentials"));
  const s = ku(t);
  (t.Ea.add(3),
    await Uu(t),
    s && t.Ra.set("Unknown"),
    await t.remoteSyncer.handleCredentialChange(e),
    t.Ea.delete(3),
    await gf(t));
}
async function ZO(r, e) {
  const t = st(r);
  e
    ? (t.Ea.delete(2), await gf(t))
    : e || (t.Ea.add(2), await Uu(t), t.Ra.set("Unknown"));
}
function Yo(r) {
  return (
    r.ma ||
      ((r.ma = (function (t, s, o) {
        const l = st(t);
        return (
          l.sa(),
          new qO(
            s,
            l.connection,
            l.authCredentials,
            l.appCheckCredentials,
            l.serializer,
            o,
          )
        );
      })(r.datastore, r.asyncQueue, {
        Xo: QO.bind(null, r),
        t_: XO.bind(null, r),
        r_: WO.bind(null, r),
        H_: JO.bind(null, r),
      })),
      r.da.push(async (e) => {
        e
          ? (r.ma.B_(), lg(r) ? og(r) : r.Ra.set("Unknown"))
          : (await r.ma.stop(), Tb(r));
      })),
    r.ma
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ug {
  constructor(e, t, s, o, l) {
    ((this.asyncQueue = e),
      (this.timerId = t),
      (this.targetTimeMs = s),
      (this.op = o),
      (this.removalCallback = l),
      (this.deferred = new _a()),
      (this.then = this.deferred.promise.then.bind(this.deferred.promise)),
      this.deferred.promise.catch((c) => {}));
  }
  get promise() {
    return this.deferred.promise;
  }
  static createAndSchedule(e, t, s, o, l) {
    const c = Date.now() + s,
      d = new ug(e, t, c, o, l);
    return (d.start(s), d);
  }
  start(e) {
    this.timerHandle = setTimeout(() => this.handleDelayElapsed(), e);
  }
  skipDelay() {
    return this.handleDelayElapsed();
  }
  cancel(e) {
    this.timerHandle !== null &&
      (this.clearTimeout(),
      this.deferred.reject(
        new Se(de.CANCELLED, "Operation cancelled" + (e ? ": " + e : "")),
      ));
  }
  handleDelayElapsed() {
    this.asyncQueue.enqueueAndForget(() =>
      this.timerHandle !== null
        ? (this.clearTimeout(), this.op().then((e) => this.deferred.resolve(e)))
        : Promise.resolve(),
    );
  }
  clearTimeout() {
    this.timerHandle !== null &&
      (this.removalCallback(this),
      clearTimeout(this.timerHandle),
      (this.timerHandle = null));
  }
}
function Sb(r, e) {
  if ((Vi("AsyncQueue", `${e}: ${r}`), $o(r)))
    return new Se(de.UNAVAILABLE, `${e}: ${r}`);
  throw r;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class xo {
  static emptySet(e) {
    return new xo(e.comparator);
  }
  constructor(e) {
    ((this.comparator = e
      ? (t, s) => e(t, s) || Oe.comparator(t.key, s.key)
      : (t, s) => Oe.comparator(t.key, s.key)),
      (this.keyedMap = su()),
      (this.sortedSet = new Ut(this.comparator)));
  }
  has(e) {
    return this.keyedMap.get(e) != null;
  }
  get(e) {
    return this.keyedMap.get(e);
  }
  first() {
    return this.sortedSet.minKey();
  }
  last() {
    return this.sortedSet.maxKey();
  }
  isEmpty() {
    return this.sortedSet.isEmpty();
  }
  indexOf(e) {
    const t = this.keyedMap.get(e);
    return t ? this.sortedSet.indexOf(t) : -1;
  }
  get size() {
    return this.sortedSet.size;
  }
  forEach(e) {
    this.sortedSet.inorderTraversal((t, s) => (e(t), !1));
  }
  add(e) {
    const t = this.delete(e.key);
    return t.copy(t.keyedMap.insert(e.key, e), t.sortedSet.insert(e, null));
  }
  delete(e) {
    const t = this.get(e);
    return t
      ? this.copy(this.keyedMap.remove(e), this.sortedSet.remove(t))
      : this;
  }
  isEqual(e) {
    if (!(e instanceof xo) || this.size !== e.size) return !1;
    const t = this.sortedSet.getIterator(),
      s = e.sortedSet.getIterator();
    for (; t.hasNext(); ) {
      const o = t.getNext().key,
        l = s.getNext().key;
      if (!o.isEqual(l)) return !1;
    }
    return !0;
  }
  toString() {
    const e = [];
    return (
      this.forEach((t) => {
        e.push(t.toString());
      }),
      e.length === 0
        ? "DocumentSet ()"
        : `DocumentSet (
  ` +
          e.join(`  
`) +
          `
)`
    );
  }
  copy(e, t) {
    const s = new xo();
    return (
      (s.comparator = this.comparator),
      (s.keyedMap = e),
      (s.sortedSet = t),
      s
    );
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class S0 {
  constructor() {
    this.ga = new Ut(Oe.comparator);
  }
  track(e) {
    const t = e.doc.key,
      s = this.ga.get(t);
    s
      ? e.type !== 0 && s.type === 3
        ? (this.ga = this.ga.insert(t, e))
        : e.type === 3 && s.type !== 1
          ? (this.ga = this.ga.insert(t, { type: s.type, doc: e.doc }))
          : e.type === 2 && s.type === 2
            ? (this.ga = this.ga.insert(t, { type: 2, doc: e.doc }))
            : e.type === 2 && s.type === 0
              ? (this.ga = this.ga.insert(t, { type: 0, doc: e.doc }))
              : e.type === 1 && s.type === 0
                ? (this.ga = this.ga.remove(t))
                : e.type === 1 && s.type === 2
                  ? (this.ga = this.ga.insert(t, { type: 1, doc: s.doc }))
                  : e.type === 0 && s.type === 1
                    ? (this.ga = this.ga.insert(t, { type: 2, doc: e.doc }))
                    : Be(63341, { Rt: e, pa: s })
      : (this.ga = this.ga.insert(t, e));
  }
  ya() {
    const e = [];
    return (
      this.ga.inorderTraversal((t, s) => {
        e.push(s);
      }),
      e
    );
  }
}
class zo {
  constructor(e, t, s, o, l, c, d, m, g) {
    ((this.query = e),
      (this.docs = t),
      (this.oldDocs = s),
      (this.docChanges = o),
      (this.mutatedKeys = l),
      (this.fromCache = c),
      (this.syncStateChanged = d),
      (this.excludesMetadataChanges = m),
      (this.hasCachedResults = g));
  }
  static fromInitialDocuments(e, t, s, o, l) {
    const c = [];
    return (
      t.forEach((d) => {
        c.push({ type: 0, doc: d });
      }),
      new zo(e, t, xo.emptySet(t), c, s, o, !0, !1, l)
    );
  }
  get hasPendingWrites() {
    return !this.mutatedKeys.isEmpty();
  }
  isEqual(e) {
    if (
      !(
        this.fromCache === e.fromCache &&
        this.hasCachedResults === e.hasCachedResults &&
        this.syncStateChanged === e.syncStateChanged &&
        this.mutatedKeys.isEqual(e.mutatedKeys) &&
        cf(this.query, e.query) &&
        this.docs.isEqual(e.docs) &&
        this.oldDocs.isEqual(e.oldDocs)
      )
    )
      return !1;
    const t = this.docChanges,
      s = e.docChanges;
    if (t.length !== s.length) return !1;
    for (let o = 0; o < t.length; o++)
      if (t[o].type !== s[o].type || !t[o].doc.isEqual(s[o].doc)) return !1;
    return !0;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class e2 {
  constructor() {
    ((this.wa = void 0), (this.Sa = []));
  }
  ba() {
    return this.Sa.some((e) => e.Da());
  }
}
class t2 {
  constructor() {
    ((this.queries = b0()),
      (this.onlineState = "Unknown"),
      (this.Ca = new Set()));
  }
  terminate() {
    (function (t, s) {
      const o = st(t),
        l = o.queries;
      ((o.queries = b0()),
        l.forEach((c, d) => {
          for (const m of d.Sa) m.onError(s);
        }));
    })(this, new Se(de.ABORTED, "Firestore shutting down"));
  }
}
function b0() {
  return new xa((r) => KS(r), cf);
}
async function n2(r, e) {
  const t = st(r);
  let s = 3;
  const o = e.query;
  let l = t.queries.get(o);
  l ? !l.ba() && e.Da() && (s = 2) : ((l = new e2()), (s = e.Da() ? 0 : 1));
  try {
    switch (s) {
      case 0:
        l.wa = await t.onListen(o, !0);
        break;
      case 1:
        l.wa = await t.onListen(o, !1);
        break;
      case 2:
        await t.onFirstRemoteStoreListen(o);
    }
  } catch (c) {
    const d = Sb(c, `Initialization of query '${Eo(e.query)}' failed`);
    return void e.onError(d);
  }
  (t.queries.set(o, l),
    l.Sa.push(e),
    e.va(t.onlineState),
    l.wa && e.Fa(l.wa) && cg(t));
}
async function r2(r, e) {
  const t = st(r),
    s = e.query;
  let o = 3;
  const l = t.queries.get(s);
  if (l) {
    const c = l.Sa.indexOf(e);
    c >= 0 &&
      (l.Sa.splice(c, 1),
      l.Sa.length === 0 ? (o = e.Da() ? 0 : 1) : !l.ba() && e.Da() && (o = 2));
  }
  switch (o) {
    case 0:
      return (t.queries.delete(s), t.onUnlisten(s, !0));
    case 1:
      return (t.queries.delete(s), t.onUnlisten(s, !1));
    case 2:
      return t.onLastRemoteStoreUnlisten(s);
    default:
      return;
  }
}
function i2(r, e) {
  const t = st(r);
  let s = !1;
  for (const o of e) {
    const l = o.query,
      c = t.queries.get(l);
    if (c) {
      for (const d of c.Sa) d.Fa(o) && (s = !0);
      c.wa = o;
    }
  }
  s && cg(t);
}
function s2(r, e, t) {
  const s = st(r),
    o = s.queries.get(e);
  if (o) for (const l of o.Sa) l.onError(t);
  s.queries.delete(e);
}
function cg(r) {
  r.Ca.forEach((e) => {
    e.next();
  });
}
var ym, w0;
(((w0 = ym || (ym = {})).Ma = "default"), (w0.Cache = "cache"));
class a2 {
  constructor(e, t, s) {
    ((this.query = e),
      (this.xa = t),
      (this.Oa = !1),
      (this.Na = null),
      (this.onlineState = "Unknown"),
      (this.options = s || {}));
  }
  Fa(e) {
    if (!this.options.includeMetadataChanges) {
      const s = [];
      for (const o of e.docChanges) o.type !== 3 && s.push(o);
      e = new zo(
        e.query,
        e.docs,
        e.oldDocs,
        s,
        e.mutatedKeys,
        e.fromCache,
        e.syncStateChanged,
        !0,
        e.hasCachedResults,
      );
    }
    let t = !1;
    return (
      this.Oa
        ? this.Ba(e) && (this.xa.next(e), (t = !0))
        : this.La(e, this.onlineState) && (this.ka(e), (t = !0)),
      (this.Na = e),
      t
    );
  }
  onError(e) {
    this.xa.error(e);
  }
  va(e) {
    this.onlineState = e;
    let t = !1;
    return (
      this.Na &&
        !this.Oa &&
        this.La(this.Na, e) &&
        (this.ka(this.Na), (t = !0)),
      t
    );
  }
  La(e, t) {
    if (!e.fromCache || !this.Da()) return !0;
    const s = t !== "Offline";
    return (
      (!this.options.qa || !s) &&
      (!e.docs.isEmpty() || e.hasCachedResults || t === "Offline")
    );
  }
  Ba(e) {
    if (e.docChanges.length > 0) return !0;
    const t = this.Na && this.Na.hasPendingWrites !== e.hasPendingWrites;
    return (
      !(!e.syncStateChanged && !t) && this.options.includeMetadataChanges === !0
    );
  }
  ka(e) {
    ((e = zo.fromInitialDocuments(
      e.query,
      e.docs,
      e.mutatedKeys,
      e.fromCache,
      e.hasCachedResults,
    )),
      (this.Oa = !0),
      this.xa.next(e));
  }
  Da() {
    return this.options.source !== ym.Cache;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class bb {
  constructor(e) {
    this.key = e;
  }
}
class wb {
  constructor(e) {
    this.key = e;
  }
}
class o2 {
  constructor(e, t) {
    ((this.query = e),
      (this.Ya = t),
      (this.Za = null),
      (this.hasCachedResults = !1),
      (this.current = !1),
      (this.Xa = at()),
      (this.mutatedKeys = at()),
      (this.eu = YS(e)),
      (this.tu = new xo(this.eu)));
  }
  get nu() {
    return this.Ya;
  }
  ru(e, t) {
    const s = t ? t.iu : new S0(),
      o = t ? t.tu : this.tu;
    let l = t ? t.mutatedKeys : this.mutatedKeys,
      c = o,
      d = !1;
    const m =
        this.query.limitType === "F" && o.size === this.query.limit
          ? o.last()
          : null,
      g =
        this.query.limitType === "L" && o.size === this.query.limit
          ? o.first()
          : null;
    if (
      (e.inorderTraversal((v, T) => {
        const b = o.get(v),
          A = hf(this.query, T) ? T : null,
          D = !!b && this.mutatedKeys.has(b.key),
          J =
            !!A &&
            (A.hasLocalMutations ||
              (this.mutatedKeys.has(A.key) && A.hasCommittedMutations));
        let B = !1;
        (b && A
          ? b.data.isEqual(A.data)
            ? D !== J && (s.track({ type: 3, doc: A }), (B = !0))
            : this.su(b, A) ||
              (s.track({ type: 2, doc: A }),
              (B = !0),
              ((m && this.eu(A, m) > 0) || (g && this.eu(A, g) < 0)) &&
                (d = !0))
          : !b && A
            ? (s.track({ type: 0, doc: A }), (B = !0))
            : b &&
              !A &&
              (s.track({ type: 1, doc: b }), (B = !0), (m || g) && (d = !0)),
          B &&
            (A
              ? ((c = c.add(A)), (l = J ? l.add(v) : l.delete(v)))
              : ((c = c.delete(v)), (l = l.delete(v)))));
      }),
      this.query.limit !== null)
    )
      for (; c.size > this.query.limit; ) {
        const v = this.query.limitType === "F" ? c.last() : c.first();
        ((c = c.delete(v.key)),
          (l = l.delete(v.key)),
          s.track({ type: 1, doc: v }));
      }
    return { tu: c, iu: s, Cs: d, mutatedKeys: l };
  }
  su(e, t) {
    return (
      e.hasLocalMutations && t.hasCommittedMutations && !t.hasLocalMutations
    );
  }
  applyChanges(e, t, s, o) {
    const l = this.tu;
    ((this.tu = e.tu), (this.mutatedKeys = e.mutatedKeys));
    const c = e.iu.ya();
    (c.sort(
      (v, T) =>
        (function (A, D) {
          const J = (B) => {
            switch (B) {
              case 0:
                return 1;
              case 2:
              case 3:
                return 2;
              case 1:
                return 0;
              default:
                return Be(20277, { Rt: B });
            }
          };
          return J(A) - J(D);
        })(v.type, T.type) || this.eu(v.doc, T.doc),
    ),
      this.ou(s),
      (o = o ?? !1));
    const d = t && !o ? this._u() : [],
      m = this.Xa.size === 0 && this.current && !o ? 1 : 0,
      g = m !== this.Za;
    return (
      (this.Za = m),
      c.length !== 0 || g
        ? {
            snapshot: new zo(
              this.query,
              e.tu,
              l,
              c,
              e.mutatedKeys,
              m === 0,
              g,
              !1,
              !!s && s.resumeToken.approximateByteSize() > 0,
            ),
            au: d,
          }
        : { au: d }
    );
  }
  va(e) {
    return this.current && e === "Offline"
      ? ((this.current = !1),
        this.applyChanges(
          { tu: this.tu, iu: new S0(), mutatedKeys: this.mutatedKeys, Cs: !1 },
          !1,
        ))
      : { au: [] };
  }
  uu(e) {
    return (
      !this.Ya.has(e) && !!this.tu.has(e) && !this.tu.get(e).hasLocalMutations
    );
  }
  ou(e) {
    e &&
      (e.addedDocuments.forEach((t) => (this.Ya = this.Ya.add(t))),
      e.modifiedDocuments.forEach((t) => {}),
      e.removedDocuments.forEach((t) => (this.Ya = this.Ya.delete(t))),
      (this.current = e.current));
  }
  _u() {
    if (!this.current) return [];
    const e = this.Xa;
    ((this.Xa = at()),
      this.tu.forEach((s) => {
        this.uu(s.key) && (this.Xa = this.Xa.add(s.key));
      }));
    const t = [];
    return (
      e.forEach((s) => {
        this.Xa.has(s) || t.push(new wb(s));
      }),
      this.Xa.forEach((s) => {
        e.has(s) || t.push(new bb(s));
      }),
      t
    );
  }
  cu(e) {
    ((this.Ya = e.Qs), (this.Xa = at()));
    const t = this.ru(e.documents);
    return this.applyChanges(t, !0);
  }
  lu() {
    return zo.fromInitialDocuments(
      this.query,
      this.tu,
      this.mutatedKeys,
      this.Za === 0,
      this.hasCachedResults,
    );
  }
}
const hg = "SyncEngine";
class l2 {
  constructor(e, t, s) {
    ((this.query = e), (this.targetId = t), (this.view = s));
  }
}
class u2 {
  constructor(e) {
    ((this.key = e), (this.hu = !1));
  }
}
class c2 {
  constructor(e, t, s, o, l, c) {
    ((this.localStore = e),
      (this.remoteStore = t),
      (this.eventManager = s),
      (this.sharedClientState = o),
      (this.currentUser = l),
      (this.maxConcurrentLimboResolutions = c),
      (this.Pu = {}),
      (this.Tu = new xa((d) => KS(d), cf)),
      (this.Iu = new Map()),
      (this.Eu = new Set()),
      (this.du = new Ut(Oe.comparator)),
      (this.Au = new Map()),
      (this.Ru = new tg()),
      (this.Vu = {}),
      (this.mu = new Map()),
      (this.fu = ko.cr()),
      (this.onlineState = "Unknown"),
      (this.gu = void 0));
  }
  get isPrimaryClient() {
    return this.gu === !0;
  }
}
async function h2(r, e, t = !0) {
  const s = xb(r);
  let o;
  const l = s.Tu.get(e);
  return (
    l
      ? (s.sharedClientState.addLocalQueryTarget(l.targetId), (o = l.view.lu()))
      : (o = await Ab(s, e, t, !0)),
    o
  );
}
async function f2(r, e) {
  const t = xb(r);
  await Ab(t, e, !0, !1);
}
async function Ab(r, e, t, s) {
  const o = await LO(r.localStore, ni(e)),
    l = o.targetId,
    c = r.sharedClientState.addLocalQueryTarget(l, t);
  let d;
  return (
    s && (d = await d2(r, e, l, c === "current", o.resumeToken)),
    r.isPrimaryClient && t && _b(r.remoteStore, o),
    d
  );
}
async function d2(r, e, t, s, o) {
  r.pu = (T, b, A) =>
    (async function (J, B, Q, Z) {
      let ie = B.view.ru(Q);
      ie.Cs &&
        (ie = await m0(J.localStore, B.query, !1).then(({ documents: x }) =>
          B.view.ru(x, ie),
        ));
      const pe = Z && Z.targetChanges.get(B.targetId),
        le = Z && Z.targetMismatches.get(B.targetId) != null,
        k = B.view.applyChanges(ie, J.isPrimaryClient, pe, le);
      return (R0(J, B.targetId, k.au), k.snapshot);
    })(r, T, b, A);
  const l = await m0(r.localStore, e, !0),
    c = new o2(e, l.Qs),
    d = c.ru(l.documents),
    m = Vu.createSynthesizedTargetChangeForCurrentChange(
      t,
      s && r.onlineState !== "Offline",
      o,
    ),
    g = c.applyChanges(d, r.isPrimaryClient, m);
  R0(r, t, g.au);
  const v = new l2(e, t, c);
  return (
    r.Tu.set(e, v),
    r.Iu.has(t) ? r.Iu.get(t).push(e) : r.Iu.set(t, [e]),
    g.snapshot
  );
}
async function p2(r, e, t) {
  const s = st(r),
    o = s.Tu.get(e),
    l = s.Iu.get(o.targetId);
  if (l.length > 1)
    return (
      s.Iu.set(
        o.targetId,
        l.filter((c) => !cf(c, e)),
      ),
      void s.Tu.delete(e)
    );
  s.isPrimaryClient
    ? (s.sharedClientState.removeLocalQueryTarget(o.targetId),
      s.sharedClientState.isActiveQueryTarget(o.targetId) ||
        (await mm(s.localStore, o.targetId, !1)
          .then(() => {
            (s.sharedClientState.clearQueryState(o.targetId),
              t && sg(s.remoteStore, o.targetId),
              vm(s, o.targetId));
          })
          .catch(af)))
    : (vm(s, o.targetId), await mm(s.localStore, o.targetId, !0));
}
async function m2(r, e) {
  const t = st(r),
    s = t.Tu.get(e),
    o = t.Iu.get(s.targetId);
  t.isPrimaryClient &&
    o.length === 1 &&
    (t.sharedClientState.removeLocalQueryTarget(s.targetId),
    sg(t.remoteStore, s.targetId));
}
async function Rb(r, e) {
  const t = st(r);
  try {
    const s = await MO(t.localStore, e);
    (e.targetChanges.forEach((o, l) => {
      const c = t.Au.get(l);
      c &&
        (Nt(
          o.addedDocuments.size +
            o.modifiedDocuments.size +
            o.removedDocuments.size <=
            1,
          22616,
        ),
        o.addedDocuments.size > 0
          ? (c.hu = !0)
          : o.modifiedDocuments.size > 0
            ? Nt(c.hu, 14607)
            : o.removedDocuments.size > 0 && (Nt(c.hu, 42227), (c.hu = !1)));
    }),
      await Ib(t, s, e));
  } catch (s) {
    await af(s);
  }
}
function A0(r, e, t) {
  const s = st(r);
  if ((s.isPrimaryClient && t === 0) || (!s.isPrimaryClient && t === 1)) {
    const o = [];
    (s.Tu.forEach((l, c) => {
      const d = c.view.va(e);
      d.snapshot && o.push(d.snapshot);
    }),
      (function (c, d) {
        const m = st(c);
        m.onlineState = d;
        let g = !1;
        (m.queries.forEach((v, T) => {
          for (const b of T.Sa) b.va(d) && (g = !0);
        }),
          g && cg(m));
      })(s.eventManager, e),
      o.length && s.Pu.H_(o),
      (s.onlineState = e),
      s.isPrimaryClient && s.sharedClientState.setOnlineState(e));
  }
}
async function g2(r, e, t) {
  const s = st(r);
  s.sharedClientState.updateQueryState(e, "rejected", t);
  const o = s.Au.get(e),
    l = o && o.key;
  if (l) {
    let c = new Ut(Oe.comparator);
    c = c.insert(l, _n.newNoDocument(l, ze.min()));
    const d = at().add(l),
      m = new pf(ze.min(), new Map(), new Ut(et), c, d);
    (await Rb(s, m), (s.du = s.du.remove(l)), s.Au.delete(e), fg(s));
  } else
    await mm(s.localStore, e, !1)
      .then(() => vm(s, e, t))
      .catch(af);
}
function vm(r, e, t = null) {
  r.sharedClientState.removeLocalQueryTarget(e);
  for (const s of r.Iu.get(e)) (r.Tu.delete(s), t && r.Pu.yu(s, t));
  (r.Iu.delete(e),
    r.isPrimaryClient &&
      r.Ru.jr(e).forEach((s) => {
        r.Ru.containsKey(s) || Cb(r, s);
      }));
}
function Cb(r, e) {
  r.Eu.delete(e.path.canonicalString());
  const t = r.du.get(e);
  t !== null &&
    (sg(r.remoteStore, t), (r.du = r.du.remove(e)), r.Au.delete(t), fg(r));
}
function R0(r, e, t) {
  for (const s of t)
    s instanceof bb
      ? (r.Ru.addReference(s.key, e), y2(r, s))
      : s instanceof wb
        ? (ve(hg, "Document no longer in limbo: " + s.key),
          r.Ru.removeReference(s.key, e),
          r.Ru.containsKey(s.key) || Cb(r, s.key))
        : Be(19791, { wu: s });
}
function y2(r, e) {
  const t = e.key,
    s = t.path.canonicalString();
  r.du.get(t) ||
    r.Eu.has(s) ||
    (ve(hg, "New document in limbo: " + t), r.Eu.add(s), fg(r));
}
function fg(r) {
  for (; r.Eu.size > 0 && r.du.size < r.maxConcurrentLimboResolutions; ) {
    const e = r.Eu.values().next().value;
    r.Eu.delete(e);
    const t = new Oe(Ct.fromString(e)),
      s = r.fu.next();
    (r.Au.set(s, new u2(t)),
      (r.du = r.du.insert(t, s)),
      _b(
        r.remoteStore,
        new Rs(ni(GS(t.path)), s, "TargetPurposeLimboResolution", of.ce),
      ));
  }
}
async function Ib(r, e, t) {
  const s = st(r),
    o = [],
    l = [],
    c = [];
  s.Tu.isEmpty() ||
    (s.Tu.forEach((d, m) => {
      c.push(
        s.pu(m, e, t).then((g) => {
          if ((g || t) && s.isPrimaryClient) {
            const v = g
              ? !g.fromCache
              : t?.targetChanges.get(m.targetId)?.current;
            s.sharedClientState.updateQueryState(
              m.targetId,
              v ? "current" : "not-current",
            );
          }
          if (g) {
            o.push(g);
            const v = rg.As(m.targetId, g);
            l.push(v);
          }
        }),
      );
    }),
    await Promise.all(c),
    s.Pu.H_(o),
    await (async function (m, g) {
      const v = st(m);
      try {
        await v.persistence.runTransaction(
          "notifyLocalViewChanges",
          "readwrite",
          (T) =>
            oe.forEach(g, (b) =>
              oe
                .forEach(b.Es, (A) =>
                  v.persistence.referenceDelegate.addReference(
                    T,
                    b.targetId,
                    A,
                  ),
                )
                .next(() =>
                  oe.forEach(b.ds, (A) =>
                    v.persistence.referenceDelegate.removeReference(
                      T,
                      b.targetId,
                      A,
                    ),
                  ),
                ),
            ),
        );
      } catch (T) {
        if (!$o(T)) throw T;
        ve(ig, "Failed to update sequence numbers: " + T);
      }
      for (const T of g) {
        const b = T.targetId;
        if (!T.fromCache) {
          const A = v.Ms.get(b),
            D = A.snapshotVersion,
            J = A.withLastLimboFreeSnapshotVersion(D);
          v.Ms = v.Ms.insert(b, J);
        }
      }
    })(s.localStore, l));
}
async function v2(r, e) {
  const t = st(r);
  if (!t.currentUser.isEqual(e)) {
    ve(hg, "User change. New user:", e.toKey());
    const s = await gb(t.localStore, e);
    ((t.currentUser = e),
      (function (l, c) {
        (l.mu.forEach((d) => {
          d.forEach((m) => {
            m.reject(new Se(de.CANCELLED, c));
          });
        }),
          l.mu.clear());
      })(t, "'waitForPendingWrites' promise is rejected due to a user change."),
      t.sharedClientState.handleUserChange(
        e,
        s.removedBatchIds,
        s.addedBatchIds,
      ),
      await Ib(t, s.Ls));
  }
}
function _2(r, e) {
  const t = st(r),
    s = t.Au.get(e);
  if (s && s.hu) return at().add(s.key);
  {
    let o = at();
    const l = t.Iu.get(e);
    if (!l) return o;
    for (const c of l) {
      const d = t.Tu.get(c);
      o = o.unionWith(d.view.nu);
    }
    return o;
  }
}
function xb(r) {
  const e = st(r);
  return (
    (e.remoteStore.remoteSyncer.applyRemoteEvent = Rb.bind(null, e)),
    (e.remoteStore.remoteSyncer.getRemoteKeysForTarget = _2.bind(null, e)),
    (e.remoteStore.remoteSyncer.rejectListen = g2.bind(null, e)),
    (e.Pu.H_ = i2.bind(null, e.eventManager)),
    (e.Pu.yu = s2.bind(null, e.eventManager)),
    e
  );
}
class Gh {
  constructor() {
    ((this.kind = "memory"), (this.synchronizeTabs = !1));
  }
  async initialize(e) {
    ((this.serializer = mf(e.databaseInfo.databaseId)),
      (this.sharedClientState = this.Du(e)),
      (this.persistence = this.Cu(e)),
      await this.persistence.start(),
      (this.localStore = this.vu(e)),
      (this.gcScheduler = this.Fu(e, this.localStore)),
      (this.indexBackfillerScheduler = this.Mu(e, this.localStore)));
  }
  Fu(e, t) {
    return null;
  }
  Mu(e, t) {
    return null;
  }
  vu(e) {
    return OO(this.persistence, new xO(), e.initialUser, this.serializer);
  }
  Cu(e) {
    return new mb(ng.mi, this.serializer);
  }
  Du(e) {
    return new UO();
  }
  async terminate() {
    (this.gcScheduler?.stop(),
      this.indexBackfillerScheduler?.stop(),
      this.sharedClientState.shutdown(),
      await this.persistence.shutdown());
  }
}
Gh.provider = { build: () => new Gh() };
class E2 extends Gh {
  constructor(e) {
    (super(), (this.cacheSizeBytes = e));
  }
  Fu(e, t) {
    Nt(this.persistence.referenceDelegate instanceof qh, 46915);
    const s = this.persistence.referenceDelegate.garbageCollector;
    return new pO(s, e.asyncQueue, t);
  }
  Cu(e) {
    const t =
      this.cacheSizeBytes !== void 0
        ? Vn.withCacheSize(this.cacheSizeBytes)
        : Vn.DEFAULT;
    return new mb((s) => qh.mi(s, t), this.serializer);
  }
}
class _m {
  async initialize(e, t) {
    this.localStore ||
      ((this.localStore = e.localStore),
      (this.sharedClientState = e.sharedClientState),
      (this.datastore = this.createDatastore(t)),
      (this.remoteStore = this.createRemoteStore(t)),
      (this.eventManager = this.createEventManager(t)),
      (this.syncEngine = this.createSyncEngine(t, !e.synchronizeTabs)),
      (this.sharedClientState.onlineStateHandler = (s) =>
        A0(this.syncEngine, s, 1)),
      (this.remoteStore.remoteSyncer.handleCredentialChange = v2.bind(
        null,
        this.syncEngine,
      )),
      await ZO(this.remoteStore, this.syncEngine.isPrimaryClient));
  }
  createEventManager(e) {
    return (function () {
      return new t2();
    })();
  }
  createDatastore(e) {
    const t = mf(e.databaseInfo.databaseId),
      s = (function (l) {
        return new HO(l);
      })(e.databaseInfo);
    return (function (l, c, d, m) {
      return new $O(l, c, d, m);
    })(e.authCredentials, e.appCheckCredentials, s, t);
  }
  createRemoteStore(e) {
    return (function (s, o, l, c, d) {
      return new YO(s, o, l, c, d);
    })(
      this.localStore,
      this.datastore,
      e.asyncQueue,
      (t) => A0(this.syncEngine, t, 0),
      (function () {
        return v0.v() ? new v0() : new kO();
      })(),
    );
  }
  createSyncEngine(e, t) {
    return (function (o, l, c, d, m, g, v) {
      const T = new c2(o, l, c, d, m, g);
      return (v && (T.gu = !0), T);
    })(
      this.localStore,
      this.remoteStore,
      this.eventManager,
      this.sharedClientState,
      e.initialUser,
      e.maxConcurrentLimboResolutions,
      t,
    );
  }
  async terminate() {
    (await (async function (t) {
      const s = st(t);
      (ve(jo, "RemoteStore shutting down."),
        s.Ea.add(5),
        await Uu(s),
        s.Aa.shutdown(),
        s.Ra.set("Unknown"));
    })(this.remoteStore),
      this.datastore?.terminate(),
      this.eventManager?.terminate());
  }
}
_m.provider = { build: () => new _m() };
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class T2 {
  constructor(e) {
    ((this.observer = e), (this.muted = !1));
  }
  next(e) {
    this.muted || (this.observer.next && this.Ou(this.observer.next, e));
  }
  error(e) {
    this.muted ||
      (this.observer.error
        ? this.Ou(this.observer.error, e)
        : Vi("Uncaught Error in snapshot listener:", e.toString()));
  }
  Nu() {
    this.muted = !0;
  }
  Ou(e, t) {
    setTimeout(() => {
      this.muted || e(t);
    }, 0);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Us = "FirestoreClient";
class S2 {
  constructor(e, t, s, o, l) {
    ((this.authCredentials = e),
      (this.appCheckCredentials = t),
      (this.asyncQueue = s),
      (this.databaseInfo = o),
      (this.user = vn.UNAUTHENTICATED),
      (this.clientId = IS.newId()),
      (this.authCredentialListener = () => Promise.resolve()),
      (this.appCheckCredentialListener = () => Promise.resolve()),
      (this._uninitializedComponentsProvider = l),
      this.authCredentials.start(s, async (c) => {
        (ve(Us, "Received user=", c.uid),
          await this.authCredentialListener(c),
          (this.user = c));
      }),
      this.appCheckCredentials.start(
        s,
        (c) => (
          ve(Us, "Received new app check token=", c),
          this.appCheckCredentialListener(c, this.user)
        ),
      ));
  }
  get configuration() {
    return {
      asyncQueue: this.asyncQueue,
      databaseInfo: this.databaseInfo,
      clientId: this.clientId,
      authCredentials: this.authCredentials,
      appCheckCredentials: this.appCheckCredentials,
      initialUser: this.user,
      maxConcurrentLimboResolutions: 100,
    };
  }
  setCredentialChangeListener(e) {
    this.authCredentialListener = e;
  }
  setAppCheckTokenChangeListener(e) {
    this.appCheckCredentialListener = e;
  }
  terminate() {
    this.asyncQueue.enterRestrictedMode();
    const e = new _a();
    return (
      this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async () => {
        try {
          (this._onlineComponents && (await this._onlineComponents.terminate()),
            this._offlineComponents &&
              (await this._offlineComponents.terminate()),
            this.authCredentials.shutdown(),
            this.appCheckCredentials.shutdown(),
            e.resolve());
        } catch (t) {
          const s = Sb(t, "Failed to shutdown persistence");
          e.reject(s);
        }
      }),
      e.promise
    );
  }
}
async function kp(r, e) {
  (r.asyncQueue.verifyOperationInProgress(),
    ve(Us, "Initializing OfflineComponentProvider"));
  const t = r.configuration;
  await e.initialize(t);
  let s = t.initialUser;
  (r.setCredentialChangeListener(async (o) => {
    s.isEqual(o) || (await gb(e.localStore, o), (s = o));
  }),
    e.persistence.setDatabaseDeletedListener(() => r.terminate()),
    (r._offlineComponents = e));
}
async function C0(r, e) {
  r.asyncQueue.verifyOperationInProgress();
  const t = await b2(r);
  (ve(Us, "Initializing OnlineComponentProvider"),
    await e.initialize(t, r.configuration),
    r.setCredentialChangeListener((s) => T0(e.remoteStore, s)),
    r.setAppCheckTokenChangeListener((s, o) => T0(e.remoteStore, o)),
    (r._onlineComponents = e));
}
async function b2(r) {
  if (!r._offlineComponents)
    if (r._uninitializedComponentsProvider) {
      ve(Us, "Using user provided OfflineComponentProvider");
      try {
        await kp(r, r._uninitializedComponentsProvider._offline);
      } catch (e) {
        const t = e;
        if (
          !(function (o) {
            return o.name === "FirebaseError"
              ? o.code === de.FAILED_PRECONDITION || o.code === de.UNIMPLEMENTED
              : !(typeof DOMException < "u" && o instanceof DOMException) ||
                  o.code === 22 ||
                  o.code === 20 ||
                  o.code === 11;
          })(t)
        )
          throw t;
        (Po(
          "Error using user provided cache. Falling back to memory cache: " + t,
        ),
          await kp(r, new Gh()));
      }
    } else
      (ve(Us, "Using default OfflineComponentProvider"),
        await kp(r, new E2(void 0)));
  return r._offlineComponents;
}
async function w2(r) {
  return (
    r._onlineComponents ||
      (r._uninitializedComponentsProvider
        ? (ve(Us, "Using user provided OnlineComponentProvider"),
          await C0(r, r._uninitializedComponentsProvider._online))
        : (ve(Us, "Using default OnlineComponentProvider"),
          await C0(r, new _m()))),
    r._onlineComponents
  );
}
async function A2(r) {
  const e = await w2(r),
    t = e.eventManager;
  return (
    (t.onListen = h2.bind(null, e.syncEngine)),
    (t.onUnlisten = p2.bind(null, e.syncEngine)),
    (t.onFirstRemoteStoreListen = f2.bind(null, e.syncEngine)),
    (t.onLastRemoteStoreUnlisten = m2.bind(null, e.syncEngine)),
    t
  );
}
function R2(r, e, t = {}) {
  const s = new _a();
  return (
    r.asyncQueue.enqueueAndForget(async () =>
      (function (l, c, d, m, g) {
        const v = new T2({
            next: (b) => {
              (v.Nu(),
                c.enqueueAndForget(() => r2(l, T)),
                b.fromCache && m.source === "server"
                  ? g.reject(
                      new Se(
                        de.UNAVAILABLE,
                        'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)',
                      ),
                    )
                  : g.resolve(b));
            },
            error: (b) => g.reject(b),
          }),
          T = new a2(d, v, { includeMetadataChanges: !0, qa: !0 });
        return n2(l, T);
      })(await A2(r), r.asyncQueue, e, t, s),
    ),
    s.promise
  );
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Nb(r) {
  const e = {};
  return (
    r.timeoutSeconds !== void 0 && (e.timeoutSeconds = r.timeoutSeconds),
    e
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const I0 = new Map();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Db = "firestore.googleapis.com",
  x0 = !0;
class N0 {
  constructor(e) {
    if (e.host === void 0) {
      if (e.ssl !== void 0)
        throw new Se(
          de.INVALID_ARGUMENT,
          "Can't provide ssl option if host option is not set",
        );
      ((this.host = Db), (this.ssl = x0));
    } else ((this.host = e.host), (this.ssl = e.ssl ?? x0));
    if (
      ((this.isUsingEmulator = e.emulatorOptions !== void 0),
      (this.credentials = e.credentials),
      (this.ignoreUndefinedProperties = !!e.ignoreUndefinedProperties),
      (this.localCache = e.localCache),
      e.cacheSizeBytes === void 0)
    )
      this.cacheSizeBytes = pb;
    else {
      if (e.cacheSizeBytes !== -1 && e.cacheSizeBytes < fO)
        throw new Se(
          de.INVALID_ARGUMENT,
          "cacheSizeBytes must be at least 1048576",
        );
      this.cacheSizeBytes = e.cacheSizeBytes;
    }
    (tD(
      "experimentalForceLongPolling",
      e.experimentalForceLongPolling,
      "experimentalAutoDetectLongPolling",
      e.experimentalAutoDetectLongPolling,
    ),
      (this.experimentalForceLongPolling = !!e.experimentalForceLongPolling),
      this.experimentalForceLongPolling
        ? (this.experimentalAutoDetectLongPolling = !1)
        : e.experimentalAutoDetectLongPolling === void 0
          ? (this.experimentalAutoDetectLongPolling = !0)
          : (this.experimentalAutoDetectLongPolling =
              !!e.experimentalAutoDetectLongPolling),
      (this.experimentalLongPollingOptions = Nb(
        e.experimentalLongPollingOptions ?? {},
      )),
      (function (s) {
        if (s.timeoutSeconds !== void 0) {
          if (isNaN(s.timeoutSeconds))
            throw new Se(
              de.INVALID_ARGUMENT,
              `invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`,
            );
          if (s.timeoutSeconds < 5)
            throw new Se(
              de.INVALID_ARGUMENT,
              `invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`,
            );
          if (s.timeoutSeconds > 30)
            throw new Se(
              de.INVALID_ARGUMENT,
              `invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`,
            );
        }
      })(this.experimentalLongPollingOptions),
      (this.useFetchStreams = !!e.useFetchStreams));
  }
  isEqual(e) {
    return (
      this.host === e.host &&
      this.ssl === e.ssl &&
      this.credentials === e.credentials &&
      this.cacheSizeBytes === e.cacheSizeBytes &&
      this.experimentalForceLongPolling === e.experimentalForceLongPolling &&
      this.experimentalAutoDetectLongPolling ===
        e.experimentalAutoDetectLongPolling &&
      (function (s, o) {
        return s.timeoutSeconds === o.timeoutSeconds;
      })(
        this.experimentalLongPollingOptions,
        e.experimentalLongPollingOptions,
      ) &&
      this.ignoreUndefinedProperties === e.ignoreUndefinedProperties &&
      this.useFetchStreams === e.useFetchStreams
    );
  }
}
class dg {
  constructor(e, t, s, o) {
    ((this._authCredentials = e),
      (this._appCheckCredentials = t),
      (this._databaseId = s),
      (this._app = o),
      (this.type = "firestore-lite"),
      (this._persistenceKey = "(lite)"),
      (this._settings = new N0({})),
      (this._settingsFrozen = !1),
      (this._emulatorOptions = {}),
      (this._terminateTask = "notTerminated"));
  }
  get app() {
    if (!this._app)
      throw new Se(
        de.FAILED_PRECONDITION,
        "Firestore was not initialized using the Firebase SDK. 'app' is not available",
      );
    return this._app;
  }
  get _initialized() {
    return this._settingsFrozen;
  }
  get _terminated() {
    return this._terminateTask !== "notTerminated";
  }
  _setSettings(e) {
    if (this._settingsFrozen)
      throw new Se(
        de.FAILED_PRECONDITION,
        "Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.",
      );
    ((this._settings = new N0(e)),
      (this._emulatorOptions = e.emulatorOptions || {}),
      e.credentials !== void 0 &&
        (this._authCredentials = (function (s) {
          if (!s) return new GN();
          switch (s.type) {
            case "firstParty":
              return new QN(
                s.sessionIndex || "0",
                s.iamToken || null,
                s.authTokenFactory || null,
              );
            case "provider":
              return s.client;
            default:
              throw new Se(
                de.INVALID_ARGUMENT,
                "makeAuthCredentialsProvider failed due to invalid credential type",
              );
          }
        })(e.credentials)));
  }
  _getSettings() {
    return this._settings;
  }
  _getEmulatorOptions() {
    return this._emulatorOptions;
  }
  _freezeSettings() {
    return ((this._settingsFrozen = !0), this._settings);
  }
  _delete() {
    return (
      this._terminateTask === "notTerminated" &&
        (this._terminateTask = this._terminate()),
      this._terminateTask
    );
  }
  async _restart() {
    this._terminateTask === "notTerminated"
      ? await this._terminate()
      : (this._terminateTask = "notTerminated");
  }
  toJSON() {
    return {
      app: this._app,
      databaseId: this._databaseId,
      settings: this._settings,
    };
  }
  _terminate() {
    return (
      (function (t) {
        const s = I0.get(t);
        s &&
          (ve("ComponentProvider", "Removing Datastore"),
          I0.delete(t),
          s.terminate());
      })(this),
      Promise.resolve()
    );
  }
}
function C2(r, e, t, s = {}) {
  r = rm(r, dg);
  const o = Ho(e),
    l = r._getSettings(),
    c = { ...l, emulatorOptions: r._getEmulatorOptions() },
    d = `${e}:${t}`;
  (o && (DT(`https://${d}`), OT("Firestore", !0)),
    l.host !== Db &&
      l.host !== d &&
      Po(
        "Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.",
      ));
  const m = { ...l, host: d, ssl: o, emulatorOptions: s };
  if (!Sa(m, c) && (r._setSettings(m), s.mockUserToken)) {
    let g, v;
    if (typeof s.mockUserToken == "string")
      ((g = s.mockUserToken), (v = vn.MOCK_USER));
    else {
      g = nC(s.mockUserToken, r._app?.options.projectId);
      const T = s.mockUserToken.sub || s.mockUserToken.user_id;
      if (!T)
        throw new Se(
          de.INVALID_ARGUMENT,
          "mockUserToken must contain 'sub' or 'user_id' field!",
        );
      v = new vn(T);
    }
    r._authCredentials = new $N(new CS(g, v));
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Qo {
  constructor(e, t, s) {
    ((this.converter = t),
      (this._query = s),
      (this.type = "query"),
      (this.firestore = e));
  }
  withConverter(e) {
    return new Qo(this.firestore, e, this._query);
  }
}
class Dn {
  constructor(e, t, s) {
    ((this.converter = t),
      (this._key = s),
      (this.type = "document"),
      (this.firestore = e));
  }
  get _path() {
    return this._key.path;
  }
  get id() {
    return this._key.path.lastSegment();
  }
  get path() {
    return this._key.path.canonicalString();
  }
  get parent() {
    return new No(this.firestore, this.converter, this._key.path.popLast());
  }
  withConverter(e) {
    return new Dn(this.firestore, e, this._key);
  }
  toJSON() {
    return { type: Dn._jsonSchemaVersion, referencePath: this._key.toString() };
  }
  static fromJSON(e, t, s) {
    if (Pu(t, Dn._jsonSchema))
      return new Dn(e, s || null, new Oe(Ct.fromString(t.referencePath)));
  }
}
((Dn._jsonSchemaVersion = "firestore/documentReference/1.0"),
  (Dn._jsonSchema = {
    type: Gt("string", Dn._jsonSchemaVersion),
    referencePath: Gt("string"),
  }));
class No extends Qo {
  constructor(e, t, s) {
    (super(e, t, GS(s)), (this._path = s), (this.type = "collection"));
  }
  get id() {
    return this._query.path.lastSegment();
  }
  get path() {
    return this._query.path.canonicalString();
  }
  get parent() {
    const e = this._path.popLast();
    return e.isEmpty() ? null : new Dn(this.firestore, null, new Oe(e));
  }
  withConverter(e) {
    return new No(this.firestore, e, this._path);
  }
}
function I2(r, e, ...t) {
  if (((r = Xn(r)), r instanceof dg)) {
    const s = Ct.fromString(e, ...t);
    return (HE(s), new No(r, null, s));
  }
  {
    if (!(r instanceof Dn || r instanceof No))
      throw new Se(
        de.INVALID_ARGUMENT,
        "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore",
      );
    const s = r._path.child(Ct.fromString(e, ...t));
    return (HE(s), new No(r.firestore, null, s));
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const D0 = "AsyncQueue";
class O0 {
  constructor(e = Promise.resolve()) {
    ((this.Xu = []),
      (this.ec = !1),
      (this.tc = []),
      (this.nc = null),
      (this.rc = !1),
      (this.sc = !1),
      (this.oc = []),
      (this.M_ = new vb(this, "async_queue_retry")),
      (this._c = () => {
        const s = Up();
        (s && ve(D0, "Visibility state changed to " + s.visibilityState),
          this.M_.w_());
      }),
      (this.ac = e));
    const t = Up();
    t &&
      typeof t.addEventListener == "function" &&
      t.addEventListener("visibilitychange", this._c);
  }
  get isShuttingDown() {
    return this.ec;
  }
  enqueueAndForget(e) {
    this.enqueue(e);
  }
  enqueueAndForgetEvenWhileRestricted(e) {
    (this.uc(), this.cc(e));
  }
  enterRestrictedMode(e) {
    if (!this.ec) {
      ((this.ec = !0), (this.sc = e || !1));
      const t = Up();
      t &&
        typeof t.removeEventListener == "function" &&
        t.removeEventListener("visibilitychange", this._c);
    }
  }
  enqueue(e) {
    if ((this.uc(), this.ec)) return new Promise(() => {});
    const t = new _a();
    return this.cc(() =>
      this.ec && this.sc
        ? Promise.resolve()
        : (e().then(t.resolve, t.reject), t.promise),
    ).then(() => t.promise);
  }
  enqueueRetryable(e) {
    this.enqueueAndForget(() => (this.Xu.push(e), this.lc()));
  }
  async lc() {
    if (this.Xu.length !== 0) {
      try {
        (await this.Xu[0](), this.Xu.shift(), this.M_.reset());
      } catch (e) {
        if (!$o(e)) throw e;
        ve(D0, "Operation failed with retryable error: " + e);
      }
      this.Xu.length > 0 && this.M_.p_(() => this.lc());
    }
  }
  cc(e) {
    const t = this.ac.then(
      () => (
        (this.rc = !0),
        e()
          .catch((s) => {
            throw (
              (this.nc = s),
              (this.rc = !1),
              Vi("INTERNAL UNHANDLED ERROR: ", M0(s)),
              s
            );
          })
          .then((s) => ((this.rc = !1), s))
      ),
    );
    return ((this.ac = t), t);
  }
  enqueueAfterDelay(e, t, s) {
    (this.uc(), this.oc.indexOf(e) > -1 && (t = 0));
    const o = ug.createAndSchedule(this, e, t, s, (l) => this.hc(l));
    return (this.tc.push(o), o);
  }
  uc() {
    this.nc && Be(47125, { Pc: M0(this.nc) });
  }
  verifyOperationInProgress() {}
  async Tc() {
    let e;
    do ((e = this.ac), await e);
    while (e !== this.ac);
  }
  Ic(e) {
    for (const t of this.tc) if (t.timerId === e) return !0;
    return !1;
  }
  Ec(e) {
    return this.Tc().then(() => {
      this.tc.sort((t, s) => t.targetTimeMs - s.targetTimeMs);
      for (const t of this.tc)
        if ((t.skipDelay(), e !== "all" && t.timerId === e)) break;
      return this.Tc();
    });
  }
  dc(e) {
    this.oc.push(e);
  }
  hc(e) {
    const t = this.tc.indexOf(e);
    this.tc.splice(t, 1);
  }
}
function M0(r) {
  let e = r.message || "";
  return (
    r.stack &&
      (e = r.stack.includes(r.message)
        ? r.stack
        : r.message +
          `
` +
          r.stack),
    e
  );
}
class Ob extends dg {
  constructor(e, t, s, o) {
    (super(e, t, s, o),
      (this.type = "firestore"),
      (this._queue = new O0()),
      (this._persistenceKey = o?.name || "[DEFAULT]"));
  }
  async _terminate() {
    if (this._firestoreClient) {
      const e = this._firestoreClient.terminate();
      ((this._queue = new O0(e)), (this._firestoreClient = void 0), await e);
    }
  }
}
function x2(r, e) {
  const t = typeof r == "object" ? r : VT(),
    s = typeof r == "string" ? r : kh,
    o = Um(t, "firestore").getImmediate({ identifier: s });
  if (!o._initialized) {
    const l = eC("firestore");
    l && C2(o, ...l);
  }
  return o;
}
function N2(r) {
  if (r._terminated)
    throw new Se(
      de.FAILED_PRECONDITION,
      "The client has already been terminated.",
    );
  return (r._firestoreClient || D2(r), r._firestoreClient);
}
function D2(r) {
  const e = r._freezeSettings(),
    t = (function (o, l, c, d) {
      return new dD(
        o,
        l,
        c,
        d.host,
        d.ssl,
        d.experimentalForceLongPolling,
        d.experimentalAutoDetectLongPolling,
        Nb(d.experimentalLongPollingOptions),
        d.useFetchStreams,
        d.isUsingEmulator,
      );
    })(r._databaseId, r._app?.options.appId || "", r._persistenceKey, e);
  (r._componentsProvider ||
    (e.localCache?._offlineComponentProvider &&
      e.localCache?._onlineComponentProvider &&
      (r._componentsProvider = {
        _offline: e.localCache._offlineComponentProvider,
        _online: e.localCache._onlineComponentProvider,
      })),
    (r._firestoreClient = new S2(
      r._authCredentials,
      r._appCheckCredentials,
      r._queue,
      t,
      r._componentsProvider &&
        (function (o) {
          const l = o?._online.build();
          return { _offline: o?._offline.build(l), _online: l };
        })(r._componentsProvider),
    )));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class gr {
  constructor(e) {
    this._byteString = e;
  }
  static fromBase64String(e) {
    try {
      return new gr(fn.fromBase64String(e));
    } catch (t) {
      throw new Se(
        de.INVALID_ARGUMENT,
        "Failed to construct data from Base64 string: " + t,
      );
    }
  }
  static fromUint8Array(e) {
    return new gr(fn.fromUint8Array(e));
  }
  toBase64() {
    return this._byteString.toBase64();
  }
  toUint8Array() {
    return this._byteString.toUint8Array();
  }
  toString() {
    return "Bytes(base64: " + this.toBase64() + ")";
  }
  isEqual(e) {
    return this._byteString.isEqual(e._byteString);
  }
  toJSON() {
    return { type: gr._jsonSchemaVersion, bytes: this.toBase64() };
  }
  static fromJSON(e) {
    if (Pu(e, gr._jsonSchema)) return gr.fromBase64String(e.bytes);
  }
}
((gr._jsonSchemaVersion = "firestore/bytes/1.0"),
  (gr._jsonSchema = {
    type: Gt("string", gr._jsonSchemaVersion),
    bytes: Gt("string"),
  }));
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Mb {
  constructor(...e) {
    for (let t = 0; t < e.length; ++t)
      if (e[t].length === 0)
        throw new Se(
          de.INVALID_ARGUMENT,
          "Invalid field name at argument $(i + 1). Field names must not be empty.",
        );
    this._internalPath = new En(e);
  }
  isEqual(e) {
    return this._internalPath.isEqual(e._internalPath);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Pb {
  constructor(e) {
    this._methodName = e;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ri {
  constructor(e, t) {
    if (!isFinite(e) || e < -90 || e > 90)
      throw new Se(
        de.INVALID_ARGUMENT,
        "Latitude must be a number between -90 and 90, but was: " + e,
      );
    if (!isFinite(t) || t < -180 || t > 180)
      throw new Se(
        de.INVALID_ARGUMENT,
        "Longitude must be a number between -180 and 180, but was: " + t,
      );
    ((this._lat = e), (this._long = t));
  }
  get latitude() {
    return this._lat;
  }
  get longitude() {
    return this._long;
  }
  isEqual(e) {
    return this._lat === e._lat && this._long === e._long;
  }
  _compareTo(e) {
    return et(this._lat, e._lat) || et(this._long, e._long);
  }
  toJSON() {
    return {
      latitude: this._lat,
      longitude: this._long,
      type: ri._jsonSchemaVersion,
    };
  }
  static fromJSON(e) {
    if (Pu(e, ri._jsonSchema)) return new ri(e.latitude, e.longitude);
  }
}
((ri._jsonSchemaVersion = "firestore/geoPoint/1.0"),
  (ri._jsonSchema = {
    type: Gt("string", ri._jsonSchemaVersion),
    latitude: Gt("number"),
    longitude: Gt("number"),
  }));
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ii {
  constructor(e) {
    this._values = (e || []).map((t) => t);
  }
  toArray() {
    return this._values.map((e) => e);
  }
  isEqual(e) {
    return (function (s, o) {
      if (s.length !== o.length) return !1;
      for (let l = 0; l < s.length; ++l) if (s[l] !== o[l]) return !1;
      return !0;
    })(this._values, e._values);
  }
  toJSON() {
    return { type: ii._jsonSchemaVersion, vectorValues: this._values };
  }
  static fromJSON(e) {
    if (Pu(e, ii._jsonSchema)) {
      if (
        Array.isArray(e.vectorValues) &&
        e.vectorValues.every((t) => typeof t == "number")
      )
        return new ii(e.vectorValues);
      throw new Se(
        de.INVALID_ARGUMENT,
        "Expected 'vectorValues' field to be a number array",
      );
    }
  }
}
((ii._jsonSchemaVersion = "firestore/vectorValue/1.0"),
  (ii._jsonSchema = {
    type: Gt("string", ii._jsonSchemaVersion),
    vectorValues: Gt("object"),
  }));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const O2 = /^__.*__$/;
function Lb(r) {
  switch (r) {
    case 0:
    case 2:
    case 1:
      return !0;
    case 3:
    case 4:
      return !1;
    default:
      throw Be(40011, { Ac: r });
  }
}
class pg {
  constructor(e, t, s, o, l, c) {
    ((this.settings = e),
      (this.databaseId = t),
      (this.serializer = s),
      (this.ignoreUndefinedProperties = o),
      l === void 0 && this.Rc(),
      (this.fieldTransforms = l || []),
      (this.fieldMask = c || []));
  }
  get path() {
    return this.settings.path;
  }
  get Ac() {
    return this.settings.Ac;
  }
  Vc(e) {
    return new pg(
      { ...this.settings, ...e },
      this.databaseId,
      this.serializer,
      this.ignoreUndefinedProperties,
      this.fieldTransforms,
      this.fieldMask,
    );
  }
  mc(e) {
    const t = this.path?.child(e),
      s = this.Vc({ path: t, fc: !1 });
    return (s.gc(e), s);
  }
  yc(e) {
    const t = this.path?.child(e),
      s = this.Vc({ path: t, fc: !1 });
    return (s.Rc(), s);
  }
  wc(e) {
    return this.Vc({ path: void 0, fc: !0 });
  }
  Sc(e) {
    return Em(
      e,
      this.settings.methodName,
      this.settings.bc || !1,
      this.path,
      this.settings.Dc,
    );
  }
  contains(e) {
    return (
      this.fieldMask.find((t) => e.isPrefixOf(t)) !== void 0 ||
      this.fieldTransforms.find((t) => e.isPrefixOf(t.field)) !== void 0
    );
  }
  Rc() {
    if (this.path)
      for (let e = 0; e < this.path.length; e++) this.gc(this.path.get(e));
  }
  gc(e) {
    if (e.length === 0) throw this.Sc("Document fields must not be empty");
    if (Lb(this.Ac) && O2.test(e))
      throw this.Sc('Document fields cannot begin and end with "__"');
  }
}
class M2 {
  constructor(e, t, s) {
    ((this.databaseId = e),
      (this.ignoreUndefinedProperties = t),
      (this.serializer = s || mf(e)));
  }
  Cc(e, t, s, o = !1) {
    return new pg(
      { Ac: e, methodName: t, Dc: s, path: En.emptyPath(), fc: !1, bc: o },
      this.databaseId,
      this.serializer,
      this.ignoreUndefinedProperties,
    );
  }
}
function P2(r) {
  const e = r._freezeSettings(),
    t = mf(r._databaseId);
  return new M2(r._databaseId, !!e.ignoreUndefinedProperties, t);
}
function L2(r, e, t, s = !1) {
  return mg(t, r.Cc(s ? 4 : 3, e));
}
function mg(r, e) {
  if (Vb((r = Xn(r)))) return (U2("Unsupported field value:", e, r), V2(r, e));
  if (r instanceof Pb)
    return (
      (function (s, o) {
        if (!Lb(o.Ac))
          throw o.Sc(
            `${s._methodName}() can only be used with update() and set()`,
          );
        if (!o.path)
          throw o.Sc(
            `${s._methodName}() is not currently supported inside arrays`,
          );
        const l = s._toFieldTransform(o);
        l && o.fieldTransforms.push(l);
      })(r, e),
      null
    );
  if (r === void 0 && e.ignoreUndefinedProperties) return null;
  if ((e.path && e.fieldMask.push(e.path), r instanceof Array)) {
    if (e.settings.fc && e.Ac !== 4)
      throw e.Sc("Nested arrays are not supported");
    return (function (s, o) {
      const l = [];
      let c = 0;
      for (const d of s) {
        let m = mg(d, o.wc(c));
        (m == null && (m = { nullValue: "NULL_VALUE" }), l.push(m), c++);
      }
      return { arrayValue: { values: l } };
    })(r, e);
  }
  return (function (s, o) {
    if ((s = Xn(s)) === null) return { nullValue: "NULL_VALUE" };
    if (typeof s == "number") return VD(o.serializer, s);
    if (typeof s == "boolean") return { booleanValue: s };
    if (typeof s == "string") return { stringValue: s };
    if (s instanceof Date) {
      const l = It.fromDate(s);
      return { timestampValue: dm(o.serializer, l) };
    }
    if (s instanceof It) {
      const l = new It(s.seconds, 1e3 * Math.floor(s.nanoseconds / 1e3));
      return { timestampValue: dm(o.serializer, l) };
    }
    if (s instanceof ri)
      return {
        geoPointValue: { latitude: s.latitude, longitude: s.longitude },
      };
    if (s instanceof gr) return { bytesValue: ab(o.serializer, s._byteString) };
    if (s instanceof Dn) {
      const l = o.databaseId,
        c = s.firestore._databaseId;
      if (!c.isEqual(l))
        throw o.Sc(
          `Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`,
        );
      return {
        referenceValue: ob(
          s.firestore._databaseId || o.databaseId,
          s._key.path,
        ),
      };
    }
    if (s instanceof ii)
      return (function (c, d) {
        return {
          mapValue: {
            fields: {
              [US]: { stringValue: kS },
              [jh]: {
                arrayValue: {
                  values: c.toArray().map((g) => {
                    if (typeof g != "number")
                      throw d.Sc(
                        "VectorValues must only contain numeric values.",
                      );
                    return Wm(d.serializer, g);
                  }),
                },
              },
            },
          },
        };
      })(s, o);
    throw o.Sc(`Unsupported field value: ${sf(s)}`);
  })(r, e);
}
function V2(r, e) {
  const t = {};
  return (
    DS(r)
      ? e.path && e.path.length > 0 && e.fieldMask.push(e.path)
      : Ko(r, (s, o) => {
          const l = mg(o, e.mc(s));
          l != null && (t[s] = l);
        }),
    { mapValue: { fields: t } }
  );
}
function Vb(r) {
  return !(
    typeof r != "object" ||
    r === null ||
    r instanceof Array ||
    r instanceof Date ||
    r instanceof It ||
    r instanceof ri ||
    r instanceof gr ||
    r instanceof Dn ||
    r instanceof Pb ||
    r instanceof ii
  );
}
function U2(r, e, t) {
  if (!Vb(t) || !xS(t)) {
    const s = sf(t);
    throw s === "an object" ? e.Sc(r + " a custom object") : e.Sc(r + " " + s);
  }
}
const k2 = new RegExp("[~\\*/\\[\\]]");
function j2(r, e, t) {
  if (e.search(k2) >= 0)
    throw Em(
      `Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,
      r,
      !1,
      void 0,
      t,
    );
  try {
    return new Mb(...e.split("."))._internalPath;
  } catch {
    throw Em(
      `Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,
      r,
      !1,
      void 0,
      t,
    );
  }
}
function Em(r, e, t, s, o) {
  const l = s && !s.isEmpty(),
    c = o !== void 0;
  let d = `Function ${e}() called with invalid data`;
  (t && (d += " (via `toFirestore()`)"), (d += ". "));
  let m = "";
  return (
    (l || c) &&
      ((m += " (found"),
      l && (m += ` in field ${s}`),
      c && (m += ` in document ${o}`),
      (m += ")")),
    new Se(de.INVALID_ARGUMENT, d + r + m)
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ub {
  constructor(e, t, s, o, l) {
    ((this._firestore = e),
      (this._userDataWriter = t),
      (this._key = s),
      (this._document = o),
      (this._converter = l));
  }
  get id() {
    return this._key.path.lastSegment();
  }
  get ref() {
    return new Dn(this._firestore, this._converter, this._key);
  }
  exists() {
    return this._document !== null;
  }
  data() {
    if (this._document) {
      if (this._converter) {
        const e = new z2(
          this._firestore,
          this._userDataWriter,
          this._key,
          this._document,
          null,
        );
        return this._converter.fromFirestore(e);
      }
      return this._userDataWriter.convertValue(this._document.data.value);
    }
  }
  get(e) {
    if (this._document) {
      const t = this._document.data.field(gg("DocumentSnapshot.get", e));
      if (t !== null) return this._userDataWriter.convertValue(t);
    }
  }
}
class z2 extends Ub {
  data() {
    return super.data();
  }
}
function gg(r, e) {
  return typeof e == "string"
    ? j2(r, e)
    : e instanceof Mb
      ? e._internalPath
      : e._delegate._internalPath;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function B2(r) {
  if (r.limitType === "L" && r.explicitOrderBy.length === 0)
    throw new Se(
      de.UNIMPLEMENTED,
      "limitToLast() queries require specifying at least one orderBy() clause",
    );
}
class yg {}
class H2 extends yg {}
function F2(r, e, ...t) {
  let s = [];
  (e instanceof yg && s.push(e),
    (s = s.concat(t)),
    (function (l) {
      const c = l.filter((m) => m instanceof vg).length,
        d = l.filter((m) => m instanceof yf).length;
      if (c > 1 || (c > 0 && d > 0))
        throw new Se(
          de.INVALID_ARGUMENT,
          "InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.",
        );
    })(s));
  for (const o of s) r = o._apply(r);
  return r;
}
class yf extends H2 {
  constructor(e, t, s) {
    (super(),
      (this._field = e),
      (this._op = t),
      (this._value = s),
      (this.type = "where"));
  }
  static _create(e, t, s) {
    return new yf(e, t, s);
  }
  _apply(e) {
    const t = this._parse(e);
    return (kb(e._query, t), new Qo(e.firestore, e.converter, lm(e._query, t)));
  }
  _parse(e) {
    const t = P2(e.firestore);
    return (function (l, c, d, m, g, v, T) {
      let b;
      if (g.isKeyField()) {
        if (v === "array-contains" || v === "array-contains-any")
          throw new Se(
            de.INVALID_ARGUMENT,
            `Invalid Query. You can't perform '${v}' queries on documentId().`,
          );
        if (v === "in" || v === "not-in") {
          L0(T, v);
          const D = [];
          for (const J of T) D.push(P0(m, l, J));
          b = { arrayValue: { values: D } };
        } else b = P0(m, l, T);
      } else
        ((v !== "in" && v !== "not-in" && v !== "array-contains-any") ||
          L0(T, v),
          (b = L2(d, c, T, v === "in" || v === "not-in")));
      return qt.create(g, v, b);
    })(
      e._query,
      "where",
      t,
      e.firestore._databaseId,
      this._field,
      this._op,
      this._value,
    );
  }
}
function q2(r, e, t) {
  const s = e,
    o = gg("where", r);
  return yf._create(o, s, t);
}
class vg extends yg {
  constructor(e, t) {
    (super(), (this.type = e), (this._queryConstraints = t));
  }
  static _create(e, t) {
    return new vg(e, t);
  }
  _parse(e) {
    const t = this._queryConstraints
      .map((s) => s._parse(e))
      .filter((s) => s.getFilters().length > 0);
    return t.length === 1 ? t[0] : Ir.create(t, this._getOperator());
  }
  _apply(e) {
    const t = this._parse(e);
    return t.getFilters().length === 0
      ? e
      : ((function (o, l) {
          let c = o;
          const d = l.getFlattenedFilters();
          for (const m of d) (kb(c, m), (c = lm(c, m)));
        })(e._query, t),
        new Qo(e.firestore, e.converter, lm(e._query, t)));
  }
  _getQueryConstraints() {
    return this._queryConstraints;
  }
  _getOperator() {
    return this.type === "and" ? "and" : "or";
  }
}
function P0(r, e, t) {
  if (typeof (t = Xn(t)) == "string") {
    if (t === "")
      throw new Se(
        de.INVALID_ARGUMENT,
        "Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.",
      );
    if (!$S(e) && t.indexOf("/") !== -1)
      throw new Se(
        de.INVALID_ARGUMENT,
        `Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`,
      );
    const s = e.path.child(Ct.fromString(t));
    if (!Oe.isDocumentKey(s))
      throw new Se(
        de.INVALID_ARGUMENT,
        `Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`,
      );
    return XE(r, new Oe(s));
  }
  if (t instanceof Dn) return XE(r, t._key);
  throw new Se(
    de.INVALID_ARGUMENT,
    `Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(t)}.`,
  );
}
function L0(r, e) {
  if (!Array.isArray(r) || r.length === 0)
    throw new Se(
      de.INVALID_ARGUMENT,
      `Invalid Query. A non-empty array is required for '${e.toString()}' filters.`,
    );
}
function kb(r, e) {
  const t = (function (o, l) {
    for (const c of o)
      for (const d of c.getFlattenedFilters())
        if (l.indexOf(d.op) >= 0) return d.op;
    return null;
  })(
    r.filters,
    (function (o) {
      switch (o) {
        case "!=":
          return ["!=", "not-in"];
        case "array-contains-any":
        case "in":
          return ["not-in"];
        case "not-in":
          return ["array-contains-any", "in", "not-in", "!="];
        default:
          return [];
      }
    })(e.op),
  );
  if (t !== null)
    throw t === e.op
      ? new Se(
          de.INVALID_ARGUMENT,
          `Invalid query. You cannot use more than one '${e.op.toString()}' filter.`,
        )
      : new Se(
          de.INVALID_ARGUMENT,
          `Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`,
        );
}
class G2 {
  convertValue(e, t = "none") {
    switch (Ls(e)) {
      case 0:
        return null;
      case 1:
        return e.booleanValue;
      case 2:
        return Lt(e.integerValue || e.doubleValue);
      case 3:
        return this.convertTimestamp(e.timestampValue);
      case 4:
        return this.convertServerTimestamp(e, t);
      case 5:
        return e.stringValue;
      case 6:
        return this.convertBytes(Ps(e.bytesValue));
      case 7:
        return this.convertReference(e.referenceValue);
      case 8:
        return this.convertGeoPoint(e.geoPointValue);
      case 9:
        return this.convertArray(e.arrayValue, t);
      case 11:
        return this.convertObject(e.mapValue, t);
      case 10:
        return this.convertVectorValue(e.mapValue);
      default:
        throw Be(62114, { value: e });
    }
  }
  convertObject(e, t) {
    return this.convertObjectMap(e.fields, t);
  }
  convertObjectMap(e, t = "none") {
    const s = {};
    return (
      Ko(e, (o, l) => {
        s[o] = this.convertValue(l, t);
      }),
      s
    );
  }
  convertVectorValue(e) {
    const t = e.fields?.[jh].arrayValue?.values?.map((s) => Lt(s.doubleValue));
    return new ii(t);
  }
  convertGeoPoint(e) {
    return new ri(Lt(e.latitude), Lt(e.longitude));
  }
  convertArray(e, t) {
    return (e.values || []).map((s) => this.convertValue(s, t));
  }
  convertServerTimestamp(e, t) {
    switch (t) {
      case "previous":
        const s = uf(e);
        return s == null ? null : this.convertValue(s, t);
      case "estimate":
        return this.convertTimestamp(Tu(e));
      default:
        return null;
    }
  }
  convertTimestamp(e) {
    const t = Ms(e);
    return new It(t.seconds, t.nanos);
  }
  convertDocumentKey(e, t) {
    const s = Ct.fromString(e);
    Nt(db(s), 9688, { name: e });
    const o = new Su(s.get(1), s.get(3)),
      l = new Oe(s.popFirst(5));
    return (
      o.isEqual(t) ||
        Vi(
          `Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`,
        ),
      l
    );
  }
}
class uh {
  constructor(e, t) {
    ((this.hasPendingWrites = e), (this.fromCache = t));
  }
  isEqual(e) {
    return (
      this.hasPendingWrites === e.hasPendingWrites &&
      this.fromCache === e.fromCache
    );
  }
}
class Do extends Ub {
  constructor(e, t, s, o, l, c) {
    (super(e, t, s, o, c),
      (this._firestore = e),
      (this._firestoreImpl = e),
      (this.metadata = l));
  }
  exists() {
    return super.exists();
  }
  data(e = {}) {
    if (this._document) {
      if (this._converter) {
        const t = new Ah(
          this._firestore,
          this._userDataWriter,
          this._key,
          this._document,
          this.metadata,
          null,
        );
        return this._converter.fromFirestore(t, e);
      }
      return this._userDataWriter.convertValue(
        this._document.data.value,
        e.serverTimestamps,
      );
    }
  }
  get(e, t = {}) {
    if (this._document) {
      const s = this._document.data.field(gg("DocumentSnapshot.get", e));
      if (s !== null)
        return this._userDataWriter.convertValue(s, t.serverTimestamps);
    }
  }
  toJSON() {
    if (this.metadata.hasPendingWrites)
      throw new Se(
        de.FAILED_PRECONDITION,
        "DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().",
      );
    const e = this._document,
      t = {};
    return (
      (t.type = Do._jsonSchemaVersion),
      (t.bundle = ""),
      (t.bundleSource = "DocumentSnapshot"),
      (t.bundleName = this._key.toString()),
      !e || !e.isValidDocument() || !e.isFoundDocument()
        ? t
        : (this._userDataWriter.convertObjectMap(
            e.data.value.mapValue.fields,
            "previous",
          ),
          (t.bundle = (this._firestore, this.ref.path, "NOT SUPPORTED")),
          t)
    );
  }
}
((Do._jsonSchemaVersion = "firestore/documentSnapshot/1.0"),
  (Do._jsonSchema = {
    type: Gt("string", Do._jsonSchemaVersion),
    bundleSource: Gt("string", "DocumentSnapshot"),
    bundleName: Gt("string"),
    bundle: Gt("string"),
  }));
class Ah extends Do {
  data(e = {}) {
    return super.data(e);
  }
}
class Oo {
  constructor(e, t, s, o) {
    ((this._firestore = e),
      (this._userDataWriter = t),
      (this._snapshot = o),
      (this.metadata = new uh(o.hasPendingWrites, o.fromCache)),
      (this.query = s));
  }
  get docs() {
    const e = [];
    return (this.forEach((t) => e.push(t)), e);
  }
  get size() {
    return this._snapshot.docs.size;
  }
  get empty() {
    return this.size === 0;
  }
  forEach(e, t) {
    this._snapshot.docs.forEach((s) => {
      e.call(
        t,
        new Ah(
          this._firestore,
          this._userDataWriter,
          s.key,
          s,
          new uh(
            this._snapshot.mutatedKeys.has(s.key),
            this._snapshot.fromCache,
          ),
          this.query.converter,
        ),
      );
    });
  }
  docChanges(e = {}) {
    const t = !!e.includeMetadataChanges;
    if (t && this._snapshot.excludesMetadataChanges)
      throw new Se(
        de.INVALID_ARGUMENT,
        "To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().",
      );
    return (
      (this._cachedChanges &&
        this._cachedChangesIncludeMetadataChanges === t) ||
        ((this._cachedChanges = (function (o, l) {
          if (o._snapshot.oldDocs.isEmpty()) {
            let c = 0;
            return o._snapshot.docChanges.map((d) => {
              const m = new Ah(
                o._firestore,
                o._userDataWriter,
                d.doc.key,
                d.doc,
                new uh(
                  o._snapshot.mutatedKeys.has(d.doc.key),
                  o._snapshot.fromCache,
                ),
                o.query.converter,
              );
              return (
                d.doc,
                { type: "added", doc: m, oldIndex: -1, newIndex: c++ }
              );
            });
          }
          {
            let c = o._snapshot.oldDocs;
            return o._snapshot.docChanges
              .filter((d) => l || d.type !== 3)
              .map((d) => {
                const m = new Ah(
                  o._firestore,
                  o._userDataWriter,
                  d.doc.key,
                  d.doc,
                  new uh(
                    o._snapshot.mutatedKeys.has(d.doc.key),
                    o._snapshot.fromCache,
                  ),
                  o.query.converter,
                );
                let g = -1,
                  v = -1;
                return (
                  d.type !== 0 &&
                    ((g = c.indexOf(d.doc.key)), (c = c.delete(d.doc.key))),
                  d.type !== 1 &&
                    ((c = c.add(d.doc)), (v = c.indexOf(d.doc.key))),
                  { type: $2(d.type), doc: m, oldIndex: g, newIndex: v }
                );
              });
          }
        })(this, t)),
        (this._cachedChangesIncludeMetadataChanges = t)),
      this._cachedChanges
    );
  }
  toJSON() {
    if (this.metadata.hasPendingWrites)
      throw new Se(
        de.FAILED_PRECONDITION,
        "QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().",
      );
    const e = {};
    ((e.type = Oo._jsonSchemaVersion),
      (e.bundleSource = "QuerySnapshot"),
      (e.bundleName = IS.newId()),
      this._firestore._databaseId.database,
      this._firestore._databaseId.projectId);
    const t = [],
      s = [],
      o = [];
    return (
      this.docs.forEach((l) => {
        l._document !== null &&
          (t.push(l._document),
          s.push(
            this._userDataWriter.convertObjectMap(
              l._document.data.value.mapValue.fields,
              "previous",
            ),
          ),
          o.push(l.ref.path));
      }),
      (e.bundle =
        (this._firestore, this.query._query, e.bundleName, "NOT SUPPORTED")),
      e
    );
  }
}
function $2(r) {
  switch (r) {
    case 0:
      return "added";
    case 2:
    case 3:
      return "modified";
    case 1:
      return "removed";
    default:
      return Be(61501, { type: r });
  }
}
((Oo._jsonSchemaVersion = "firestore/querySnapshot/1.0"),
  (Oo._jsonSchema = {
    type: Gt("string", Oo._jsonSchemaVersion),
    bundleSource: Gt("string", "QuerySnapshot"),
    bundleName: Gt("string"),
    bundle: Gt("string"),
  }));
class K2 extends G2 {
  constructor(e) {
    (super(), (this.firestore = e));
  }
  convertBytes(e) {
    return new gr(e);
  }
  convertReference(e) {
    const t = this.convertDocumentKey(e, this.firestore._databaseId);
    return new Dn(this.firestore, null, t);
  }
}
function Y2(r) {
  r = rm(r, Qo);
  const e = rm(r.firestore, Ob),
    t = N2(e),
    s = new K2(e);
  return (B2(r._query), R2(t, r._query).then((o) => new Oo(e, s, r, o)));
}
(function (e, t = !0) {
  ((function (o) {
    Go = o;
  })(Fo),
    Mo(
      new ba(
        "firestore",
        (s, { instanceIdentifier: o, options: l }) => {
          const c = s.getProvider("app").getImmediate(),
            d = new Ob(
              new KN(s.getProvider("auth-internal")),
              new XN(c, s.getProvider("app-check-internal")),
              (function (g, v) {
                if (
                  !Object.prototype.hasOwnProperty.apply(g.options, [
                    "projectId",
                  ])
                )
                  throw new Se(
                    de.INVALID_ARGUMENT,
                    '"projectId" not provided in firebase.initializeApp.',
                  );
                return new Su(g.options.projectId, v);
              })(c, o),
              c,
            );
          return ((l = { useFetchStreams: t, ...l }), d._setSettings(l), d);
        },
        "PUBLIC",
      ).setMultipleInstances(!0),
    ),
    xs(kE, jE, e),
    xs(kE, jE, "esm2020"));
})();
const Q2 = {
    apiKey: "AIzaSyDPnoNYJ95g54IE8Dmt3YtKXx3pfB5B4i4",
    authDomain: "rest-client-app-e010a.firebaseapp.com",
    projectId: "rest-client-app-e010a",
    storageBucket: "rest-client-app-e010a.appspot.com",
    messagingSenderId: "797035696388",
    appId: "1:797035696388:web:f8451161f4e8bed8794051",
  },
  jb = LT(Q2),
  _g = _S(jb),
  X2 = x2(jb);
async function W2(r, e) {
  const t = _S(),
    s = await Cx(t, r, e);
  return {
    id: s.user.uid,
    email: s.user.email ?? "",
    name: s.user.displayName ?? "",
  };
}
async function J2(r, e) {
  const t = await Rx(_g, r, e);
  return {
    id: t.user.uid,
    email: t.user.email ?? "",
    name: t.user.displayName ?? "",
  };
}
function Z2() {
  Dx(_g);
}
async function zb() {
  return new Promise((r) => {
    Nx(_g, (e) => {
      r(
        e
          ? { id: e.uid, email: e.email ?? "", name: e.displayName ?? "" }
          : null,
      );
    });
  });
}
const Bb = U.createContext({
    user: null,
    login: async () => {
      throw new Error("AuthContext not initialized");
    },
    logout: () => {
      throw new Error("AuthContext not initialized");
    },
  }),
  Xo = () => U.useContext(Bb);
function eM({ children: r }) {
  const [e, t] = U.useState(null),
    s = window.location,
    o = 1200 * 1e3;
  U.useEffect(() => {
    zb()
      .then(t)
      .catch(() => t(null));
    const d = setTimeout(() => {
      c();
    }, o);
    return () => clearTimeout(d);
  }, []);
  const l = async (d, m) => {
      const g = await W2(d, m);
      return (t(g), g);
    },
    c = () => {
      (Z2(), t(null), window.location.pathname !== "/" && (s.href = "/"));
    };
  return X.jsx(Bb.Provider, {
    value: { user: e, login: l, logout: c },
    children: r,
  });
}
const tM = (r, e, t, s) => {
    const o = [t, { code: e, ...(s || {}) }];
    if (r?.services?.logger?.forward)
      return r.services.logger.forward(o, "warn", "react-i18next::", !0);
    (Ta(o[0]) && (o[0] = `react-i18next:: ${o[0]}`),
      r?.services?.logger?.warn
        ? r.services.logger.warn(...o)
        : console?.warn && console.warn(...o));
  },
  V0 = {},
  Tm = (r, e, t, s) => {
    (Ta(t) && V0[t]) || (Ta(t) && (V0[t] = new Date()), tM(r, e, t, s));
  },
  Hb = (r, e) => () => {
    if (r.isInitialized) e();
    else {
      const t = () => {
        (setTimeout(() => {
          r.off("initialized", t);
        }, 0),
          e());
      };
      r.on("initialized", t);
    }
  },
  Sm = (r, e, t) => {
    r.loadNamespaces(e, Hb(r, t));
  },
  U0 = (r, e, t, s) => {
    if (
      (Ta(t) && (t = [t]),
      r.options.preload && r.options.preload.indexOf(e) > -1)
    )
      return Sm(r, t, s);
    (t.forEach((o) => {
      r.options.ns.indexOf(o) < 0 && r.options.ns.push(o);
    }),
      r.loadLanguages(e, Hb(r, s)));
  },
  nM = (r, e, t = {}) =>
    !e.languages || !e.languages.length
      ? (Tm(e, "NO_LANGUAGES", "i18n.languages were undefined or empty", {
          languages: e.languages,
        }),
        !0)
      : e.hasLoadedNamespace(r, {
          lng: t.lng,
          precheck: (s, o) => {
            if (
              t.bindI18n &&
              t.bindI18n.indexOf("languageChanging") > -1 &&
              s.services.backendConnector.backend &&
              s.isLanguageChangingTo &&
              !o(s.isLanguageChangingTo, r)
            )
              return !1;
          },
        }),
  Ta = (r) => typeof r == "string",
  rM = (r) => typeof r == "object" && r !== null,
  iM =
    /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,
  sM = {
    "&amp;": "&",
    "&#38;": "&",
    "&lt;": "<",
    "&#60;": "<",
    "&gt;": ">",
    "&#62;": ">",
    "&apos;": "'",
    "&#39;": "'",
    "&quot;": '"',
    "&#34;": '"',
    "&nbsp;": " ",
    "&#160;": " ",
    "&copy;": "",
    "&#169;": "",
    "&reg;": "",
    "&#174;": "",
    "&hellip;": "",
    "&#8230;": "",
    "&#x2F;": "/",
    "&#47;": "/",
  },
  aM = (r) => sM[r],
  oM = (r) => r.replace(iM, aM);
let bm = {
  bindI18n: "languageChanged",
  bindI18nStore: "",
  transEmptyNodeValue: "",
  transSupportBasicHtmlNodes: !0,
  transWrapTextNodes: "",
  transKeepBasicHtmlNodesFor: ["br", "strong", "i", "p"],
  useSuspense: !0,
  unescape: oM,
};
const lM = (r = {}) => {
    bm = { ...bm, ...r };
  },
  uM = () => bm;
let Fb;
const cM = (r) => {
    Fb = r;
  },
  hM = () => Fb,
  fM = {
    type: "3rdParty",
    init(r) {
      (lM(r.options.react), cM(r));
    },
  },
  dM = U.createContext();
class pM {
  constructor() {
    this.usedNamespaces = {};
  }
  addUsedNamespaces(e) {
    e.forEach((t) => {
      this.usedNamespaces[t] || (this.usedNamespaces[t] = !0);
    });
  }
  getUsedNamespaces() {
    return Object.keys(this.usedNamespaces);
  }
}
const mM = (r, e) => {
    const t = U.useRef();
    return (
      U.useEffect(() => {
        t.current = r;
      }, [r, e]),
      t.current
    );
  },
  qb = (r, e, t, s) => r.getFixedT(e, t, s),
  gM = (r, e, t, s) => U.useCallback(qb(r, e, t, s), [r, e, t, s]),
  Dr = (r, e = {}) => {
    const { i18n: t } = e,
      { i18n: s, defaultNS: o } = U.useContext(dM) || {},
      l = t || s || hM();
    if ((l && !l.reportNamespaces && (l.reportNamespaces = new pM()), !l)) {
      Tm(
        l,
        "NO_I18NEXT_INSTANCE",
        "useTranslation: You will need to pass in an i18next instance by using initReactI18next",
      );
      const pe = (k, x) =>
          Ta(x)
            ? x
            : rM(x) && Ta(x.defaultValue)
              ? x.defaultValue
              : Array.isArray(k)
                ? k[k.length - 1]
                : k,
        le = [pe, {}, !1];
      return ((le.t = pe), (le.i18n = {}), (le.ready = !1), le);
    }
    l.options.react?.wait &&
      Tm(
        l,
        "DEPRECATED_OPTION",
        "useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.",
      );
    const c = { ...uM(), ...l.options.react, ...e },
      { useSuspense: d, keyPrefix: m } = c;
    let g = o || l.options?.defaultNS;
    ((g = Ta(g) ? [g] : g || ["translation"]),
      l.reportNamespaces.addUsedNamespaces?.(g));
    const v =
        (l.isInitialized || l.initializedStoreOnce) &&
        g.every((pe) => nM(pe, l, c)),
      T = gM(l, e.lng || null, c.nsMode === "fallback" ? g : g[0], m),
      b = () => T,
      A = () => qb(l, e.lng || null, c.nsMode === "fallback" ? g : g[0], m),
      [D, J] = U.useState(b);
    let B = g.join();
    e.lng && (B = `${e.lng}${B}`);
    const Q = mM(B),
      Z = U.useRef(!0);
    (U.useEffect(() => {
      const { bindI18n: pe, bindI18nStore: le } = c;
      ((Z.current = !0),
        !v &&
          !d &&
          (e.lng
            ? U0(l, e.lng, g, () => {
                Z.current && J(A);
              })
            : Sm(l, g, () => {
                Z.current && J(A);
              })),
        v && Q && Q !== B && Z.current && J(A));
      const k = () => {
        Z.current && J(A);
      };
      return (
        pe && l?.on(pe, k),
        le && l?.store.on(le, k),
        () => {
          ((Z.current = !1),
            l && pe && pe?.split(" ").forEach((x) => l.off(x, k)),
            le && l && le.split(" ").forEach((x) => l.store.off(x, k)));
        }
      );
    }, [l, B]),
      U.useEffect(() => {
        Z.current && v && J(b);
      }, [l, m, v]));
    const ie = [D, l, v];
    if (((ie.t = D), (ie.i18n = l), (ie.ready = v), v || (!v && !d))) return ie;
    throw new Promise((pe) => {
      e.lng ? U0(l, e.lng, g, () => pe()) : Sm(l, g, () => pe());
    });
  },
  yM = [
    { code: "en", label: "English" },
    { code: "pl", label: "Polski" },
  ];
function vM() {
  const { i18n: r } = Dr(),
    [e, t] = U.useState(r.language || "en");
  U.useEffect(() => {
    const o = localStorage.getItem("lang");
    o && o !== r.language && (r.changeLanguage(o), t(o));
  }, [r]);
  const s = (o) => {
    const l = o.target.value;
    (r.changeLanguage(l), localStorage.setItem("lang", l), t(l));
  };
  return X.jsx("div", {
    className: "language-switcher",
    children: X.jsx("select", {
      style: { width: "80px", height: "24px", padding: 0 },
      value: e,
      onChange: s,
      className: "rounded px-2 py-1 border border-gray-300 bg-white text-sm",
      children: yM.map((o) =>
        X.jsx("option", { value: o.code, children: o.label }, o.code),
      ),
    }),
  });
}
function _M() {
  const { pathname: r } = Ui(),
    { user: e, logout: t } = Xo(),
    { t: s } = Dr(),
    o = e
      ? [
          { path: "/rest", label: "appName" },
          { path: "/history", label: "history" },
          { path: "/variables", label: "variables" },
        ]
      : [
          { path: "/signin", label: "signin" },
          { path: "/signup", label: "signup" },
        ];
  let l = "No user is signed in";
  return (
    e ? (l = e.email) : (l = "No user is signed"),
    X.jsxs("header", {
      className:
        "bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-md px-6 py-4 flex justify-between items-center",
      children: [
        X.jsx(Oi, {
          to: "/",
          children: X.jsx("h1", {
            className: "text-xl font-bold tracking-wide",
            children: s("appName"),
          }),
        }),
        X.jsxs("nav", {
          className: "flex gap-4",
          children: [
            X.jsx(vM, {}),
            o.map(({ path: c, label: d }) =>
              c === "/signin" || c === "/signup"
                ? e
                  ? ""
                  : X.jsx(
                      Oi,
                      {
                        to: c,
                        className: `text-sm font-medium hover:underline ${r === c ? "underline font-semibold" : ""}`,
                        children: s(d),
                      },
                      c,
                    )
                : X.jsx(
                    Oi,
                    {
                      to: c,
                      className: `text-sm font-medium hover:underline ${r === c ? "underline font-semibold" : ""}`,
                      children: s(d),
                    },
                    c,
                  ),
            ),
            e
              ? X.jsxs(X.Fragment, {
                  children: [
                    " ",
                    X.jsxs("span", {
                      children: [
                        " ",
                        X.jsxs("b", { children: [s("user"), ": "] }),
                        " ",
                        l,
                      ],
                    }),
                    X.jsxs("span", {
                      onClick: t,
                      style: { color: "red", cursor: "pointer" },
                      children: [" ", s("signout"), " "],
                    }),
                  ],
                })
              : "",
          ],
        }),
      ],
    })
  );
}
function EM() {
  return X.jsxs("footer", {
    className: "p-4 text-center text-sm text-gray-500",
    children: [
      " ",
      X.jsx(Oi, { to: "https://github.com/Dj-Rom", children: "GitHub" }),
      " 2025",
      " ",
      X.jsxs(Oi, {
        to: "https://rs.school/courses/reactjs",
        children: [
          X.jsx("img", {
            width: 10,
            src: "https://images.ctfassets.net/12phxmr4hjo6/5gsAustpJN1GgYERWk8Hth/2df7c970259f0e01a1a0f567e859bc65/react.svg",
            alt: "logo react course RS School",
          }),
          "React Course Rs",
        ],
      }),
    ],
  });
}
function TM() {
  return X.jsxs(X.Fragment, {
    children: [
      X.jsx(_M, {}),
      X.jsx("main", { className: "p-4", children: X.jsx(lR, {}) }),
      X.jsx(EM, {}),
    ],
  });
}
function SM() {
  const { t: r } = Dr(),
    { user: e, login: t } = Xo(),
    s = Jh(),
    [o, l] = U.useState(""),
    [c, d] = U.useState(""),
    [m, g] = U.useState(null),
    [v, T] = U.useState(!1);
  U.useEffect(() => {
    e && s("/", { replace: !0 });
  }, [e, s]);
  const b = async (A) => {
    (A.preventDefault(), T(!0), g(null));
    try {
      (await t(o, c), s("/"));
    } catch (D) {
      D instanceof Error ? g(D.message) : g("login failed");
    } finally {
      T(!1);
    }
  };
  return X.jsxs("div", {
    className: "max-w-md mx-auto py-6 px-4",
    children: [
      X.jsx("h1", {
        className: "text-2xl font-bold mb-4",
        children: r("signin"),
      }),
      X.jsxs("form", {
        onSubmit: b,
        className: "space-y-4",
        children: [
          X.jsxs("div", {
            children: [
              X.jsx("label", { className: "block mb-1", children: r("email") }),
              X.jsx("input", {
                type: "email",
                value: o,
                onChange: (A) => l(A.target.value),
                required: !0,
                className: "w-full border px-2 py-1 rounded",
              }),
            ],
          }),
          X.jsxs("div", {
            children: [
              X.jsx("label", {
                className: "block mb-1",
                children: r("password"),
              }),
              X.jsx("input", {
                type: "password",
                value: c,
                onChange: (A) => d(A.target.value),
                required: !0,
                className: "w-full border px-2 py-1 rounded",
              }),
            ],
          }),
          m && X.jsx("p", { className: "text-red-600 text-sm", children: m }),
          X.jsx("button", {
            type: "submit",
            disabled: v,
            className: "bg-blue-600 text-white px-4 py-2 rounded w-full",
            children: v ? "..." : r("signin"),
          }),
        ],
      }),
    ],
  });
}
function bM() {
  const { t: r } = Dr(),
    e = Jh(),
    { user: t } = Xo(),
    [s, o] = U.useState(""),
    [l, c] = U.useState(""),
    [d, m] = U.useState(null),
    [g, v] = U.useState(!1);
  U.useEffect(() => {
    t && e("/", { replace: !0 });
  }, [t, e]);
  const T = async (b) => {
    (b.preventDefault(), v(!0), m(null));
    try {
      const A = await J2(s, l);
      (console.log("Signed up:", A), e("/signin"));
    } catch (A) {
      m(A.message || "Signup failed");
    } finally {
      v(!1);
    }
  };
  return X.jsxs("div", {
    className: "max-w-md mx-auto py-6 px-4",
    children: [
      X.jsx("h1", {
        className: "text-2xl font-bold mb-4",
        children: r("signup"),
      }),
      X.jsxs("form", {
        onSubmit: T,
        className: "space-y-4",
        children: [
          X.jsxs("div", {
            children: [
              X.jsx("label", {
                className: "block mb-1 text-sm font-medium",
                children: r("email"),
              }),
              X.jsx("input", {
                type: "email",
                value: s,
                onChange: (b) => o(b.target.value),
                required: !0,
                className:
                  "w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",
              }),
            ],
          }),
          X.jsxs("div", {
            children: [
              X.jsx("label", {
                className: "block mb-1 text-sm font-medium",
                children: r("password"),
              }),
              X.jsx("input", {
                type: "password",
                value: l,
                onChange: (b) => c(b.target.value),
                required: !0,
                className:
                  "w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",
              }),
            ],
          }),
          d && X.jsx("p", { className: "text-red-600 text-sm", children: d }),
          X.jsx("button", {
            type: "submit",
            disabled: g,
            className:
              "bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 transition",
            children: g ? "..." : r("signup"),
          }),
        ],
      }),
    ],
  });
}
function jp(r, e) {
  return r.replace(/{{(.*?)}}/g, (t, s) => e[s.trim()] ?? `{{${s}}}`);
}
function wM({ url: r, headers: e, body: t, variables: s }) {
  const o = jp(r, s),
    l = {};
  for (const [d, m] of Object.entries(e)) l[d] = jp(m, s);
  const c = jp(t, s);
  return { url: o, headers: l, body: c };
}
async function AM({ method: r, url: e, headers: t, body: s, variables: o }) {
  try {
    const {
        url: l,
        headers: c,
        body: d,
      } = wM({ url: e, headers: t, body: s, variables: o }),
      m = performance.now(),
      g = await fetch(l, {
        method: r,
        headers: c,
        body: ["GET", "HEAD"].includes(r.toUpperCase()) ? void 0 : d,
      }),
      v = performance.now() - m;
    let T;
    g.headers.get("content-type")?.includes("application/json")
      ? (T = await g.json())
      : (T = await g.text());
    const A = {};
    return (
      g.headers.forEach((D, J) => {
        A[J] = D;
      }),
      {
        error: void 0,
        status: g.status,
        statusText: g.statusText,
        duration: Math.round(v),
        data: T,
        headers: A,
      }
    );
  } catch (l) {
    const c = performance.now();
    return {
      status: 0,
      statusText: "Network Error",
      duration: Math.round(c),
      data: null,
      headers: {},
      error: String(l),
    };
  }
}
function RM({ response: r }) {
  const { t: e } = Dr();
  return X.jsxs("div", {
    className: "mt-6 space-y-4",
    children: [
      X.jsx("h2", { className: "text-xl font-bold", children: e("response") }),
      X.jsxs("div", {
        className: "grid grid-cols-2 gap-4 text-sm",
        children: [
          X.jsxs("div", {
            children: [
              X.jsxs("span", {
                className: "font-semibold",
                children: [e("status"), ":"],
              }),
              " ",
              X.jsxs("span", {
                className: r.status >= 400 ? "text-red-600" : "text-green-600",
                children: [r.status, " ", r.statusText],
              }),
            ],
          }),
          X.jsxs("div", {
            children: [
              X.jsxs("span", {
                className: "font-semibold",
                children: [e("duration"), ":"],
              }),
              " ",
              r.duration,
              "ms",
            ],
          }),
        ],
      }),
      r.error &&
        X.jsxs("div", {
          className: "text-red-600 text-sm",
          children: [
            X.jsxs("strong", { children: [e("error"), ":"] }),
            " ",
            r.error,
          ],
        }),
      X.jsxs("div", {
        children: [
          X.jsx("h3", { className: "font-semibold mb-1", children: "Headers" }),
          X.jsx("pre", {
            className: "bg-gray-100 p-2 rounded text-xs overflow-x-auto",
            children: JSON.stringify(r.headers, null, 2),
          }),
        ],
      }),
      X.jsxs("div", {
        children: [
          X.jsx("h3", { className: "font-semibold mb-1", children: "Body" }),
          X.jsx("pre", {
            className: "bg-gray-100 p-2 rounded text-xs overflow-x-auto",
            children:
              typeof r.data == "object"
                ? JSON.stringify(r.data, null, 2)
                : String(r.data),
          }),
        ],
      }),
    ],
  });
}
const CM = [
  { key: "curl", label: "cURL" },
  { key: "javascript", label: "JavaScript (fetch)" },
];
function IM({ method: r, url: e, header: t, body: s }) {
  const [o, l] = U.useState("curl"),
    [c, d] = U.useState("");
  U.useEffect(() => {
    const g = {};
    t.forEach(({ key: b, value: A }) => {
      b && (g[b] = A);
    });
    const v = s ?? "";
    d(
      (() => {
        switch (o) {
          case "curl":
            const b = Object.entries(g).map(([J, B]) => `-H "${J}: ${B}"`)
                .join(` \\
  `),
              A = b
                ? b +
                  ` \\
  `
                : "",
              D =
                v && !["GET", "HEAD"].includes(r.toUpperCase())
                  ? `--data '${v}' \\
  `
                  : "";
            return `curl -X ${r} \\
  ${A}${D}"${e}"`;
          case "javascript":
            return `fetch("${e}", {
  method: "${r}",
  headers: ${JSON.stringify(g, null, 2)},
  body: ${v ? JSON.stringify(v) : "undefined"}
})`;
        }
      })(),
    );
  }, [r, e, t, s, o]);
  const m = () => {
    navigator.clipboard.writeText(c);
  };
  return X.jsxs("div", {
    className: "mt-6",
    children: [
      X.jsxs("div", {
        className: "flex items-center gap-2 mb-2",
        children: [
          X.jsx("select", {
            value: o,
            onChange: (g) => l(g.target.value),
            className: "px-2 py-1 border rounded",
            children: CM.map((g) =>
              X.jsx("option", { value: g.key, children: g.label }, g.key),
            ),
          }),
          X.jsx("button", {
            onClick: m,
            className: "bg-gray-800 text-white px-3 py-1 rounded text-sm",
            children: "Copy",
          }),
        ],
      }),
      X.jsx("pre", {
        className: "bg-gray-100 p-4 rounded overflow-x-auto text-sm",
        children: X.jsx("code", { children: c }),
      }),
    ],
  });
}
const xM = ["GET", "POST", "PUT", "DELETE", "PATCH"];
function NM({ restoreRequest: r }) {
  const { t: e } = Dr(),
    [t, s] = U.useState("GET"),
    [o, l] = U.useState(""),
    [c, d] = U.useState({}),
    [m, g] = U.useState(""),
    [v, T] = U.useState(null),
    [b, A] = U.useState(!1);
  U.useEffect(() => {
    if (!r?.restoreRequest) return;
    const Q = r.restoreRequest;
    (s(Q.method ?? "GET"), l(Q.url ?? ""), d(Q.headers ?? {}), g(Q.body ?? ""));
  }, [r]);
  const D = (Q, Z) => {
      d((ie) => ({ ...ie, [Q]: Z }));
    },
    J = async () => {
      if (!o.trim()) return;
      A(!0);
      const Q = [
        o.startsWith("http://") || o.startsWith("https://") ? o : `http://${o}`,
        o.startsWith("http://") || o.startsWith("https://")
          ? ""
          : `https://${o}`,
      ].filter(Boolean);
      let Z = null;
      for (const ie of Q)
        try {
          const pe = ["GET", "HEAD"].includes(t.toUpperCase())
              ? `https://api.allorigins.win/raw?url=${encodeURIComponent(ie)}`
              : ie,
            le = await AM({
              method: t,
              url: pe,
              headers: c,
              body: m,
              variables: {},
            });
          (T(le), A(!1));
          return;
        } catch (pe) {
          Z = pe;
        }
      (T({
        status: 0,
        statusText: "Error",
        duration: 0,
        data: null,
        headers: {},
        error: Z instanceof Error ? Z.message : String(Z),
      }),
        A(!1));
    };
  function B({ loading: Q, onClick: Z, t: ie }) {
    const [pe, le] = U.useState("");
    return (
      U.useEffect(() => {
        if (!Q) {
          le("");
          return;
        }
        const k = setInterval(() => {
          le((x) => (x.length < 3 ? x + "." : ""));
        }, 500);
        return () => clearInterval(k);
      }, [Q]),
      X.jsx("button", {
        onClick: Z,
        className: "bg-blue-600 text-white px-4 py-1 rounded",
        disabled: Q,
        children: Q ? `Wait${pe}` : ie("send"),
      })
    );
  }
  return X.jsxs("div", {
    className: "space-y-6",
    children: [
      X.jsxs("div", {
        className: "flex gap-2 items-center",
        children: [
          X.jsx("select", {
            value: t,
            onChange: (Q) => s(Q.target.value),
            className: "border px-2 py-1 rounded",
            children: xM.map((Q) =>
              X.jsx("option", { value: Q, children: Q }, Q),
            ),
          }),
          X.jsx("input", {
            type: "text",
            placeholder: e("url"),
            value: o,
            onChange: (Q) => l(Q.target.value),
            className: "flex-grow border px-2 py-1 rounded",
          }),
          X.jsx(B, { loading: b, onClick: J, t: e }),
        ],
      }),
      X.jsxs("div", {
        children: [
          X.jsx("h3", {
            className: "font-semibold mb-2",
            children: e("headers"),
          }),
          Object.entries(c).map(([Q, Z], ie) =>
            X.jsxs(
              "div",
              {
                className: "flex gap-2 mb-1",
                children: [
                  X.jsx("input", {
                    type: "text",
                    value: Q,
                    onChange: (pe) => {
                      const le = pe.target.value,
                        k = { ...c };
                      (delete k[Q], (k[le] = Z), d(k));
                    },
                    className: "border px-2 py-1 w-1/3",
                  }),
                  X.jsx("input", {
                    type: "text",
                    value: Z,
                    onChange: (pe) => D(Q, pe.target.value),
                    className: "border px-2 py-1 w-2/3",
                  }),
                ],
              },
              ie,
            ),
          ),
          X.jsx("button", {
            onClick: () => D("", ""),
            className: "text-sm text-blue-600 mt-2",
            children: "+ Add Header",
          }),
        ],
      }),
      X.jsxs("div", {
        children: [
          X.jsx("h3", { className: "font-semibold mb-2", children: e("body") }),
          X.jsx("textarea", {
            value: m,
            onChange: (Q) => g(Q.target.value),
            rows: 6,
            className: "w-full border px-2 py-1 rounded",
          }),
        ],
      }),
      v && X.jsx(RM, { response: v }),
      X.jsx(IM, {
        method: t,
        url: o,
        header: Object.entries(c).map(([Q, Z]) => ({ key: Q, value: Z })),
        body: m,
      }),
    ],
  });
}
function DM(r) {
  const { t: e } = Dr();
  return X.jsxs("div", {
    className: "max-w-5xl mx-auto py-6 px-4",
    children: [
      X.jsx("h1", {
        className: "text-2xl font-bold mb-4",
        children: e("appName"),
      }),
      X.jsx(NM, { restoreRequest: r }),
    ],
  });
}
async function OM(r) {
  const e = I2(X2, "requests"),
    t = F2(e, q2("userId", "==", r));
  return (await Y2(t)).docs.map((o) => {
    const l = o.data();
    return {
      method: l.method,
      url: l.url,
      status: l.status,
      duration: l.duration,
      error: l.error ?? void 0,
      timestamp: l.timestamp.toDate(),
    };
  });
}
const ke = (r) => typeof r == "string",
  eu = () => {
    let r, e;
    const t = new Promise((s, o) => {
      ((r = s), (e = o));
    });
    return ((t.resolve = r), (t.reject = e), t);
  },
  k0 = (r) => (r == null ? "" : "" + r),
  MM = (r, e, t) => {
    r.forEach((s) => {
      e[s] && (t[s] = e[s]);
    });
  },
  PM = /###/g,
  j0 = (r) => (r && r.indexOf("###") > -1 ? r.replace(PM, ".") : r),
  z0 = (r) => !r || ke(r),
  du = (r, e, t) => {
    const s = ke(e) ? e.split(".") : e;
    let o = 0;
    for (; o < s.length - 1; ) {
      if (z0(r)) return {};
      const l = j0(s[o]);
      (!r[l] && t && (r[l] = new t()),
        Object.prototype.hasOwnProperty.call(r, l) ? (r = r[l]) : (r = {}),
        ++o);
    }
    return z0(r) ? {} : { obj: r, k: j0(s[o]) };
  },
  B0 = (r, e, t) => {
    const { obj: s, k: o } = du(r, e, Object);
    if (s !== void 0 || e.length === 1) {
      s[o] = t;
      return;
    }
    let l = e[e.length - 1],
      c = e.slice(0, e.length - 1),
      d = du(r, c, Object);
    for (; d.obj === void 0 && c.length; )
      ((l = `${c[c.length - 1]}.${l}`),
        (c = c.slice(0, c.length - 1)),
        (d = du(r, c, Object)),
        d?.obj && typeof d.obj[`${d.k}.${l}`] < "u" && (d.obj = void 0));
    d.obj[`${d.k}.${l}`] = t;
  },
  LM = (r, e, t, s) => {
    const { obj: o, k: l } = du(r, e, Object);
    ((o[l] = o[l] || []), o[l].push(t));
  },
  $h = (r, e) => {
    const { obj: t, k: s } = du(r, e);
    if (t && Object.prototype.hasOwnProperty.call(t, s)) return t[s];
  },
  VM = (r, e, t) => {
    const s = $h(r, t);
    return s !== void 0 ? s : $h(e, t);
  },
  Gb = (r, e, t) => {
    for (const s in e)
      s !== "__proto__" &&
        s !== "constructor" &&
        (s in r
          ? ke(r[s]) ||
            r[s] instanceof String ||
            ke(e[s]) ||
            e[s] instanceof String
            ? t && (r[s] = e[s])
            : Gb(r[s], e[s], t)
          : (r[s] = e[s]));
    return r;
  },
  yo = (r) => r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
var UM = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;",
  "/": "&#x2F;",
};
const kM = (r) => (ke(r) ? r.replace(/[&<>"'\/]/g, (e) => UM[e]) : r);
class jM {
  constructor(e) {
    ((this.capacity = e),
      (this.regExpMap = new Map()),
      (this.regExpQueue = []));
  }
  getRegExp(e) {
    const t = this.regExpMap.get(e);
    if (t !== void 0) return t;
    const s = new RegExp(e);
    return (
      this.regExpQueue.length === this.capacity &&
        this.regExpMap.delete(this.regExpQueue.shift()),
      this.regExpMap.set(e, s),
      this.regExpQueue.push(e),
      s
    );
  }
}
const zM = [" ", ",", "?", "!", ";"],
  BM = new jM(20),
  HM = (r, e, t) => {
    ((e = e || ""), (t = t || ""));
    const s = zM.filter((c) => e.indexOf(c) < 0 && t.indexOf(c) < 0);
    if (s.length === 0) return !0;
    const o = BM.getRegExp(
      `(${s.map((c) => (c === "?" ? "\\?" : c)).join("|")})`,
    );
    let l = !o.test(r);
    if (!l) {
      const c = r.indexOf(t);
      c > 0 && !o.test(r.substring(0, c)) && (l = !0);
    }
    return l;
  },
  wm = (r, e, t = ".") => {
    if (!r) return;
    if (r[e]) return Object.prototype.hasOwnProperty.call(r, e) ? r[e] : void 0;
    const s = e.split(t);
    let o = r;
    for (let l = 0; l < s.length; ) {
      if (!o || typeof o != "object") return;
      let c,
        d = "";
      for (let m = l; m < s.length; ++m)
        if ((m !== l && (d += t), (d += s[m]), (c = o[d]), c !== void 0)) {
          if (
            ["string", "number", "boolean"].indexOf(typeof c) > -1 &&
            m < s.length - 1
          )
            continue;
          l += m - l + 1;
          break;
        }
      o = c;
    }
    return o;
  },
  wu = (r) => r?.replace("_", "-"),
  FM = {
    type: "logger",
    log(r) {
      this.output("log", r);
    },
    warn(r) {
      this.output("warn", r);
    },
    error(r) {
      this.output("error", r);
    },
    output(r, e) {
      console?.[r]?.apply?.(console, e);
    },
  };
class Kh {
  constructor(e, t = {}) {
    this.init(e, t);
  }
  init(e, t = {}) {
    ((this.prefix = t.prefix || "i18next:"),
      (this.logger = e || FM),
      (this.options = t),
      (this.debug = t.debug));
  }
  log(...e) {
    return this.forward(e, "log", "", !0);
  }
  warn(...e) {
    return this.forward(e, "warn", "", !0);
  }
  error(...e) {
    return this.forward(e, "error", "");
  }
  deprecate(...e) {
    return this.forward(e, "warn", "WARNING DEPRECATED: ", !0);
  }
  forward(e, t, s, o) {
    return o && !this.debug
      ? null
      : (ke(e[0]) && (e[0] = `${s}${this.prefix} ${e[0]}`), this.logger[t](e));
  }
  create(e) {
    return new Kh(this.logger, {
      prefix: `${this.prefix}:${e}:`,
      ...this.options,
    });
  }
  clone(e) {
    return (
      (e = e || this.options),
      (e.prefix = e.prefix || this.prefix),
      new Kh(this.logger, e)
    );
  }
}
var Jr = new Kh();
class vf {
  constructor() {
    this.observers = {};
  }
  on(e, t) {
    return (
      e.split(" ").forEach((s) => {
        this.observers[s] || (this.observers[s] = new Map());
        const o = this.observers[s].get(t) || 0;
        this.observers[s].set(t, o + 1);
      }),
      this
    );
  }
  off(e, t) {
    if (this.observers[e]) {
      if (!t) {
        delete this.observers[e];
        return;
      }
      this.observers[e].delete(t);
    }
  }
  emit(e, ...t) {
    (this.observers[e] &&
      Array.from(this.observers[e].entries()).forEach(([o, l]) => {
        for (let c = 0; c < l; c++) o(...t);
      }),
      this.observers["*"] &&
        Array.from(this.observers["*"].entries()).forEach(([o, l]) => {
          for (let c = 0; c < l; c++) o.apply(o, [e, ...t]);
        }));
  }
}
class H0 extends vf {
  constructor(e, t = { ns: ["translation"], defaultNS: "translation" }) {
    (super(),
      (this.data = e || {}),
      (this.options = t),
      this.options.keySeparator === void 0 && (this.options.keySeparator = "."),
      this.options.ignoreJSONStructure === void 0 &&
        (this.options.ignoreJSONStructure = !0));
  }
  addNamespaces(e) {
    this.options.ns.indexOf(e) < 0 && this.options.ns.push(e);
  }
  removeNamespaces(e) {
    const t = this.options.ns.indexOf(e);
    t > -1 && this.options.ns.splice(t, 1);
  }
  getResource(e, t, s, o = {}) {
    const l =
        o.keySeparator !== void 0 ? o.keySeparator : this.options.keySeparator,
      c =
        o.ignoreJSONStructure !== void 0
          ? o.ignoreJSONStructure
          : this.options.ignoreJSONStructure;
    let d;
    e.indexOf(".") > -1
      ? (d = e.split("."))
      : ((d = [e, t]),
        s &&
          (Array.isArray(s)
            ? d.push(...s)
            : ke(s) && l
              ? d.push(...s.split(l))
              : d.push(s)));
    const m = $h(this.data, d);
    return (
      !m &&
        !t &&
        !s &&
        e.indexOf(".") > -1 &&
        ((e = d[0]), (t = d[1]), (s = d.slice(2).join("."))),
      m || !c || !ke(s) ? m : wm(this.data?.[e]?.[t], s, l)
    );
  }
  addResource(e, t, s, o, l = { silent: !1 }) {
    const c =
      l.keySeparator !== void 0 ? l.keySeparator : this.options.keySeparator;
    let d = [e, t];
    (s && (d = d.concat(c ? s.split(c) : s)),
      e.indexOf(".") > -1 && ((d = e.split(".")), (o = t), (t = d[1])),
      this.addNamespaces(t),
      B0(this.data, d, o),
      l.silent || this.emit("added", e, t, s, o));
  }
  addResources(e, t, s, o = { silent: !1 }) {
    for (const l in s)
      (ke(s[l]) || Array.isArray(s[l])) &&
        this.addResource(e, t, l, s[l], { silent: !0 });
    o.silent || this.emit("added", e, t, s);
  }
  addResourceBundle(e, t, s, o, l, c = { silent: !1, skipCopy: !1 }) {
    let d = [e, t];
    (e.indexOf(".") > -1 && ((d = e.split(".")), (o = s), (s = t), (t = d[1])),
      this.addNamespaces(t));
    let m = $h(this.data, d) || {};
    (c.skipCopy || (s = JSON.parse(JSON.stringify(s))),
      o ? Gb(m, s, l) : (m = { ...m, ...s }),
      B0(this.data, d, m),
      c.silent || this.emit("added", e, t, s));
  }
  removeResourceBundle(e, t) {
    (this.hasResourceBundle(e, t) && delete this.data[e][t],
      this.removeNamespaces(t),
      this.emit("removed", e, t));
  }
  hasResourceBundle(e, t) {
    return this.getResource(e, t) !== void 0;
  }
  getResourceBundle(e, t) {
    return (t || (t = this.options.defaultNS), this.getResource(e, t));
  }
  getDataByLanguage(e) {
    return this.data[e];
  }
  hasLanguageSomeTranslations(e) {
    const t = this.getDataByLanguage(e);
    return !!((t && Object.keys(t)) || []).find(
      (o) => t[o] && Object.keys(t[o]).length > 0,
    );
  }
  toJSON() {
    return this.data;
  }
}
var $b = {
  processors: {},
  addPostProcessor(r) {
    this.processors[r.name] = r;
  },
  handle(r, e, t, s, o) {
    return (
      r.forEach((l) => {
        e = this.processors[l]?.process(e, t, s, o) ?? e;
      }),
      e
    );
  },
};
const Kb = Symbol("i18next/PATH_KEY");
function qM() {
  const r = [],
    e = Object.create(null);
  let t;
  return (
    (e.get = (s, o) => (
      t?.revoke?.(),
      o === Kb ? r : (r.push(o), (t = Proxy.revocable(s, e)), t.proxy)
    )),
    Proxy.revocable(Object.create(null), e).proxy
  );
}
function Am(r, e) {
  const { [Kb]: t } = r(qM());
  return t.join(e?.keySeparator ?? ".");
}
const F0 = {},
  q0 = (r) => !ke(r) && typeof r != "boolean" && typeof r != "number";
class Yh extends vf {
  constructor(e, t = {}) {
    (super(),
      MM(
        [
          "resourceStore",
          "languageUtils",
          "pluralResolver",
          "interpolator",
          "backendConnector",
          "i18nFormat",
          "utils",
        ],
        e,
        this,
      ),
      (this.options = t),
      this.options.keySeparator === void 0 && (this.options.keySeparator = "."),
      (this.logger = Jr.create("translator")));
  }
  changeLanguage(e) {
    e && (this.language = e);
  }
  exists(e, t = { interpolation: {} }) {
    const s = { ...t };
    return e == null ? !1 : this.resolve(e, s)?.res !== void 0;
  }
  extractFromKey(e, t) {
    let s = t.nsSeparator !== void 0 ? t.nsSeparator : this.options.nsSeparator;
    s === void 0 && (s = ":");
    const o =
      t.keySeparator !== void 0 ? t.keySeparator : this.options.keySeparator;
    let l = t.ns || this.options.defaultNS || [];
    const c = s && e.indexOf(s) > -1,
      d =
        !this.options.userDefinedKeySeparator &&
        !t.keySeparator &&
        !this.options.userDefinedNsSeparator &&
        !t.nsSeparator &&
        !HM(e, s, o);
    if (c && !d) {
      const m = e.match(this.interpolator.nestingRegexp);
      if (m && m.length > 0) return { key: e, namespaces: ke(l) ? [l] : l };
      const g = e.split(s);
      ((s !== o || (s === o && this.options.ns.indexOf(g[0]) > -1)) &&
        (l = g.shift()),
        (e = g.join(o)));
    }
    return { key: e, namespaces: ke(l) ? [l] : l };
  }
  translate(e, t, s) {
    let o = typeof t == "object" ? { ...t } : t;
    if (
      (typeof o != "object" &&
        this.options.overloadTranslationOptionHandler &&
        (o = this.options.overloadTranslationOptionHandler(arguments)),
      typeof o == "object" && (o = { ...o }),
      o || (o = {}),
      e == null)
    )
      return "";
    (typeof e == "function" && (e = Am(e, { ...this.options, ...o })),
      Array.isArray(e) || (e = [String(e)]));
    const l =
        o.returnDetails !== void 0
          ? o.returnDetails
          : this.options.returnDetails,
      c =
        o.keySeparator !== void 0 ? o.keySeparator : this.options.keySeparator,
      { key: d, namespaces: m } = this.extractFromKey(e[e.length - 1], o),
      g = m[m.length - 1];
    let v = o.nsSeparator !== void 0 ? o.nsSeparator : this.options.nsSeparator;
    v === void 0 && (v = ":");
    const T = o.lng || this.language,
      b = o.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
    if (T?.toLowerCase() === "cimode")
      return b
        ? l
          ? {
              res: `${g}${v}${d}`,
              usedKey: d,
              exactUsedKey: d,
              usedLng: T,
              usedNS: g,
              usedParams: this.getUsedParamsDetails(o),
            }
          : `${g}${v}${d}`
        : l
          ? {
              res: d,
              usedKey: d,
              exactUsedKey: d,
              usedLng: T,
              usedNS: g,
              usedParams: this.getUsedParamsDetails(o),
            }
          : d;
    const A = this.resolve(e, o);
    let D = A?.res;
    const J = A?.usedKey || d,
      B = A?.exactUsedKey || d,
      Q = ["[object Number]", "[object Function]", "[object RegExp]"],
      Z = o.joinArrays !== void 0 ? o.joinArrays : this.options.joinArrays,
      ie = !this.i18nFormat || this.i18nFormat.handleAsObject,
      pe = o.count !== void 0 && !ke(o.count),
      le = Yh.hasDefaultValue(o),
      k = pe ? this.pluralResolver.getSuffix(T, o.count, o) : "",
      x =
        o.ordinal && pe
          ? this.pluralResolver.getSuffix(T, o.count, { ordinal: !1 })
          : "",
      R = pe && !o.ordinal && o.count === 0,
      C =
        (R && o[`defaultValue${this.options.pluralSeparator}zero`]) ||
        o[`defaultValue${k}`] ||
        o[`defaultValue${x}`] ||
        o.defaultValue;
    let M = D;
    ie && !D && le && (M = C);
    const V = q0(M),
      j = Object.prototype.toString.apply(M);
    if (ie && M && V && Q.indexOf(j) < 0 && !(ke(Z) && Array.isArray(M))) {
      if (!o.returnObjects && !this.options.returnObjects) {
        this.options.returnedObjectHandler ||
          this.logger.warn(
            "accessing an object - but returnObjects options is not enabled!",
          );
        const I = this.options.returnedObjectHandler
          ? this.options.returnedObjectHandler(J, M, { ...o, ns: m })
          : `key '${d} (${this.language})' returned an object instead of string.`;
        return l
          ? ((A.res = I), (A.usedParams = this.getUsedParamsDetails(o)), A)
          : I;
      }
      if (c) {
        const I = Array.isArray(M),
          Ie = I ? [] : {},
          Ke = I ? B : J;
        for (const G in M)
          if (Object.prototype.hasOwnProperty.call(M, G)) {
            const ce = `${Ke}${c}${G}`;
            (le && !D
              ? (Ie[G] = this.translate(ce, {
                  ...o,
                  defaultValue: q0(C) ? C[G] : void 0,
                  joinArrays: !1,
                  ns: m,
                }))
              : (Ie[G] = this.translate(ce, { ...o, joinArrays: !1, ns: m })),
              Ie[G] === ce && (Ie[G] = M[G]));
          }
        D = Ie;
      }
    } else if (ie && ke(Z) && Array.isArray(D))
      ((D = D.join(Z)), D && (D = this.extendTranslation(D, e, o, s)));
    else {
      let I = !1,
        Ie = !1;
      (!this.isValidLookup(D) && le && ((I = !0), (D = C)),
        this.isValidLookup(D) || ((Ie = !0), (D = d)));
      const G =
          (o.missingKeyNoValueFallbackToKey ||
            this.options.missingKeyNoValueFallbackToKey) &&
          Ie
            ? void 0
            : D,
        ce = le && C !== D && this.options.updateMissing;
      if (Ie || I || ce) {
        if (
          (this.logger.log(
            ce ? "updateKey" : "missingKey",
            T,
            g,
            d,
            ce ? C : D,
          ),
          c)
        ) {
          const te = this.resolve(d, { ...o, keySeparator: !1 });
          te &&
            te.res &&
            this.logger.warn(
              "Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.",
            );
        }
        let ge = [];
        const Ve = this.languageUtils.getFallbackCodes(
          this.options.fallbackLng,
          o.lng || this.language,
        );
        if (this.options.saveMissingTo === "fallback" && Ve && Ve[0])
          for (let te = 0; te < Ve.length; te++) ge.push(Ve[te]);
        else
          this.options.saveMissingTo === "all"
            ? (ge = this.languageUtils.toResolveHierarchy(
                o.lng || this.language,
              ))
            : ge.push(o.lng || this.language);
        const O = (te, fe, ue) => {
          const Ee = le && ue !== D ? ue : G;
          (this.options.missingKeyHandler
            ? this.options.missingKeyHandler(te, g, fe, Ee, ce, o)
            : this.backendConnector?.saveMissing &&
              this.backendConnector.saveMissing(te, g, fe, Ee, ce, o),
            this.emit("missingKey", te, g, fe, D));
        };
        this.options.saveMissing &&
          (this.options.saveMissingPlurals && pe
            ? ge.forEach((te) => {
                const fe = this.pluralResolver.getSuffixes(te, o);
                (R &&
                  o[`defaultValue${this.options.pluralSeparator}zero`] &&
                  fe.indexOf(`${this.options.pluralSeparator}zero`) < 0 &&
                  fe.push(`${this.options.pluralSeparator}zero`),
                  fe.forEach((ue) => {
                    O([te], d + ue, o[`defaultValue${ue}`] || C);
                  }));
              })
            : O(ge, d, C));
      }
      ((D = this.extendTranslation(D, e, o, A, s)),
        Ie &&
          D === d &&
          this.options.appendNamespaceToMissingKey &&
          (D = `${g}${v}${d}`),
        (Ie || I) &&
          this.options.parseMissingKeyHandler &&
          (D = this.options.parseMissingKeyHandler(
            this.options.appendNamespaceToMissingKey ? `${g}${v}${d}` : d,
            I ? D : void 0,
            o,
          )));
    }
    return l
      ? ((A.res = D), (A.usedParams = this.getUsedParamsDetails(o)), A)
      : D;
  }
  extendTranslation(e, t, s, o, l) {
    if (this.i18nFormat?.parse)
      e = this.i18nFormat.parse(
        e,
        { ...this.options.interpolation.defaultVariables, ...s },
        s.lng || this.language || o.usedLng,
        o.usedNS,
        o.usedKey,
        { resolved: o },
      );
    else if (!s.skipInterpolation) {
      s.interpolation &&
        this.interpolator.init({
          ...s,
          interpolation: { ...this.options.interpolation, ...s.interpolation },
        });
      const m =
        ke(e) &&
        (s?.interpolation?.skipOnVariables !== void 0
          ? s.interpolation.skipOnVariables
          : this.options.interpolation.skipOnVariables);
      let g;
      if (m) {
        const T = e.match(this.interpolator.nestingRegexp);
        g = T && T.length;
      }
      let v = s.replace && !ke(s.replace) ? s.replace : s;
      if (
        (this.options.interpolation.defaultVariables &&
          (v = { ...this.options.interpolation.defaultVariables, ...v }),
        (e = this.interpolator.interpolate(
          e,
          v,
          s.lng || this.language || o.usedLng,
          s,
        )),
        m)
      ) {
        const T = e.match(this.interpolator.nestingRegexp),
          b = T && T.length;
        g < b && (s.nest = !1);
      }
      (!s.lng && o && o.res && (s.lng = this.language || o.usedLng),
        s.nest !== !1 &&
          (e = this.interpolator.nest(
            e,
            (...T) =>
              l?.[0] === T[0] && !s.context
                ? (this.logger.warn(
                    `It seems you are nesting recursively key: ${T[0]} in key: ${t[0]}`,
                  ),
                  null)
                : this.translate(...T, t),
            s,
          )),
        s.interpolation && this.interpolator.reset());
    }
    const c = s.postProcess || this.options.postProcess,
      d = ke(c) ? [c] : c;
    return (
      e != null &&
        d?.length &&
        s.applyPostProcessor !== !1 &&
        (e = $b.handle(
          d,
          e,
          t,
          this.options && this.options.postProcessPassResolved
            ? {
                i18nResolved: {
                  ...o,
                  usedParams: this.getUsedParamsDetails(s),
                },
                ...s,
              }
            : s,
          this,
        )),
      e
    );
  }
  resolve(e, t = {}) {
    let s, o, l, c, d;
    return (
      ke(e) && (e = [e]),
      e.forEach((m) => {
        if (this.isValidLookup(s)) return;
        const g = this.extractFromKey(m, t),
          v = g.key;
        o = v;
        let T = g.namespaces;
        this.options.fallbackNS && (T = T.concat(this.options.fallbackNS));
        const b = t.count !== void 0 && !ke(t.count),
          A = b && !t.ordinal && t.count === 0,
          D =
            t.context !== void 0 &&
            (ke(t.context) || typeof t.context == "number") &&
            t.context !== "",
          J = t.lngs
            ? t.lngs
            : this.languageUtils.toResolveHierarchy(
                t.lng || this.language,
                t.fallbackLng,
              );
        T.forEach((B) => {
          this.isValidLookup(s) ||
            ((d = B),
            !F0[`${J[0]}-${B}`] &&
              this.utils?.hasLoadedNamespace &&
              !this.utils?.hasLoadedNamespace(d) &&
              ((F0[`${J[0]}-${B}`] = !0),
              this.logger.warn(
                `key "${o}" for languages "${J.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,
                "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!",
              )),
            J.forEach((Q) => {
              if (this.isValidLookup(s)) return;
              c = Q;
              const Z = [v];
              if (this.i18nFormat?.addLookupKeys)
                this.i18nFormat.addLookupKeys(Z, v, Q, B, t);
              else {
                let pe;
                b && (pe = this.pluralResolver.getSuffix(Q, t.count, t));
                const le = `${this.options.pluralSeparator}zero`,
                  k = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;
                if (
                  (b &&
                    (t.ordinal &&
                      pe.indexOf(k) === 0 &&
                      Z.push(v + pe.replace(k, this.options.pluralSeparator)),
                    Z.push(v + pe),
                    A && Z.push(v + le)),
                  D)
                ) {
                  const x = `${v}${this.options.contextSeparator || "_"}${t.context}`;
                  (Z.push(x),
                    b &&
                      (t.ordinal &&
                        pe.indexOf(k) === 0 &&
                        Z.push(x + pe.replace(k, this.options.pluralSeparator)),
                      Z.push(x + pe),
                      A && Z.push(x + le)));
                }
              }
              let ie;
              for (; (ie = Z.pop()); )
                this.isValidLookup(s) ||
                  ((l = ie), (s = this.getResource(Q, B, ie, t)));
            }));
        });
      }),
      { res: s, usedKey: o, exactUsedKey: l, usedLng: c, usedNS: d }
    );
  }
  isValidLookup(e) {
    return (
      e !== void 0 &&
      !(!this.options.returnNull && e === null) &&
      !(!this.options.returnEmptyString && e === "")
    );
  }
  getResource(e, t, s, o = {}) {
    return this.i18nFormat?.getResource
      ? this.i18nFormat.getResource(e, t, s, o)
      : this.resourceStore.getResource(e, t, s, o);
  }
  getUsedParamsDetails(e = {}) {
    const t = [
        "defaultValue",
        "ordinal",
        "context",
        "replace",
        "lng",
        "lngs",
        "fallbackLng",
        "ns",
        "keySeparator",
        "nsSeparator",
        "returnObjects",
        "returnDetails",
        "joinArrays",
        "postProcess",
        "interpolation",
      ],
      s = e.replace && !ke(e.replace);
    let o = s ? e.replace : e;
    if (
      (s && typeof e.count < "u" && (o.count = e.count),
      this.options.interpolation.defaultVariables &&
        (o = { ...this.options.interpolation.defaultVariables, ...o }),
      !s)
    ) {
      o = { ...o };
      for (const l of t) delete o[l];
    }
    return o;
  }
  static hasDefaultValue(e) {
    const t = "defaultValue";
    for (const s in e)
      if (
        Object.prototype.hasOwnProperty.call(e, s) &&
        t === s.substring(0, t.length) &&
        e[s] !== void 0
      )
        return !0;
    return !1;
  }
}
class G0 {
  constructor(e) {
    ((this.options = e),
      (this.supportedLngs = this.options.supportedLngs || !1),
      (this.logger = Jr.create("languageUtils")));
  }
  getScriptPartFromCode(e) {
    if (((e = wu(e)), !e || e.indexOf("-") < 0)) return null;
    const t = e.split("-");
    return t.length === 2 || (t.pop(), t[t.length - 1].toLowerCase() === "x")
      ? null
      : this.formatLanguageCode(t.join("-"));
  }
  getLanguagePartFromCode(e) {
    if (((e = wu(e)), !e || e.indexOf("-") < 0)) return e;
    const t = e.split("-");
    return this.formatLanguageCode(t[0]);
  }
  formatLanguageCode(e) {
    if (ke(e) && e.indexOf("-") > -1) {
      let t;
      try {
        t = Intl.getCanonicalLocales(e)[0];
      } catch {}
      return (
        t && this.options.lowerCaseLng && (t = t.toLowerCase()),
        t || (this.options.lowerCaseLng ? e.toLowerCase() : e)
      );
    }
    return this.options.cleanCode || this.options.lowerCaseLng
      ? e.toLowerCase()
      : e;
  }
  isSupportedCode(e) {
    return (
      (this.options.load === "languageOnly" ||
        this.options.nonExplicitSupportedLngs) &&
        (e = this.getLanguagePartFromCode(e)),
      !this.supportedLngs ||
        !this.supportedLngs.length ||
        this.supportedLngs.indexOf(e) > -1
    );
  }
  getBestMatchFromCodes(e) {
    if (!e) return null;
    let t;
    return (
      e.forEach((s) => {
        if (t) return;
        const o = this.formatLanguageCode(s);
        (!this.options.supportedLngs || this.isSupportedCode(o)) && (t = o);
      }),
      !t &&
        this.options.supportedLngs &&
        e.forEach((s) => {
          if (t) return;
          const o = this.getScriptPartFromCode(s);
          if (this.isSupportedCode(o)) return (t = o);
          const l = this.getLanguagePartFromCode(s);
          if (this.isSupportedCode(l)) return (t = l);
          t = this.options.supportedLngs.find((c) => {
            if (c === l) return c;
            if (
              !(c.indexOf("-") < 0 && l.indexOf("-") < 0) &&
              ((c.indexOf("-") > 0 &&
                l.indexOf("-") < 0 &&
                c.substring(0, c.indexOf("-")) === l) ||
                (c.indexOf(l) === 0 && l.length > 1))
            )
              return c;
          });
        }),
      t || (t = this.getFallbackCodes(this.options.fallbackLng)[0]),
      t
    );
  }
  getFallbackCodes(e, t) {
    if (!e) return [];
    if (
      (typeof e == "function" && (e = e(t)),
      ke(e) && (e = [e]),
      Array.isArray(e))
    )
      return e;
    if (!t) return e.default || [];
    let s = e[t];
    return (
      s || (s = e[this.getScriptPartFromCode(t)]),
      s || (s = e[this.formatLanguageCode(t)]),
      s || (s = e[this.getLanguagePartFromCode(t)]),
      s || (s = e.default),
      s || []
    );
  }
  toResolveHierarchy(e, t) {
    const s = this.getFallbackCodes(
        (t === !1 ? [] : t) || this.options.fallbackLng || [],
        e,
      ),
      o = [],
      l = (c) => {
        c &&
          (this.isSupportedCode(c)
            ? o.push(c)
            : this.logger.warn(
                `rejecting language code not found in supportedLngs: ${c}`,
              ));
      };
    return (
      ke(e) && (e.indexOf("-") > -1 || e.indexOf("_") > -1)
        ? (this.options.load !== "languageOnly" &&
            l(this.formatLanguageCode(e)),
          this.options.load !== "languageOnly" &&
            this.options.load !== "currentOnly" &&
            l(this.getScriptPartFromCode(e)),
          this.options.load !== "currentOnly" &&
            l(this.getLanguagePartFromCode(e)))
        : ke(e) && l(this.formatLanguageCode(e)),
      s.forEach((c) => {
        o.indexOf(c) < 0 && l(this.formatLanguageCode(c));
      }),
      o
    );
  }
}
const $0 = { zero: 0, one: 1, two: 2, few: 3, many: 4, other: 5 },
  K0 = {
    select: (r) => (r === 1 ? "one" : "other"),
    resolvedOptions: () => ({ pluralCategories: ["one", "other"] }),
  };
class GM {
  constructor(e, t = {}) {
    ((this.languageUtils = e),
      (this.options = t),
      (this.logger = Jr.create("pluralResolver")),
      (this.pluralRulesCache = {}));
  }
  addRule(e, t) {
    this.rules[e] = t;
  }
  clearCache() {
    this.pluralRulesCache = {};
  }
  getRule(e, t = {}) {
    const s = wu(e === "dev" ? "en" : e),
      o = t.ordinal ? "ordinal" : "cardinal",
      l = JSON.stringify({ cleanedCode: s, type: o });
    if (l in this.pluralRulesCache) return this.pluralRulesCache[l];
    let c;
    try {
      c = new Intl.PluralRules(s, { type: o });
    } catch {
      if (!Intl)
        return (
          this.logger.error("No Intl support, please use an Intl polyfill!"),
          K0
        );
      if (!e.match(/-|_/)) return K0;
      const m = this.languageUtils.getLanguagePartFromCode(e);
      c = this.getRule(m, t);
    }
    return ((this.pluralRulesCache[l] = c), c);
  }
  needsPlural(e, t = {}) {
    let s = this.getRule(e, t);
    return (
      s || (s = this.getRule("dev", t)),
      s?.resolvedOptions().pluralCategories.length > 1
    );
  }
  getPluralFormsOfKey(e, t, s = {}) {
    return this.getSuffixes(e, s).map((o) => `${t}${o}`);
  }
  getSuffixes(e, t = {}) {
    let s = this.getRule(e, t);
    return (
      s || (s = this.getRule("dev", t)),
      s
        ? s
            .resolvedOptions()
            .pluralCategories.sort((o, l) => $0[o] - $0[l])
            .map(
              (o) =>
                `${this.options.prepend}${t.ordinal ? `ordinal${this.options.prepend}` : ""}${o}`,
            )
        : []
    );
  }
  getSuffix(e, t, s = {}) {
    const o = this.getRule(e, s);
    return o
      ? `${this.options.prepend}${s.ordinal ? `ordinal${this.options.prepend}` : ""}${o.select(t)}`
      : (this.logger.warn(`no plural rule found for: ${e}`),
        this.getSuffix("dev", t, s));
  }
}
const Y0 = (r, e, t, s = ".", o = !0) => {
    let l = VM(r, e, t);
    return (
      !l &&
        o &&
        ke(t) &&
        ((l = wm(r, t, s)), l === void 0 && (l = wm(e, t, s))),
      l
    );
  },
  zp = (r) => r.replace(/\$/g, "$$$$");
class $M {
  constructor(e = {}) {
    ((this.logger = Jr.create("interpolator")),
      (this.options = e),
      (this.format = e?.interpolation?.format || ((t) => t)),
      this.init(e));
  }
  init(e = {}) {
    e.interpolation || (e.interpolation = { escapeValue: !0 });
    const {
      escape: t,
      escapeValue: s,
      useRawValueToEscape: o,
      prefix: l,
      prefixEscaped: c,
      suffix: d,
      suffixEscaped: m,
      formatSeparator: g,
      unescapeSuffix: v,
      unescapePrefix: T,
      nestingPrefix: b,
      nestingPrefixEscaped: A,
      nestingSuffix: D,
      nestingSuffixEscaped: J,
      nestingOptionsSeparator: B,
      maxReplaces: Q,
      alwaysFormat: Z,
    } = e.interpolation;
    ((this.escape = t !== void 0 ? t : kM),
      (this.escapeValue = s !== void 0 ? s : !0),
      (this.useRawValueToEscape = o !== void 0 ? o : !1),
      (this.prefix = l ? yo(l) : c || "{{"),
      (this.suffix = d ? yo(d) : m || "}}"),
      (this.formatSeparator = g || ","),
      (this.unescapePrefix = v ? "" : T || "-"),
      (this.unescapeSuffix = this.unescapePrefix ? "" : v || ""),
      (this.nestingPrefix = b ? yo(b) : A || yo("$t(")),
      (this.nestingSuffix = D ? yo(D) : J || yo(")")),
      (this.nestingOptionsSeparator = B || ","),
      (this.maxReplaces = Q || 1e3),
      (this.alwaysFormat = Z !== void 0 ? Z : !1),
      this.resetRegExp());
  }
  reset() {
    this.options && this.init(this.options);
  }
  resetRegExp() {
    const e = (t, s) =>
      t?.source === s ? ((t.lastIndex = 0), t) : new RegExp(s, "g");
    ((this.regexp = e(this.regexp, `${this.prefix}(.+?)${this.suffix}`)),
      (this.regexpUnescape = e(
        this.regexpUnescape,
        `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`,
      )),
      (this.nestingRegexp = e(
        this.nestingRegexp,
        `${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`,
      )));
  }
  interpolate(e, t, s, o) {
    let l, c, d;
    const m =
        (this.options &&
          this.options.interpolation &&
          this.options.interpolation.defaultVariables) ||
        {},
      g = (A) => {
        if (A.indexOf(this.formatSeparator) < 0) {
          const Q = Y0(
            t,
            m,
            A,
            this.options.keySeparator,
            this.options.ignoreJSONStructure,
          );
          return this.alwaysFormat
            ? this.format(Q, void 0, s, { ...o, ...t, interpolationkey: A })
            : Q;
        }
        const D = A.split(this.formatSeparator),
          J = D.shift().trim(),
          B = D.join(this.formatSeparator).trim();
        return this.format(
          Y0(
            t,
            m,
            J,
            this.options.keySeparator,
            this.options.ignoreJSONStructure,
          ),
          B,
          s,
          { ...o, ...t, interpolationkey: J },
        );
      };
    this.resetRegExp();
    const v =
        o?.missingInterpolationHandler ||
        this.options.missingInterpolationHandler,
      T =
        o?.interpolation?.skipOnVariables !== void 0
          ? o.interpolation.skipOnVariables
          : this.options.interpolation.skipOnVariables;
    return (
      [
        { regex: this.regexpUnescape, safeValue: (A) => zp(A) },
        {
          regex: this.regexp,
          safeValue: (A) => (this.escapeValue ? zp(this.escape(A)) : zp(A)),
        },
      ].forEach((A) => {
        for (d = 0; (l = A.regex.exec(e)); ) {
          const D = l[1].trim();
          if (((c = g(D)), c === void 0))
            if (typeof v == "function") {
              const B = v(e, l, o);
              c = ke(B) ? B : "";
            } else if (o && Object.prototype.hasOwnProperty.call(o, D)) c = "";
            else if (T) {
              c = l[0];
              continue;
            } else
              (this.logger.warn(
                `missed to pass in variable ${D} for interpolating ${e}`,
              ),
                (c = ""));
          else !ke(c) && !this.useRawValueToEscape && (c = k0(c));
          const J = A.safeValue(c);
          if (
            ((e = e.replace(l[0], J)),
            T
              ? ((A.regex.lastIndex += c.length),
                (A.regex.lastIndex -= l[0].length))
              : (A.regex.lastIndex = 0),
            d++,
            d >= this.maxReplaces)
          )
            break;
        }
      }),
      e
    );
  }
  nest(e, t, s = {}) {
    let o, l, c;
    const d = (m, g) => {
      const v = this.nestingOptionsSeparator;
      if (m.indexOf(v) < 0) return m;
      const T = m.split(new RegExp(`${v}[ ]*{`));
      let b = `{${T[1]}`;
      ((m = T[0]), (b = this.interpolate(b, c)));
      const A = b.match(/'/g),
        D = b.match(/"/g);
      (((A?.length ?? 0) % 2 === 0 && !D) || D.length % 2 !== 0) &&
        (b = b.replace(/'/g, '"'));
      try {
        ((c = JSON.parse(b)), g && (c = { ...g, ...c }));
      } catch (J) {
        return (
          this.logger.warn(
            `failed parsing options string in nesting for key ${m}`,
            J,
          ),
          `${m}${v}${b}`
        );
      }
      return (
        c.defaultValue &&
          c.defaultValue.indexOf(this.prefix) > -1 &&
          delete c.defaultValue,
        m
      );
    };
    for (; (o = this.nestingRegexp.exec(e)); ) {
      let m = [];
      ((c = { ...s }),
        (c = c.replace && !ke(c.replace) ? c.replace : c),
        (c.applyPostProcessor = !1),
        delete c.defaultValue);
      const g = /{.*}/.test(o[1])
        ? o[1].lastIndexOf("}") + 1
        : o[1].indexOf(this.formatSeparator);
      if (
        (g !== -1 &&
          ((m = o[1]
            .slice(g)
            .split(this.formatSeparator)
            .map((v) => v.trim())
            .filter(Boolean)),
          (o[1] = o[1].slice(0, g))),
        (l = t(d.call(this, o[1].trim(), c), c)),
        l && o[0] === e && !ke(l))
      )
        return l;
      (ke(l) || (l = k0(l)),
        l ||
          (this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),
          (l = "")),
        m.length &&
          (l = m.reduce(
            (v, T) =>
              this.format(v, T, s.lng, { ...s, interpolationkey: o[1].trim() }),
            l.trim(),
          )),
        (e = e.replace(o[0], l)),
        (this.regexp.lastIndex = 0));
    }
    return e;
  }
}
const KM = (r) => {
    let e = r.toLowerCase().trim();
    const t = {};
    if (r.indexOf("(") > -1) {
      const s = r.split("(");
      e = s[0].toLowerCase().trim();
      const o = s[1].substring(0, s[1].length - 1);
      e === "currency" && o.indexOf(":") < 0
        ? t.currency || (t.currency = o.trim())
        : e === "relativetime" && o.indexOf(":") < 0
          ? t.range || (t.range = o.trim())
          : o.split(";").forEach((c) => {
              if (c) {
                const [d, ...m] = c.split(":"),
                  g = m
                    .join(":")
                    .trim()
                    .replace(/^'+|'+$/g, ""),
                  v = d.trim();
                (t[v] || (t[v] = g),
                  g === "false" && (t[v] = !1),
                  g === "true" && (t[v] = !0),
                  isNaN(g) || (t[v] = parseInt(g, 10)));
              }
            });
    }
    return { formatName: e, formatOptions: t };
  },
  Q0 = (r) => {
    const e = {};
    return (t, s, o) => {
      let l = o;
      o &&
        o.interpolationkey &&
        o.formatParams &&
        o.formatParams[o.interpolationkey] &&
        o[o.interpolationkey] &&
        (l = { ...l, [o.interpolationkey]: void 0 });
      const c = s + JSON.stringify(l);
      let d = e[c];
      return (d || ((d = r(wu(s), o)), (e[c] = d)), d(t));
    };
  },
  YM = (r) => (e, t, s) => r(wu(t), s)(e);
class QM {
  constructor(e = {}) {
    ((this.logger = Jr.create("formatter")), (this.options = e), this.init(e));
  }
  init(e, t = { interpolation: {} }) {
    this.formatSeparator = t.interpolation.formatSeparator || ",";
    const s = t.cacheInBuiltFormats ? Q0 : YM;
    this.formats = {
      number: s((o, l) => {
        const c = new Intl.NumberFormat(o, { ...l });
        return (d) => c.format(d);
      }),
      currency: s((o, l) => {
        const c = new Intl.NumberFormat(o, { ...l, style: "currency" });
        return (d) => c.format(d);
      }),
      datetime: s((o, l) => {
        const c = new Intl.DateTimeFormat(o, { ...l });
        return (d) => c.format(d);
      }),
      relativetime: s((o, l) => {
        const c = new Intl.RelativeTimeFormat(o, { ...l });
        return (d) => c.format(d, l.range || "day");
      }),
      list: s((o, l) => {
        const c = new Intl.ListFormat(o, { ...l });
        return (d) => c.format(d);
      }),
    };
  }
  add(e, t) {
    this.formats[e.toLowerCase().trim()] = t;
  }
  addCached(e, t) {
    this.formats[e.toLowerCase().trim()] = Q0(t);
  }
  format(e, t, s, o = {}) {
    const l = t.split(this.formatSeparator);
    if (
      l.length > 1 &&
      l[0].indexOf("(") > 1 &&
      l[0].indexOf(")") < 0 &&
      l.find((d) => d.indexOf(")") > -1)
    ) {
      const d = l.findIndex((m) => m.indexOf(")") > -1);
      l[0] = [l[0], ...l.splice(1, d)].join(this.formatSeparator);
    }
    return l.reduce((d, m) => {
      const { formatName: g, formatOptions: v } = KM(m);
      if (this.formats[g]) {
        let T = d;
        try {
          const b = o?.formatParams?.[o.interpolationkey] || {},
            A = b.locale || b.lng || o.locale || o.lng || s;
          T = this.formats[g](d, A, { ...v, ...o, ...b });
        } catch (b) {
          this.logger.warn(b);
        }
        return T;
      } else this.logger.warn(`there was no format function for ${g}`);
      return d;
    }, e);
  }
}
const XM = (r, e) => {
  r.pending[e] !== void 0 && (delete r.pending[e], r.pendingCount--);
};
class WM extends vf {
  constructor(e, t, s, o = {}) {
    (super(),
      (this.backend = e),
      (this.store = t),
      (this.services = s),
      (this.languageUtils = s.languageUtils),
      (this.options = o),
      (this.logger = Jr.create("backendConnector")),
      (this.waitingReads = []),
      (this.maxParallelReads = o.maxParallelReads || 10),
      (this.readingCalls = 0),
      (this.maxRetries = o.maxRetries >= 0 ? o.maxRetries : 5),
      (this.retryTimeout = o.retryTimeout >= 1 ? o.retryTimeout : 350),
      (this.state = {}),
      (this.queue = []),
      this.backend?.init?.(s, o.backend, o));
  }
  queueLoad(e, t, s, o) {
    const l = {},
      c = {},
      d = {},
      m = {};
    return (
      e.forEach((g) => {
        let v = !0;
        (t.forEach((T) => {
          const b = `${g}|${T}`;
          !s.reload && this.store.hasResourceBundle(g, T)
            ? (this.state[b] = 2)
            : this.state[b] < 0 ||
              (this.state[b] === 1
                ? c[b] === void 0 && (c[b] = !0)
                : ((this.state[b] = 1),
                  (v = !1),
                  c[b] === void 0 && (c[b] = !0),
                  l[b] === void 0 && (l[b] = !0),
                  m[T] === void 0 && (m[T] = !0)));
        }),
          v || (d[g] = !0));
      }),
      (Object.keys(l).length || Object.keys(c).length) &&
        this.queue.push({
          pending: c,
          pendingCount: Object.keys(c).length,
          loaded: {},
          errors: [],
          callback: o,
        }),
      {
        toLoad: Object.keys(l),
        pending: Object.keys(c),
        toLoadLanguages: Object.keys(d),
        toLoadNamespaces: Object.keys(m),
      }
    );
  }
  loaded(e, t, s) {
    const o = e.split("|"),
      l = o[0],
      c = o[1];
    (t && this.emit("failedLoading", l, c, t),
      !t &&
        s &&
        this.store.addResourceBundle(l, c, s, void 0, void 0, { skipCopy: !0 }),
      (this.state[e] = t ? -1 : 2),
      t && s && (this.state[e] = 0));
    const d = {};
    (this.queue.forEach((m) => {
      (LM(m.loaded, [l], c),
        XM(m, e),
        t && m.errors.push(t),
        m.pendingCount === 0 &&
          !m.done &&
          (Object.keys(m.loaded).forEach((g) => {
            d[g] || (d[g] = {});
            const v = m.loaded[g];
            v.length &&
              v.forEach((T) => {
                d[g][T] === void 0 && (d[g][T] = !0);
              });
          }),
          (m.done = !0),
          m.errors.length ? m.callback(m.errors) : m.callback()));
    }),
      this.emit("loaded", d),
      (this.queue = this.queue.filter((m) => !m.done)));
  }
  read(e, t, s, o = 0, l = this.retryTimeout, c) {
    if (!e.length) return c(null, {});
    if (this.readingCalls >= this.maxParallelReads) {
      this.waitingReads.push({
        lng: e,
        ns: t,
        fcName: s,
        tried: o,
        wait: l,
        callback: c,
      });
      return;
    }
    this.readingCalls++;
    const d = (g, v) => {
        if ((this.readingCalls--, this.waitingReads.length > 0)) {
          const T = this.waitingReads.shift();
          this.read(T.lng, T.ns, T.fcName, T.tried, T.wait, T.callback);
        }
        if (g && v && o < this.maxRetries) {
          setTimeout(() => {
            this.read.call(this, e, t, s, o + 1, l * 2, c);
          }, l);
          return;
        }
        c(g, v);
      },
      m = this.backend[s].bind(this.backend);
    if (m.length === 2) {
      try {
        const g = m(e, t);
        g && typeof g.then == "function"
          ? g.then((v) => d(null, v)).catch(d)
          : d(null, g);
      } catch (g) {
        d(g);
      }
      return;
    }
    return m(e, t, d);
  }
  prepareLoading(e, t, s = {}, o) {
    if (!this.backend)
      return (
        this.logger.warn(
          "No backend was added via i18next.use. Will not load resources.",
        ),
        o && o()
      );
    (ke(e) && (e = this.languageUtils.toResolveHierarchy(e)),
      ke(t) && (t = [t]));
    const l = this.queueLoad(e, t, s, o);
    if (!l.toLoad.length) return (l.pending.length || o(), null);
    l.toLoad.forEach((c) => {
      this.loadOne(c);
    });
  }
  load(e, t, s) {
    this.prepareLoading(e, t, {}, s);
  }
  reload(e, t, s) {
    this.prepareLoading(e, t, { reload: !0 }, s);
  }
  loadOne(e, t = "") {
    const s = e.split("|"),
      o = s[0],
      l = s[1];
    this.read(o, l, "read", void 0, void 0, (c, d) => {
      (c &&
        this.logger.warn(
          `${t}loading namespace ${l} for language ${o} failed`,
          c,
        ),
        !c &&
          d &&
          this.logger.log(`${t}loaded namespace ${l} for language ${o}`, d),
        this.loaded(e, c, d));
    });
  }
  saveMissing(e, t, s, o, l, c = {}, d = () => {}) {
    if (
      this.services?.utils?.hasLoadedNamespace &&
      !this.services?.utils?.hasLoadedNamespace(t)
    ) {
      this.logger.warn(
        `did not save key "${s}" as the namespace "${t}" was not yet loaded`,
        "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!",
      );
      return;
    }
    if (!(s == null || s === "")) {
      if (this.backend?.create) {
        const m = { ...c, isUpdate: l },
          g = this.backend.create.bind(this.backend);
        if (g.length < 6)
          try {
            let v;
            (g.length === 5 ? (v = g(e, t, s, o, m)) : (v = g(e, t, s, o)),
              v && typeof v.then == "function"
                ? v.then((T) => d(null, T)).catch(d)
                : d(null, v));
          } catch (v) {
            d(v);
          }
        else g(e, t, s, o, d, m);
      }
      !e || !e[0] || this.store.addResource(e[0], t, s, o);
    }
  }
}
const X0 = () => ({
    debug: !1,
    initAsync: !0,
    ns: ["translation"],
    defaultNS: ["translation"],
    fallbackLng: ["dev"],
    fallbackNS: !1,
    supportedLngs: !1,
    nonExplicitSupportedLngs: !1,
    load: "all",
    preload: !1,
    simplifyPluralSuffix: !0,
    keySeparator: ".",
    nsSeparator: ":",
    pluralSeparator: "_",
    contextSeparator: "_",
    partialBundledLanguages: !1,
    saveMissing: !1,
    updateMissing: !1,
    saveMissingTo: "fallback",
    saveMissingPlurals: !0,
    missingKeyHandler: !1,
    missingInterpolationHandler: !1,
    postProcess: !1,
    postProcessPassResolved: !1,
    returnNull: !1,
    returnEmptyString: !0,
    returnObjects: !1,
    joinArrays: !1,
    returnedObjectHandler: !1,
    parseMissingKeyHandler: !1,
    appendNamespaceToMissingKey: !1,
    appendNamespaceToCIMode: !1,
    overloadTranslationOptionHandler: (r) => {
      let e = {};
      if (
        (typeof r[1] == "object" && (e = r[1]),
        ke(r[1]) && (e.defaultValue = r[1]),
        ke(r[2]) && (e.tDescription = r[2]),
        typeof r[2] == "object" || typeof r[3] == "object")
      ) {
        const t = r[3] || r[2];
        Object.keys(t).forEach((s) => {
          e[s] = t[s];
        });
      }
      return e;
    },
    interpolation: {
      escapeValue: !0,
      format: (r) => r,
      prefix: "{{",
      suffix: "}}",
      formatSeparator: ",",
      unescapePrefix: "-",
      nestingPrefix: "$t(",
      nestingSuffix: ")",
      nestingOptionsSeparator: ",",
      maxReplaces: 1e3,
      skipOnVariables: !0,
    },
    cacheInBuiltFormats: !0,
  }),
  W0 = (r) => (
    ke(r.ns) && (r.ns = [r.ns]),
    ke(r.fallbackLng) && (r.fallbackLng = [r.fallbackLng]),
    ke(r.fallbackNS) && (r.fallbackNS = [r.fallbackNS]),
    r.supportedLngs?.indexOf?.("cimode") < 0 &&
      (r.supportedLngs = r.supportedLngs.concat(["cimode"])),
    typeof r.initImmediate == "boolean" && (r.initAsync = r.initImmediate),
    r
  ),
  ch = () => {},
  JM = (r) => {
    Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((t) => {
      typeof r[t] == "function" && (r[t] = r[t].bind(r));
    });
  };
class Au extends vf {
  constructor(e = {}, t) {
    if (
      (super(),
      (this.options = W0(e)),
      (this.services = {}),
      (this.logger = Jr),
      (this.modules = { external: [] }),
      JM(this),
      t && !this.isInitialized && !e.isClone)
    ) {
      if (!this.options.initAsync) return (this.init(e, t), this);
      setTimeout(() => {
        this.init(e, t);
      }, 0);
    }
  }
  init(e = {}, t) {
    ((this.isInitializing = !0),
      typeof e == "function" && ((t = e), (e = {})),
      e.defaultNS == null &&
        e.ns &&
        (ke(e.ns)
          ? (e.defaultNS = e.ns)
          : e.ns.indexOf("translation") < 0 && (e.defaultNS = e.ns[0])));
    const s = X0();
    ((this.options = { ...s, ...this.options, ...W0(e) }),
      (this.options.interpolation = {
        ...s.interpolation,
        ...this.options.interpolation,
      }),
      e.keySeparator !== void 0 &&
        (this.options.userDefinedKeySeparator = e.keySeparator),
      e.nsSeparator !== void 0 &&
        (this.options.userDefinedNsSeparator = e.nsSeparator));
    const o = (g) => (g ? (typeof g == "function" ? new g() : g) : null);
    if (!this.options.isClone) {
      this.modules.logger
        ? Jr.init(o(this.modules.logger), this.options)
        : Jr.init(null, this.options);
      let g;
      this.modules.formatter ? (g = this.modules.formatter) : (g = QM);
      const v = new G0(this.options);
      this.store = new H0(this.options.resources, this.options);
      const T = this.services;
      ((T.logger = Jr),
        (T.resourceStore = this.store),
        (T.languageUtils = v),
        (T.pluralResolver = new GM(v, {
          prepend: this.options.pluralSeparator,
          simplifyPluralSuffix: this.options.simplifyPluralSuffix,
        })),
        this.options.interpolation.format &&
          this.options.interpolation.format !== s.interpolation.format &&
          this.logger.deprecate(
            "init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting",
          ),
        g &&
          (!this.options.interpolation.format ||
            this.options.interpolation.format === s.interpolation.format) &&
          ((T.formatter = o(g)),
          T.formatter.init && T.formatter.init(T, this.options),
          (this.options.interpolation.format = T.formatter.format.bind(
            T.formatter,
          ))),
        (T.interpolator = new $M(this.options)),
        (T.utils = { hasLoadedNamespace: this.hasLoadedNamespace.bind(this) }),
        (T.backendConnector = new WM(
          o(this.modules.backend),
          T.resourceStore,
          T,
          this.options,
        )),
        T.backendConnector.on("*", (A, ...D) => {
          this.emit(A, ...D);
        }),
        this.modules.languageDetector &&
          ((T.languageDetector = o(this.modules.languageDetector)),
          T.languageDetector.init &&
            T.languageDetector.init(T, this.options.detection, this.options)),
        this.modules.i18nFormat &&
          ((T.i18nFormat = o(this.modules.i18nFormat)),
          T.i18nFormat.init && T.i18nFormat.init(this)),
        (this.translator = new Yh(this.services, this.options)),
        this.translator.on("*", (A, ...D) => {
          this.emit(A, ...D);
        }),
        this.modules.external.forEach((A) => {
          A.init && A.init(this);
        }));
    }
    if (
      ((this.format = this.options.interpolation.format),
      t || (t = ch),
      this.options.fallbackLng &&
        !this.services.languageDetector &&
        !this.options.lng)
    ) {
      const g = this.services.languageUtils.getFallbackCodes(
        this.options.fallbackLng,
      );
      g.length > 0 && g[0] !== "dev" && (this.options.lng = g[0]);
    }
    (!this.services.languageDetector &&
      !this.options.lng &&
      this.logger.warn(
        "init: no languageDetector is used and no lng is defined",
      ),
      [
        "getResource",
        "hasResourceBundle",
        "getResourceBundle",
        "getDataByLanguage",
      ].forEach((g) => {
        this[g] = (...v) => this.store[g](...v);
      }),
      [
        "addResource",
        "addResources",
        "addResourceBundle",
        "removeResourceBundle",
      ].forEach((g) => {
        this[g] = (...v) => (this.store[g](...v), this);
      }));
    const d = eu(),
      m = () => {
        const g = (v, T) => {
          ((this.isInitializing = !1),
            this.isInitialized &&
              !this.initializedStoreOnce &&
              this.logger.warn(
                "init: i18next is already initialized. You should call init just once!",
              ),
            (this.isInitialized = !0),
            this.options.isClone ||
              this.logger.log("initialized", this.options),
            this.emit("initialized", this.options),
            d.resolve(T),
            t(v, T));
        };
        if (this.languages && !this.isInitialized)
          return g(null, this.t.bind(this));
        this.changeLanguage(this.options.lng, g);
      };
    return (
      this.options.resources || !this.options.initAsync
        ? m()
        : setTimeout(m, 0),
      d
    );
  }
  loadResources(e, t = ch) {
    let s = t;
    const o = ke(e) ? e : this.language;
    if (
      (typeof e == "function" && (s = e),
      !this.options.resources || this.options.partialBundledLanguages)
    ) {
      if (
        o?.toLowerCase() === "cimode" &&
        (!this.options.preload || this.options.preload.length === 0)
      )
        return s();
      const l = [],
        c = (d) => {
          if (!d || d === "cimode") return;
          this.services.languageUtils.toResolveHierarchy(d).forEach((g) => {
            g !== "cimode" && l.indexOf(g) < 0 && l.push(g);
          });
        };
      (o
        ? c(o)
        : this.services.languageUtils
            .getFallbackCodes(this.options.fallbackLng)
            .forEach((m) => c(m)),
        this.options.preload?.forEach?.((d) => c(d)),
        this.services.backendConnector.load(l, this.options.ns, (d) => {
          (!d &&
            !this.resolvedLanguage &&
            this.language &&
            this.setResolvedLanguage(this.language),
            s(d));
        }));
    } else s(null);
  }
  reloadResources(e, t, s) {
    const o = eu();
    return (
      typeof e == "function" && ((s = e), (e = void 0)),
      typeof t == "function" && ((s = t), (t = void 0)),
      e || (e = this.languages),
      t || (t = this.options.ns),
      s || (s = ch),
      this.services.backendConnector.reload(e, t, (l) => {
        (o.resolve(), s(l));
      }),
      o
    );
  }
  use(e) {
    if (!e)
      throw new Error(
        "You are passing an undefined module! Please check the object you are passing to i18next.use()",
      );
    if (!e.type)
      throw new Error(
        "You are passing a wrong module! Please check the object you are passing to i18next.use()",
      );
    return (
      e.type === "backend" && (this.modules.backend = e),
      (e.type === "logger" || (e.log && e.warn && e.error)) &&
        (this.modules.logger = e),
      e.type === "languageDetector" && (this.modules.languageDetector = e),
      e.type === "i18nFormat" && (this.modules.i18nFormat = e),
      e.type === "postProcessor" && $b.addPostProcessor(e),
      e.type === "formatter" && (this.modules.formatter = e),
      e.type === "3rdParty" && this.modules.external.push(e),
      this
    );
  }
  setResolvedLanguage(e) {
    if (!(!e || !this.languages) && !(["cimode", "dev"].indexOf(e) > -1)) {
      for (let t = 0; t < this.languages.length; t++) {
        const s = this.languages[t];
        if (
          !(["cimode", "dev"].indexOf(s) > -1) &&
          this.store.hasLanguageSomeTranslations(s)
        ) {
          this.resolvedLanguage = s;
          break;
        }
      }
      !this.resolvedLanguage &&
        this.languages.indexOf(e) < 0 &&
        this.store.hasLanguageSomeTranslations(e) &&
        ((this.resolvedLanguage = e), this.languages.unshift(e));
    }
  }
  changeLanguage(e, t) {
    this.isLanguageChangingTo = e;
    const s = eu();
    this.emit("languageChanging", e);
    const o = (d) => {
        ((this.language = d),
          (this.languages = this.services.languageUtils.toResolveHierarchy(d)),
          (this.resolvedLanguage = void 0),
          this.setResolvedLanguage(d));
      },
      l = (d, m) => {
        (m
          ? this.isLanguageChangingTo === e &&
            (o(m),
            this.translator.changeLanguage(m),
            (this.isLanguageChangingTo = void 0),
            this.emit("languageChanged", m),
            this.logger.log("languageChanged", m))
          : (this.isLanguageChangingTo = void 0),
          s.resolve((...g) => this.t(...g)),
          t && t(d, (...g) => this.t(...g)));
      },
      c = (d) => {
        !e && !d && this.services.languageDetector && (d = []);
        const m = ke(d) ? d : d && d[0],
          g = this.store.hasLanguageSomeTranslations(m)
            ? m
            : this.services.languageUtils.getBestMatchFromCodes(
                ke(d) ? [d] : d,
              );
        (g &&
          (this.language || o(g),
          this.translator.language || this.translator.changeLanguage(g),
          this.services.languageDetector?.cacheUserLanguage?.(g)),
          this.loadResources(g, (v) => {
            l(v, g);
          }));
      };
    return (
      !e &&
      this.services.languageDetector &&
      !this.services.languageDetector.async
        ? c(this.services.languageDetector.detect())
        : !e &&
            this.services.languageDetector &&
            this.services.languageDetector.async
          ? this.services.languageDetector.detect.length === 0
            ? this.services.languageDetector.detect().then(c)
            : this.services.languageDetector.detect(c)
          : c(e),
      s
    );
  }
  getFixedT(e, t, s) {
    const o = (l, c, ...d) => {
      let m;
      (typeof c != "object"
        ? (m = this.options.overloadTranslationOptionHandler([l, c].concat(d)))
        : (m = { ...c }),
        (m.lng = m.lng || o.lng),
        (m.lngs = m.lngs || o.lngs),
        (m.ns = m.ns || o.ns),
        m.keyPrefix !== "" && (m.keyPrefix = m.keyPrefix || s || o.keyPrefix));
      const g = this.options.keySeparator || ".";
      let v;
      return (
        m.keyPrefix && Array.isArray(l)
          ? (v = l.map(
              (T) => (
                typeof T == "function" &&
                  (T = Am(T, { ...this.options, ...c })),
                `${m.keyPrefix}${g}${T}`
              ),
            ))
          : (typeof l == "function" && (l = Am(l, { ...this.options, ...c })),
            (v = m.keyPrefix ? `${m.keyPrefix}${g}${l}` : l)),
        this.t(v, m)
      );
    };
    return (
      ke(e) ? (o.lng = e) : (o.lngs = e),
      (o.ns = t),
      (o.keyPrefix = s),
      o
    );
  }
  t(...e) {
    return this.translator?.translate(...e);
  }
  exists(...e) {
    return this.translator?.exists(...e);
  }
  setDefaultNamespace(e) {
    this.options.defaultNS = e;
  }
  hasLoadedNamespace(e, t = {}) {
    if (!this.isInitialized)
      return (
        this.logger.warn(
          "hasLoadedNamespace: i18next was not initialized",
          this.languages,
        ),
        !1
      );
    if (!this.languages || !this.languages.length)
      return (
        this.logger.warn(
          "hasLoadedNamespace: i18n.languages were undefined or empty",
          this.languages,
        ),
        !1
      );
    const s = t.lng || this.resolvedLanguage || this.languages[0],
      o = this.options ? this.options.fallbackLng : !1,
      l = this.languages[this.languages.length - 1];
    if (s.toLowerCase() === "cimode") return !0;
    const c = (d, m) => {
      const g = this.services.backendConnector.state[`${d}|${m}`];
      return g === -1 || g === 0 || g === 2;
    };
    if (t.precheck) {
      const d = t.precheck(this, c);
      if (d !== void 0) return d;
    }
    return !!(
      this.hasResourceBundle(s, e) ||
      !this.services.backendConnector.backend ||
      (this.options.resources && !this.options.partialBundledLanguages) ||
      (c(s, e) && (!o || c(l, e)))
    );
  }
  loadNamespaces(e, t) {
    const s = eu();
    return this.options.ns
      ? (ke(e) && (e = [e]),
        e.forEach((o) => {
          this.options.ns.indexOf(o) < 0 && this.options.ns.push(o);
        }),
        this.loadResources((o) => {
          (s.resolve(), t && t(o));
        }),
        s)
      : (t && t(), Promise.resolve());
  }
  loadLanguages(e, t) {
    const s = eu();
    ke(e) && (e = [e]);
    const o = this.options.preload || [],
      l = e.filter(
        (c) =>
          o.indexOf(c) < 0 && this.services.languageUtils.isSupportedCode(c),
      );
    return l.length
      ? ((this.options.preload = o.concat(l)),
        this.loadResources((c) => {
          (s.resolve(), t && t(c));
        }),
        s)
      : (t && t(), Promise.resolve());
  }
  dir(e) {
    if (
      (e ||
        (e =
          this.resolvedLanguage ||
          (this.languages?.length > 0 ? this.languages[0] : this.language)),
      !e)
    )
      return "rtl";
    try {
      const o = new Intl.Locale(e);
      if (o && o.getTextInfo) {
        const l = o.getTextInfo();
        if (l && l.direction) return l.direction;
      }
    } catch {}
    const t = [
        "ar",
        "shu",
        "sqr",
        "ssh",
        "xaa",
        "yhd",
        "yud",
        "aao",
        "abh",
        "abv",
        "acm",
        "acq",
        "acw",
        "acx",
        "acy",
        "adf",
        "ads",
        "aeb",
        "aec",
        "afb",
        "ajp",
        "apc",
        "apd",
        "arb",
        "arq",
        "ars",
        "ary",
        "arz",
        "auz",
        "avl",
        "ayh",
        "ayl",
        "ayn",
        "ayp",
        "bbz",
        "pga",
        "he",
        "iw",
        "ps",
        "pbt",
        "pbu",
        "pst",
        "prp",
        "prd",
        "ug",
        "ur",
        "ydd",
        "yds",
        "yih",
        "ji",
        "yi",
        "hbo",
        "men",
        "xmn",
        "fa",
        "jpr",
        "peo",
        "pes",
        "prs",
        "dv",
        "sam",
        "ckb",
      ],
      s = this.services?.languageUtils || new G0(X0());
    return e.toLowerCase().indexOf("-latn") > 1
      ? "ltr"
      : t.indexOf(s.getLanguagePartFromCode(e)) > -1 ||
          e.toLowerCase().indexOf("-arab") > 1
        ? "rtl"
        : "ltr";
  }
  static createInstance(e = {}, t) {
    return new Au(e, t);
  }
  cloneInstance(e = {}, t = ch) {
    const s = e.forkResourceStore;
    s && delete e.forkResourceStore;
    const o = { ...this.options, ...e, isClone: !0 },
      l = new Au(o);
    if (
      ((e.debug !== void 0 || e.prefix !== void 0) &&
        (l.logger = l.logger.clone(e)),
      ["store", "services", "language"].forEach((d) => {
        l[d] = this[d];
      }),
      (l.services = { ...this.services }),
      (l.services.utils = { hasLoadedNamespace: l.hasLoadedNamespace.bind(l) }),
      s)
    ) {
      const d = Object.keys(this.store.data).reduce(
        (m, g) => (
          (m[g] = { ...this.store.data[g] }),
          (m[g] = Object.keys(m[g]).reduce(
            (v, T) => ((v[T] = { ...m[g][T] }), v),
            m[g],
          )),
          m
        ),
        {},
      );
      ((l.store = new H0(d, o)), (l.services.resourceStore = l.store));
    }
    return (
      (l.translator = new Yh(l.services, o)),
      l.translator.on("*", (d, ...m) => {
        l.emit(d, ...m);
      }),
      l.init(o, t),
      (l.translator.options = o),
      (l.translator.backendConnector.services.utils = {
        hasLoadedNamespace: l.hasLoadedNamespace.bind(l),
      }),
      l
    );
  }
  toJSON() {
    return {
      options: this.options,
      store: this.store,
      language: this.language,
      languages: this.languages,
      resolvedLanguage: this.resolvedLanguage,
    };
  }
}
const Sn = Au.createInstance();
Sn.createInstance = Au.createInstance;
Sn.createInstance;
Sn.dir;
Sn.init;
Sn.loadResources;
Sn.reloadResources;
Sn.use;
Sn.changeLanguage;
Sn.getFixedT;
Sn.t;
Sn.exists;
Sn.setDefaultNamespace;
Sn.hasLoadedNamespace;
Sn.loadNamespaces;
Sn.loadLanguages;
function ZM({ onSelect: r }) {
  const [e, t] = U.useState([]),
    [s, o] = U.useState(!0),
    [l, c] = U.useState(null);
  if (
    (U.useEffect(() => {
      (async () => {
        try {
          const m = await zb();
          if (!m) throw new Error("You must be signed in to view history.");
          const g = await OM(m.id);
          t(g.sort((v, T) => T.timestamp.getTime() - v.timestamp.getTime()));
        } catch (m) {
          m instanceof Error ? c(m.message) : c("Failed to load history.");
        } finally {
          o(!1);
        }
      })();
    }, []),
    s)
  )
    return X.jsx("p", {
      className: "text-gray-500",
      children: "Loading history...",
    });
  if (l) return X.jsx("p", { className: "text-red-500", children: l });
  if (e.length === 0)
    return X.jsx("p", {
      className: "text-gray-500",
      children: "No history found.",
    });
}
function Yb({ onSelect: r }) {
  const { t: e } = Dr();
  return X.jsxs("div", {
    className: "max-w-4xl mx-auto py-6 px-4",
    children: [
      X.jsx("h1", {
        className: "text-2xl font-bold mb-4",
        children: e("history"),
      }),
      X.jsx(ZM, { onSelect: r }),
    ],
  });
}
function Bp(r, e) {
  localStorage.setItem(r, JSON.stringify(e));
}
function eP(r) {
  const e = localStorage.getItem(r);
  return e ? JSON.parse(e) : null;
}
const hh = "rest-client-variables",
  Qb = U.createContext({
    variables: {},
    addVariable: () => {},
    editVariable: () => {},
    deleteVariable: () => {},
  }),
  tP = ({ children: r }) => {
    const [e, t] = U.useState({});
    U.useEffect(() => {
      const c = eP(hh);
      c && t(c);
    }, []);
    const s = (c, d) => {
        t((m) => {
          const g = { ...m, [c]: d };
          return (Bp(hh, g), g);
        });
      },
      o = (c, d) => {
        t((m) => {
          if (!m[c]) return m;
          const g = { ...m, [c]: d };
          return (Bp(hh, g), g);
        });
      },
      l = (c) => {
        t((d) => {
          const m = { ...d };
          return (delete m[c], Bp(hh, m), m);
        });
      };
    return X.jsx(Qb.Provider, {
      value: {
        variables: e,
        addVariable: s,
        editVariable: o,
        deleteVariable: l,
      },
      children: r,
    });
  },
  nP = () => U.useContext(Qb);
function rP() {
  const {
      variables: r,
      addVariable: e,
      editVariable: t,
      deleteVariable: s,
    } = nP(),
    { t: o } = Dr(),
    [l, c] = U.useState(""),
    [d, m] = U.useState(""),
    [g, v] = U.useState(null),
    T = () => {
      l.trim() && (g ? (t(g, d), v(null)) : e(l, d), c(""), m(""));
    },
    b = (D) => {
      (v(D), c(D), m(r[D]));
    },
    A = () => {
      (v(null), c(""), m(""));
    };
  return X.jsxs("div", {
    className: "max-w-xl mx-auto space-y-6",
    children: [
      X.jsx("h2", {
        className: "text-2xl font-bold",
        children: o("variables"),
      }),
      X.jsxs("div", {
        className: "flex gap-2",
        children: [
          X.jsx("input", {
            type: "text",
            placeholder: o("addVariable") + " name",
            value: l,
            onChange: (D) => c(D.target.value),
            className: "border px-2 py-1 w-1/3",
          }),
          X.jsx("input", {
            type: "text",
            placeholder: o("addVariable") + " value",
            value: d,
            onChange: (D) => m(D.target.value),
            className: "border px-2 py-1 w-1/2",
          }),
          X.jsx("button", {
            onClick: T,
            className: "bg-blue-600 text-white px-3 py-1 rounded",
            children: o(g ? "save Variable" : "add Variable"),
          }),
          g &&
            X.jsx("button", {
              onClick: A,
              className: "bg-gray-400 text-white px-3 py-1 rounded",
              children: "Cancel",
            }),
        ],
      }),
      X.jsx("ul", {
        className: "space-y-2",
        children: Object.entries(r).map(([D, J]) =>
          X.jsxs(
            "li",
            {
              className: "flex justify-between items-center border p-2 rounded",
              children: [
                X.jsxs("div", {
                  children: [
                    X.jsx("span", {
                      className: "font-semibold",
                      children: `{{${D}}}`,
                    }),
                    "=",
                    " ",
                    X.jsx("span", { children: J }),
                  ],
                }),
                X.jsxs("div", {
                  className: "flex gap-2",
                  children: [
                    X.jsx("button", {
                      onClick: () => b(D),
                      className: "text-blue-600 hover:underline",
                      children: o("editVariable"),
                    }),
                    X.jsx("button", {
                      onClick: () => s(D),
                      className: "text-red-600 hover:underline",
                      children: o("deleteVariable"),
                    }),
                  ],
                }),
              ],
            },
            D,
          ),
        ),
      }),
    ],
  });
}
function iP() {
  const { t: r } = Dr();
  return X.jsxs("div", {
    className: "max-w-4xl mx-auto py-6 px-4",
    children: [
      X.jsx("h1", {
        className: "text-2xl font-bold mb-4",
        children: r("variables"),
      }),
      X.jsx(rP, {}),
    ],
  });
}
function Xb() {
  const { t: r } = Dr();
  return X.jsxs("section", {
    className: "MainWithoutLogin",
    children: [
      " ",
      X.jsx(Oi, { to: "/signin", children: r("signin") }),
      X.jsx(Oi, { to: "/signup", children: r("signup") }),
    ],
  });
}
function fh({ children: r }) {
  const { user: e } = Xo();
  return e ? r : X.jsx(Xb, {});
}
const J0 = ({ children: r }) => {
  const { user: e } = Xo();
  return e ? X.jsx(oR, { to: "/", replace: !0 }) : r;
};
function sP() {
  const { user: r } = Xo();
  return r ? X.jsxs("h1", { children: ["Welcome ", r.email] }) : X.jsx(Xb, {});
}
function aP() {
  const [r, e] = U.useState(null);
  function t(s) {
    e(s);
  }
  return X.jsxs(X.Fragment, {
    children: [X.jsx(DM, { restoreRequest: r }), X.jsx(Yb, { onSelect: t })],
  });
}
const oP = OR([
  {
    path: "/",
    element: X.jsx(TM, {}),
    children: [
      { path: "/", element: X.jsx(fh, { children: X.jsx(sP, {}) }) },
      { path: "signin", element: X.jsx(J0, { children: X.jsx(SM, {}) }) },
      { path: "signup", element: X.jsx(J0, { children: X.jsx(bM, {}) }) },
      { path: "rest", element: X.jsx(fh, { children: X.jsx(aP, {}) }) },
      { path: "history", element: X.jsx(fh, { children: X.jsx(Yb, {}) }) },
      { path: "variables", element: X.jsx(fh, { children: X.jsx(iP, {}) }) },
    ],
  },
]);
class lP extends U.Component {
  constructor(e) {
    (super(e), (this.state = { hasError: !1 }));
  }
  static getDerivedStateFromError(e) {
    return { hasError: !0, error: e };
  }
  componentDidCatch(e, t) {
    console.error("ErrorBoundary caught an error:", e, t);
  }
  render() {
    return this.state.hasError
      ? (this.props.fallback ??
          X.jsxs("div", {
            className: "p-4 text-center text-red-600",
            children: [
              X.jsx("h2", {
                className: "text-xl font-bold",
                children: "Something went wrong.",
              }),
              X.jsx("p", { children: this.state.error?.message }),
            ],
          }))
      : this.props.children;
  }
}
const uP = "REST Client",
  cP = "Sign In",
  hP = "Sign Up",
  fP = "Sign Out",
  dP = "Email",
  pP = "Password",
  mP = "Submit",
  gP = "Method",
  yP = "URL",
  vP = "Headers",
  _P = "Body",
  EP = "Send Request",
  TP = "Response",
  SP = "Status",
  bP = "Duration",
  wP = "Code Generation",
  AP = "History",
  RP = "Variables",
  CP = "Add Variable",
  IP = "Edit Variable",
  xP = "Delete Variable",
  NP = "Language",
  DP = "Welcome to REST Client",
  OP = "Something went wrong",
  MP = "Page not found",
  PP = "User",
  LP = {
    appName: uP,
    signin: cP,
    signup: hP,
    signout: fP,
    email: dP,
    password: pP,
    submit: mP,
    method: gP,
    url: yP,
    headers: vP,
    body: _P,
    send: EP,
    response: TP,
    status: SP,
    duration: bP,
    codeGeneration: wP,
    history: AP,
    variables: RP,
    addVariable: CP,
    editVariable: IP,
    deleteVariable: xP,
    language: NP,
    welcome: DP,
    error: OP,
    notFound: MP,
    user: PP,
  },
  VP = "Klient REST",
  UP = "Zaloguj si",
  kP = "Zarejestruj si",
  jP = "Wyloguj si",
  zP = "Email",
  BP = "Haso",
  HP = "Wylij",
  FP = "Metoda",
  qP = "Adres URL",
  GP = "Nagwki",
  $P = "Tre",
  KP = "Wylij danie",
  YP = "Odpowied",
  QP = "Status",
  XP = "Czas trwania",
  WP = "Generowanie kodu",
  JP = "Historia",
  ZP = "Zmienne",
  eL = "Dodaj zmienn",
  tL = "Edytuj zmienn",
  nL = "Usu zmienn",
  rL = "Jzyk",
  iL = "Witamy w Kliencie REST",
  sL = "Co poszo nie tak",
  aL = "Strona nie zostaa znaleziona",
  oL = "Uytkownik",
  lL = {
    appName: VP,
    signin: UP,
    signup: kP,
    signout: jP,
    email: zP,
    password: BP,
    submit: HP,
    method: FP,
    url: qP,
    headers: GP,
    body: $P,
    send: KP,
    response: YP,
    status: QP,
    duration: XP,
    codeGeneration: WP,
    history: JP,
    variables: ZP,
    addVariable: eL,
    editVariable: tL,
    deleteVariable: nL,
    language: rL,
    welcome: iL,
    error: sL,
    notFound: aL,
    user: oL,
  };
Sn.use(fM).init({
  resources: { en: { translation: LP }, pl: { translation: lL } },
  lng: "en",
  fallbackLng: "en",
  interpolation: { escapeValue: !1 },
});
DA.createRoot(document.getElementById("root")).render(
  X.jsx(wA.StrictMode, {
    children: X.jsx(lP, {
      children: X.jsx(tP, {
        children: X.jsx(eM, { children: X.jsx(GR, { router: oP }) }),
      }),
    }),
  }),
);
