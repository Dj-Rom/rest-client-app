(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function p0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xp={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function QA(){if(q_)return Zl;q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Zl.Fragment=e,Zl.jsx=t,Zl.jsxs=t,Zl}var G_;function XA(){return G_||(G_=1,xp.exports=QA()),xp.exports}var Q=XA(),Dp={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function WA(){if($_)return Ge;$_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,X={};function z(O,ee,de){this.props=O,this.context=ee,this.refs=X,this.updater=de||A}z.prototype.isReactComponent={},z.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},z.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function te(){}te.prototype=z.prototype;function H(O,ee,de){this.props=O,this.context=ee,this.refs=X,this.updater=de||A}var re=H.prototype=new te;re.constructor=H,D(re,z.prototype),re.isPureReactComponent=!0;var pe=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function x(O,ee,de,ce,Te,Fe){return de=Fe.ref,{$$typeof:r,type:O,key:ee,ref:de!==void 0?de:null,props:Fe}}function R(O,ee){return x(O.type,ee,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function M(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return ee[de]})}var L=/\/+/g;function j(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):ee.toString(36)}function I(){}function xe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Ye(O,ee,de,ce,Te){var Fe=typeof O;(Fe==="undefined"||Fe==="boolean")&&(O=null);var Ne=!1;if(O===null)Ne=!0;else switch(Fe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(O.$$typeof){case r:case e:Ne=!0;break;case v:return Ne=O._init,Ye(Ne(O._payload),ee,de,ce,Te)}}if(Ne)return Te=Te(O),Ne=ce===""?"."+j(O,0):ce,pe(Te)?(de="",Ne!=null&&(de=Ne.replace(L,"$&/")+"/"),Ye(Te,ee,de,"",function(Wn){return Wn})):Te!=null&&(C(Te)&&(Te=R(Te,de+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(L,"$&/")+"/")+Ne)),ee.push(Te)),1;Ne=0;var Ut=ce===""?".":ce+":";if(pe(O))for(var yt=0;yt<O.length;yt++)ce=O[yt],Fe=Ut+j(ce,yt),Ne+=Ye(ce,ee,de,Fe,Te);else if(yt=S(O),typeof yt=="function")for(O=yt.call(O),yt=0;!(ce=O.next()).done;)ce=ce.value,Fe=Ut+j(ce,yt++),Ne+=Ye(ce,ee,de,Fe,Te);else if(Fe==="object"){if(typeof O.then=="function")return Ye(xe(O),ee,de,ce,Te);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function $(O,ee,de){if(O==null)return O;var ce=[],Te=0;return Ye(O,ce,"","",function(Fe){return ee.call(de,Fe,Te++)}),ce}function he(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ke(){}return Ge.Children={map:$,forEach:function(O,ee,de){$(O,function(){ee.apply(this,arguments)},de)},count:function(O){var ee=0;return $(O,function(){ee++}),ee},toArray:function(O){return $(O,function(ee){return ee})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ge.Component=z,Ge.Fragment=t,Ge.Profiler=a,Ge.PureComponent=H,Ge.StrictMode=s,Ge.Suspense=p,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(O){return se.H.useMemoCache(O)}},Ge.cache=function(O){return function(){return O.apply(null,arguments)}},Ge.cloneElement=function(O,ee,de){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=D({},O.props),Te=O.key,Fe=void 0;if(ee!=null)for(Ne in ee.ref!==void 0&&(Fe=void 0),ee.key!==void 0&&(Te=""+ee.key),ee)!k.call(ee,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ee.ref===void 0||(ce[Ne]=ee[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=de;else if(1<Ne){for(var Ut=Array(Ne),yt=0;yt<Ne;yt++)Ut[yt]=arguments[yt+2];ce.children=Ut}return x(O.type,Te,void 0,void 0,Fe,ce)},Ge.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Ge.createElement=function(O,ee,de){var ce,Te={},Fe=null;if(ee!=null)for(ce in ee.key!==void 0&&(Fe=""+ee.key),ee)k.call(ee,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=ee[ce]);var Ne=arguments.length-2;if(Ne===1)Te.children=de;else if(1<Ne){for(var Ut=Array(Ne),yt=0;yt<Ne;yt++)Ut[yt]=arguments[yt+2];Te.children=Ut}if(O&&O.defaultProps)for(ce in Ne=O.defaultProps,Ne)Te[ce]===void 0&&(Te[ce]=Ne[ce]);return x(O,Fe,void 0,void 0,null,Te)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(O){return{$$typeof:d,render:O}},Ge.isValidElement=C,Ge.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:he}},Ge.memo=function(O,ee){return{$$typeof:m,type:O,compare:ee===void 0?null:ee}},Ge.startTransition=function(O){var ee=se.T,de={};se.T=de;try{var ce=O(),Te=se.S;Te!==null&&Te(de,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ke,ge)}catch(Fe){ge(Fe)}finally{se.T=ee}},Ge.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ge.use=function(O){return se.H.use(O)},Ge.useActionState=function(O,ee,de){return se.H.useActionState(O,ee,de)},Ge.useCallback=function(O,ee){return se.H.useCallback(O,ee)},Ge.useContext=function(O){return se.H.useContext(O)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(O,ee){return se.H.useDeferredValue(O,ee)},Ge.useEffect=function(O,ee,de){var ce=se.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(O,ee)},Ge.useId=function(){return se.H.useId()},Ge.useImperativeHandle=function(O,ee,de){return se.H.useImperativeHandle(O,ee,de)},Ge.useInsertionEffect=function(O,ee){return se.H.useInsertionEffect(O,ee)},Ge.useLayoutEffect=function(O,ee){return se.H.useLayoutEffect(O,ee)},Ge.useMemo=function(O,ee){return se.H.useMemo(O,ee)},Ge.useOptimistic=function(O,ee){return se.H.useOptimistic(O,ee)},Ge.useReducer=function(O,ee,de){return se.H.useReducer(O,ee,de)},Ge.useRef=function(O){return se.H.useRef(O)},Ge.useState=function(O){return se.H.useState(O)},Ge.useSyncExternalStore=function(O,ee,de){return se.H.useSyncExternalStore(O,ee,de)},Ge.useTransition=function(){return se.H.useTransition()},Ge.version="19.1.1",Ge}var K_;function Lm(){return K_||(K_=1,Dp.exports=WA()),Dp.exports}var U=Lm();const JA=p0(U);var Np={exports:{}},eu={},Op={exports:{}},Mp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function ZA(){return Y_||(Y_=1,(function(r){function e($,he){var ge=$.length;$.push(he);e:for(;0<ge;){var ke=ge-1>>>1,O=$[ke];if(0<a(O,he))$[ke]=he,$[ge]=O,ge=ke;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var he=$[0],ge=$.pop();if(ge!==he){$[0]=ge;e:for(var ke=0,O=$.length,ee=O>>>1;ke<ee;){var de=2*(ke+1)-1,ce=$[de],Te=de+1,Fe=$[Te];if(0>a(ce,ge))Te<O&&0>a(Fe,ce)?($[ke]=Fe,$[Te]=ge,ke=Te):($[ke]=ce,$[de]=ge,ke=de);else if(Te<O&&0>a(Fe,ge))$[ke]=Fe,$[Te]=ge,ke=Te;else break e}}return he}function a($,he){var ge=$.sortIndex-he.sortIndex;return ge!==0?ge:$.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],m=[],v=1,T=null,S=3,A=!1,D=!1,X=!1,z=!1,te=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function pe($){for(var he=t(m);he!==null;){if(he.callback===null)s(m);else if(he.startTime<=$)s(m),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(m)}}function se($){if(X=!1,pe($),!D)if(t(p)!==null)D=!0,k||(k=!0,j());else{var he=t(m);he!==null&&Ye(se,he.startTime-$)}}var k=!1,x=-1,R=5,C=-1;function M(){return z?!0:!(r.unstable_now()-C<R)}function L(){if(z=!1,k){var $=r.unstable_now();C=$;var he=!0;try{e:{D=!1,X&&(X=!1,H(x),x=-1),A=!0;var ge=S;try{t:{for(pe($),T=t(p);T!==null&&!(T.expirationTime>$&&M());){var ke=T.callback;if(typeof ke=="function"){T.callback=null,S=T.priorityLevel;var O=ke(T.expirationTime<=$);if($=r.unstable_now(),typeof O=="function"){T.callback=O,pe($),he=!0;break t}T===t(p)&&s(p),pe($)}else s(p);T=t(p)}if(T!==null)he=!0;else{var ee=t(m);ee!==null&&Ye(se,ee.startTime-$),he=!1}}break e}finally{T=null,S=ge,A=!1}he=void 0}}finally{he?j():k=!1}}}var j;if(typeof re=="function")j=function(){re(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,xe=I.port2;I.port1.onmessage=L,j=function(){xe.postMessage(null)}}else j=function(){te(L,0)};function Ye($,he){x=te(function(){$(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function($){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var ge=S;S=he;try{return $()}finally{S=ge}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function($,he){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ge=S;S=$;try{return he()}finally{S=ge}},r.unstable_scheduleCallback=function($,he,ge){var ke=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ke+ge:ke):ge=ke,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,$={id:v++,callback:he,priorityLevel:$,startTime:ge,expirationTime:O,sortIndex:-1},ge>ke?($.sortIndex=ge,e(m,$),t(p)===null&&$===t(m)&&(X?(H(x),x=-1):X=!0,Ye(se,ge-ke))):($.sortIndex=O,e(p,$),D||A||(D=!0,k||(k=!0,j()))),$},r.unstable_shouldYield=M,r.unstable_wrapCallback=function($){var he=S;return function(){var ge=S;S=he;try{return $.apply(this,arguments)}finally{S=ge}}}})(Mp)),Mp}var Q_;function eR(){return Q_||(Q_=1,Op.exports=ZA()),Op.exports}var Pp={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function tR(){if(X_)return vn;X_=1;var r=Lm();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:m,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,vn.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,v)},vn.flushSync=function(p){var m=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=m,s.p=v,s.d.f()}},vn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},vn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},vn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,T=d(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:A}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},vn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},vn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=d(v,m.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},vn.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=d(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},vn.requestFormReset=function(p){s.d.r(p)},vn.unstable_batchedUpdates=function(p,m){return p(m)},vn.useFormState=function(p,m,v){return c.H.useFormState(p,m,v)},vn.useFormStatus=function(){return c.H.useHostTransitionStatus()},vn.version="19.1.1",vn}var W_;function m0(){if(W_)return Pp.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pp.exports=tR(),Pp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function nR(){if(J_)return eu;J_=1;var r=eR(),e=Lm(),t=m0();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(s(188));return i!==n?null:n}for(var o=n,u=i;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),n;if(g===u)return d(f),i;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,b=f.child;b;){if(b===o){E=!0,o=f,u=g;break}if(b===u){E=!0,u=f,o=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===o){E=!0,o=g,u=f;break}if(b===u){E=!0,u=g,o=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),re=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function xe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case z:return"Profiler";case X:return"StrictMode";case se:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case re:return(n.displayName||"Context")+".Provider";case H:return(n._context.displayName||"Context")+".Consumer";case pe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return i=n.displayName||null,i!==null?i:xe(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return xe(n(i))}catch{}}return null}var Ye=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ke=[],O=-1;function ee(n){return{current:n}}function de(n){0>O||(n.current=ke[O],ke[O]=null,O--)}function ce(n,i){O++,ke[O]=n.current,n.current=i}var Te=ee(null),Fe=ee(null),Ne=ee(null),Ut=ee(null);function yt(n,i){switch(ce(Ne,i),ce(Fe,n),ce(Te,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?v_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=v_(i),n=__(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}de(Te),ce(Te,n)}function Wn(){de(Te),de(Fe),de(Ne)}function Ct(n){n.memoizedState!==null&&ce(Ut,n);var i=Te.current,o=__(i,n.type);i!==o&&(ce(Fe,n),ce(Te,o))}function mn(n){Fe.current===n&&(de(Te),de(Fe)),Ut.current===n&&(de(Ut),Yl._currentValue=ge)}var Pr=Object.prototype.hasOwnProperty,li=r.unstable_scheduleCallback,wn=r.unstable_cancelCallback,$s=r.unstable_shouldYield,Ua=r.unstable_requestPaint,An=r.unstable_now,tl=r.unstable_getCurrentPriorityLevel,Ks=r.unstable_ImmediatePriority,Fi=r.unstable_UserBlockingPriority,ui=r.unstable_NormalPriority,_r=r.unstable_LowPriority,Jn=r.unstable_IdlePriority,qi=r.log,Gi=r.unstable_setDisableYieldValue,lt=null,$e=null;function gn(n){if(typeof qi=="function"&&Gi(n),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(lt,n)}catch{}}var jt=Math.clz32?Math.clz32:Vr,ja=Math.log,Zn=Math.LN2;function Vr(n){return n>>>=0,n===0?32:31-(ja(n)/Zn|0)|0}var Lr=256,kr=4194304;function jn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ci(n,i,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~g,u!==0?f=jn(u):(E&=b,E!==0?f=jn(E):o||(o=b&~n,o!==0&&(f=jn(o))))):(b=u&~g,b!==0?f=jn(b):E!==0?f=jn(E):o||(o=u&~n,o!==0&&(f=jn(o)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:f}function er(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function $i(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(){var n=Lr;return Lr<<=1,(Lr&4194048)===0&&(Lr=256),n}function Ys(){var n=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),n}function tr(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Er(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ki(n,i,o,u,f,g){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var b=n.entanglements,N=n.expirationTimes,K=n.hiddenUpdates;for(o=E&~o;0<o;){var ne=31-jt(o),ae=1<<ne;b[ne]=0,N[ne]=-1;var W=K[ne];if(W!==null)for(K[ne]=null,ne=0;ne<W.length;ne++){var J=W[ne];J!==null&&(J.lane&=-536870913)}o&=~ae}u!==0&&Rn(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(E&~i))}function Rn(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-jt(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Ur(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-jt(o),f=1<<u;f&i|n[u]&i&&(n[u]|=i),o&=~f}}function jr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Yi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function P(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:U_(n.type))}function F(n,i){var o=he.p;try{return he.p=n,i()}finally{he.p=o}}var Y=Math.random().toString(36).slice(2),le="__reactFiber$"+Y,fe="__reactProps$"+Y,ye="__reactContainer$"+Y,Re="__reactEvents$"+Y,be="__reactListeners$"+Y,we="__reactHandles$"+Y,De="__reactResources$"+Y,Ae="__reactMarker$"+Y;function Ee(n){delete n[le],delete n[fe],delete n[Re],delete n[be],delete n[we]}function qe(n){var i=n[le];if(i)return i;for(var o=n.parentNode;o;){if(i=o[ye]||o[le]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=b_(n);n!==null;){if(o=n[le])return o;n=b_(n)}return i}n=o,o=n.parentNode}return null}function nt(n){if(n=n[le]||n[ye]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function pt(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function ut(n){var i=n[De];return i||(i=n[De]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ze(n){n[Ae]=!0}var ct=new Set,Mn={};function an(n,i){Wt(n,i),Wt(n+"Capture",i)}function Wt(n,i){for(Mn[n]=i,n=0;n<i.length;n++)ct.add(i[n])}var Cn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qi={},zn={};function nr(n){return Pr.call(zn,n)?!0:Pr.call(Qi,n)?!1:Cn.test(n)?zn[n]=!0:(Qi[n]=!0,!1)}function Bn(n,i,o){if(nr(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function In(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function Me(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}var It,Tr;function on(n){if(It===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);It=i&&i[1]||"",Tr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+n+Tr}var bt=!1;function Sr(n,i){if(!n||bt)return"";bt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var W=J}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(J){W=J}n.call(ae.prototype)}}else{try{throw Error()}catch(J){W=J}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],b=g[1];if(E&&b){var N=E.split(`
`),K=b.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===K.length)for(u=N.length-1,f=K.length-1;1<=u&&0<=f&&N[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==K[f]){var ne=`
`+N[u].replace(" at new "," at ");return n.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",n.displayName)),ne}while(1<=u&&0<=f);break}}}finally{bt=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?on(o):""}function Xi(n){switch(n.tag){case 26:case 27:case 5:return on(n.type);case 16:return on("Lazy");case 13:return on("Suspense");case 19:return on("SuspenseList");case 0:case 15:return Sr(n.type,!1);case 11:return Sr(n.type.render,!1);case 1:return Sr(n.type,!0);case 31:return on("Activity");default:return""}}function Wi(n){try{var i="";do i+=Xi(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function xn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function nl(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mf(n){var i=nl(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function za(n){n._valueTracker||(n._valueTracker=Mf(n))}function rl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=nl(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function Qs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Pf=/[\n"\\]/g;function zt(n){return n.replace(Pf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hn(n,i,o,u,f,g,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+xn(i)):n.value!==""+xn(i)&&(n.value=""+xn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Ji(n,E,xn(i)):o!=null?Ji(n,E,xn(o)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+xn(b):n.removeAttribute("name")}function Xs(n,i,o,u,f,g,E,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;o=o!=null?""+xn(o):"",i=i!=null?""+xn(i):o,b||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ji(n,i,o){i==="number"&&Qs(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function fi(n,i,o,u){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+xn(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function vt(n,i,o){if(i!=null&&(i=""+xn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+xn(o):""}function Ws(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if(Ye(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=xn(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function rr(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Js=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ku(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||Js.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function il(n,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&Ku(n,f,u)}else for(var g in i)i.hasOwnProperty(g)&&Ku(n,g,i[g])}function sl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(n){return Lf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var di=null;function ir(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var pi=null,mi=null;function al(n){var i=nt(n);if(i&&(n=i.stateNode)){var o=n[fe]||null;e:switch(n=i.stateNode,i.type){case"input":if(Hn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+zt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var f=u[fe]||null;if(!f)throw Error(s(90));Hn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&rl(u)}break e;case"textarea":vt(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&fi(n,!!o.multiple,i,!1)}}}var zr=!1;function Yu(n,i,o){if(zr)return n(i,o);zr=!0;try{var u=n(i);return u}finally{if(zr=!1,(pi!==null||mi!==null)&&(Bc(),pi&&(i=pi,n=mi,mi=pi=null,al(i),n)))for(i=0;i<n.length;i++)al(n[i])}}function Zs(n,i){var o=n.stateNode;if(o===null)return null;var u=o[fe]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sr=!1;if(br)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){sr=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{sr=!1}var Br=null,Zi=null,gi=null;function ol(){if(gi)return gi;var n,i=Zi,o=i.length,u,f="value"in Br?Br.value:Br.textContent,g=f.length;for(n=0;n<o&&i[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&i[o-u]===f[g-u];u++);return gi=f.slice(n,1<u?1-u:void 0)}function Hr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Fr(){return!0}function ll(){return!1}function Jt(n){function i(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(o=n[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Fr:ll,this.isPropagationStopped=ll,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fr)},persist:function(){},isPersistent:Fr}),i}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=Jt(ft),ta=v({},ft,{view:0,detail:0}),Qu=Jt(ta),Fa,qa,qr,na=v({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qr&&(qr&&n.type==="mousemove"?(Fa=n.screenX-qr.screenX,qa=n.screenY-qr.screenY):qa=Fa=0,qr=n),Fa)},movementY:function(n){return"movementY"in n?n.movementY:qa}}),ar=Jt(na),Xu=v({},na,{dataTransfer:0}),kf=Jt(Xu),ra=v({},ta,{relatedTarget:0}),Ga=Jt(ra),ul=v({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),$a=Jt(ul),Wu=v({},ft,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ka=Jt(Wu),Uf=v({},ft,{data:0}),cl=Jt(Uf),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Zu[n])?!!i[n]:!1}function sa(){return hl}var ec=v({},ta,{key:function(n){if(n.key){var i=ia[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Hr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ju[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(n){return n.type==="keypress"?Hr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Hr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ya=Jt(ec),tc=v({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Jt(tc),yi=v({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),nc=Jt(yi),rc=v({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),ic=Jt(rc),sc=v({},na,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Qa=Jt(sc),Dn=v({},ft,{newState:0,oldState:0}),ac=Jt(Dn),oc=[9,13,27,32],Gr=br&&"CompositionEvent"in window,h=null;br&&"documentMode"in document&&(h=document.documentMode);var y=br&&"TextEvent"in window&&!h,_=br&&(!Gr||h&&8<h&&11>=h),w=" ",q=!1;function Z(n,i){switch(n){case"keyup":return oc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var rt=!1;function $t(n,i){switch(n){case"compositionend":return me(i);case"keypress":return i.which!==32?null:(q=!0,w);case"textInput":return n=i.data,n===w&&q?null:n;default:return null}}function it(n,i){if(rt)return n==="compositionend"||!Gr&&Z(n,i)?(n=ol(),gi=Zi=Br=null,rt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Zt[n.type]:i==="textarea"}function vi(n,i,o,u){pi?mi?mi.push(u):mi=[u]:pi=u,i=Kc(i,"onChange"),0<i.length&&(o=new Ha("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var ln=null,$r=null;function dl(n){d_(n,0)}function lc(n){var i=pt(n);if(rl(i))return n}function Pg(n,i){if(n==="change")return i}var Vg=!1;if(br){var jf;if(br){var zf="oninput"in document;if(!zf){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),zf=typeof Lg.oninput=="function"}jf=zf}else jf=!1;Vg=jf&&(!document.documentMode||9<document.documentMode)}function kg(){ln&&(ln.detachEvent("onpropertychange",Ug),$r=ln=null)}function Ug(n){if(n.propertyName==="value"&&lc($r)){var i=[];vi(i,$r,n,ir(n)),Yu(dl,i)}}function Aw(n,i,o){n==="focusin"?(kg(),ln=i,$r=o,ln.attachEvent("onpropertychange",Ug)):n==="focusout"&&kg()}function Rw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return lc($r)}function Cw(n,i){if(n==="click")return lc(i)}function Iw(n,i){if(n==="input"||n==="change")return lc(i)}function xw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Fn=typeof Object.is=="function"?Object.is:xw;function pl(n,i){if(Fn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Pr.call(i,f)||!Fn(n[f],i[f]))return!1}return!0}function jg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zg(n,i){var o=jg(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jg(o)}}function Bg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Bg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Hg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Qs(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Qs(n.document)}return i}function Bf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Dw=br&&"documentMode"in document&&11>=document.documentMode,Xa=null,Hf=null,ml=null,Ff=!1;function Fg(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ff||Xa==null||Xa!==Qs(u)||(u=Xa,"selectionStart"in u&&Bf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ml&&pl(ml,u)||(ml=u,u=Kc(Hf,"onSelect"),0<u.length&&(i=new Ha("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=Xa)))}function aa(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Wa={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},qf={},qg={};br&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function oa(n){if(qf[n])return qf[n];if(!Wa[n])return n;var i=Wa[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in qg)return qf[n]=i[o];return n}var Gg=oa("animationend"),$g=oa("animationiteration"),Kg=oa("animationstart"),Nw=oa("transitionrun"),Ow=oa("transitionstart"),Mw=oa("transitioncancel"),Yg=oa("transitionend"),Qg=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function wr(n,i){Qg.set(n,i),an(i,[n])}var Xg=new WeakMap;function or(n,i){if(typeof n=="object"&&n!==null){var o=Xg.get(n);return o!==void 0?o:(i={value:n,source:i,stack:Wi(i)},Xg.set(n,i),i)}return{value:n,source:i,stack:Wi(i)}}var lr=[],Ja=0,$f=0;function uc(){for(var n=Ja,i=$f=Ja=0;i<n;){var o=lr[i];lr[i++]=null;var u=lr[i];lr[i++]=null;var f=lr[i];lr[i++]=null;var g=lr[i];if(lr[i++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&Wg(o,f,g)}}function cc(n,i,o,u){lr[Ja++]=n,lr[Ja++]=i,lr[Ja++]=o,lr[Ja++]=u,$f|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Kf(n,i,o,u){return cc(n,i,o,u),hc(n)}function Za(n,i){return cc(n,null,null,i),hc(n)}function Wg(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&i!==null&&(f=31-jt(o),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[i]:u.push(i),i.lane=o|536870912),g):null}function hc(n){if(50<zl)throw zl=0,Zd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var eo={};function Pw(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(n,i,o,u){return new Pw(n,i,o,u)}function Yf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _i(n,i){var o=n.alternate;return o===null?(o=qn(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Jg(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function fc(n,i,o,u,f,g){var E=0;if(u=n,typeof n=="function")Yf(n)&&(E=1);else if(typeof n=="string")E=LA(n,o,Te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=qn(31,o,i,f),n.elementType=C,n.lanes=g,n;case D:return la(o.children,f,g,i);case X:E=8,f|=24;break;case z:return n=qn(12,o,i,f|2),n.elementType=z,n.lanes=g,n;case se:return n=qn(13,o,i,f),n.elementType=se,n.lanes=g,n;case k:return n=qn(19,o,i,f),n.elementType=k,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case te:case re:E=10;break e;case H:E=9;break e;case pe:E=11;break e;case x:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=qn(E,o,i,f),i.elementType=n,i.type=u,i.lanes=g,i}function la(n,i,o,u){return n=qn(7,n,u,i),n.lanes=o,n}function Qf(n,i,o){return n=qn(6,n,null,i),n.lanes=o,n}function Xf(n,i,o){return i=qn(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var to=[],no=0,dc=null,pc=0,ur=[],cr=0,ua=null,Ei=1,Ti="";function ca(n,i){to[no++]=pc,to[no++]=dc,dc=n,pc=i}function Zg(n,i,o){ur[cr++]=Ei,ur[cr++]=Ti,ur[cr++]=ua,ua=n;var u=Ei;n=Ti;var f=32-jt(u)-1;u&=~(1<<f),o+=1;var g=32-jt(i)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Ei=1<<32-jt(i)+f|o<<f|u,Ti=g+n}else Ei=1<<g|o<<f|u,Ti=n}function Wf(n){n.return!==null&&(ca(n,1),Zg(n,1,0))}function Jf(n){for(;n===dc;)dc=to[--no],to[no]=null,pc=to[--no],to[no]=null;for(;n===ua;)ua=ur[--cr],ur[cr]=null,Ti=ur[--cr],ur[cr]=null,Ei=ur[--cr],ur[cr]=null}var Nn=null,Ot=null,ht=!1,ha=null,Kr=!1,Zf=Error(s(519));function fa(n){var i=Error(s(418,""));throw vl(or(i,n)),Zf}function ey(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[le]=n,i[fe]=u,o){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(o=0;o<Hl.length;o++)Je(Hl[o],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":Je("invalid",i),Xs(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),za(i);break;case"select":Je("invalid",i);break;case"textarea":Je("invalid",i),Ws(i,u.value,u.defaultValue,u.children),za(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||y_(i.textContent,o)?(u.popover!=null&&(Je("beforetoggle",i),Je("toggle",i)),u.onScroll!=null&&Je("scroll",i),u.onScrollEnd!=null&&Je("scrollend",i),u.onClick!=null&&(i.onclick=Yc),i=!0):i=!1,i||fa(n)}function ty(n){for(Nn=n.return;Nn;)switch(Nn.tag){case 5:case 13:Kr=!1;return;case 27:case 3:Kr=!0;return;default:Nn=Nn.return}}function gl(n){if(n!==Nn)return!1;if(!ht)return ty(n),ht=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||mp(n.type,n.memoizedProps)),o=!o),o&&Ot&&fa(n),ty(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){Ot=Rr(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}Ot=null}}else i===27?(i=Ot,ms(n.type)?(n=_p,_p=null,Ot=n):Ot=i):Ot=Nn?Rr(n.stateNode.nextSibling):null;return!0}function yl(){Ot=Nn=null,ht=!1}function ny(){var n=ha;return n!==null&&(Ln===null?Ln=n:Ln.push.apply(Ln,n),ha=null),n}function vl(n){ha===null?ha=[n]:ha.push(n)}var ed=ee(null),da=null,Si=null;function es(n,i,o){ce(ed,i._currentValue),i._currentValue=o}function bi(n){n._currentValue=ed.current,de(ed)}function td(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function nd(n,i,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var b=g;g=f;for(var N=0;N<i.length;N++)if(b.context===i[N]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),td(g.return,o,n),u||(E=null);break e}g=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),td(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function _l(n,i,o,u){n=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;Fn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Ut.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Yl):n=[Yl])}f=f.return}n!==null&&nd(i,n,o,u),i.flags|=262144}function mc(n){for(n=n.firstContext;n!==null;){if(!Fn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function pa(n){da=n,Si=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function yn(n){return ry(da,n)}function gc(n,i){return da===null&&pa(n),ry(n,i)}function ry(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Si===null){if(n===null)throw Error(s(308));Si=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Si=Si.next=i;return o}var Vw=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},Lw=r.unstable_scheduleCallback,kw=r.unstable_NormalPriority,Yt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new Vw,data:new Map,refCount:0}}function El(n){n.refCount--,n.refCount===0&&Lw(kw,function(){n.controller.abort()})}var Tl=null,id=0,ro=0,io=null;function Uw(n,i){if(Tl===null){var o=Tl=[];id=0,ro=ap(),io={status:"pending",value:void 0,then:function(u){o.push(u)}}}return id++,i.then(iy,iy),i}function iy(){if(--id===0&&Tl!==null){io!==null&&(io.status="fulfilled");var n=Tl;Tl=null,ro=0,io=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function jw(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var sy=$.S;$.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Uw(n,i),sy!==null&&sy(n,i)};var ma=ee(null);function sd(){var n=ma.current;return n!==null?n:wt.pooledCache}function yc(n,i){i===null?ce(ma,ma.current):ce(ma,i.pool)}function ay(){var n=sd();return n===null?null:{parent:Yt._currentValue,pool:n}}var Sl=Error(s(460)),oy=Error(s(474)),vc=Error(s(542)),ad={then:function(){}};function ly(n){return n=n.status,n==="fulfilled"||n==="rejected"}function _c(){}function uy(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(_c,_c),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,hy(n),n;default:if(typeof i.status=="string")i.then(_c,_c);else{if(n=wt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,hy(n),n}throw bl=i,Sl}}var bl=null;function cy(){if(bl===null)throw Error(s(459));var n=bl;return bl=null,n}function hy(n){if(n===Sl||n===vc)throw Error(s(483))}var ts=!1;function od(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ns(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function rs(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(mt&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=hc(n),Wg(n,null,o),i}return cc(n,u,i,o),hc(n)}function wl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Ur(n,o)}}function ud(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=i:g=g.next=i}else f=g=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var cd=!1;function Al(){if(cd){var n=io;if(n!==null)throw n}}function Rl(n,i,o,u){cd=!1;var f=n.updateQueue;ts=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,K=N.next;N.next=null,E===null?g=K:E.next=K,E=N;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==E&&(b===null?ne.firstBaseUpdate=K:b.next=K,ne.lastBaseUpdate=N))}if(g!==null){var ae=f.baseState;E=0,ne=K=N=null,b=g;do{var W=b.lane&-536870913,J=W!==b.lane;if(J?(st&W)===W:(u&W)===W){W!==0&&W===ro&&(cd=!0),ne!==null&&(ne=ne.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Ue=n,Oe=b;W=i;var Tt=o;switch(Oe.tag){case 1:if(Ue=Oe.payload,typeof Ue=="function"){ae=Ue.call(Tt,ae,W);break e}ae=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Oe.payload,W=typeof Ue=="function"?Ue.call(Tt,ae,W):Ue,W==null)break e;ae=v({},ae,W);break e;case 2:ts=!0}}W=b.callback,W!==null&&(n.flags|=64,J&&(n.flags|=8192),J=f.callbacks,J===null?f.callbacks=[W]:J.push(W))}else J={lane:W,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?(K=ne=J,N=ae):ne=ne.next=J,E|=W;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;J=b,b=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ne===null&&(N=ae),f.baseState=N,f.firstBaseUpdate=K,f.lastBaseUpdate=ne,g===null&&(f.shared.lanes=0),hs|=E,n.lanes=E,n.memoizedState=ae}}function fy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function dy(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)fy(o[n],i)}var so=ee(null),Ec=ee(0);function py(n,i){n=Di,ce(Ec,n),ce(so,i),Di=n|i.baseLanes}function hd(){ce(Ec,Di),ce(so,so.current)}function fd(){Di=Ec.current,de(so),de(Ec)}var is=0,Ke=null,_t=null,Bt=null,Tc=!1,ao=!1,ga=!1,Sc=0,Cl=0,oo=null,zw=0;function Pt(){throw Error(s(321))}function dd(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!Fn(n[o],i[o]))return!1;return!0}function pd(n,i,o,u,f,g){return is=g,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=n===null||n.memoizedState===null?Wy:Jy,ga=!1,g=o(u,f),ga=!1,ao&&(g=gy(i,o,u,f)),my(n),g}function my(n){$.H=Ic;var i=_t!==null&&_t.next!==null;if(is=0,Bt=_t=Ke=null,Tc=!1,Cl=0,oo=null,i)throw Error(s(300));n===null||en||(n=n.dependencies,n!==null&&mc(n)&&(en=!0))}function gy(n,i,o,u){Ke=n;var f=0;do{if(ao&&(oo=null),Cl=0,ao=!1,25<=f)throw Error(s(301));if(f+=1,Bt=_t=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=Kw,g=i(o,u)}while(ao);return g}function Bw(){var n=$.H,i=n.useState()[0];return i=typeof i.then=="function"?Il(i):i,n=n.useState()[0],(_t!==null?_t.memoizedState:null)!==n&&(Ke.flags|=1024),i}function md(){var n=Sc!==0;return Sc=0,n}function gd(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function yd(n){if(Tc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Tc=!1}is=0,Bt=_t=Ke=null,ao=!1,Cl=Sc=0,oo=null}function Pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ke.memoizedState=Bt=n:Bt=Bt.next=n,Bt}function Ht(){if(_t===null){var n=Ke.alternate;n=n!==null?n.memoizedState:null}else n=_t.next;var i=Bt===null?Ke.memoizedState:Bt.next;if(i!==null)Bt=i,_t=n;else{if(n===null)throw Ke.alternate===null?Error(s(467)):Error(s(310));_t=n,n={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Bt===null?Ke.memoizedState=Bt=n:Bt=Bt.next=n}return Bt}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(n){var i=Cl;return Cl+=1,oo===null&&(oo=[]),n=uy(oo,n,i),i=Ke,(Bt===null?i.memoizedState:Bt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Wy:Jy),n}function bc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Il(n);if(n.$$typeof===re)return yn(n)}throw Error(s(438,String(n)))}function _d(n){var i=null,o=Ke.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=vd(),Ke.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=M;return i.index++,o}function wi(n,i){return typeof i=="function"?i(n):i}function wc(n){var i=Ht();return Ed(i,_t,n)}function Ed(n,i,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}i.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{i=f.next;var b=E=null,N=null,K=i,ne=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(st&ae)===ae:(is&ae)===ae){var W=K.revertLane;if(W===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===ro&&(ne=!0);else if((is&W)===W){K=K.next,W===ro&&(ne=!0);continue}else ae={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(b=N=ae,E=g):N=N.next=ae,Ke.lanes|=W,hs|=W;ae=K.action,ga&&o(g,ae),g=K.hasEagerState?K.eagerState:o(g,ae)}else W={lane:ae,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(b=N=W,E=g):N=N.next=W,Ke.lanes|=ae,hs|=ae;K=K.next}while(K!==null&&K!==i);if(N===null?E=g:N.next=b,!Fn(g,n.memoizedState)&&(en=!0,ne&&(o=io,o!==null)))throw o;n.memoizedState=g,n.baseState=E,n.baseQueue=N,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Td(n){var i=Ht(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,g=i.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);Fn(g,i.memoizedState)||(en=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,u]}function yy(n,i,o){var u=Ke,f=Ht(),g=ht;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=i();var E=!Fn((_t||f).memoizedState,o);E&&(f.memoizedState=o,en=!0),f=f.queue;var b=Ey.bind(null,u,f,n);if(xl(2048,8,b,[n]),f.getSnapshot!==i||E||Bt!==null&&Bt.memoizedState.tag&1){if(u.flags|=2048,lo(9,Ac(),_y.bind(null,u,f,o,i),null),wt===null)throw Error(s(349));g||(is&124)!==0||vy(u,i,o)}return o}function vy(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Ke.updateQueue,i===null?(i=vd(),Ke.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function _y(n,i,o,u){i.value=o,i.getSnapshot=u,Ty(i)&&Sy(n)}function Ey(n,i,o){return o(function(){Ty(i)&&Sy(n)})}function Ty(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!Fn(n,o)}catch{return!0}}function Sy(n){var i=Za(n,2);i!==null&&Qn(i,n,2)}function Sd(n){var i=Pn();if(typeof n=="function"){var o=n;if(n=o(),ga){gn(!0);try{o()}finally{gn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:n},i}function by(n,i,o,u){return n.baseState=o,Ed(n,_t,typeof u=="function"?u:wi)}function Hw(n,i,o,u,f){if(Cc(n))throw Error(s(485));if(n=i.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};$.T!==null?o(!0):g.isTransition=!1,u(g),o=i.pending,o===null?(g.next=i.pending=g,wy(i,g)):(g.next=o.next,i.pending=o.next=g)}}function wy(n,i){var o=i.action,u=i.payload,f=n.state;if(i.isTransition){var g=$.T,E={};$.T=E;try{var b=o(f,u),N=$.S;N!==null&&N(E,b),Ay(n,i,b)}catch(K){bd(n,i,K)}finally{$.T=g}}else try{g=o(f,u),Ay(n,i,g)}catch(K){bd(n,i,K)}}function Ay(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Ry(n,i,u)},function(u){return bd(n,i,u)}):Ry(n,i,o)}function Ry(n,i,o){i.status="fulfilled",i.value=o,Cy(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,wy(n,o)))}function bd(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,Cy(i),i=i.next;while(i!==u)}n.action=null}function Cy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Iy(n,i){return i}function xy(n,i){if(ht){var o=wt.formState;if(o!==null){e:{var u=Ke;if(ht){if(Ot){t:{for(var f=Ot,g=Kr;f.nodeType!==8;){if(!g){f=null;break t}if(f=Rr(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ot=Rr(f.nextSibling),u=f.data==="F!";break e}}fa(u)}u=!1}u&&(i=o[0])}}return o=Pn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:i},o.queue=u,o=Yy.bind(null,Ke,u),u.dispatch=o,u=Sd(!1),g=Id.bind(null,Ke,!1,u.queue),u=Pn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,o=Hw.bind(null,Ke,f,g,o),f.dispatch=o,u.memoizedState=n,[i,o,!1]}function Dy(n){var i=Ht();return Ny(i,_t,n)}function Ny(n,i,o){if(i=Ed(n,i,Iy)[0],n=wc(wi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Il(i)}catch(E){throw E===Sl?vc:E}else u=i;i=Ht();var f=i.queue,g=f.dispatch;return o!==i.memoizedState&&(Ke.flags|=2048,lo(9,Ac(),Fw.bind(null,f,o),null)),[u,g,n]}function Fw(n,i){n.action=i}function Oy(n){var i=Ht(),o=_t;if(o!==null)return Ny(i,o,n);Ht(),i=i.memoizedState,o=Ht();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function lo(n,i,o,u){return n={tag:n,create:o,deps:u,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=vd(),Ke.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function Ac(){return{destroy:void 0,resource:void 0}}function My(){return Ht().memoizedState}function Rc(n,i,o,u){var f=Pn();u=u===void 0?null:u,Ke.flags|=n,f.memoizedState=lo(1|i,Ac(),o,u)}function xl(n,i,o,u){var f=Ht();u=u===void 0?null:u;var g=f.memoizedState.inst;_t!==null&&u!==null&&dd(u,_t.memoizedState.deps)?f.memoizedState=lo(i,g,o,u):(Ke.flags|=n,f.memoizedState=lo(1|i,g,o,u))}function Py(n,i){Rc(8390656,8,n,i)}function Vy(n,i){xl(2048,8,n,i)}function Ly(n,i){return xl(4,2,n,i)}function ky(n,i){return xl(4,4,n,i)}function Uy(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function jy(n,i,o){o=o!=null?o.concat([n]):null,xl(4,4,Uy.bind(null,i,n),o)}function wd(){}function zy(n,i){var o=Ht();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&dd(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function By(n,i){var o=Ht();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&dd(i,u[1]))return u[0];if(u=n(),ga){gn(!0);try{n()}finally{gn(!1)}}return o.memoizedState=[u,i],u}function Ad(n,i,o){return o===void 0||(is&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=qv(),Ke.lanes|=n,hs|=n,o)}function Hy(n,i,o,u){return Fn(o,i)?o:so.current!==null?(n=Ad(n,o,u),Fn(n,i)||(en=!0),n):(is&42)===0?(en=!0,n.memoizedState=o):(n=qv(),Ke.lanes|=n,hs|=n,i)}function Fy(n,i,o,u,f){var g=he.p;he.p=g!==0&&8>g?g:8;var E=$.T,b={};$.T=b,Id(n,!1,i,o);try{var N=f(),K=$.S;if(K!==null&&K(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ne=jw(N,u);Dl(n,i,ne,Yn(n))}else Dl(n,i,u,Yn(n))}catch(ae){Dl(n,i,{then:function(){},status:"rejected",reason:ae},Yn())}finally{he.p=g,$.T=E}}function qw(){}function Rd(n,i,o,u){if(n.tag!==5)throw Error(s(476));var f=qy(n).queue;Fy(n,f,i,ge,o===null?qw:function(){return Gy(n),o(u)})}function qy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:ge},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Gy(n){var i=qy(n).next.queue;Dl(n,i,{},Yn())}function Cd(){return yn(Yl)}function $y(){return Ht().memoizedState}function Ky(){return Ht().memoizedState}function Gw(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Yn();n=ns(o);var u=rs(i,n,o);u!==null&&(Qn(u,i,o),wl(u,i,o)),i={cache:rd()},n.payload=i;return}i=i.return}}function $w(n,i,o){var u=Yn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Cc(n)?Qy(i,o):(o=Kf(n,i,o,u),o!==null&&(Qn(o,n,u),Xy(o,i,u)))}function Yy(n,i,o){var u=Yn();Dl(n,i,o,u)}function Dl(n,i,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Cc(n))Qy(i,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,b=g(E,o);if(f.hasEagerState=!0,f.eagerState=b,Fn(b,E))return cc(n,i,f,0),wt===null&&uc(),!1}catch{}finally{}if(o=Kf(n,i,f,u),o!==null)return Qn(o,n,u),Xy(o,i,u),!0}return!1}function Id(n,i,o,u){if(u={lane:2,revertLane:ap(),action:u,hasEagerState:!1,eagerState:null,next:null},Cc(n)){if(i)throw Error(s(479))}else i=Kf(n,o,u,2),i!==null&&Qn(i,n,2)}function Cc(n){var i=n.alternate;return n===Ke||i!==null&&i===Ke}function Qy(n,i){ao=Tc=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Xy(n,i,o){if((o&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Ur(n,o)}}var Ic={readContext:yn,use:bc,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},Wy={readContext:yn,use:bc,useCallback:function(n,i){return Pn().memoizedState=[n,i===void 0?null:i],n},useContext:yn,useEffect:Py,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Rc(4194308,4,Uy.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Rc(4194308,4,n,i)},useInsertionEffect:function(n,i){Rc(4,2,n,i)},useMemo:function(n,i){var o=Pn();i=i===void 0?null:i;var u=n();if(ga){gn(!0);try{n()}finally{gn(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=Pn();if(o!==void 0){var f=o(i);if(ga){gn(!0);try{o(i)}finally{gn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=$w.bind(null,Ke,n),[u.memoizedState,n]},useRef:function(n){var i=Pn();return n={current:n},i.memoizedState=n},useState:function(n){n=Sd(n);var i=n.queue,o=Yy.bind(null,Ke,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:wd,useDeferredValue:function(n,i){var o=Pn();return Ad(o,n,i)},useTransition:function(){var n=Sd(!1);return n=Fy.bind(null,Ke,n.queue,!0,!1),Pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=Ke,f=Pn();if(ht){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),wt===null)throw Error(s(349));(st&124)!==0||vy(u,i,o)}f.memoizedState=o;var g={value:o,getSnapshot:i};return f.queue=g,Py(Ey.bind(null,u,g,n),[n]),u.flags|=2048,lo(9,Ac(),_y.bind(null,u,g,o,i),null),o},useId:function(){var n=Pn(),i=wt.identifierPrefix;if(ht){var o=Ti,u=Ei;o=(u&~(1<<32-jt(u)-1)).toString(32)+o,i=""+i+"R"+o,o=Sc++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=zw++,i=""+i+"r"+o.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Cd,useFormState:xy,useActionState:xy,useOptimistic:function(n){var i=Pn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Id.bind(null,Ke,!0,o),o.dispatch=i,[n,i]},useMemoCache:_d,useCacheRefresh:function(){return Pn().memoizedState=Gw.bind(null,Ke)}},Jy={readContext:yn,use:bc,useCallback:zy,useContext:yn,useEffect:Vy,useImperativeHandle:jy,useInsertionEffect:Ly,useLayoutEffect:ky,useMemo:By,useReducer:wc,useRef:My,useState:function(){return wc(wi)},useDebugValue:wd,useDeferredValue:function(n,i){var o=Ht();return Hy(o,_t.memoizedState,n,i)},useTransition:function(){var n=wc(wi)[0],i=Ht().memoizedState;return[typeof n=="boolean"?n:Il(n),i]},useSyncExternalStore:yy,useId:$y,useHostTransitionStatus:Cd,useFormState:Dy,useActionState:Dy,useOptimistic:function(n,i){var o=Ht();return by(o,_t,n,i)},useMemoCache:_d,useCacheRefresh:Ky},Kw={readContext:yn,use:bc,useCallback:zy,useContext:yn,useEffect:Vy,useImperativeHandle:jy,useInsertionEffect:Ly,useLayoutEffect:ky,useMemo:By,useReducer:Td,useRef:My,useState:function(){return Td(wi)},useDebugValue:wd,useDeferredValue:function(n,i){var o=Ht();return _t===null?Ad(o,n,i):Hy(o,_t.memoizedState,n,i)},useTransition:function(){var n=Td(wi)[0],i=Ht().memoizedState;return[typeof n=="boolean"?n:Il(n),i]},useSyncExternalStore:yy,useId:$y,useHostTransitionStatus:Cd,useFormState:Oy,useActionState:Oy,useOptimistic:function(n,i){var o=Ht();return _t!==null?by(o,_t,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:_d,useCacheRefresh:Ky},uo=null,Nl=0;function xc(n){var i=Nl;return Nl+=1,uo===null&&(uo=[]),uy(uo,n,i)}function Ol(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Dc(n,i){throw i.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Zy(n){var i=n._init;return i(n._payload)}function ev(n){function i(B,V){if(n){var G=B.deletions;G===null?(B.deletions=[V],B.flags|=16):G.push(V)}}function o(B,V){if(!n)return null;for(;V!==null;)i(B,V),V=V.sibling;return null}function u(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function f(B,V){return B=_i(B,V),B.index=0,B.sibling=null,B}function g(B,V,G){return B.index=G,n?(G=B.alternate,G!==null?(G=G.index,G<V?(B.flags|=67108866,V):G):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function E(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function b(B,V,G,ie){return V===null||V.tag!==6?(V=Qf(G,B.mode,ie),V.return=B,V):(V=f(V,G),V.return=B,V)}function N(B,V,G,ie){var Se=G.type;return Se===D?ne(B,V,G.props.children,ie,G.key):V!==null&&(V.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&Zy(Se)===V.type)?(V=f(V,G.props),Ol(V,G),V.return=B,V):(V=fc(G.type,G.key,G.props,null,B.mode,ie),Ol(V,G),V.return=B,V)}function K(B,V,G,ie){return V===null||V.tag!==4||V.stateNode.containerInfo!==G.containerInfo||V.stateNode.implementation!==G.implementation?(V=Xf(G,B.mode,ie),V.return=B,V):(V=f(V,G.children||[]),V.return=B,V)}function ne(B,V,G,ie,Se){return V===null||V.tag!==7?(V=la(G,B.mode,ie,Se),V.return=B,V):(V=f(V,G),V.return=B,V)}function ae(B,V,G){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Qf(""+V,B.mode,G),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return G=fc(V.type,V.key,V.props,null,B.mode,G),Ol(G,V),G.return=B,G;case A:return V=Xf(V,B.mode,G),V.return=B,V;case R:var ie=V._init;return V=ie(V._payload),ae(B,V,G)}if(Ye(V)||j(V))return V=la(V,B.mode,G,null),V.return=B,V;if(typeof V.then=="function")return ae(B,xc(V),G);if(V.$$typeof===re)return ae(B,gc(B,V),G);Dc(B,V)}return null}function W(B,V,G,ie){var Se=V!==null?V.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Se!==null?null:b(B,V,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===Se?N(B,V,G,ie):null;case A:return G.key===Se?K(B,V,G,ie):null;case R:return Se=G._init,G=Se(G._payload),W(B,V,G,ie)}if(Ye(G)||j(G))return Se!==null?null:ne(B,V,G,ie,null);if(typeof G.then=="function")return W(B,V,xc(G),ie);if(G.$$typeof===re)return W(B,V,gc(B,G),ie);Dc(B,G)}return null}function J(B,V,G,ie,Se){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return B=B.get(G)||null,b(V,B,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return B=B.get(ie.key===null?G:ie.key)||null,N(V,B,ie,Se);case A:return B=B.get(ie.key===null?G:ie.key)||null,K(V,B,ie,Se);case R:var Qe=ie._init;return ie=Qe(ie._payload),J(B,V,G,ie,Se)}if(Ye(ie)||j(ie))return B=B.get(G)||null,ne(V,B,ie,Se,null);if(typeof ie.then=="function")return J(B,V,G,xc(ie),Se);if(ie.$$typeof===re)return J(B,V,G,gc(V,ie),Se);Dc(V,ie)}return null}function Ue(B,V,G,ie){for(var Se=null,Qe=null,Ce=V,Pe=V=0,nn=null;Ce!==null&&Pe<G.length;Pe++){Ce.index>Pe?(nn=Ce,Ce=null):nn=Ce.sibling;var ot=W(B,Ce,G[Pe],ie);if(ot===null){Ce===null&&(Ce=nn);break}n&&Ce&&ot.alternate===null&&i(B,Ce),V=g(ot,V,Pe),Qe===null?Se=ot:Qe.sibling=ot,Qe=ot,Ce=nn}if(Pe===G.length)return o(B,Ce),ht&&ca(B,Pe),Se;if(Ce===null){for(;Pe<G.length;Pe++)Ce=ae(B,G[Pe],ie),Ce!==null&&(V=g(Ce,V,Pe),Qe===null?Se=Ce:Qe.sibling=Ce,Qe=Ce);return ht&&ca(B,Pe),Se}for(Ce=u(Ce);Pe<G.length;Pe++)nn=J(Ce,B,Pe,G[Pe],ie),nn!==null&&(n&&nn.alternate!==null&&Ce.delete(nn.key===null?Pe:nn.key),V=g(nn,V,Pe),Qe===null?Se=nn:Qe.sibling=nn,Qe=nn);return n&&Ce.forEach(function(Es){return i(B,Es)}),ht&&ca(B,Pe),Se}function Oe(B,V,G,ie){if(G==null)throw Error(s(151));for(var Se=null,Qe=null,Ce=V,Pe=V=0,nn=null,ot=G.next();Ce!==null&&!ot.done;Pe++,ot=G.next()){Ce.index>Pe?(nn=Ce,Ce=null):nn=Ce.sibling;var Es=W(B,Ce,ot.value,ie);if(Es===null){Ce===null&&(Ce=nn);break}n&&Ce&&Es.alternate===null&&i(B,Ce),V=g(Es,V,Pe),Qe===null?Se=Es:Qe.sibling=Es,Qe=Es,Ce=nn}if(ot.done)return o(B,Ce),ht&&ca(B,Pe),Se;if(Ce===null){for(;!ot.done;Pe++,ot=G.next())ot=ae(B,ot.value,ie),ot!==null&&(V=g(ot,V,Pe),Qe===null?Se=ot:Qe.sibling=ot,Qe=ot);return ht&&ca(B,Pe),Se}for(Ce=u(Ce);!ot.done;Pe++,ot=G.next())ot=J(Ce,B,Pe,ot.value,ie),ot!==null&&(n&&ot.alternate!==null&&Ce.delete(ot.key===null?Pe:ot.key),V=g(ot,V,Pe),Qe===null?Se=ot:Qe.sibling=ot,Qe=ot);return n&&Ce.forEach(function(YA){return i(B,YA)}),ht&&ca(B,Pe),Se}function Tt(B,V,G,ie){if(typeof G=="object"&&G!==null&&G.type===D&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:e:{for(var Se=G.key;V!==null;){if(V.key===Se){if(Se=G.type,Se===D){if(V.tag===7){o(B,V.sibling),ie=f(V,G.props.children),ie.return=B,B=ie;break e}}else if(V.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&Zy(Se)===V.type){o(B,V.sibling),ie=f(V,G.props),Ol(ie,G),ie.return=B,B=ie;break e}o(B,V);break}else i(B,V);V=V.sibling}G.type===D?(ie=la(G.props.children,B.mode,ie,G.key),ie.return=B,B=ie):(ie=fc(G.type,G.key,G.props,null,B.mode,ie),Ol(ie,G),ie.return=B,B=ie)}return E(B);case A:e:{for(Se=G.key;V!==null;){if(V.key===Se)if(V.tag===4&&V.stateNode.containerInfo===G.containerInfo&&V.stateNode.implementation===G.implementation){o(B,V.sibling),ie=f(V,G.children||[]),ie.return=B,B=ie;break e}else{o(B,V);break}else i(B,V);V=V.sibling}ie=Xf(G,B.mode,ie),ie.return=B,B=ie}return E(B);case R:return Se=G._init,G=Se(G._payload),Tt(B,V,G,ie)}if(Ye(G))return Ue(B,V,G,ie);if(j(G)){if(Se=j(G),typeof Se!="function")throw Error(s(150));return G=Se.call(G),Oe(B,V,G,ie)}if(typeof G.then=="function")return Tt(B,V,xc(G),ie);if(G.$$typeof===re)return Tt(B,V,gc(B,G),ie);Dc(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,V!==null&&V.tag===6?(o(B,V.sibling),ie=f(V,G),ie.return=B,B=ie):(o(B,V),ie=Qf(G,B.mode,ie),ie.return=B,B=ie),E(B)):o(B,V)}return function(B,V,G,ie){try{Nl=0;var Se=Tt(B,V,G,ie);return uo=null,Se}catch(Ce){if(Ce===Sl||Ce===vc)throw Ce;var Qe=qn(29,Ce,null,B.mode);return Qe.lanes=ie,Qe.return=B,Qe}finally{}}}var co=ev(!0),tv=ev(!1),hr=ee(null),Yr=null;function ss(n){var i=n.alternate;ce(Qt,Qt.current&1),ce(hr,n),Yr===null&&(i===null||so.current!==null||i.memoizedState!==null)&&(Yr=n)}function nv(n){if(n.tag===22){if(ce(Qt,Qt.current),ce(hr,n),Yr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Yr=n)}}else as()}function as(){ce(Qt,Qt.current),ce(hr,hr.current)}function Ai(n){de(hr),Yr===n&&(Yr=null),de(Qt)}var Qt=ee(0);function Nc(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||vp(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function xd(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:v({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Dd={enqueueSetState:function(n,i,o){n=n._reactInternals;var u=Yn(),f=ns(u);f.payload=i,o!=null&&(f.callback=o),i=rs(n,f,u),i!==null&&(Qn(i,n,u),wl(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=Yn(),f=ns(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=rs(n,f,u),i!==null&&(Qn(i,n,u),wl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Yn(),u=ns(o);u.tag=2,i!=null&&(u.callback=i),i=rs(n,u,o),i!==null&&(Qn(i,n,o),wl(i,n,o))}};function rv(n,i,o,u,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,E):i.prototype&&i.prototype.isPureReactComponent?!pl(o,u)||!pl(f,g):!0}function iv(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&Dd.enqueueReplaceState(i,i.state,null)}function ya(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=v({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Oc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function sv(n){Oc(n)}function av(n){console.error(n)}function ov(n){Oc(n)}function Mc(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function lv(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Nd(n,i,o){return o=ns(o),o.tag=3,o.payload={element:null},o.callback=function(){Mc(n,i)},o}function uv(n){return n=ns(n),n.tag=3,n}function cv(n,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){lv(i,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){lv(i,o,u),typeof f!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function Yw(n,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&_l(i,o,f,!0),o=hr.current,o!==null){switch(o.tag){case 13:return Yr===null?tp():o.alternate===null&&Mt===0&&(Mt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ad?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),rp(n,u,f)),!1;case 22:return o.flags|=65536,u===ad?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),rp(n,u,f)),!1}throw Error(s(435,o.tag))}return rp(n,u,f),tp(),!1}if(ht)return i=hr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Zf&&(n=Error(s(422),{cause:u}),vl(or(n,o)))):(u!==Zf&&(i=Error(s(423),{cause:u}),vl(or(i,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=or(u,o),f=Nd(n.stateNode,u,f),ud(n,f),Mt!==4&&(Mt=2)),!1;var g=Error(s(520),{cause:u});if(g=or(g,o),jl===null?jl=[g]:jl.push(g),Mt!==4&&(Mt=2),i===null)return!0;u=or(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Nd(o.stateNode,u,n),ud(o,n),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(fs===null||!fs.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=uv(f),cv(f,n,o,u),ud(o,f),!1}o=o.return}while(o!==null);return!1}var hv=Error(s(461)),en=!1;function un(n,i,o,u){i.child=n===null?tv(i,null,o,u):co(i,n.child,o,u)}function fv(n,i,o,u,f){o=o.render;var g=i.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return pa(i),u=pd(n,i,o,E,g,f),b=md(),n!==null&&!en?(gd(n,i,f),Ri(n,i,f)):(ht&&b&&Wf(i),i.flags|=1,un(n,i,u,f),i.child)}function dv(n,i,o,u,f){if(n===null){var g=o.type;return typeof g=="function"&&!Yf(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,pv(n,i,g,u,f)):(n=fc(o.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!jd(n,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:pl,o(E,u)&&n.ref===i.ref)return Ri(n,i,f)}return i.flags|=1,n=_i(g,u),n.ref=i.ref,n.return=i,i.child=n}function pv(n,i,o,u,f){if(n!==null){var g=n.memoizedProps;if(pl(g,u)&&n.ref===i.ref)if(en=!1,i.pendingProps=u=g,jd(n,f))(n.flags&131072)!==0&&(en=!0);else return i.lanes=n.lanes,Ri(n,i,f)}return Od(n,i,o,u,f)}function mv(n,i,o){var u=i.pendingProps,f=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,n!==null){for(f=i.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~u}else i.childLanes=0,i.child=null;return gv(n,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&yc(i,g!==null?g.cachePool:null),g!==null?py(i,g):hd(),nv(i);else return i.lanes=i.childLanes=536870912,gv(n,i,g!==null?g.baseLanes|o:o,o)}else g!==null?(yc(i,g.cachePool),py(i,g),as(),i.memoizedState=null):(n!==null&&yc(i,null),hd(),as());return un(n,i,f,o),i.child}function gv(n,i,o,u){var f=sd();return f=f===null?null:{parent:Yt._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},n!==null&&yc(i,null),hd(),nv(i),n!==null&&_l(n,i,u,!0),null}function Pc(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Od(n,i,o,u,f){return pa(i),o=pd(n,i,o,u,void 0,f),u=md(),n!==null&&!en?(gd(n,i,f),Ri(n,i,f)):(ht&&u&&Wf(i),i.flags|=1,un(n,i,o,f),i.child)}function yv(n,i,o,u,f,g){return pa(i),i.updateQueue=null,o=gy(i,u,o,f),my(n),u=md(),n!==null&&!en?(gd(n,i,g),Ri(n,i,g)):(ht&&u&&Wf(i),i.flags|=1,un(n,i,o,g),i.child)}function vv(n,i,o,u,f){if(pa(i),i.stateNode===null){var g=eo,E=o.contextType;typeof E=="object"&&E!==null&&(g=yn(E)),g=new o(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Dd,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},od(i),E=o.contextType,g.context=typeof E=="object"&&E!==null?yn(E):eo,g.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(xd(i,o,E,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Dd.enqueueReplaceState(g,g.state,null),Rl(i,u,g,f),Al(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){g=i.stateNode;var b=i.memoizedProps,N=ya(o,b);g.props=N;var K=g.context,ne=o.contextType;E=eo,typeof ne=="object"&&ne!==null&&(E=yn(ne));var ae=o.getDerivedStateFromProps;ne=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||K!==E)&&iv(i,g,u,E),ts=!1;var W=i.memoizedState;g.state=W,Rl(i,u,g,f),Al(),K=i.memoizedState,b||W!==K||ts?(typeof ae=="function"&&(xd(i,o,ae,u),K=i.memoizedState),(N=ts||rv(i,o,N,u,W,K,E))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=K),g.props=u,g.state=K,g.context=E,u=N):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,ld(n,i),E=i.memoizedProps,ne=ya(o,E),g.props=ne,ae=i.pendingProps,W=g.context,K=o.contextType,N=eo,typeof K=="object"&&K!==null&&(N=yn(K)),b=o.getDerivedStateFromProps,(K=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ae||W!==N)&&iv(i,g,u,N),ts=!1,W=i.memoizedState,g.state=W,Rl(i,u,g,f),Al();var J=i.memoizedState;E!==ae||W!==J||ts||n!==null&&n.dependencies!==null&&mc(n.dependencies)?(typeof b=="function"&&(xd(i,o,b,u),J=i.memoizedState),(ne=ts||rv(i,o,ne,u,W,J,N)||n!==null&&n.dependencies!==null&&mc(n.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,N)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=J),g.props=u,g.state=J,g.context=N,u=ne):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(i.flags|=1024),u=!1)}return g=u,Pc(n,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,n!==null&&u?(i.child=co(i,n.child,null,f),i.child=co(i,null,o,f)):un(n,i,o,f),i.memoizedState=g.state,n=i.child):n=Ri(n,i,f),n}function _v(n,i,o,u){return yl(),i.flags|=256,un(n,i,o,u),i.child}var Md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pd(n){return{baseLanes:n,cachePool:ay()}}function Vd(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=fr),n}function Ev(n,i,o){var u=i.pendingProps,f=!1,g=(i.flags&128)!==0,E;if((E=g)||(E=n!==null&&n.memoizedState===null?!1:(Qt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(ht){if(f?ss(i):as(),ht){var b=Ot,N;if(N=b){e:{for(N=b,b=Kr;N.nodeType!==8;){if(!b){b=null;break e}if(N=Rr(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(i.memoizedState={dehydrated:b,treeContext:ua!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},N=qn(18,null,null,0),N.stateNode=b,N.return=i,i.child=N,Nn=i,Ot=null,N=!0):N=!1}N||fa(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return vp(b)?i.lanes=32:i.lanes=536870912,null;Ai(i)}return b=u.children,u=u.fallback,f?(as(),f=i.mode,b=Vc({mode:"hidden",children:b},f),u=la(u,f,o,null),b.return=i,u.return=i,b.sibling=u,i.child=b,f=i.child,f.memoizedState=Pd(o),f.childLanes=Vd(n,E,o),i.memoizedState=Md,u):(ss(i),Ld(i,b))}if(N=n.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(g)i.flags&256?(ss(i),i.flags&=-257,i=kd(n,i,o)):i.memoizedState!==null?(as(),i.child=n.child,i.flags|=128,i=null):(as(),f=u.fallback,b=i.mode,u=Vc({mode:"visible",children:u.children},b),f=la(f,b,o,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,co(i,n.child,null,o),u=i.child,u.memoizedState=Pd(o),u.childLanes=Vd(n,E,o),i.memoizedState=Md,i=f);else if(ss(i),vp(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(s(419)),u.stack="",u.digest=E,vl({value:u,source:null,stack:null}),i=kd(n,i,o)}else if(en||_l(n,i,o,!1),E=(o&n.childLanes)!==0,en||E){if(E=wt,E!==null&&(u=o&-o,u=(u&42)!==0?1:jr(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,Za(n,u),Qn(E,n,u),hv;b.data==="$?"||tp(),i=kd(n,i,o)}else b.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=N.treeContext,Ot=Rr(b.nextSibling),Nn=i,ht=!0,ha=null,Kr=!1,n!==null&&(ur[cr++]=Ei,ur[cr++]=Ti,ur[cr++]=ua,Ei=n.id,Ti=n.overflow,ua=i),i=Ld(i,u.children),i.flags|=4096);return i}return f?(as(),f=u.fallback,b=i.mode,N=n.child,K=N.sibling,u=_i(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,K!==null?f=_i(K,f):(f=la(f,b,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,b=n.child.memoizedState,b===null?b=Pd(o):(N=b.cachePool,N!==null?(K=Yt._currentValue,N=N.parent!==K?{parent:K,pool:K}:N):N=ay(),b={baseLanes:b.baseLanes|o,cachePool:N}),f.memoizedState=b,f.childLanes=Vd(n,E,o),i.memoizedState=Md,u):(ss(i),o=n.child,n=o.sibling,o=_i(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=o,i.memoizedState=null,o)}function Ld(n,i){return i=Vc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Vc(n,i){return n=qn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function kd(n,i,o){return co(i,n.child,null,o),n=Ld(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Tv(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),td(n.return,i,o)}function Ud(n,i,o,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function Sv(n,i,o){var u=i.pendingProps,f=u.revealOrder,g=u.tail;if(un(n,i,u.children,o),u=Qt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Tv(n,o,i);else if(n.tag===19)Tv(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ce(Qt,u),f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&Nc(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),Ud(i,!1,f,o,g);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Nc(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Ud(i,!0,o,null,g);break;case"together":Ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ri(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),hs|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(_l(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,o=_i(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=_i(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function jd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&mc(n)))}function Qw(n,i,o){switch(i.tag){case 3:yt(i,i.stateNode.containerInfo),es(i,Yt,n.memoizedState.cache),yl();break;case 27:case 5:Ct(i);break;case 4:yt(i,i.stateNode.containerInfo);break;case 10:es(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ss(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Ev(n,i,o):(ss(i),n=Ri(n,i,o),n!==null?n.sibling:null);ss(i);break;case 19:var f=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(_l(n,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return Sv(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(Qt,Qt.current),u)break;return null;case 22:case 23:return i.lanes=0,mv(n,i,o);case 24:es(i,Yt,n.memoizedState.cache)}return Ri(n,i,o)}function bv(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)en=!0;else{if(!jd(n,o)&&(i.flags&128)===0)return en=!1,Qw(n,i,o);en=(n.flags&131072)!==0}else en=!1,ht&&(i.flags&1048576)!==0&&Zg(i,pc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Yf(u)?(n=ya(u,n),i.tag=1,i=vv(null,i,u,n,o)):(i.tag=0,i=Od(null,i,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===pe){i.tag=11,i=fv(null,i,u,n,o);break e}else if(f===x){i.tag=14,i=dv(null,i,u,n,o);break e}}throw i=xe(u)||u,Error(s(306,i,""))}}return i;case 0:return Od(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=ya(u,i.pendingProps),vv(n,i,u,f,o);case 3:e:{if(yt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));u=i.pendingProps;var g=i.memoizedState;f=g.element,ld(n,i),Rl(i,u,null,o);var E=i.memoizedState;if(u=E.cache,es(i,Yt,u),u!==g.cache&&nd(i,[Yt],o,!0),Al(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=_v(n,i,u,o);break e}else if(u!==f){f=or(Error(s(424)),i),vl(f),i=_v(n,i,u,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ot=Rr(n.firstChild),Nn=i,ht=!0,ha=null,Kr=!0,o=tv(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(yl(),u===f){i=Ri(n,i,o);break e}un(n,i,u,o)}i=i.child}return i;case 26:return Pc(n,i),n===null?(o=C_(i.type,null,i.pendingProps,null))?i.memoizedState=o:ht||(o=i.type,n=i.pendingProps,u=Qc(Ne.current).createElement(o),u[le]=i,u[fe]=n,hn(u,o,n),ze(u),i.stateNode=u):i.memoizedState=C_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ct(i),n===null&&ht&&(u=i.stateNode=w_(i.type,i.pendingProps,Ne.current),Nn=i,Kr=!0,f=Ot,ms(i.type)?(_p=f,Ot=Rr(u.firstChild)):Ot=f),un(n,i,i.pendingProps.children,o),Pc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ht&&((f=u=Ot)&&(u=bA(u,i.type,i.pendingProps,Kr),u!==null?(i.stateNode=u,Nn=i,Ot=Rr(u.firstChild),Kr=!1,f=!0):f=!1),f||fa(i)),Ct(i),f=i.type,g=i.pendingProps,E=n!==null?n.memoizedProps:null,u=g.children,mp(f,g)?u=null:E!==null&&mp(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=pd(n,i,Bw,null,null,o),Yl._currentValue=f),Pc(n,i),un(n,i,u,o),i.child;case 6:return n===null&&ht&&((n=o=Ot)&&(o=wA(o,i.pendingProps,Kr),o!==null?(i.stateNode=o,Nn=i,Ot=null,n=!0):n=!1),n||fa(i)),null;case 13:return Ev(n,i,o);case 4:return yt(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=co(i,null,u,o):un(n,i,u,o),i.child;case 11:return fv(n,i,i.type,i.pendingProps,o);case 7:return un(n,i,i.pendingProps,o),i.child;case 8:return un(n,i,i.pendingProps.children,o),i.child;case 12:return un(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,es(i,i.type,u.value),un(n,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,pa(i),f=yn(f),u=u(f),i.flags|=1,un(n,i,u,o),i.child;case 14:return dv(n,i,i.type,i.pendingProps,o);case 15:return pv(n,i,i.type,i.pendingProps,o);case 19:return Sv(n,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},n===null?(o=Vc(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=_i(n.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return mv(n,i,o);case 24:return pa(i),u=yn(Yt),n===null?(f=sd(),f===null&&(f=wt,g=rd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),i.memoizedState={parent:u,cache:f},od(i),es(i,Yt,f)):((n.lanes&o)!==0&&(ld(n,i),Rl(i,null,null,o),Al()),f=n.memoizedState,g=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),es(i,Yt,u)):(u=g.cache,es(i,Yt,u),u!==f.cache&&nd(i,[Yt],o,!0))),un(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ci(n){n.flags|=4}function wv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!O_(i)){if(i=hr.current,i!==null&&((st&4194048)===st?Yr!==null:(st&62914560)!==st&&(st&536870912)===0||i!==Yr))throw bl=ad,oy;n.flags|=8192}}function Lc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ys():536870912,n.lanes|=i,mo|=i)}function Ml(n,i){if(!ht)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Dt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function Xw(n,i,o){var u=i.pendingProps;switch(Jf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),bi(Yt),Wn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(gl(i)?Ci(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ny())),Dt(i),null;case 26:return o=i.memoizedState,n===null?(Ci(i),o!==null?(Dt(i),wv(i,o)):(Dt(i),i.flags&=-16777217)):o?o!==n.memoizedState?(Ci(i),Dt(i),wv(i,o)):(Dt(i),i.flags&=-16777217):(n.memoizedProps!==u&&Ci(i),Dt(i),i.flags&=-16777217),null;case 27:mn(i),o=Ne.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Ci(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Dt(i),null}n=Te.current,gl(i)?ey(i):(n=w_(f,u,o),i.stateNode=n,Ci(i))}return Dt(i),null;case 5:if(mn(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Ci(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Dt(i),null}if(n=Te.current,gl(i))ey(i);else{switch(f=Qc(Ne.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[le]=i,n[fe]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(hn(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ci(i)}}return Dt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Ci(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=Ne.current,gl(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,f=Nn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[le]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||y_(n.nodeValue,o)),n||fa(i)}else n=Qc(n).createTextNode(u),n[le]=i,i.stateNode=n}return Dt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=gl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[le]=i}else yl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),f=!1}else f=ny(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ai(i),i):(Ai(i),null)}if(Ai(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),Lc(i,i.updateQueue),Dt(i),null;case 4:return Wn(),n===null&&cp(i.stateNode.containerInfo),Dt(i),null;case 10:return bi(i.type),Dt(i),null;case 19:if(de(Qt),f=i.memoizedState,f===null)return Dt(i),null;if(u=(i.flags&128)!==0,g=f.rendering,g===null)if(u)Ml(f,!1);else{if(Mt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(g=Nc(n),g!==null){for(i.flags|=128,Ml(f,!1),n=g.updateQueue,i.updateQueue=n,Lc(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Jg(o,n),o=o.sibling;return ce(Qt,Qt.current&1|2),i.child}n=n.sibling}f.tail!==null&&An()>jc&&(i.flags|=128,u=!0,Ml(f,!1),i.lanes=4194304)}else{if(!u)if(n=Nc(g),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Lc(i,n),Ml(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!ht)return Dt(i),null}else 2*An()-f.renderingStartTime>jc&&o!==536870912&&(i.flags|=128,u=!0,Ml(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(n=f.last,n!==null?n.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=An(),i.sibling=null,n=Qt.current,ce(Qt,u?n&1|2:n&1),i):(Dt(i),null);case 22:case 23:return Ai(i),fd(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),o=i.updateQueue,o!==null&&Lc(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&de(ma),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),bi(Yt),Dt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Ww(n,i){switch(Jf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return bi(Yt),Wn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return mn(i),null;case 13:if(Ai(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));yl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return de(Qt),null;case 4:return Wn(),null;case 10:return bi(i.type),null;case 22:case 23:return Ai(i),fd(),n!==null&&de(ma),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return bi(Yt),null;case 25:return null;default:return null}}function Av(n,i){switch(Jf(i),i.tag){case 3:bi(Yt),Wn();break;case 26:case 27:case 5:mn(i);break;case 4:Wn();break;case 13:Ai(i);break;case 19:de(Qt);break;case 10:bi(i.type);break;case 22:case 23:Ai(i),fd(),n!==null&&de(ma);break;case 24:bi(Yt)}}function Pl(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(b){St(i,i.return,b)}}function os(n,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=i;var N=o,K=b;try{K()}catch(ne){St(f,N,ne)}}}u=u.next}while(u!==g)}}catch(ne){St(i,i.return,ne)}}function Rv(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{dy(i,o)}catch(u){St(n,n.return,u)}}}function Cv(n,i,o){o.props=ya(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){St(n,i,u)}}function Vl(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){St(n,i,f)}}function Qr(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){St(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){St(n,i,f)}else o.current=null}function Iv(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){St(n,n.return,f)}}function zd(n,i,o){try{var u=n.stateNode;vA(u,n.type,o,i),u[fe]=i}catch(f){St(n,n.return,f)}}function xv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ms(n.type)||n.tag===4}function Bd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||xv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ms(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hd(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Yc));else if(u!==4&&(u===27&&ms(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(Hd(n,i,o),n=n.sibling;n!==null;)Hd(n,i,o),n=n.sibling}function kc(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&(u===27&&ms(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(kc(n,i,o),n=n.sibling;n!==null;)kc(n,i,o),n=n.sibling}function Dv(n){var i=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);hn(i,u,o),i[le]=n,i[fe]=o}catch(g){St(n,n.return,g)}}var Ii=!1,Vt=!1,Fd=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,tn=null;function Jw(n,i){if(n=n.containerInfo,dp=th,n=Hg(n),Bf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,b=-1,N=-1,K=0,ne=0,ae=n,W=null;t:for(;;){for(var J;ae!==o||f!==0&&ae.nodeType!==3||(b=E+f),ae!==g||u!==0&&ae.nodeType!==3||(N=E+u),ae.nodeType===3&&(E+=ae.nodeValue.length),(J=ae.firstChild)!==null;)W=ae,ae=J;for(;;){if(ae===n)break t;if(W===o&&++K===f&&(b=E),W===g&&++ne===u&&(N=E),(J=ae.nextSibling)!==null)break;ae=W,W=ae.parentNode}ae=J}o=b===-1||N===-1?null:{start:b,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(pp={focusedElem:n,selectionRange:o},th=!1,tn=i;tn!==null;)if(i=tn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,tn=n;else for(;tn!==null;){switch(i=tn,g=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=i,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ue=ya(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Ue,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(Oe){St(o,o.return,Oe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)yp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":yp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,tn=n;break}tn=i.return}}function Ov(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ls(n,o),u&4&&Pl(5,o);break;case 1:if(ls(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(E){St(o,o.return,E)}else{var f=ya(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){St(o,o.return,E)}}u&64&&Rv(o),u&512&&Vl(o,o.return);break;case 3:if(ls(n,o),u&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{dy(n,i)}catch(E){St(o,o.return,E)}}break;case 27:i===null&&u&4&&Dv(o);case 26:case 5:ls(n,o),i===null&&u&4&&Iv(o),u&512&&Vl(o,o.return);break;case 12:ls(n,o);break;case 13:ls(n,o),u&4&&Vv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=oA.bind(null,o),AA(n,o))));break;case 22:if(u=o.memoizedState!==null||Ii,!u){i=i!==null&&i.memoizedState!==null||Vt,f=Ii;var g=Vt;Ii=u,(Vt=i)&&!g?us(n,o,(o.subtreeFlags&8772)!==0):ls(n,o),Ii=f,Vt=g}break;case 30:break;default:ls(n,o)}}function Mv(n){var i=n.alternate;i!==null&&(n.alternate=null,Mv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ee(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xt=null,Vn=!1;function xi(n,i,o){for(o=o.child;o!==null;)Pv(n,i,o),o=o.sibling}function Pv(n,i,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(lt,o)}catch{}switch(o.tag){case 26:Vt||Qr(o,i),xi(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Vt||Qr(o,i);var u=xt,f=Vn;ms(o.type)&&(xt=o.stateNode,Vn=!1),xi(n,i,o),ql(o.stateNode),xt=u,Vn=f;break;case 5:Vt||Qr(o,i);case 6:if(u=xt,f=Vn,xt=null,xi(n,i,o),xt=u,Vn=f,xt!==null)if(Vn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(g){St(o,i,g)}else try{xt.removeChild(o.stateNode)}catch(g){St(o,i,g)}break;case 18:xt!==null&&(Vn?(n=xt,S_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Jl(n)):S_(xt,o.stateNode));break;case 4:u=xt,f=Vn,xt=o.stateNode.containerInfo,Vn=!0,xi(n,i,o),xt=u,Vn=f;break;case 0:case 11:case 14:case 15:Vt||os(2,o,i),Vt||os(4,o,i),xi(n,i,o);break;case 1:Vt||(Qr(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Cv(o,i,u)),xi(n,i,o);break;case 21:xi(n,i,o);break;case 22:Vt=(u=Vt)||o.memoizedState!==null,xi(n,i,o),Vt=u;break;default:xi(n,i,o)}}function Vv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Jl(n)}catch(o){St(i,i.return,o)}}function Zw(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Nv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Nv),i;default:throw Error(s(435,n.tag))}}function qd(n,i){var o=Zw(n);i.forEach(function(u){var f=lA.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function Gn(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=n,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(ms(b.type)){xt=b.stateNode,Vn=!1;break e}break;case 5:xt=b.stateNode,Vn=!1;break e;case 3:case 4:xt=b.stateNode.containerInfo,Vn=!0;break e}b=b.return}if(xt===null)throw Error(s(160));Pv(g,E,f),xt=null,Vn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Lv(i,n),i=i.sibling}var Ar=null;function Lv(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gn(i,n),$n(n),u&4&&(os(3,n,n.return),Pl(3,n),os(5,n,n.return));break;case 1:Gn(i,n),$n(n),u&512&&(Vt||o===null||Qr(o,o.return)),u&64&&Ii&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Ar;if(Gn(i,n),$n(n),u&512&&(Vt||o===null||Qr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ae]||g[le]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),hn(g,u,o),g[le]=n,ze(g),u=g;break e;case"link":var E=D_("link","href",f).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(g=E[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break t}}g=f.createElement(u),hn(g,u,o),f.head.appendChild(g);break;case"meta":if(E=D_("meta","content",f).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(g=E[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break t}}g=f.createElement(u),hn(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[le]=n,ze(g),u=g}n.stateNode=u}else N_(f,n.type,n.stateNode);else n.stateNode=x_(f,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?N_(f,n.type,n.stateNode):x_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&zd(n,n.memoizedProps,o.memoizedProps)}break;case 27:Gn(i,n),$n(n),u&512&&(Vt||o===null||Qr(o,o.return)),o!==null&&u&4&&zd(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Gn(i,n),$n(n),u&512&&(Vt||o===null||Qr(o,o.return)),n.flags&32){f=n.stateNode;try{rr(f,"")}catch(J){St(n,n.return,J)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,zd(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Fd=!0);break;case 6:if(Gn(i,n),$n(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(J){St(n,n.return,J)}}break;case 3:if(Jc=null,f=Ar,Ar=Xc(i.containerInfo),Gn(i,n),Ar=f,$n(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Jl(i.containerInfo)}catch(J){St(n,n.return,J)}Fd&&(Fd=!1,kv(n));break;case 4:u=Ar,Ar=Xc(n.stateNode.containerInfo),Gn(i,n),$n(n),Ar=u;break;case 12:Gn(i,n),$n(n);break;case 13:Gn(i,n),$n(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xd=An()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qd(n,u)));break;case 22:f=n.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,K=Ii,ne=Vt;if(Ii=K||f,Vt=ne||N,Gn(i,n),Vt=ne,Ii=K,$n(n),u&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||N||Ii||Vt||va(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){N=o=i;try{if(g=N.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=N.stateNode;var ae=N.memoizedProps.style,W=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;b.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(J){St(N,N.return,J)}}}else if(i.tag===6){if(o===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(J){St(N,N.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qd(n,o))));break;case 19:Gn(i,n),$n(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qd(n,u)));break;case 30:break;case 21:break;default:Gn(i,n),$n(n)}}function $n(n){var i=n.flags;if(i&2){try{for(var o,u=n.return;u!==null;){if(xv(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Bd(n);kc(n,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(rr(E,""),o.flags&=-33);var b=Bd(n);kc(n,b,E);break;case 3:case 4:var N=o.stateNode.containerInfo,K=Bd(n);Hd(n,K,N);break;default:throw Error(s(161))}}catch(ne){St(n,n.return,ne)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function kv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;kv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ls(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ov(n,i.alternate,i),i=i.sibling}function va(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:os(4,i,i.return),va(i);break;case 1:Qr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Cv(i,i.return,o),va(i);break;case 27:ql(i.stateNode);case 26:case 5:Qr(i,i.return),va(i);break;case 22:i.memoizedState===null&&va(i);break;case 30:va(i);break;default:va(i)}n=n.sibling}}function us(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,g=i,E=g.flags;switch(g.tag){case 0:case 11:case 15:us(f,g,o),Pl(4,g);break;case 1:if(us(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){St(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var b=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)fy(N[f],b)}catch(K){St(u,u.return,K)}}o&&E&64&&Rv(g),Vl(g,g.return);break;case 27:Dv(g);case 26:case 5:us(f,g,o),o&&u===null&&E&4&&Iv(g),Vl(g,g.return);break;case 12:us(f,g,o);break;case 13:us(f,g,o),o&&E&4&&Vv(f,g);break;case 22:g.memoizedState===null&&us(f,g,o),Vl(g,g.return);break;case 30:break;default:us(f,g,o)}i=i.sibling}}function Gd(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&El(o))}function $d(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&El(n))}function Xr(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uv(n,i,o,u),i=i.sibling}function Uv(n,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Xr(n,i,o,u),f&2048&&Pl(9,i);break;case 1:Xr(n,i,o,u);break;case 3:Xr(n,i,o,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&El(n)));break;case 12:if(f&2048){Xr(n,i,o,u),n=i.stateNode;try{var g=i.memoizedProps,E=g.id,b=g.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){St(i,i.return,N)}}else Xr(n,i,o,u);break;case 13:Xr(n,i,o,u);break;case 23:break;case 22:g=i.stateNode,E=i.alternate,i.memoizedState!==null?g._visibility&2?Xr(n,i,o,u):Ll(n,i):g._visibility&2?Xr(n,i,o,u):(g._visibility|=2,ho(n,i,o,u,(i.subtreeFlags&10256)!==0)),f&2048&&Gd(E,i);break;case 24:Xr(n,i,o,u),f&2048&&$d(i.alternate,i);break;default:Xr(n,i,o,u)}}function ho(n,i,o,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=n,E=i,b=o,N=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:ho(g,E,b,N,f),Pl(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?ho(g,E,b,N,f):Ll(g,E):(ne._visibility|=2,ho(g,E,b,N,f)),f&&K&2048&&Gd(E.alternate,E);break;case 24:ho(g,E,b,N,f),f&&K&2048&&$d(E.alternate,E);break;default:ho(g,E,b,N,f)}i=i.sibling}}function Ll(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,f=u.flags;switch(u.tag){case 22:Ll(o,u),f&2048&&Gd(u.alternate,u);break;case 24:Ll(o,u),f&2048&&$d(u.alternate,u);break;default:Ll(o,u)}i=i.sibling}}var kl=8192;function fo(n){if(n.subtreeFlags&kl)for(n=n.child;n!==null;)jv(n),n=n.sibling}function jv(n){switch(n.tag){case 26:fo(n),n.flags&kl&&n.memoizedState!==null&&UA(Ar,n.memoizedState,n.memoizedProps);break;case 5:fo(n);break;case 3:case 4:var i=Ar;Ar=Xc(n.stateNode.containerInfo),fo(n),Ar=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=kl,kl=16777216,fo(n),kl=i):fo(n));break;default:fo(n)}}function zv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ul(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];tn=u,Hv(u,n)}zv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bv(n),n=n.sibling}function Bv(n){switch(n.tag){case 0:case 11:case 15:Ul(n),n.flags&2048&&os(9,n,n.return);break;case 3:Ul(n);break;case 12:Ul(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Uc(n)):Ul(n);break;default:Ul(n)}}function Uc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];tn=u,Hv(u,n)}zv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:os(8,i,i.return),Uc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Uc(i));break;default:Uc(i)}n=n.sibling}}function Hv(n,i){for(;tn!==null;){var o=tn;switch(o.tag){case 0:case 11:case 15:os(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:El(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,tn=u;else e:for(o=n;tn!==null;){u=tn;var f=u.sibling,g=u.return;if(Mv(u),u===o){tn=null;break e}if(f!==null){f.return=g,tn=f;break e}tn=g}}}var eA={getCacheForType:function(n){var i=yn(Yt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},tA=typeof WeakMap=="function"?WeakMap:Map,mt=0,wt=null,We=null,st=0,gt=0,Kn=null,cs=!1,po=!1,Kd=!1,Di=0,Mt=0,hs=0,_a=0,Yd=0,fr=0,mo=0,jl=null,Ln=null,Qd=!1,Xd=0,jc=1/0,zc=null,fs=null,cn=0,ds=null,go=null,yo=0,Wd=0,Jd=null,Fv=null,zl=0,Zd=null;function Yn(){if((mt&2)!==0&&st!==0)return st&-st;if($.T!==null){var n=ro;return n!==0?n:ap()}return P()}function qv(){fr===0&&(fr=(st&536870912)===0||ht?hi():536870912);var n=hr.current;return n!==null&&(n.flags|=32),fr}function Qn(n,i,o){(n===wt&&(gt===2||gt===9)||n.cancelPendingCommit!==null)&&(vo(n,0),ps(n,st,fr,!1)),Er(n,o),((mt&2)===0||n!==wt)&&(n===wt&&((mt&2)===0&&(_a|=o),Mt===4&&ps(n,st,fr,!1)),Wr(n))}function Gv(n,i,o){if((mt&6)!==0)throw Error(s(327));var u=!o&&(i&124)===0&&(i&n.expiredLanes)===0||er(n,i),f=u?iA(n,i):np(n,i,!0),g=u;do{if(f===0){po&&!u&&ps(n,i,0,!1);break}else{if(o=n.current.alternate,g&&!nA(o)){f=np(n,i,!1),g=!1;continue}if(f===2){if(g=i,n.errorRecoveryDisabledLanes&g)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var b=n;f=jl;var N=b.current.memoizedState.isDehydrated;if(N&&(vo(b,E).flags|=256),E=np(b,E,!1),E!==2){if(Kd&&!N){b.errorRecoveryDisabledLanes|=g,_a|=g,f=4;break e}g=Ln,Ln=f,g!==null&&(Ln===null?Ln=g:Ln.push.apply(Ln,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){vo(n,0),ps(n,i,0,!0);break}e:{switch(u=n,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ps(u,i,fr,!cs);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Xd+300-An(),10<f)){if(ps(u,i,fr,!cs),ci(u,0,!0)!==0)break e;u.timeoutHandle=E_($v.bind(null,u,o,Ln,zc,Qd,i,fr,_a,mo,cs,g,2,-0,0),f);break e}$v(u,o,Ln,zc,Qd,i,fr,_a,mo,cs,g,0,-0,0)}}break}while(!0);Wr(n)}function $v(n,i,o,u,f,g,E,b,N,K,ne,ae,W,J){if(n.timeoutHandle=-1,ae=i.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:kA},jv(i),ae=jA(),ae!==null)){n.cancelPendingCommit=ae(Zv.bind(null,n,i,g,o,u,f,E,b,N,ne,1,W,J)),ps(n,g,E,!K);return}Zv(n,i,g,o,u,f,E,b,N)}function nA(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Fn(g(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ps(n,i,o,u){i&=~Yd,i&=~_a,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var g=31-jt(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&Rn(n,o,i)}function Bc(){return(mt&6)===0?(Bl(0),!1):!0}function ep(){if(We!==null){if(gt===0)var n=We.return;else n=We,Si=da=null,yd(n),uo=null,Nl=0,n=We;for(;n!==null;)Av(n.alternate,n),n=n.return;We=null}}function vo(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,EA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),ep(),wt=n,We=o=_i(n.current,null),st=i,gt=0,Kn=null,cs=!1,po=er(n,i),Kd=!1,mo=fr=Yd=_a=hs=Mt=0,Ln=jl=null,Qd=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-jt(u),g=1<<f;i|=n[f],u&=~g}return Di=i,uc(),o}function Kv(n,i){Ke=null,$.H=Ic,i===Sl||i===vc?(i=cy(),gt=3):i===oy?(i=cy(),gt=4):gt=i===hv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kn=i,We===null&&(Mt=1,Mc(n,or(i,n.current)))}function Yv(){var n=$.H;return $.H=Ic,n===null?Ic:n}function Qv(){var n=$.A;return $.A=eA,n}function tp(){Mt=4,cs||(st&4194048)!==st&&hr.current!==null||(po=!0),(hs&134217727)===0&&(_a&134217727)===0||wt===null||ps(wt,st,fr,!1)}function np(n,i,o){var u=mt;mt|=2;var f=Yv(),g=Qv();(wt!==n||st!==i)&&(zc=null,vo(n,i)),i=!1;var E=Mt;e:do try{if(gt!==0&&We!==null){var b=We,N=Kn;switch(gt){case 8:ep(),E=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(i=!0);var K=gt;if(gt=0,Kn=null,_o(n,b,N,K),o&&po){E=0;break e}break;default:K=gt,gt=0,Kn=null,_o(n,b,N,K)}}rA(),E=Mt;break}catch(ne){Kv(n,ne)}while(!0);return i&&n.shellSuspendCounter++,Si=da=null,mt=u,$.H=f,$.A=g,We===null&&(wt=null,st=0,uc()),E}function rA(){for(;We!==null;)Xv(We)}function iA(n,i){var o=mt;mt|=2;var u=Yv(),f=Qv();wt!==n||st!==i?(zc=null,jc=An()+500,vo(n,i)):po=er(n,i);e:do try{if(gt!==0&&We!==null){i=We;var g=Kn;t:switch(gt){case 1:gt=0,Kn=null,_o(n,i,g,1);break;case 2:case 9:if(ly(g)){gt=0,Kn=null,Wv(i);break}i=function(){gt!==2&&gt!==9||wt!==n||(gt=7),Wr(n)},g.then(i,i);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:ly(g)?(gt=0,Kn=null,Wv(i)):(gt=0,Kn=null,_o(n,i,g,7));break;case 5:var E=null;switch(We.tag){case 26:E=We.memoizedState;case 5:case 27:var b=We;if(!E||O_(E)){gt=0,Kn=null;var N=b.sibling;if(N!==null)We=N;else{var K=b.return;K!==null?(We=K,Hc(K)):We=null}break t}}gt=0,Kn=null,_o(n,i,g,5);break;case 6:gt=0,Kn=null,_o(n,i,g,6);break;case 8:ep(),Mt=6;break e;default:throw Error(s(462))}}sA();break}catch(ne){Kv(n,ne)}while(!0);return Si=da=null,$.H=u,$.A=f,mt=o,We!==null?0:(wt=null,st=0,uc(),Mt)}function sA(){for(;We!==null&&!$s();)Xv(We)}function Xv(n){var i=bv(n.alternate,n,Di);n.memoizedProps=n.pendingProps,i===null?Hc(n):We=i}function Wv(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=yv(o,i,i.pendingProps,i.type,void 0,st);break;case 11:i=yv(o,i,i.pendingProps,i.type.render,i.ref,st);break;case 5:yd(i);default:Av(o,i),i=We=Jg(i,Di),i=bv(o,i,Di)}n.memoizedProps=n.pendingProps,i===null?Hc(n):We=i}function _o(n,i,o,u){Si=da=null,yd(i),uo=null,Nl=0;var f=i.return;try{if(Yw(n,f,i,o,st)){Mt=1,Mc(n,or(o,n.current)),We=null;return}}catch(g){if(f!==null)throw We=f,g;Mt=1,Mc(n,or(o,n.current)),We=null;return}i.flags&32768?(ht||u===1?n=!0:po||(st&536870912)!==0?n=!1:(cs=n=!0,(u===2||u===9||u===3||u===6)&&(u=hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Jv(i,n)):Hc(i)}function Hc(n){var i=n;do{if((i.flags&32768)!==0){Jv(i,cs);return}n=i.return;var o=Xw(i.alternate,i,Di);if(o!==null){We=o;return}if(i=i.sibling,i!==null){We=i;return}We=i=n}while(i!==null);Mt===0&&(Mt=5)}function Jv(n,i){do{var o=Ww(n.alternate,n);if(o!==null){o.flags&=32767,We=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){We=n;return}We=n=o}while(n!==null);Mt=6,We=null}function Zv(n,i,o,u,f,g,E,b,N){n.cancelPendingCommit=null;do Fc();while(cn!==0);if((mt&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=$f,Ki(n,o,g,E,b,N),n===wt&&(We=wt=null,st=0),go=i,ds=n,yo=o,Wd=g,Jd=f,Fv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,uA(ui,function(){return i_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,f=he.p,he.p=2,E=mt,mt|=4;try{Jw(n,i,o)}finally{mt=E,he.p=f,$.T=u}}cn=1,e_(),t_(),n_()}}function e_(){if(cn===1){cn=0;var n=ds,i=go,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=he.p;he.p=2;var f=mt;mt|=4;try{Lv(i,n);var g=pp,E=Hg(n.containerInfo),b=g.focusedElem,N=g.selectionRange;if(E!==b&&b&&b.ownerDocument&&Bg(b.ownerDocument.documentElement,b)){if(N!==null&&Bf(b)){var K=N.start,ne=N.end;if(ne===void 0&&(ne=K),"selectionStart"in b)b.selectionStart=K,b.selectionEnd=Math.min(ne,b.value.length);else{var ae=b.ownerDocument||document,W=ae&&ae.defaultView||window;if(W.getSelection){var J=W.getSelection(),Ue=b.textContent.length,Oe=Math.min(N.start,Ue),Tt=N.end===void 0?Oe:Math.min(N.end,Ue);!J.extend&&Oe>Tt&&(E=Tt,Tt=Oe,Oe=E);var B=zg(b,Oe),V=zg(b,Tt);if(B&&V&&(J.rangeCount!==1||J.anchorNode!==B.node||J.anchorOffset!==B.offset||J.focusNode!==V.node||J.focusOffset!==V.offset)){var G=ae.createRange();G.setStart(B.node,B.offset),J.removeAllRanges(),Oe>Tt?(J.addRange(G),J.extend(V.node,V.offset)):(G.setEnd(V.node,V.offset),J.addRange(G))}}}}for(ae=[],J=b;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ae.length;b++){var ie=ae[b];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}th=!!dp,pp=dp=null}finally{mt=f,he.p=u,$.T=o}}n.current=i,cn=2}}function t_(){if(cn===2){cn=0;var n=ds,i=go,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=he.p;he.p=2;var f=mt;mt|=4;try{Ov(n,i.alternate,i)}finally{mt=f,he.p=u,$.T=o}}cn=3}}function n_(){if(cn===4||cn===3){cn=0,Ua();var n=ds,i=go,o=yo,u=Fv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?cn=5:(cn=0,go=ds=null,r_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(fs=null),Yi(o),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=$.T,f=he.p,he.p=2,$.T=null;try{for(var g=n.onRecoverableError,E=0;E<u.length;E++){var b=u[E];g(b.value,{componentStack:b.stack})}}finally{$.T=i,he.p=f}}(yo&3)!==0&&Fc(),Wr(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Zd?zl++:(zl=0,Zd=n):zl=0,Bl(0)}}function r_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,El(i)))}function Fc(n){return e_(),t_(),n_(),i_()}function i_(){if(cn!==5)return!1;var n=ds,i=Wd;Wd=0;var o=Yi(yo),u=$.T,f=he.p;try{he.p=32>o?32:o,$.T=null,o=Jd,Jd=null;var g=ds,E=yo;if(cn=0,go=ds=null,yo=0,(mt&6)!==0)throw Error(s(331));var b=mt;if(mt|=4,Bv(g.current),Uv(g,g.current,E,o),mt=b,Bl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(lt,g)}catch{}return!0}finally{he.p=f,$.T=u,r_(n,i)}}function s_(n,i,o){i=or(o,i),i=Nd(n.stateNode,i,2),n=rs(n,i,2),n!==null&&(Er(n,2),Wr(n))}function St(n,i,o){if(n.tag===3)s_(n,n,o);else for(;i!==null;){if(i.tag===3){s_(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fs===null||!fs.has(u))){n=or(o,n),o=uv(2),u=rs(i,o,2),u!==null&&(cv(o,u,i,n),Er(u,2),Wr(u));break}}i=i.return}}function rp(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new tA;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(Kd=!0,f.add(o),n=aA.bind(null,n,i,o),i.then(n,n))}function aA(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,wt===n&&(st&o)===o&&(Mt===4||Mt===3&&(st&62914560)===st&&300>An()-Xd?(mt&2)===0&&vo(n,0):Yd|=o,mo===st&&(mo=0)),Wr(n)}function a_(n,i){i===0&&(i=Ys()),n=Za(n,i),n!==null&&(Er(n,i),Wr(n))}function oA(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),a_(n,o)}function lA(n,i){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),a_(n,o)}function uA(n,i){return li(n,i)}var qc=null,Eo=null,ip=!1,Gc=!1,sp=!1,Ea=0;function Wr(n){n!==Eo&&n.next===null&&(Eo===null?qc=Eo=n:Eo=Eo.next=n),Gc=!0,ip||(ip=!0,hA())}function Bl(n,i){if(!sp&&Gc){sp=!0;do for(var o=!1,u=qc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-jt(42|n)+1)-1,g&=f&~(E&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,c_(u,g))}else g=st,g=ci(u,u===wt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||er(u,g)||(o=!0,c_(u,g));u=u.next}while(o);sp=!1}}function cA(){o_()}function o_(){Gc=ip=!1;var n=0;Ea!==0&&(_A()&&(n=Ea),Ea=0);for(var i=An(),o=null,u=qc;u!==null;){var f=u.next,g=l_(u,i);g===0?(u.next=null,o===null?qc=f:o.next=f,f===null&&(Eo=o)):(o=u,(n!==0||(g&3)!==0)&&(Gc=!0)),u=f}Bl(n)}function l_(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var E=31-jt(g),b=1<<E,N=f[E];N===-1?((b&o)===0||(b&u)!==0)&&(f[E]=$i(b,i)):N<=i&&(n.expiredLanes|=b),g&=~b}if(i=wt,o=st,o=ci(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===i&&(gt===2||gt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&wn(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||er(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&wn(u),Yi(o)){case 2:case 8:o=Fi;break;case 32:o=ui;break;case 268435456:o=Jn;break;default:o=ui}return u=u_.bind(null,n),o=li(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&wn(u),n.callbackPriority=2,n.callbackNode=null,2}function u_(n,i){if(cn!==0&&cn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Fc()&&n.callbackNode!==o)return null;var u=st;return u=ci(n,n===wt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Gv(n,u,i),l_(n,An()),n.callbackNode!=null&&n.callbackNode===o?u_.bind(null,n):null)}function c_(n,i){if(Fc())return null;Gv(n,i,!0)}function hA(){TA(function(){(mt&6)!==0?li(Ks,cA):o_()})}function ap(){return Ea===0&&(Ea=hi()),Ea}function h_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ba(""+n)}function f_(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function fA(n,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var g=h_((f[fe]||null).action),E=u.submitter;E&&(i=(i=E[fe]||null)?h_(i.formAction):E.getAttribute("formAction"),i!==null&&(g=i,E=null));var b=new Ha("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ea!==0){var N=E?f_(f,E):new FormData(f);Rd(o,{pending:!0,data:N,method:f.method,action:g},null,N)}}else typeof g=="function"&&(b.preventDefault(),N=E?f_(f,E):new FormData(f),Rd(o,{pending:!0,data:N,method:f.method,action:g},g,N))},currentTarget:f}]})}}for(var op=0;op<Gf.length;op++){var lp=Gf[op],dA=lp.toLowerCase(),pA=lp[0].toUpperCase()+lp.slice(1);wr(dA,"on"+pA)}wr(Gg,"onAnimationEnd"),wr($g,"onAnimationIteration"),wr(Kg,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(Nw,"onTransitionRun"),wr(Ow,"onTransitionStart"),wr(Mw,"onTransitionCancel"),wr(Yg,"onTransitionEnd"),Wt("onMouseEnter",["mouseout","mouseover"]),Wt("onMouseLeave",["mouseout","mouseover"]),Wt("onPointerEnter",["pointerout","pointerover"]),Wt("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function d_(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var g=void 0;if(i)for(var E=u.length-1;0<=E;E--){var b=u[E],N=b.instance,K=b.currentTarget;if(b=b.listener,N!==g&&f.isPropagationStopped())break e;g=b,f.currentTarget=K;try{g(f)}catch(ne){Oc(ne)}f.currentTarget=null,g=N}else for(E=0;E<u.length;E++){if(b=u[E],N=b.instance,K=b.currentTarget,b=b.listener,N!==g&&f.isPropagationStopped())break e;g=b,f.currentTarget=K;try{g(f)}catch(ne){Oc(ne)}f.currentTarget=null,g=N}}}}function Je(n,i){var o=i[Re];o===void 0&&(o=i[Re]=new Set);var u=n+"__bubble";o.has(u)||(p_(i,n,2,!1),o.add(u))}function up(n,i,o){var u=0;i&&(u|=4),p_(o,n,u,i)}var $c="_reactListening"+Math.random().toString(36).slice(2);function cp(n){if(!n[$c]){n[$c]=!0,ct.forEach(function(o){o!=="selectionchange"&&(mA.has(o)||up(o,!1,n),up(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[$c]||(i[$c]=!0,up("selectionchange",!1,i))}}function p_(n,i,o,u){switch(U_(i)){case 2:var f=HA;break;case 8:f=FA;break;default:f=wp}o=f.bind(null,i,o,n),f=void 0,!sr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function hp(n,i,o,u,f){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=u.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=qe(b),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){u=g=E;continue e}b=b.parentNode}}u=u.return}Yu(function(){var K=g,ne=ir(o),ae=[];e:{var W=Qg.get(n);if(W!==void 0){var J=Ha,Ue=n;switch(n){case"keypress":if(Hr(o)===0)break e;case"keydown":case"keyup":J=Ya;break;case"focusin":Ue="focus",J=Ga;break;case"focusout":Ue="blur",J=Ga;break;case"beforeblur":case"afterblur":J=Ga;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=nc;break;case Gg:case $g:case Kg:J=$a;break;case Yg:J=ic;break;case"scroll":case"scrollend":J=Qu;break;case"wheel":J=Qa;break;case"copy":case"cut":case"paste":J=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=fl;break;case"toggle":case"beforetoggle":J=ac}var Oe=(i&4)!==0,Tt=!Oe&&(n==="scroll"||n==="scrollend"),B=Oe?W!==null?W+"Capture":null:W;Oe=[];for(var V=K,G;V!==null;){var ie=V;if(G=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||G===null||B===null||(ie=Zs(V,B),ie!=null&&Oe.push(Fl(V,ie,G))),Tt)break;V=V.return}0<Oe.length&&(W=new J(W,Ue,null,o,ne),ae.push({event:W,listeners:Oe}))}}if((i&7)===0){e:{if(W=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",W&&o!==di&&(Ue=o.relatedTarget||o.fromElement)&&(qe(Ue)||Ue[ye]))break e;if((J||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,J?(Ue=o.relatedTarget||o.toElement,J=K,Ue=Ue?qe(Ue):null,Ue!==null&&(Tt=l(Ue),Oe=Ue.tag,Ue!==Tt||Oe!==5&&Oe!==27&&Oe!==6)&&(Ue=null)):(J=null,Ue=K),J!==Ue)){if(Oe=ar,ie="onMouseLeave",B="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(Oe=fl,ie="onPointerLeave",B="onPointerEnter",V="pointer"),Tt=J==null?W:pt(J),G=Ue==null?W:pt(Ue),W=new Oe(ie,V+"leave",J,o,ne),W.target=Tt,W.relatedTarget=G,ie=null,qe(ne)===K&&(Oe=new Oe(B,V+"enter",Ue,o,ne),Oe.target=G,Oe.relatedTarget=Tt,ie=Oe),Tt=ie,J&&Ue)t:{for(Oe=J,B=Ue,V=0,G=Oe;G;G=To(G))V++;for(G=0,ie=B;ie;ie=To(ie))G++;for(;0<V-G;)Oe=To(Oe),V--;for(;0<G-V;)B=To(B),G--;for(;V--;){if(Oe===B||B!==null&&Oe===B.alternate)break t;Oe=To(Oe),B=To(B)}Oe=null}else Oe=null;J!==null&&m_(ae,W,J,Oe,!1),Ue!==null&&Tt!==null&&m_(ae,Tt,Ue,Oe,!0)}}e:{if(W=K?pt(K):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Se=Pg;else if(Kt(W))if(Vg)Se=Iw;else{Se=Rw;var Qe=Aw}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&sl(K.elementType)&&(Se=Pg):Se=Cw;if(Se&&(Se=Se(n,K))){vi(ae,Se,o,ne);break e}Qe&&Qe(n,W,K),n==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&Ji(W,"number",W.value)}switch(Qe=K?pt(K):window,n){case"focusin":(Kt(Qe)||Qe.contentEditable==="true")&&(Xa=Qe,Hf=K,ml=null);break;case"focusout":ml=Hf=Xa=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,Fg(ae,o,ne);break;case"selectionchange":if(Dw)break;case"keydown":case"keyup":Fg(ae,o,ne)}var Ce;if(Gr)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else rt?Z(n,o)&&(Pe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(_&&o.locale!=="ko"&&(rt||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&rt&&(Ce=ol()):(Br=ne,Zi="value"in Br?Br.value:Br.textContent,rt=!0)),Qe=Kc(K,Pe),0<Qe.length&&(Pe=new cl(Pe,n,null,o,ne),ae.push({event:Pe,listeners:Qe}),Ce?Pe.data=Ce:(Ce=me(o),Ce!==null&&(Pe.data=Ce)))),(Ce=y?$t(n,o):it(n,o))&&(Pe=Kc(K,"onBeforeInput"),0<Pe.length&&(Qe=new cl("onBeforeInput","beforeinput",null,o,ne),ae.push({event:Qe,listeners:Pe}),Qe.data=Ce)),fA(ae,n,K,o,ne)}d_(ae,i)})}function Fl(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Kc(n,i){for(var o=i+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Zs(n,o),f!=null&&u.unshift(Fl(n,f,g)),f=Zs(n,i),f!=null&&u.push(Fl(n,f,g))),n.tag===3)return u;n=n.return}return[]}function To(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function m_(n,i,o,u,f){for(var g=i._reactName,E=[];o!==null&&o!==u;){var b=o,N=b.alternate,K=b.stateNode;if(b=b.tag,N!==null&&N===u)break;b!==5&&b!==26&&b!==27||K===null||(N=K,f?(K=Zs(o,g),K!=null&&E.unshift(Fl(o,K,N))):f||(K=Zs(o,g),K!=null&&E.push(Fl(o,K,N)))),o=o.return}E.length!==0&&n.push({event:i,listeners:E})}var gA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function g_(n){return(typeof n=="string"?n:""+n).replace(gA,`
`).replace(yA,"")}function y_(n,i){return i=g_(i),g_(n)===i}function Yc(){}function Et(n,i,o,u,f,g){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||rr(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&rr(n,""+u);break;case"className":In(n,"class",u);break;case"tabIndex":In(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":In(n,o,u);break;case"style":il(n,u,g);break;case"data":if(i!=="object"){In(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ba(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Et(n,i,"name",f.name,f,null),Et(n,i,"formEncType",f.formEncType,f,null),Et(n,i,"formMethod",f.formMethod,f,null),Et(n,i,"formTarget",f.formTarget,f,null)):(Et(n,i,"encType",f.encType,f,null),Et(n,i,"method",f.method,f,null),Et(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ba(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Yc);break;case"onScroll":u!=null&&Je("scroll",n);break;case"onScrollEnd":u!=null&&Je("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ba(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Je("beforetoggle",n),Je("toggle",n),Bn(n,"popover",u);break;case"xlinkActuate":Me(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Me(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Me(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Me(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Me(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Me(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Me(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Me(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Me(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Bn(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Vf.get(o)||o,Bn(n,o,u))}}function fp(n,i,o,u,f,g){switch(o){case"style":il(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?rr(n,u):(typeof u=="number"||typeof u=="bigint")&&rr(n,""+u);break;case"onScroll":u!=null&&Je("scroll",n);break;case"onScrollEnd":u!=null&&Je("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),g=n[fe]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(i,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Bn(n,o,u)}}}function hn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",n),Je("load",n);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Et(n,i,g,E,o,null)}}f&&Et(n,i,"srcSet",o.srcSet,o,null),u&&Et(n,i,"src",o.src,o,null);return;case"input":Je("invalid",n);var b=g=E=f=null,N=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":f=ne;break;case"type":E=ne;break;case"checked":N=ne;break;case"defaultChecked":K=ne;break;case"value":g=ne;break;case"defaultValue":b=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:Et(n,i,u,ne,o,null)}}Xs(n,g,b,N,K,E,f,!1),za(n);return;case"select":Je("invalid",n),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:Et(n,i,f,b,o,null)}i=g,o=E,n.multiple=!!u,i!=null?fi(n,!!u,i,!1):o!=null&&fi(n,!!u,o,!0);return;case"textarea":Je("invalid",n),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Et(n,i,E,b,o,null)}Ws(n,u,f,g),za(n);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Et(n,i,N,u,o,null)}return;case"dialog":Je("beforetoggle",n),Je("toggle",n),Je("cancel",n),Je("close",n);break;case"iframe":case"object":Je("load",n);break;case"video":case"audio":for(u=0;u<Hl.length;u++)Je(Hl[u],n);break;case"image":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"embed":case"source":case"link":Je("error",n),Je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Et(n,i,K,u,o,null)}return;default:if(sl(i)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&fp(n,i,ne,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&Et(n,i,b,u,o,null))}function vA(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,b=null,N=null,K=null,ne=null;for(J in o){var ae=o[J];if(o.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":N=ae;default:u.hasOwnProperty(J)||Et(n,i,J,null,u,ae)}}for(var W in u){var J=u[W];if(ae=o[W],u.hasOwnProperty(W)&&(J!=null||ae!=null))switch(W){case"type":g=J;break;case"name":f=J;break;case"checked":K=J;break;case"defaultChecked":ne=J;break;case"value":E=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:J!==ae&&Et(n,i,W,J,u,ae)}}Hn(n,E,b,N,K,ne,g,f);return;case"select":J=E=b=W=null;for(g in o)if(N=o[g],o.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":J=N;default:u.hasOwnProperty(g)||Et(n,i,g,null,u,N)}for(f in u)if(g=u[f],N=o[f],u.hasOwnProperty(f)&&(g!=null||N!=null))switch(f){case"value":W=g;break;case"defaultValue":b=g;break;case"multiple":E=g;default:g!==N&&Et(n,i,f,g,u,N)}i=b,o=E,u=J,W!=null?fi(n,!!o,W,!1):!!u!=!!o&&(i!=null?fi(n,!!o,i,!0):fi(n,!!o,o?[]:"",!1));return;case"textarea":J=W=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Et(n,i,b,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":W=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Et(n,i,E,f,u,g)}vt(n,W,J);return;case"option":for(var Ue in o)if(W=o[Ue],o.hasOwnProperty(Ue)&&W!=null&&!u.hasOwnProperty(Ue))switch(Ue){case"selected":n.selected=!1;break;default:Et(n,i,Ue,null,u,W)}for(N in u)if(W=u[N],J=o[N],u.hasOwnProperty(N)&&W!==J&&(W!=null||J!=null))switch(N){case"selected":n.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Et(n,i,N,W,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in o)W=o[Oe],o.hasOwnProperty(Oe)&&W!=null&&!u.hasOwnProperty(Oe)&&Et(n,i,Oe,null,u,W);for(K in u)if(W=u[K],J=o[K],u.hasOwnProperty(K)&&W!==J&&(W!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Et(n,i,K,W,u,J)}return;default:if(sl(i)){for(var Tt in o)W=o[Tt],o.hasOwnProperty(Tt)&&W!==void 0&&!u.hasOwnProperty(Tt)&&fp(n,i,Tt,void 0,u,W);for(ne in u)W=u[ne],J=o[ne],!u.hasOwnProperty(ne)||W===J||W===void 0&&J===void 0||fp(n,i,ne,W,u,J);return}}for(var B in o)W=o[B],o.hasOwnProperty(B)&&W!=null&&!u.hasOwnProperty(B)&&Et(n,i,B,null,u,W);for(ae in u)W=u[ae],J=o[ae],!u.hasOwnProperty(ae)||W===J||W==null&&J==null||Et(n,i,ae,W,u,J)}var dp=null,pp=null;function Qc(n){return n.nodeType===9?n:n.ownerDocument}function v_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function mp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gp=null;function _A(){var n=window.event;return n&&n.type==="popstate"?n===gp?!1:(gp=n,!0):(gp=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(n){return T_.resolve(null).then(n).catch(SA)}:E_;function SA(n){setTimeout(function(){throw n})}function ms(n){return n==="head"}function S_(n,i){var o=i,u=0,f=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&ql(E.documentElement),o&2&&ql(E.body),o&4)for(o=E.head,ql(o),E=o.firstChild;E;){var b=E.nextSibling,N=E.nodeName;E[Ae]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=b}}if(f===0){n.removeChild(g),Jl(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Jl(i)}function yp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":yp(o),Ee(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function bA(n,i,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ae])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Rr(n.nextSibling),n===null)break}return null}function wA(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Rr(n.nextSibling),n===null))return null;return n}function vp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function AA(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Rr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var _p=null;function b_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function w_(n,i,o){switch(i=Qc(o),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function ql(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ee(n)}var dr=new Map,A_=new Set;function Xc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ni=he.d;he.d={f:RA,r:CA,D:IA,C:xA,L:DA,m:NA,X:MA,S:OA,M:PA};function RA(){var n=Ni.f(),i=Bc();return n||i}function CA(n){var i=nt(n);i!==null&&i.tag===5&&i.type==="form"?Gy(i):Ni.r(n)}var So=typeof document>"u"?null:document;function R_(n,i,o){var u=So;if(u&&typeof i=="string"&&i){var f=zt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),A_.has(f)||(A_.add(f),n={rel:n,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),hn(i,"link",n),ze(i),u.head.appendChild(i)))}}function IA(n){Ni.D(n),R_("dns-prefetch",n,null)}function xA(n,i){Ni.C(n,i),R_("preconnect",n,i)}function DA(n,i,o){Ni.L(n,i,o);var u=So;if(u&&n&&i){var f='link[rel="preload"][as="'+zt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+zt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+zt(o.imageSizes)+'"]')):f+='[href="'+zt(n)+'"]';var g=f;switch(i){case"style":g=bo(n);break;case"script":g=wo(n)}dr.has(g)||(n=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),dr.set(g,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(Gl(g))||i==="script"&&u.querySelector($l(g))||(i=u.createElement("link"),hn(i,"link",n),ze(i),u.head.appendChild(i)))}}function NA(n,i){Ni.m(n,i);var o=So;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+zt(u)+'"][href="'+zt(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=wo(n)}if(!dr.has(g)&&(n=v({rel:"modulepreload",href:n},i),dr.set(g,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector($l(g)))return}u=o.createElement("link"),hn(u,"link",n),ze(u),o.head.appendChild(u)}}}function OA(n,i,o){Ni.S(n,i,o);var u=So;if(u&&n){var f=ut(u).hoistableStyles,g=bo(n);i=i||"default";var E=f.get(g);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(Gl(g)))b.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},o),(o=dr.get(g))&&Ep(n,o);var N=E=u.createElement("link");ze(N),hn(N,"link",n),N._p=new Promise(function(K,ne){N.onload=K,N.onerror=ne}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Wc(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(g,E)}}}function MA(n,i){Ni.X(n,i);var o=So;if(o&&n){var u=ut(o).hoistableScripts,f=wo(n),g=u.get(f);g||(g=o.querySelector($l(f)),g||(n=v({src:n,async:!0},i),(i=dr.get(f))&&Tp(n,i),g=o.createElement("script"),ze(g),hn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function PA(n,i){Ni.M(n,i);var o=So;if(o&&n){var u=ut(o).hoistableScripts,f=wo(n),g=u.get(f);g||(g=o.querySelector($l(f)),g||(n=v({src:n,async:!0,type:"module"},i),(i=dr.get(f))&&Tp(n,i),g=o.createElement("script"),ze(g),hn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function C_(n,i,o,u){var f=(f=Ne.current)?Xc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=bo(o.href),o=ut(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=bo(o.href);var g=ut(f).hoistableStyles,E=g.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,E),(g=f.querySelector(Gl(n)))&&!g._p&&(E.instance=g,E.state.loading=5),dr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},dr.set(n,o),g||VA(f,n,o,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wo(o),o=ut(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function bo(n){return'href="'+zt(n)+'"'}function Gl(n){return'link[rel="stylesheet"]['+n+"]"}function I_(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function VA(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),hn(i,"link",o),ze(i),n.head.appendChild(i))}function wo(n){return'[src="'+zt(n)+'"]'}function $l(n){return"script[async]"+n}function x_(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+zt(o.href)+'"]');if(u)return i.instance=u,ze(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ze(u),hn(u,"style",f),Wc(u,o.precedence,n),i.instance=u;case"stylesheet":f=bo(o.href);var g=n.querySelector(Gl(f));if(g)return i.state.loading|=4,i.instance=g,ze(g),g;u=I_(o),(f=dr.get(f))&&Ep(u,f),g=(n.ownerDocument||n).createElement("link"),ze(g);var E=g;return E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),hn(g,"link",u),i.state.loading|=4,Wc(g,o.precedence,n),i.instance=g;case"script":return g=wo(o.src),(f=n.querySelector($l(g)))?(i.instance=f,ze(f),f):(u=o,(f=dr.get(g))&&(u=v({},o),Tp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),ze(f),hn(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Wc(u,o.precedence,n));return i.instance}function Wc(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===i)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function Ep(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Tp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Jc=null;function D_(n,i,o){if(Jc===null){var u=new Map,f=Jc=new Map;f.set(o,u)}else f=Jc,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var g=o[f];if(!(g[Ae]||g[le]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(i)||"";E=n+E;var b=u.get(E);b?b.push(g):u.set(E,[g])}}return u}function N_(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function LA(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function O_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Kl=null;function kA(){}function UA(n,i,o){if(Kl===null)throw Error(s(475));var u=Kl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=bo(o.href),g=n.querySelector(Gl(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Zc.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=g,ze(g);return}g=n.ownerDocument||n,o=I_(o),(f=dr.get(f))&&Ep(o,f),g=g.createElement("link"),ze(g);var E=g;E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),hn(g,"link",o),i.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Zc.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function jA(){if(Kl===null)throw Error(s(475));var n=Kl;return n.stylesheets&&n.count===0&&Sp(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&Sp(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Zc(){if(this.count--,this.count===0){if(this.stylesheets)Sp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var eh=null;function Sp(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,eh=new Map,i.forEach(zA,n),eh=null,Zc.call(n))}function zA(n,i){if(!(i.state.loading&4)){var o=eh.get(n);if(o)var u=o.get(null);else{o=new Map,eh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=i.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=Zc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Yl={$$typeof:re,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function BA(n,i,o,u,f,g,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tr(0),this.hiddenUpdates=tr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function M_(n,i,o,u,f,g,E,b,N,K,ne,ae){return n=new BA(n,i,o,E,b,N,K,ae),i=1,g===!0&&(i|=24),g=qn(3,null,null,i),n.current=g,g.stateNode=n,i=rd(),i.refCount++,n.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:i},od(g),n}function P_(n){return n?(n=eo,n):eo}function V_(n,i,o,u,f,g){f=P_(f),u.context===null?u.context=f:u.pendingContext=f,u=ns(i),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=rs(n,u,i),o!==null&&(Qn(o,n,i),wl(o,n,i))}function L_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function bp(n,i){L_(n,i),(n=n.alternate)&&L_(n,i)}function k_(n){if(n.tag===13){var i=Za(n,67108864);i!==null&&Qn(i,n,67108864),bp(n,67108864)}}var th=!0;function HA(n,i,o,u){var f=$.T;$.T=null;var g=he.p;try{he.p=2,wp(n,i,o,u)}finally{he.p=g,$.T=f}}function FA(n,i,o,u){var f=$.T;$.T=null;var g=he.p;try{he.p=8,wp(n,i,o,u)}finally{he.p=g,$.T=f}}function wp(n,i,o,u){if(th){var f=Ap(u);if(f===null)hp(n,i,u,nh,o),j_(n,u);else if(GA(f,n,i,o,u))u.stopPropagation();else if(j_(n,u),i&4&&-1<qA.indexOf(n)){for(;f!==null;){var g=nt(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=jn(g.pendingLanes);if(E!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var N=1<<31-jt(E);b.entanglements[1]|=N,E&=~N}Wr(g),(mt&6)===0&&(jc=An()+500,Bl(0))}}break;case 13:b=Za(g,2),b!==null&&Qn(b,g,2),Bc(),bp(g,2)}if(g=Ap(u),g===null&&hp(n,i,u,nh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else hp(n,i,u,null,o)}}function Ap(n){return n=ir(n),Rp(n)}var nh=null;function Rp(n){if(nh=null,n=qe(n),n!==null){var i=l(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=c(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return nh=n,null}function U_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tl()){case Ks:return 2;case Fi:return 8;case ui:case _r:return 32;case Jn:return 268435456;default:return 32}default:return 32}}var Cp=!1,gs=null,ys=null,vs=null,Ql=new Map,Xl=new Map,_s=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(n,i){switch(n){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(i.pointerId)}}function Wl(n,i,o,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},i!==null&&(i=nt(i),i!==null&&k_(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function GA(n,i,o,u,f){switch(i){case"focusin":return gs=Wl(gs,n,i,o,u,f),!0;case"dragenter":return ys=Wl(ys,n,i,o,u,f),!0;case"mouseover":return vs=Wl(vs,n,i,o,u,f),!0;case"pointerover":var g=f.pointerId;return Ql.set(g,Wl(Ql.get(g)||null,n,i,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Xl.set(g,Wl(Xl.get(g)||null,n,i,o,u,f)),!0}return!1}function z_(n){var i=qe(n.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){n.blockedOn=i,F(n.priority,function(){if(o.tag===13){var u=Yn();u=jr(u);var f=Za(o,u);f!==null&&Qn(f,o,u),bp(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function rh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Ap(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);di=u,o.target.dispatchEvent(u),di=null}else return i=nt(o),i!==null&&k_(i),n.blockedOn=o,!1;i.shift()}return!0}function B_(n,i,o){rh(n)&&o.delete(i)}function $A(){Cp=!1,gs!==null&&rh(gs)&&(gs=null),ys!==null&&rh(ys)&&(ys=null),vs!==null&&rh(vs)&&(vs=null),Ql.forEach(B_),Xl.forEach(B_)}function ih(n,i){n.blockedOn===i&&(n.blockedOn=null,Cp||(Cp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$A)))}var sh=null;function H_(n){sh!==n&&(sh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sh===n&&(sh=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(Rp(u||o)===null)continue;break}var g=nt(o);g!==null&&(n.splice(i,3),i-=3,Rd(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Jl(n){function i(N){return ih(N,n)}gs!==null&&ih(gs,n),ys!==null&&ih(ys,n),vs!==null&&ih(vs,n),Ql.forEach(i),Xl.forEach(i);for(var o=0;o<_s.length;o++){var u=_s[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<_s.length&&(o=_s[0],o.blockedOn===null);)z_(o),o.blockedOn===null&&_s.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[fe]||null;if(typeof g=="function")E||H_(o);else if(E){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[fe]||null)b=E.formAction;else if(Rp(f)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),H_(o)}}}function Ip(n){this._internalRoot=n}ah.prototype.render=Ip.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=Yn();V_(o,u,n,i,null,null)},ah.prototype.unmount=Ip.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;V_(n.current,2,null,n,null,null),Bc(),i[ye]=null}};function ah(n){this._internalRoot=n}ah.prototype.unstable_scheduleHydration=function(n){if(n){var i=P();n={blockedOn:null,target:n,priority:i};for(var o=0;o<_s.length&&i!==0&&i<_s[o].priority;o++);_s.splice(o,0,n),o===0&&z_(n)}};var F_=e.version;if(F_!=="19.1.1")throw Error(s(527,F_,"19.1.1"));he.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var KA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{lt=oh.inject(KA),$e=oh}catch{}}return eu.createRoot=function(n,i){if(!a(n))throw Error(s(299));var o=!1,u="",f=sv,g=av,E=ov,b=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=M_(n,1,!1,null,null,o,u,f,g,E,b,null),n[ye]=i.current,cp(n),new Ip(i)},eu.hydrateRoot=function(n,i,o){if(!a(n))throw Error(s(299));var u=!1,f="",g=sv,E=av,b=ov,N=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),i=M_(n,1,!0,i,o??null,u,f,g,E,b,N,K),i.context=P_(null),o=i.current,u=Yn(),u=jr(u),f=ns(u),f.callback=null,rs(o,f,u),o=u,i.current.lanes=o,Er(i,o),Wr(i),n[ye]=i.current,cp(n),new ah(i)},eu.version="19.1.1",eu}var Z_;function rR(){if(Z_)return Np.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Np.exports=nR(),Np.exports}var iR=rR();const sR=p0(iR);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var g0=r=>{throw TypeError(r)},aR=(r,e,t)=>e.has(r)||g0("Cannot "+t),Vp=(r,e,t)=>(aR(r,e,"read from private field"),t?t.call(r):e.get(r)),oR=(r,e,t)=>e.has(r)?g0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),eE="popstate";function lR(r={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return _u("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:Ls(a)}return cR(e,t,null,r)}function Xe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uR(){return Math.random().toString(36).substring(2,10)}function tE(r,e){return{usr:r.state,key:r.key,idx:e}}function _u(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Fs(e):e,state:t,key:e&&e.key||s||uR()}}function Ls({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Fs(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function cR(r,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",p=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let z=v(),te=z==null?null:z-m;m=z,p&&p({action:d,location:X.location,delta:te})}function S(z,te){d="PUSH";let H=_u(X.location,z,te);m=v()+1;let re=tE(H,m),pe=X.createHref(H);try{c.pushState(re,"",pe)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(pe)}l&&p&&p({action:d,location:X.location,delta:1})}function A(z,te){d="REPLACE";let H=_u(X.location,z,te);m=v();let re=tE(H,m),pe=X.createHref(H);c.replaceState(re,"",pe),l&&p&&p({action:d,location:X.location,delta:0})}function D(z){return y0(z)}let X={get action(){return d},get location(){return r(a,c)},listen(z){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(eE,T),p=z,()=>{a.removeEventListener(eE,T),p=null}},createHref(z){return e(a,z)},createURL:D,encodeLocation(z){let te=D(z);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:S,replace:A,go(z){return c.go(z)}};return X}function y0(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ls(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}var su,nE=class{constructor(r){if(oR(this,su,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(Vp(this,su).has(r))return Vp(this,su).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Vp(this,su).set(r,e)}};su=new WeakMap;var hR=new Set(["lazy","caseSensitive","path","id","index","children"]);function fR(r){return hR.has(r)}var dR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function pR(r){return dR.has(r)}function mR(r){return r.index===!0}function Eu(r,e,t=[],s={},a=!1){return r.map((l,c)=>{let d=[...t,String(c)],p=typeof l.id=="string"?l.id:d.join("-");if(Xe(l.index!==!0||!l.children,"Cannot specify children on an index route"),Xe(a||!s[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),mR(l)){let m={...l,...e(l),id:p};return s[p]=m,m}else{let m={...l,...e(l),id:p,children:void 0};return s[p]=m,l.children&&(m.children=Eu(l.children,e,d,s,a)),m}})}function bs(r,e,t="/"){return Th(r,e,t,!1)}function Th(r,e,t,s){let a=typeof e=="string"?Fs(e):e,l=vr(a.pathname||"/",t);if(l==null)return null;let c=v0(r);yR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=IR(l);d=RR(c[p],m,s)}return d}function gR(r,e){let{route:t,pathname:s,params:a}=r;return{id:t.id,pathname:s,params:a,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function v0(r,e=[],t=[],s="",a=!1){let l=(c,d,p=a,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;Xe(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=ei([s,v.relativePath]),S=t.concat(v);c.children&&c.children.length>0&&(Xe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),v0(c.children,e,S,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:wR(T,c.index),routesMeta:S})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of _0(c.path))l(c,d,!0,p)}),e}function _0(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=_0(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function yR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:AR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var vR=/^:[\w-]+$/,_R=3,ER=2,TR=1,SR=10,bR=-2,rE=r=>r==="*";function wR(r,e){let t=r.split("/"),s=t.length;return t.some(rE)&&(s+=bR),e&&(s+=ER),t.filter(a=>!rE(a)).reduce((a,l)=>a+(vR.test(l)?_R:l===""?TR:SR),s)}function AR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function RR(r,e,t=!1){let{routesMeta:s}=r,a={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],m=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),S=p.route;if(!T&&m&&t&&!s[s.length-1].route.index&&(T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:ei([l,T.pathname]),pathnameBase:OR(ei([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=ei([l,T.pathnameBase]))}return c}function Vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=CR(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((m,{paramName:v,isOptional:T},S)=>{if(v==="*"){let D=d[S]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const A=d[S];return T&&!A?m[v]=void 0:m[v]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:r}}function CR(r,e=!1,t=!0){kt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function IR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function vr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function xR({basename:r,pathname:e}){return e==="/"?r:ei([r,e])}function DR(r,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof r=="string"?Fs(r):r;return{pathname:t?t.startsWith("/")?t:NR(t,e):e,search:MR(s),hash:PR(a)}}function NR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Lp(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E0(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function uf(r){let e=E0(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function cf(r,e,t,s=!1){let a;typeof r=="string"?a=Fs(r):(a={...r},Xe(!a.pathname||!a.pathname.includes("?"),Lp("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),Lp("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),Lp("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;a.pathname=S.join("/")}d=T>=0?e[T]:"/"}let p=DR(a,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var ei=r=>r.join("/").replace(/\/\/+/g,"/"),OR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),MR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,PR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Lh=class{constructor(r,e,t,s=!1){this.status=r,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Tu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var T0=["POST","PUT","PATCH","DELETE"],VR=new Set(T0),LR=["GET",...T0],kR=new Set(LR),UR=new Set([301,302,303,307,308]),jR=new Set([307,308]),kp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},BR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,km=r=>BR.test(r),HR=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),S0="remix-router-transitions",b0=Symbol("ResetLoaderData");function FR(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Xe(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=r.hydrationRouteProperties||[],a=r.mapRouteProperties||HR,l={},c=Eu(r.routes,a,void 0,l),d,p=r.basename||"/";p.startsWith("/")||(p=`/${p}`);let m=r.dataStrategy||YR,v={...r.future},T=null,S=new Set,A=null,D=null,X=null,z=r.hydrationData!=null,te=bs(c,r.history.location,p),H=!1,re=null,pe;if(te==null&&!r.patchRoutesOnNavigation){let P=pr(404,{pathname:r.history.location.pathname}),{matches:F,route:Y}=lh(c);pe=!0,te=F,re={[Y.id]:P}}else if(te&&!r.hydrationData&&Rn(te,c,r.history.location.pathname).active&&(te=null),te)if(te.some(P=>P.route.lazy))pe=!1;else if(!te.some(P=>P.route.loader))pe=!0;else{let P=r.hydrationData?r.hydrationData.loaderData:null,F=r.hydrationData?r.hydrationData.errors:null;if(F){let Y=te.findIndex(le=>F[le.route.id]!==void 0);pe=te.slice(0,Y+1).every(le=>!nm(le.route,P,F))}else pe=te.every(Y=>!nm(Y.route,P,F))}else{pe=!1,te=[];let P=Rn(null,c,r.history.location.pathname);P.active&&P.matches&&(H=!0,te=P.matches)}let se,k={historyAction:r.history.action,location:r.history.location,matches:te,initialized:pe,navigation:kp,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||re,fetchers:new Map,blockers:new Map},x="POP",R=!1,C,M=!1,L=new Map,j=null,I=!1,xe=!1,Ye=new Set,$=new Map,he=0,ge=-1,ke=new Map,O=new Set,ee=new Map,de=new Map,ce=new Set,Te=new Map,Fe,Ne=null;function Ut(){if(T=r.history.listen(({action:P,location:F,delta:Y})=>{if(Fe){Fe(),Fe=void 0;return}kt(Te.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=$i({currentLocation:k.location,nextLocation:F,historyAction:P});if(le&&Y!=null){let fe=new Promise(ye=>{Fe=ye});r.history.go(Y*-1),er(le,{state:"blocked",location:F,proceed(){er(le,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),fe.then(()=>r.history.go(Y))},reset(){let ye=new Map(k.blockers);ye.set(le,tu),Ct({blockers:ye})}});return}return wn(P,F)}),t){u1(e,L);let P=()=>c1(e,L);e.addEventListener("pagehide",P),j=()=>e.removeEventListener("pagehide",P)}return k.initialized||wn("POP",k.location,{initialHydration:!0}),se}function yt(){T&&T(),j&&j(),S.clear(),C&&C.abort(),k.fetchers.forEach((P,F)=>jt(F)),k.blockers.forEach((P,F)=>ci(F))}function Wn(P){return S.add(P),()=>S.delete(P)}function Ct(P,F={}){P.matches&&(P.matches=P.matches.map(fe=>{let ye=l[fe.route.id],Re=fe.route;return Re.element!==ye.element||Re.errorElement!==ye.errorElement||Re.hydrateFallbackElement!==ye.hydrateFallbackElement?{...fe,route:ye}:fe})),k={...k,...P};let Y=[],le=[];k.fetchers.forEach((fe,ye)=>{fe.state==="idle"&&(ce.has(ye)?Y.push(ye):le.push(ye))}),ce.forEach(fe=>{!k.fetchers.has(fe)&&!$.has(fe)&&Y.push(fe)}),[...S].forEach(fe=>fe(k,{deletedFetchers:Y,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),Y.forEach(fe=>jt(fe)),le.forEach(fe=>k.fetchers.delete(fe))}function mn(P,F,{flushSync:Y}={}){let le=k.actionData!=null&&k.navigation.formMethod!=null&&Un(k.navigation.formMethod)&&k.navigation.state==="loading"&&P.state?._isRedirect!==!0,fe;F.actionData?Object.keys(F.actionData).length>0?fe=F.actionData:fe=null:le?fe=k.actionData:fe=null;let ye=F.loaderData?dE(k.loaderData,F.loaderData,F.matches||[],F.errors):k.loaderData,Re=k.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Ae,Ee)=>Re.set(Ee,tu)));let be=I?!1:Ki(P,F.matches||k.matches),we=R===!0||k.navigation.formMethod!=null&&Un(k.navigation.formMethod)&&P.state?._isRedirect!==!0;d&&(c=d,d=void 0),I||x==="POP"||(x==="PUSH"?r.history.push(P,P.state):x==="REPLACE"&&r.history.replace(P,P.state));let De;if(x==="POP"){let Ae=L.get(k.location.pathname);Ae&&Ae.has(P.pathname)?De={currentLocation:k.location,nextLocation:P}:L.has(P.pathname)&&(De={currentLocation:P,nextLocation:k.location})}else if(M){let Ae=L.get(k.location.pathname);Ae?Ae.add(P.pathname):(Ae=new Set([P.pathname]),L.set(k.location.pathname,Ae)),De={currentLocation:k.location,nextLocation:P}}Ct({...F,actionData:fe,loaderData:ye,historyAction:x,location:P,initialized:!0,navigation:kp,revalidation:"idle",restoreScrollPosition:be,preventScrollReset:we,blockers:Re},{viewTransitionOpts:De,flushSync:Y===!0}),x="POP",R=!1,M=!1,I=!1,xe=!1,Ne?.resolve(),Ne=null}async function Pr(P,F){if(typeof P=="number"){r.history.go(P);return}let Y=tm(k.location,k.matches,p,P,F?.fromRouteId,F?.relative),{path:le,submission:fe,error:ye}=iE(!1,Y,F),Re=k.location,be=_u(k.location,le,F&&F.state);be={...be,...r.history.encodeLocation(be)};let we=F&&F.replace!=null?F.replace:void 0,De="PUSH";we===!0?De="REPLACE":we===!1||fe!=null&&Un(fe.formMethod)&&fe.formAction===k.location.pathname+k.location.search&&(De="REPLACE");let Ae=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Ee=(F&&F.flushSync)===!0,qe=$i({currentLocation:Re,nextLocation:be,historyAction:De});if(qe){er(qe,{state:"blocked",location:be,proceed(){er(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),Pr(P,F)},reset(){let nt=new Map(k.blockers);nt.set(qe,tu),Ct({blockers:nt})}});return}await wn(De,be,{submission:fe,pendingError:ye,preventScrollReset:Ae,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:Ee})}function li(){Ne||(Ne=h1()),Gi(),Ct({revalidation:"loading"});let P=Ne.promise;return k.navigation.state==="submitting"?P:k.navigation.state==="idle"?(wn(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),P):(wn(x||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:M===!0}),P)}async function wn(P,F,Y){C&&C.abort(),C=null,x=P,I=(Y&&Y.startUninterruptedRevalidation)===!0,Er(k.location,k.matches),R=(Y&&Y.preventScrollReset)===!0,M=(Y&&Y.enableViewTransition)===!0;let le=d||c,fe=Y&&Y.overrideNavigation,ye=Y?.initialHydration&&k.matches&&k.matches.length>0&&!H?k.matches:bs(le,F,p),Re=(Y&&Y.flushSync)===!0;if(ye&&k.initialized&&!xe&&n1(k.location,F)&&!(Y&&Y.submission&&Un(Y.submission.formMethod))){mn(F,{matches:ye},{flushSync:Re});return}let be=Rn(ye,le,F.pathname);if(be.active&&be.matches&&(ye=be.matches),!ye){let{error:ut,notFoundMatches:ze,route:ct}=hi(F.pathname);mn(F,{matches:ze,loaderData:{},errors:{[ct.id]:ut}},{flushSync:Re});return}C=new AbortController;let we=Ro(r.history,F,C.signal,Y&&Y.submission),De=r.unstable_getContext?await r.unstable_getContext():new nE,Ae;if(Y&&Y.pendingError)Ae=[ws(ye).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&Un(Y.submission.formMethod)){let ut=await $s(we,F,Y.submission,ye,De,be.active,Y&&Y.initialHydration===!0,{replace:Y.replace,flushSync:Re});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[ze,ct]=ut.pendingActionResult;if(Xn(ct)&&Tu(ct.error)&&ct.error.status===404){C=null,mn(F,{matches:ut.matches,loaderData:{},errors:{[ze]:ct.error}});return}}ye=ut.matches||ye,Ae=ut.pendingActionResult,fe=Up(F,Y.submission),Re=!1,be.active=!1,we=Ro(r.history,we.url,we.signal)}let{shortCircuited:Ee,matches:qe,loaderData:nt,errors:pt}=await Ua(we,F,ye,De,be.active,fe,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Re,Ae);Ee||(C=null,mn(F,{matches:qe||ye,...pE(Ae),loaderData:nt,errors:pt}))}async function $s(P,F,Y,le,fe,ye,Re,be={}){Gi();let we=o1(F,Y);if(Ct({navigation:we},{flushSync:be.flushSync===!0}),ye){let Ee=await Ur(le,F.pathname,P.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){if(Ee.partialMatches.length===0){let{matches:nt,route:pt}=lh(c);return{matches:nt,pendingActionResult:[pt.id,{type:"error",error:Ee.error}]}}let qe=ws(Ee.partialMatches).route.id;return{matches:Ee.partialMatches,pendingActionResult:[qe,{type:"error",error:Ee.error}]}}else if(Ee.matches)le=Ee.matches;else{let{notFoundMatches:qe,error:nt,route:pt}=hi(F.pathname);return{matches:qe,pendingActionResult:[pt.id,{type:"error",error:nt}]}}}let De,Ae=Sh(le,F);if(!Ae.route.action&&!Ae.route.lazy)De={type:"error",error:pr(405,{method:P.method,pathname:F.pathname,routeId:Ae.route.id})};else{let Ee=Oo(a,l,P,le,Ae,Re?[]:s,fe),qe=await Jn(P,Ee,fe,null);if(De=qe[Ae.route.id],!De){for(let nt of le)if(qe[nt.route.id]){De=qe[nt.route.id];break}}if(P.signal.aborted)return{shortCircuited:!0}}if(Sa(De)){let Ee;return be&&be.replace!=null?Ee=be.replace:Ee=cE(De.response.headers.get("Location"),new URL(P.url),p)===k.location.pathname+k.location.search,await _r(P,De,!0,{submission:Y,replace:Ee}),{shortCircuited:!0}}if(Xn(De)){let Ee=ws(le,Ae.route.id);return(be&&be.replace)!==!0&&(x="PUSH"),{matches:le,pendingActionResult:[Ee.route.id,De,Ae.route.id]}}return{matches:le,pendingActionResult:[Ae.route.id,De]}}async function Ua(P,F,Y,le,fe,ye,Re,be,we,De,Ae,Ee){let qe=ye||Up(F,Re),nt=Re||be||gE(qe),pt=!I&&!De;if(fe){if(pt){let It=An(Ee);Ct({navigation:qe,...It!==void 0?{actionData:It}:{}},{flushSync:Ae})}let Me=await Ur(Y,F.pathname,P.signal);if(Me.type==="aborted")return{shortCircuited:!0};if(Me.type==="error"){if(Me.partialMatches.length===0){let{matches:Tr,route:on}=lh(c);return{matches:Tr,loaderData:{},errors:{[on.id]:Me.error}}}let It=ws(Me.partialMatches).route.id;return{matches:Me.partialMatches,loaderData:{},errors:{[It]:Me.error}}}else if(Me.matches)Y=Me.matches;else{let{error:It,notFoundMatches:Tr,route:on}=hi(F.pathname);return{matches:Tr,loaderData:{},errors:{[on.id]:It}}}}let ut=d||c,{dsMatches:ze,revalidatingFetchers:ct}=sE(P,le,a,l,r.history,k,Y,nt,F,De?[]:s,De===!0,xe,Ye,ce,ee,O,ut,p,r.patchRoutesOnNavigation!=null,Ee);if(ge=++he,!r.dataStrategy&&!ze.some(Me=>Me.shouldLoad)&&!ze.some(Me=>Me.route.unstable_middleware)&&ct.length===0){let Me=Lr();return mn(F,{matches:Y,loaderData:{},errors:Ee&&Xn(Ee[1])?{[Ee[0]]:Ee[1].error}:null,...pE(Ee),...Me?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Ae}),{shortCircuited:!0}}if(pt){let Me={};if(!fe){Me.navigation=qe;let It=An(Ee);It!==void 0&&(Me.actionData=It)}ct.length>0&&(Me.fetchers=tl(ct)),Ct(Me,{flushSync:Ae})}ct.forEach(Me=>{Zn(Me.key),Me.controller&&$.set(Me.key,Me.controller)});let Mn=()=>ct.forEach(Me=>Zn(Me.key));C&&C.signal.addEventListener("abort",Mn);let{loaderResults:an,fetcherResults:Wt}=await qi(ze,ct,P,le);if(P.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Mn),ct.forEach(Me=>$.delete(Me.key));let Cn=uh(an);if(Cn)return await _r(P,Cn.result,!0,{replace:we}),{shortCircuited:!0};if(Cn=uh(Wt),Cn)return O.add(Cn.key),await _r(P,Cn.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:Qi,errors:zn}=fE(k,Y,an,Ee,ct,Wt);De&&k.errors&&(zn={...k.errors,...zn});let nr=Lr(),Bn=kr(ge),In=nr||Bn||ct.length>0;return{matches:Y,loaderData:Qi,errors:zn,...In?{fetchers:new Map(k.fetchers)}:{}}}function An(P){if(P&&!Xn(P[1]))return{[P[0]]:P[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function tl(P){return P.forEach(F=>{let Y=k.fetchers.get(F.key),le=nu(void 0,Y?Y.data:void 0);k.fetchers.set(F.key,le)}),new Map(k.fetchers)}async function Ks(P,F,Y,le){Zn(P);let fe=(le&&le.flushSync)===!0,ye=d||c,Re=tm(k.location,k.matches,p,Y,F,le?.relative),be=bs(ye,Re,p),we=Rn(be,ye,Re);if(we.active&&we.matches&&(be=we.matches),!be){$e(P,F,pr(404,{pathname:Re}),{flushSync:fe});return}let{path:De,submission:Ae,error:Ee}=iE(!0,Re,le);if(Ee){$e(P,F,Ee,{flushSync:fe});return}let qe=r.unstable_getContext?await r.unstable_getContext():new nE,nt=(le&&le.preventScrollReset)===!0;if(Ae&&Un(Ae.formMethod)){await Fi(P,F,De,be,qe,we.active,fe,nt,Ae);return}ee.set(P,{routeId:F,path:De}),await ui(P,F,De,be,qe,we.active,fe,nt,Ae)}async function Fi(P,F,Y,le,fe,ye,Re,be,we){Gi(),ee.delete(P);let De=k.fetchers.get(P);lt(P,l1(we,De),{flushSync:Re});let Ae=new AbortController,Ee=Ro(r.history,Y,Ae.signal,we);if(ye){let bt=await Ur(le,new URL(Ee.url).pathname,Ee.signal,P);if(bt.type==="aborted")return;if(bt.type==="error"){$e(P,F,bt.error,{flushSync:Re});return}else if(bt.matches)le=bt.matches;else{$e(P,F,pr(404,{pathname:Y}),{flushSync:Re});return}}let qe=Sh(le,Y);if(!qe.route.action&&!qe.route.lazy){let bt=pr(405,{method:we.formMethod,pathname:Y,routeId:F});$e(P,F,bt,{flushSync:Re});return}$.set(P,Ae);let nt=he,pt=Oo(a,l,Ee,le,qe,s,fe),ze=(await Jn(Ee,pt,fe,P))[qe.route.id];if(Ee.signal.aborted){$.get(P)===Ae&&$.delete(P);return}if(ce.has(P)){if(Sa(ze)||Xn(ze)){lt(P,Ss(void 0));return}}else{if(Sa(ze))if($.delete(P),ge>nt){lt(P,Ss(void 0));return}else return O.add(P),lt(P,nu(we)),_r(Ee,ze,!1,{fetcherSubmission:we,preventScrollReset:be});if(Xn(ze)){$e(P,F,ze.error);return}}let ct=k.navigation.location||k.location,Mn=Ro(r.history,ct,Ae.signal),an=d||c,Wt=k.navigation.state!=="idle"?bs(an,k.navigation.location,p):k.matches;Xe(Wt,"Didn't find any matches after fetcher action");let Cn=++he;ke.set(P,Cn);let Qi=nu(we,ze.data);k.fetchers.set(P,Qi);let{dsMatches:zn,revalidatingFetchers:nr}=sE(Mn,fe,a,l,r.history,k,Wt,we,ct,s,!1,xe,Ye,ce,ee,O,an,p,r.patchRoutesOnNavigation!=null,[qe.route.id,ze]);nr.filter(bt=>bt.key!==P).forEach(bt=>{let Sr=bt.key,Xi=k.fetchers.get(Sr),Wi=nu(void 0,Xi?Xi.data:void 0);k.fetchers.set(Sr,Wi),Zn(Sr),bt.controller&&$.set(Sr,bt.controller)}),Ct({fetchers:new Map(k.fetchers)});let Bn=()=>nr.forEach(bt=>Zn(bt.key));Ae.signal.addEventListener("abort",Bn);let{loaderResults:In,fetcherResults:Me}=await qi(zn,nr,Mn,fe);if(Ae.signal.aborted)return;if(Ae.signal.removeEventListener("abort",Bn),ke.delete(P),$.delete(P),nr.forEach(bt=>$.delete(bt.key)),k.fetchers.has(P)){let bt=Ss(ze.data);k.fetchers.set(P,bt)}let It=uh(In);if(It)return _r(Mn,It.result,!1,{preventScrollReset:be});if(It=uh(Me),It)return O.add(It.key),_r(Mn,It.result,!1,{preventScrollReset:be});let{loaderData:Tr,errors:on}=fE(k,Wt,In,void 0,nr,Me);kr(Cn),k.navigation.state==="loading"&&Cn>ge?(Xe(x,"Expected pending action"),C&&C.abort(),mn(k.navigation.location,{matches:Wt,loaderData:Tr,errors:on,fetchers:new Map(k.fetchers)})):(Ct({errors:on,loaderData:dE(k.loaderData,Tr,Wt,on),fetchers:new Map(k.fetchers)}),xe=!1)}async function ui(P,F,Y,le,fe,ye,Re,be,we){let De=k.fetchers.get(P);lt(P,nu(we,De?De.data:void 0),{flushSync:Re});let Ae=new AbortController,Ee=Ro(r.history,Y,Ae.signal);if(ye){let ct=await Ur(le,new URL(Ee.url).pathname,Ee.signal,P);if(ct.type==="aborted")return;if(ct.type==="error"){$e(P,F,ct.error,{flushSync:Re});return}else if(ct.matches)le=ct.matches;else{$e(P,F,pr(404,{pathname:Y}),{flushSync:Re});return}}let qe=Sh(le,Y);$.set(P,Ae);let nt=he,pt=Oo(a,l,Ee,le,qe,s,fe),ze=(await Jn(Ee,pt,fe,P))[qe.route.id];if($.get(P)===Ae&&$.delete(P),!Ee.signal.aborted){if(ce.has(P)){lt(P,Ss(void 0));return}if(Sa(ze))if(ge>nt){lt(P,Ss(void 0));return}else{O.add(P),await _r(Ee,ze,!1,{preventScrollReset:be});return}if(Xn(ze)){$e(P,F,ze.error);return}lt(P,Ss(ze.data))}}async function _r(P,F,Y,{submission:le,fetcherSubmission:fe,preventScrollReset:ye,replace:Re}={}){F.response.headers.has("X-Remix-Revalidate")&&(xe=!0);let be=F.response.headers.get("Location");Xe(be,"Expected a Location header on the redirect Response"),be=cE(be,new URL(P.url),p);let we=_u(k.location,be,{_isRedirect:!0});if(t){let pt=!1;if(F.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(km(be)){const ut=y0(be,!0);pt=ut.origin!==e.location.origin||vr(ut.pathname,p)==null}if(pt){Re?e.location.replace(be):e.location.assign(be);return}}C=null;let De=Re===!0||F.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ae,formAction:Ee,formEncType:qe}=k.navigation;!le&&!fe&&Ae&&Ee&&qe&&(le=gE(k.navigation));let nt=le||fe;if(jR.has(F.response.status)&&nt&&Un(nt.formMethod))await wn(De,we,{submission:{...nt,formAction:be},preventScrollReset:ye||R,enableViewTransition:Y?M:void 0});else{let pt=Up(we,le);await wn(De,we,{overrideNavigation:pt,fetcherSubmission:fe,preventScrollReset:ye||R,enableViewTransition:Y?M:void 0})}}async function Jn(P,F,Y,le){let fe,ye={};try{fe=await XR(m,P,F,le,Y,!1)}catch(Re){return F.filter(be=>be.shouldLoad).forEach(be=>{ye[be.route.id]={type:"error",error:Re}}),ye}if(P.signal.aborted)return ye;for(let[Re,be]of Object.entries(fe))if(s1(be)){let we=be.result;ye[Re]={type:"redirect",response:e1(we,P,Re,F,p)}}else ye[Re]=await ZR(be);return ye}async function qi(P,F,Y,le){let fe=Jn(Y,P,le,null),ye=Promise.all(F.map(async we=>{if(we.matches&&we.match&&we.request&&we.controller){let Ae=(await Jn(we.request,we.matches,le,we.key))[we.match.route.id];return{[we.key]:Ae}}else return Promise.resolve({[we.key]:{type:"error",error:pr(404,{pathname:we.path})}})})),Re=await fe,be=(await ye).reduce((we,De)=>Object.assign(we,De),{});return{loaderResults:Re,fetcherResults:be}}function Gi(){xe=!0,ee.forEach((P,F)=>{$.has(F)&&Ye.add(F),Zn(F)})}function lt(P,F,Y={}){k.fetchers.set(P,F),Ct({fetchers:new Map(k.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function $e(P,F,Y,le={}){let fe=ws(k.matches,F);jt(P),Ct({errors:{[fe.route.id]:Y},fetchers:new Map(k.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function gn(P){return de.set(P,(de.get(P)||0)+1),ce.has(P)&&ce.delete(P),k.fetchers.get(P)||zR}function jt(P){let F=k.fetchers.get(P);$.has(P)&&!(F&&F.state==="loading"&&ke.has(P))&&Zn(P),ee.delete(P),ke.delete(P),O.delete(P),ce.delete(P),Ye.delete(P),k.fetchers.delete(P)}function ja(P){let F=(de.get(P)||0)-1;F<=0?(de.delete(P),ce.add(P)):de.set(P,F),Ct({fetchers:new Map(k.fetchers)})}function Zn(P){let F=$.get(P);F&&(F.abort(),$.delete(P))}function Vr(P){for(let F of P){let Y=gn(F),le=Ss(Y.data);k.fetchers.set(F,le)}}function Lr(){let P=[],F=!1;for(let Y of O){let le=k.fetchers.get(Y);Xe(le,`Expected fetcher: ${Y}`),le.state==="loading"&&(O.delete(Y),P.push(Y),F=!0)}return Vr(P),F}function kr(P){let F=[];for(let[Y,le]of ke)if(le<P){let fe=k.fetchers.get(Y);Xe(fe,`Expected fetcher: ${Y}`),fe.state==="loading"&&(Zn(Y),ke.delete(Y),F.push(Y))}return Vr(F),F.length>0}function jn(P,F){let Y=k.blockers.get(P)||tu;return Te.get(P)!==F&&Te.set(P,F),Y}function ci(P){k.blockers.delete(P),Te.delete(P)}function er(P,F){let Y=k.blockers.get(P)||tu;Xe(Y.state==="unblocked"&&F.state==="blocked"||Y.state==="blocked"&&F.state==="blocked"||Y.state==="blocked"&&F.state==="proceeding"||Y.state==="blocked"&&F.state==="unblocked"||Y.state==="proceeding"&&F.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${F.state}`);let le=new Map(k.blockers);le.set(P,F),Ct({blockers:le})}function $i({currentLocation:P,nextLocation:F,historyAction:Y}){if(Te.size===0)return;Te.size>1&&kt(!1,"A router only supports one blocker at a time");let le=Array.from(Te.entries()),[fe,ye]=le[le.length-1],Re=k.blockers.get(fe);if(!(Re&&Re.state==="proceeding")&&ye({currentLocation:P,nextLocation:F,historyAction:Y}))return fe}function hi(P){let F=pr(404,{pathname:P}),Y=d||c,{matches:le,route:fe}=lh(Y);return{notFoundMatches:le,route:fe,error:F}}function Ys(P,F,Y){if(A=P,X=F,D=Y||null,!z&&k.navigation===kp){z=!0;let le=Ki(k.location,k.matches);le!=null&&Ct({restoreScrollPosition:le})}return()=>{A=null,X=null,D=null}}function tr(P,F){return D&&D(P,F.map(le=>gR(le,k.loaderData)))||P.key}function Er(P,F){if(A&&X){let Y=tr(P,F);A[Y]=X()}}function Ki(P,F){if(A){let Y=tr(P,F),le=A[Y];if(typeof le=="number")return le}return null}function Rn(P,F,Y){if(r.patchRoutesOnNavigation)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:Th(F,Y,p,!0)}}else return{active:!0,matches:Th(F,Y,p,!0)||[]};return{active:!1,matches:null}}async function Ur(P,F,Y,le){if(!r.patchRoutesOnNavigation)return{type:"success",matches:P};let fe=P;for(;;){let ye=d==null,Re=d||c,be=l;try{await r.patchRoutesOnNavigation({signal:Y,path:F,matches:fe,fetcherKey:le,patch:(Ae,Ee)=>{Y.aborted||aE(Ae,Ee,Re,be,a,!1)}})}catch(Ae){return{type:"error",error:Ae,partialMatches:fe}}finally{ye&&!Y.aborted&&(c=[...c])}if(Y.aborted)return{type:"aborted"};let we=bs(Re,F,p);if(we)return{type:"success",matches:we};let De=Th(Re,F,p,!0);if(!De||fe.length===De.length&&fe.every((Ae,Ee)=>Ae.route.id===De[Ee].route.id))return{type:"success",matches:null};fe=De}}function jr(P){l={},d=Eu(P,a,void 0,l)}function Yi(P,F,Y=!1){let le=d==null;aE(P,F,d||c,l,a,Y),le&&(c=[...c],Ct({}))}return se={get basename(){return p},get future(){return v},get state(){return k},get routes(){return c},get window(){return e},initialize:Ut,subscribe:Wn,enableScrollRestoration:Ys,navigate:Pr,fetch:Ks,revalidate:li,createHref:P=>r.history.createHref(P),encodeLocation:P=>r.history.encodeLocation(P),getFetcher:gn,deleteFetcher:ja,dispose:yt,getBlocker:jn,deleteBlocker:ci,patchRoutes:Yi,_internalFetchControllers:$,_internalSetRoutes:jr,_internalSetStateDoNotUseOrYouWillBreakYourApp(P){Ct(P)}},se}function qR(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function tm(r,e,t,s,a,l){let c,d;if(a){c=[];for(let m of e)if(c.push(m),m.route.id===a){d=m;break}}else c=e,d=e[e.length-1];let p=cf(s||".",uf(c),vr(r.pathname,t)||r.pathname,l==="path");if(s==null&&(p.search=r.search,p.hash=r.hash),(s==null||s===""||s===".")&&d){let m=Um(p.search);if(d.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let v=new URLSearchParams(p.search),T=v.getAll("index");v.delete("index"),T.filter(A=>A).forEach(A=>v.append("index",A));let S=v.toString();p.search=S?`?${S}`:""}}return t!=="/"&&(p.pathname=xR({basename:t,pathname:p.pathname})),Ls(p)}function iE(r,e,t){if(!t||!qR(t))return{path:e};if(t.formMethod&&!a1(t.formMethod))return{path:e,error:pr(405,{method:t.formMethod})};let s=()=>({path:e,error:pr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=x0(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Un(l))return s();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((S,[A,D])=>`${S}${A}=${D}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!Un(l))return s();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return s()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=im(t.formData),p=t.formData;else if(t.body instanceof FormData)d=im(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=hE(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=hE(d)}catch{return s()}let m={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Un(m.formMethod))return{path:e,submission:m};let v=Fs(e);return r&&v.search&&Um(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Ls(v),submission:m}}function sE(r,e,t,s,a,l,c,d,p,m,v,T,S,A,D,X,z,te,H,re){let pe=re?Xn(re[1])?re[1].error:re[1].data:void 0,se=a.createURL(l.location),k=a.createURL(p),x;if(v&&l.errors){let I=Object.keys(l.errors)[0];x=c.findIndex(xe=>xe.route.id===I)}else if(re&&Xn(re[1])){let I=re[0];x=c.findIndex(xe=>xe.route.id===I)-1}let R=re?re[1].statusCode:void 0,C=R&&R>=400,M={currentUrl:se,currentParams:l.matches[0]?.params||{},nextUrl:k,nextParams:c[0].params,...d,actionResult:pe,actionStatus:R},L=c.map((I,xe)=>{let{route:Ye}=I,$=null;if(x!=null&&xe>x?$=!1:Ye.lazy?$=!0:Ye.loader==null?$=!1:v?$=nm(Ye,l.loaderData,l.errors):GR(l.loaderData,l.matches[xe],I)&&($=!0),$!==null)return rm(t,s,r,I,m,e,$);let he=C?!1:T||se.pathname+se.search===k.pathname+k.search||se.search!==k.search||$R(l.matches[xe],I),ge={...M,defaultShouldRevalidate:he},ke=kh(I,ge);return rm(t,s,r,I,m,e,ke,ge)}),j=[];return D.forEach((I,xe)=>{if(v||!c.some(de=>de.route.id===I.routeId)||A.has(xe))return;let Ye=l.fetchers.get(xe),$=Ye&&Ye.state!=="idle"&&Ye.data===void 0,he=bs(z,I.path,te);if(!he){if(H&&$)return;j.push({key:xe,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if(X.has(xe))return;let ge=Sh(he,I.path),ke=new AbortController,O=Ro(a,I.path,ke.signal),ee=null;if(S.has(xe))S.delete(xe),ee=Oo(t,s,O,he,ge,m,e);else if($)T&&(ee=Oo(t,s,O,he,ge,m,e));else{let de={...M,defaultShouldRevalidate:C?!1:T};kh(ge,de)&&(ee=Oo(t,s,O,he,ge,m,e,de))}ee&&j.push({key:xe,routeId:I.routeId,path:I.path,matches:ee,match:ge,request:O,controller:ke})}),{dsMatches:L,revalidatingFetchers:j}}function nm(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let s=e!=null&&r.id in e,a=t!=null&&t[r.id]!==void 0;return!s&&a?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!s&&!a}function GR(r,e,t){let s=!e||t.route.id!==e.route.id,a=!r.hasOwnProperty(t.route.id);return s||a}function $R(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function kh(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function aE(r,e,t,s,a,l){let c;if(r){let m=s[r];Xe(m,`No route found to patch children into: routeId = ${r}`),m.children||(m.children=[]),c=m.children}else c=t;let d=[],p=[];if(e.forEach(m=>{let v=c.find(T=>w0(m,T));v?p.push({existingRoute:v,newRoute:m}):d.push(m)}),d.length>0){let m=Eu(d,a,[r||"_","patch",String(c?.length||"0")],s);c.push(...m)}if(l&&p.length>0)for(let m=0;m<p.length;m++){let{existingRoute:v,newRoute:T}=p[m],S=v,[A]=Eu([T],a,[],{},!0);Object.assign(S,{element:A.element?A.element:S.element,errorElement:A.errorElement?A.errorElement:S.errorElement,hydrateFallbackElement:A.hydrateFallbackElement?A.hydrateFallbackElement:S.hydrateFallbackElement})}}function w0(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,s)=>e.children?.some(a=>w0(t,a))):!1}var oE=new WeakMap,A0=({key:r,route:e,manifest:t,mapRouteProperties:s})=>{let a=t[e.id];if(Xe(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[r];if(!l)return;let c=oE.get(a);c||(c={},oE.set(a,c));let d=c[r];if(d)return d;let p=(async()=>{let m=fR(r),T=a[r]!==void 0&&r!=="hasErrorBoundary";if(m)kt(!m,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),c[r]=Promise.resolve();else if(T)kt(!1,`Route "${a.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let S=await l();S!=null&&(Object.assign(a,{[r]:S}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[r]=void 0,Object.values(a.lazy).every(S=>S===void 0)&&(a.lazy=void 0))})();return c[r]=p,p},lE=new WeakMap;function KR(r,e,t,s,a){let l=t[r.id];if(Xe(l,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=lE.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let T=(async()=>{Xe(typeof r.lazy=="function","No lazy route function found");let S=await r.lazy(),A={};for(let D in S){let X=S[D];if(X===void 0)continue;let z=pR(D),H=l[D]!==void 0&&D!=="hasErrorBoundary";z?kt(!z,"Route property "+D+" is not a supported property to be returned from a lazy route function. This property will be ignored."):H?kt(!H,`Route "${l.id}" has a static property "${D}" defined but its lazy function is also returning a value for this property. The lazy route property "${D}" will be ignored.`):A[D]=X}Object.assign(l,A),Object.assign(l,{...s(l),lazy:void 0})})();return lE.set(l,T),T.catch(()=>{}),{lazyRoutePromise:T,lazyHandlerPromise:T}}let c=Object.keys(r.lazy),d=[],p;for(let v of c){if(a&&a.includes(v))continue;let T=A0({key:v,route:r,manifest:t,mapRouteProperties:s});T&&(d.push(T),v===e&&(p=T))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:p}}async function uE(r){let e=r.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,l)=>{t[e[l].route.id]=a}),t}async function YR(r){return r.matches.some(e=>e.route.unstable_middleware)?R0(r,()=>uE(r)):uE(r)}function R0(r,e){return QR(r,e,s=>s,r1,t);function t(s,a,l){if(l)return Promise.resolve(Object.assign(l.value,{[a]:{type:"error",result:s}}));{let{matches:c}=r,d=Math.min(c.findIndex(m=>m.route.id===a)||0,c.findIndex(m=>m.unstable_shouldCallHandler())||0),p=ws(c,c[d].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:s}})}}}async function QR(r,e,t,s,a){let{matches:l,request:c,params:d,context:p}=r,m=l.flatMap(T=>T.route.unstable_middleware?T.route.unstable_middleware.map(S=>[T.route.id,S]):[]);return await C0({request:c,params:d,context:p},m,e,t,s,a)}async function C0(r,e,t,s,a,l,c=0){let{request:d}=r;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let p=e[c];if(!p)return await t();let[m,v]=p,T,S=async()=>{if(T)throw new Error("You may only call `next()` once per middleware");try{return T={value:await C0(r,e,t,s,a,l,c+1)},T.value}catch(A){return T={value:await l(A,m,T)},T.value}};try{let A=await v(r,S),D=A!=null?s(A):void 0;return a(D)?D:T?D??T.value:(T={value:await S()},T.value)}catch(A){return await l(A,m,T)}}function I0(r,e,t,s,a){let l=A0({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:r}),c=KR(s.route,Un(t.method)?"action":"loader",e,r,a);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function rm(r,e,t,s,a,l,c,d=null){let p=!1,m=I0(r,e,t,s,a);return{...s,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(v){return p=!0,d?typeof v=="boolean"?kh(s,{...d,defaultShouldRevalidate:v}):kh(s,d):c},resolve(v){return p||c||v&&!Un(t.method)&&(s.route.lazy||s.route.loader)?WR({request:t,match:s,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Oo(r,e,t,s,a,l,c,d=null){return s.map(p=>p.route.id!==a.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:I0(r,e,t,p,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:rm(r,e,t,p,l,c,!0,d))}async function XR(r,e,t,s,a,l){t.some(m=>m._lazyPromises?.middleware)&&await Promise.all(t.map(m=>m._lazyPromises?.middleware));let c={request:e,params:t[0].params,context:a,matches:t},p=await r({...c,fetcherKey:s,unstable_runClientMiddleware:m=>{let v=c;return R0(v,()=>m({...v,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return p}async function WR({request:r,match:e,lazyHandlerPromise:t,lazyRoutePromise:s,handlerOverride:a,scopedContext:l}){let c,d,p=Un(r.method),m=p?"action":"loader",v=T=>{let S,A=new Promise((z,te)=>S=te);d=()=>S(),r.signal.addEventListener("abort",d);let D=z=>typeof T!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):T({request:r,params:e.params,context:l},...z!==void 0?[z]:[]),X=(async()=>{try{return{type:"data",result:await(a?a(te=>D(te)):D())}}catch(z){return{type:"error",result:z}}})();return Promise.race([X,A])};try{let T=p?e.route.action:e.route.loader;if(t||s)if(T){let S,[A]=await Promise.all([v(T).catch(D=>{S=D}),t,s]);if(S!==void 0)throw S;c=A}else{await t;let S=p?e.route.action:e.route.loader;if(S)[c]=await Promise.all([v(S),s]);else if(m==="action"){let A=new URL(r.url),D=A.pathname+A.search;throw pr(405,{method:r.method,pathname:D,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(T)c=await v(T);else{let S=new URL(r.url),A=S.pathname+S.search;throw pr(404,{pathname:A})}}catch(T){return{type:"error",result:T}}finally{d&&r.signal.removeEventListener("abort",d)}return c}async function JR(r){let e=r.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?r.body==null?null:r.json():r.text()}async function ZR(r){let{result:e,type:t}=r;if(D0(e)){let s;try{s=await JR(e)}catch(a){return{type:"error",error:a}}return t==="error"?{type:"error",error:new Lh(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}return t==="error"?mE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Lh(e.init?.status||500,void 0,e.data),statusCode:Tu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Tu(e)?e.status:void 0}:mE(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function e1(r,e,t,s,a){let l=r.headers.get("Location");if(Xe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!km(l)){let c=s.slice(0,s.findIndex(d=>d.route.id===t)+1);l=tm(new URL(e.url),c,a,l),r.headers.set("Location",l)}return r}function cE(r,e,t){if(km(r)){let s=r,a=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=vr(a.pathname,t)!=null;if(a.origin===e.origin&&l)return a.pathname+a.search+a.hash}return r}function Ro(r,e,t,s){let a=r.createURL(x0(e)).toString(),l={signal:t};if(s&&Un(s.formMethod)){let{formMethod:c,formEncType:d}=s;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(s.json)):d==="text/plain"?l.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?l.body=im(s.formData):l.body=s.formData}return new Request(a,l)}function im(r){let e=new URLSearchParams;for(let[t,s]of r.entries())e.append(t,typeof s=="string"?s:s.name);return e}function hE(r){let e=new FormData;for(let[t,s]of r.entries())e.append(t,s);return e}function t1(r,e,t,s=!1,a=!1){let l={},c=null,d,p=!1,m={},v=t&&Xn(t[1])?t[1].error:void 0;return r.forEach(T=>{if(!(T.route.id in e))return;let S=T.route.id,A=e[S];if(Xe(!Sa(A),"Cannot handle redirect results in processLoaderData"),Xn(A)){let D=A.error;if(v!==void 0&&(D=v,v=void 0),c=c||{},a)c[S]=D;else{let X=ws(r,S);c[X.route.id]==null&&(c[X.route.id]=D)}s||(l[S]=b0),p||(p=!0,d=Tu(A.error)?A.error.status:500),A.headers&&(m[S]=A.headers)}else l[S]=A.data,A.statusCode&&A.statusCode!==200&&!p&&(d=A.statusCode),A.headers&&(m[S]=A.headers)}),v!==void 0&&t&&(c={[t[0]]:v},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:m}}function fE(r,e,t,s,a,l){let{loaderData:c,errors:d}=t1(e,t,s);return a.filter(p=>!p.matches||p.matches.some(m=>m.shouldLoad)).forEach(p=>{let{key:m,match:v,controller:T}=p;if(T&&T.signal.aborted)return;let S=l[m];if(Xe(S,"Did not find corresponding fetcher result"),Xn(S)){let A=ws(r.matches,v?.route.id);d&&d[A.route.id]||(d={...d,[A.route.id]:S.error}),r.fetchers.delete(m)}else if(Sa(S))Xe(!1,"Unhandled fetcher revalidation redirect");else{let A=Ss(S.data);r.fetchers.set(m,A)}}),{loaderData:c,errors:d}}function dE(r,e,t,s){let a=Object.entries(e).filter(([,l])=>l!==b0).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&r.hasOwnProperty(c)&&l.route.loader&&(a[c]=r[c]),s&&s.hasOwnProperty(c))break}return a}function pE(r){return r?Xn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function ws(r,e){return(e?r.slice(0,r.findIndex(s=>s.route.id===e)+1):[...r]).reverse().find(s=>s.route.hasErrorBoundary===!0)||r[0]}function lh(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function pr(r,{pathname:e,routeId:t,method:s,type:a,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return r===400?(c="Bad Request",s&&e&&t?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):r===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):r===404?(c="Not Found",d=`No route matches URL "${e}"`):r===405&&(c="Method Not Allowed",s&&e&&t?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new Lh(r||500,c,new Error(d),!0)}function uh(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[s,a]=e[t];if(Sa(a))return{key:s,result:a}}}function x0(r){let e=typeof r=="string"?Fs(r):r;return Ls({...e,hash:""})}function n1(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function r1(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([e,t])=>typeof e=="string"&&i1(t))}function i1(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function s1(r){return D0(r.result)&&UR.has(r.result.status)}function Xn(r){return r.type==="error"}function Sa(r){return(r&&r.type)==="redirect"}function mE(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function D0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function a1(r){return kR.has(r.toUpperCase())}function Un(r){return VR.has(r.toUpperCase())}function Um(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Sh(r,e){let t=typeof e=="string"?Fs(e).search:e.search;if(r[r.length-1].route.index&&Um(t||""))return r[r.length-1];let s=E0(r);return s[s.length-1]}function gE(r){let{formMethod:e,formAction:t,formEncType:s,text:a,formData:l,json:c}=r;if(!(!e||!t||!s)){if(a!=null)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:e,formAction:t,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:c,text:void 0}}}function Up(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function o1(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function nu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function l1(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Ss(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function u1(r,e){try{let t=r.sessionStorage.getItem(S0);if(t){let s=JSON.parse(t);for(let[a,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(a,new Set(l||[]))}}catch{}}function c1(r,e){if(e.size>0){let t={};for(let[s,a]of e)t[s]=[...a];try{r.sessionStorage.setItem(S0,JSON.stringify(t))}catch(s){kt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function h1(){let r,e,t=new Promise((s,a)=>{r=async l=>{s(l);try{await t}catch{}},e=async l=>{a(l);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var Na=U.createContext(null);Na.displayName="DataRouter";var Mu=U.createContext(null);Mu.displayName="DataRouterState";U.createContext(!1);var jm=U.createContext({isTransitioning:!1});jm.displayName="ViewTransition";var N0=U.createContext(new Map);N0.displayName="Fetchers";var f1=U.createContext(null);f1.displayName="Await";var Nr=U.createContext(null);Nr.displayName="Navigation";var hf=U.createContext(null);hf.displayName="Location";var Or=U.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var zm=U.createContext(null);zm.displayName="RouteError";function d1(r,{relative:e}={}){Xe($o(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=U.useContext(Nr),{hash:a,pathname:l,search:c}=Pu(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ei([t,l])),s.createHref({pathname:d,search:c,hash:a})}function $o(){return U.useContext(hf)!=null}function Bi(){return Xe($o(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(hf).location}var O0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M0(r){U.useContext(Nr).static||U.useLayoutEffect(r)}function ff(){let{isDataRoute:r}=U.useContext(Or);return r?I1():p1()}function p1(){Xe($o(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(Na),{basename:e,navigator:t}=U.useContext(Nr),{matches:s}=U.useContext(Or),{pathname:a}=Bi(),l=JSON.stringify(uf(s)),c=U.useRef(!1);return M0(()=>{c.current=!0}),U.useCallback((p,m={})=>{if(kt(c.current,O0),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=cf(p,JSON.parse(l),a,m.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ei([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,l,a,r])}var m1=U.createContext(null);function g1(r){let e=U.useContext(Or).outlet;return e&&U.createElement(m1.Provider,{value:r},e)}function Pu(r,{relative:e}={}){let{matches:t}=U.useContext(Or),{pathname:s}=Bi(),a=JSON.stringify(uf(t));return U.useMemo(()=>cf(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function y1(r,e,t,s,a){Xe($o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=U.useContext(Nr),{matches:c}=U.useContext(Or),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let H=T&&T.path||"";P0(m,!T||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=Bi(),A;A=S;let D=A.pathname||"/",X=D;if(v!=="/"){let H=v.replace(/^\//,"").split("/");X="/"+D.replace(/^\//,"").split("/").slice(H.length).join("/")}let z=bs(r,{pathname:X});return kt(T||z!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),kt(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),S1(z&&z.map(H=>Object.assign({},H,{params:Object.assign({},p,H.params),pathname:ei([v,l.encodeLocation?l.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:ei([v,l.encodeLocation?l.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),c,t,s,a)}function v1(){let r=C1(),e=Tu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:a},t):null,c)}var _1=U.createElement(v1,null),E1=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(Or.Provider,{value:this.props.routeContext},U.createElement(zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T1({routeContext:r,match:e,children:t}){let s=U.useContext(Na);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Or.Provider,{value:r},t)}function S1(r,e=[],t=null,s=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let m=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Xe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,p=-1;if(t)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:T,errors:S}=t,A=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||A){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,v,T)=>{let S,A=!1,D=null,X=null;t&&(S=c&&v.route.id?c[v.route.id]:void 0,D=v.route.errorElement||_1,d&&(p<0&&T===0?(P0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,X=null):p===T&&(A=!0,X=v.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,T+1)),te=()=>{let H;return S?H=D:A?H=X:v.route.Component?H=U.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=m,U.createElement(T1,{match:v,routeContext:{outlet:m,matches:z,isDataRoute:t!=null},children:H})};return t&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?U.createElement(E1,{location:t.location,revalidation:t.revalidation,component:D,error:S,children:te(),routeContext:{outlet:null,matches:z,isDataRoute:!0},unstable_onError:s}):te()},null)}function Bm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b1(r){let e=U.useContext(Na);return Xe(e,Bm(r)),e}function w1(r){let e=U.useContext(Mu);return Xe(e,Bm(r)),e}function A1(r){let e=U.useContext(Or);return Xe(e,Bm(r)),e}function Hm(r){let e=A1(r),t=e.matches[e.matches.length-1];return Xe(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function R1(){return Hm("useRouteId")}function C1(){let r=U.useContext(zm),e=w1("useRouteError"),t=Hm("useRouteError");return r!==void 0?r:e.errors?.[t]}function I1(){let{router:r}=b1("useNavigate"),e=Hm("useNavigate"),t=U.useRef(!1);return M0(()=>{t.current=!0}),U.useCallback(async(a,l={})=>{kt(t.current,O0),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var yE={};function P0(r,e,t){!e&&!yE[r]&&(yE[r]=!0,kt(!1,t))}var vE={};function _E(r,e){!r&&!vE[e]&&(vE[e]=!0,console.warn(e))}function x1(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&kt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:U.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&kt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:U.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&kt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:U.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var D1=["HydrateFallback","hydrateFallbackElement"],N1=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function O1({router:r,flushSync:e,unstable_onError:t}){let[s,a]=U.useState(r.state),[l,c]=U.useState(),[d,p]=U.useState({isTransitioning:!1}),[m,v]=U.useState(),[T,S]=U.useState(),[A,D]=U.useState(),X=U.useRef(new Map),z=U.useCallback(se=>{a(k=>(se.errors&&t&&Object.entries(se.errors).forEach(([x,R])=>{k.errors?.[x]!==R&&t(R)}),se))},[t]),te=U.useCallback((se,{deletedFetchers:k,flushSync:x,viewTransitionOpts:R})=>{se.fetchers.forEach((M,L)=>{M.data!==void 0&&X.current.set(L,M.data)}),k.forEach(M=>X.current.delete(M)),_E(x===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(_E(R==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!C){e&&x?e(()=>z(se)):U.startTransition(()=>z(se));return}if(e&&x){e(()=>{T&&(m&&m.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let M=r.window.document.startViewTransition(()=>{e(()=>z(se))});M.finished.finally(()=>{e(()=>{v(void 0),S(void 0),c(void 0),p({isTransitioning:!1})})}),e(()=>S(M));return}T?(m&&m.resolve(),T.skipTransition(),D({state:se,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(c(se),p({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[r.window,e,T,m,z]);U.useLayoutEffect(()=>r.subscribe(te),[r,te]),U.useEffect(()=>{d.isTransitioning&&!d.flushSync&&v(new N1)},[d]),U.useEffect(()=>{if(m&&l&&r.window){let se=l,k=m.promise,x=r.window.document.startViewTransition(async()=>{U.startTransition(()=>z(se)),await k});x.finished.finally(()=>{v(void 0),S(void 0),c(void 0),p({isTransitioning:!1})}),S(x)}},[l,m,r.window,z]),U.useEffect(()=>{m&&l&&s.location.key===l.location.key&&m.resolve()},[m,T,s.location,l]),U.useEffect(()=>{!d.isTransitioning&&A&&(c(A.state),p({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),D(void 0))},[d.isTransitioning,A]);let H=U.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:se=>r.navigate(se),push:(se,k,x)=>r.navigate(se,{state:k,preventScrollReset:x?.preventScrollReset}),replace:(se,k,x)=>r.navigate(se,{replace:!0,state:k,preventScrollReset:x?.preventScrollReset})}),[r]),re=r.basename||"/",pe=U.useMemo(()=>({router:r,navigator:H,static:!1,basename:re,unstable_onError:t}),[r,H,re,t]);return U.createElement(U.Fragment,null,U.createElement(Na.Provider,{value:pe},U.createElement(Mu.Provider,{value:s},U.createElement(N0.Provider,{value:X.current},U.createElement(jm.Provider,{value:d},U.createElement(k1,{basename:re,location:s.location,navigationType:s.historyAction,navigator:H},U.createElement(M1,{routes:r.routes,future:r.future,state:s,unstable_onError:t})))))),null)}var M1=U.memo(P1);function P1({routes:r,future:e,state:t,unstable_onError:s}){return y1(r,void 0,t,s,e)}function V1({to:r,replace:e,state:t,relative:s}){Xe($o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=U.useContext(Nr);kt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=U.useContext(Or),{pathname:c}=Bi(),d=ff(),p=cf(r,uf(l),c,s==="path"),m=JSON.stringify(p);return U.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:s})},[d,m,s,e,t]),null}function L1(r){return g1(r.context)}function k1({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){Xe(!$o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Fs(t));let{pathname:p="/",search:m="",hash:v="",state:T=null,key:S="default"}=t,A=U.useMemo(()=>{let D=vr(p,c);return D==null?null:{location:{pathname:D,search:m,hash:v,state:T,key:S},navigationType:s}},[c,p,m,v,T,S,s]);return kt(A!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:U.createElement(Nr.Provider,{value:d},U.createElement(hf.Provider,{children:e,value:A}))}var bh="get",wh="application/x-www-form-urlencoded";function df(r){return r!=null&&typeof r.tagName=="string"}function U1(r){return df(r)&&r.tagName.toLowerCase()==="button"}function j1(r){return df(r)&&r.tagName.toLowerCase()==="form"}function z1(r){return df(r)&&r.tagName.toLowerCase()==="input"}function B1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function H1(r,e){return r.button===0&&(!e||e==="_self")&&!B1(r)}var ch=null;function F1(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var q1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jp(r){return r!=null&&!q1.has(r)?(kt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):r}function G1(r,e){let t,s,a,l,c;if(j1(r)){let d=r.getAttribute("action");s=d?vr(d,e):null,t=r.getAttribute("method")||bh,a=jp(r.getAttribute("enctype"))||wh,l=new FormData(r)}else if(U1(r)||z1(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?vr(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||bh,a=jp(r.getAttribute("formenctype"))||jp(d.getAttribute("enctype"))||wh,l=new FormData(d,r),!F1()){let{name:m,type:v,value:T}=r;if(v==="image"){let S=m?`${m}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else m&&l.append(m,T)}}else{if(df(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=bh,s=null,a=wh,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $1(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&vr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function K1(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Q1(r,e,t){let s=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await K1(l,t);return c.links?c.links():[]}return[]}));return Z1(s.flat(1).filter(Y1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function EE(r,e,t,s,a,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,d=(p,m)=>t[m].pathname!==p.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,m)=>c(p,m)||d(p,m)):l==="data"?e.filter((p,m)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function X1(r,e,{includeHydrateFallback:t}={}){return W1(r.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function W1(r){return[...new Set(r)]}function J1(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function Z1(r,e){let t=new Set;return new Set(e),r.reduce((s,a)=>{let l=JSON.stringify(J1(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function V0(){let r=U.useContext(Na);return Fm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function eC(){let r=U.useContext(Mu);return Fm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var qm=U.createContext(void 0);qm.displayName="FrameworkContext";function L0(){let r=U.useContext(qm);return Fm(r,"You must render this element inside a <HydratedRouter> element"),r}function tC(r,e){let t=U.useContext(qm),[s,a]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:T}=e,S=U.useRef(null);U.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let X=te=>{te.forEach(H=>{c(H.isIntersecting)})},z=new IntersectionObserver(X,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[r]),U.useEffect(()=>{if(s){let X=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(X)}}},[s]);let A=()=>{a(!0)},D=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,S,{}]:[l,S,{onFocus:ru(d,A),onBlur:ru(p,D),onMouseEnter:ru(m,A),onMouseLeave:ru(v,D),onTouchStart:ru(T,A)}]:[!1,S,{}]}function ru(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function nC({page:r,...e}){let{router:t}=V0(),s=U.useMemo(()=>bs(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?U.createElement(iC,{page:r,matches:s,...e}):null}function rC(r){let{manifest:e,routeModules:t}=L0(),[s,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return Q1(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),s}function iC({page:r,matches:e,...t}){let s=Bi(),{manifest:a,routeModules:l}=L0(),{basename:c}=V0(),{loaderData:d,matches:p}=eC(),m=U.useMemo(()=>EE(r,e,p,a,s,"data"),[r,e,p,a,s]),v=U.useMemo(()=>EE(r,e,p,a,s,"assets"),[r,e,p,a,s]),T=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let D=new Set,X=!1;if(e.forEach(te=>{let H=a.routes[te.route.id];!H||!H.hasLoader||(!m.some(re=>re.route.id===te.route.id)&&te.route.id in d&&l[te.route.id]?.shouldRevalidate||H.hasClientLoader?X=!0:D.add(te.route.id))}),D.size===0)return[];let z=$1(r,c,"data");return X&&D.size>0&&z.searchParams.set("_routes",e.filter(te=>D.has(te.route.id)).map(te=>te.route.id).join(",")),[z.pathname+z.search]},[c,d,s,a,m,e,r,l]),S=U.useMemo(()=>X1(v,a),[v,a]),A=rC(v);return U.createElement(U.Fragment,null,T.map(D=>U.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),S.map(D=>U.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),A.map(({key:D,link:X})=>U.createElement("link",{key:D,nonce:t.nonce,...X})))}function sC(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var k0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k0&&(window.__reactRouterVersion="7.8.2")}catch{}function aC(r,e){return FR({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:lR({window:e?.window}),hydrationData:oC(),routes:r,mapRouteProperties:x1,hydrationRouteProperties:D1,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function oC(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:lC(r.errors)}),r}function lC(r){if(!r)return null;let e=Object.entries(r),t={};for(let[s,a]of e)if(a&&a.__type==="RouteErrorResponse")t[s]=new Lh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let c=new l(a.message);c.stack="",t[s]=c}catch{}}if(t[s]==null){let l=new Error(a.message);l.stack="",t[s]=l}}else t[s]=a;return t}var U0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pi=U.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:v,viewTransition:T,...S},A){let{basename:D}=U.useContext(Nr),X=typeof m=="string"&&U0.test(m),z,te=!1;if(typeof m=="string"&&X&&(z=m,k0))try{let C=new URL(window.location.href),M=m.startsWith("//")?new URL(C.protocol+m):new URL(m),L=vr(M.pathname,D);M.origin===C.origin&&L!=null?m=L+M.search+M.hash:te=!0}catch{kt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=d1(m,{relative:a}),[re,pe,se]=tC(s,S),k=fC(m,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:T});function x(C){e&&e(C),C.defaultPrevented||k(C)}let R=U.createElement("a",{...S,...se,href:z||H,onClick:te||l?e:x,ref:sC(A,pe),target:p,"data-discover":!X&&t==="render"?"true":void 0});return re&&!X?U.createElement(U.Fragment,null,R,U.createElement(nC,{page:H})):R});Pi.displayName="Link";var uC=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...m},v){let T=Pu(c,{relative:m.relative}),S=Bi(),A=U.useContext(Mu),{navigator:D,basename:X}=U.useContext(Nr),z=A!=null&&yC(T)&&d===!0,te=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,H=S.pathname,re=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(H=H.toLowerCase(),re=re?re.toLowerCase():null,te=te.toLowerCase()),re&&X&&(re=vr(re,X)||re);const pe=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let se=H===te||!a&&H.startsWith(te)&&H.charAt(pe)==="/",k=re!=null&&(re===te||!a&&re.startsWith(te)&&re.charAt(te.length)==="/"),x={isActive:se,isPending:k,isTransitioning:z},R=se?e:void 0,C;typeof s=="function"?C=s(x):C=[s,se?"active":null,k?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(x):l;return U.createElement(Pi,{...m,"aria-current":R,className:C,ref:v,style:M,to:c,viewTransition:d},typeof p=="function"?p(x):p)});uC.displayName="NavLink";var cC=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=bh,action:d,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:T,...S},A)=>{let D=mC(),X=gC(d,{relative:m}),z=c.toLowerCase()==="get"?"get":"post",te=typeof d=="string"&&U0.test(d),H=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let pe=re.nativeEvent.submitter,se=pe?.getAttribute("formmethod")||c;D(pe||re.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:a,state:l,relative:m,preventScrollReset:v,viewTransition:T})};return U.createElement("form",{ref:A,method:z,action:X,onSubmit:s?p:H,...S,"data-discover":!te&&r==="render"?"true":void 0})});cC.displayName="Form";function hC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j0(r){let e=U.useContext(Na);return Xe(e,hC(r)),e}function fC(r,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=ff(),p=Bi(),m=Pu(r,{relative:l});return U.useCallback(v=>{if(H1(v,e)){v.preventDefault();let T=t!==void 0?t:Ls(p)===Ls(m);d(r,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,m,t,s,e,r,a,l,c])}var dC=0,pC=()=>`__${String(++dC)}__`;function mC(){let{router:r}=j0("useSubmit"),{basename:e}=U.useContext(Nr),t=R1();return U.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:p,body:m}=G1(s,e);if(a.navigate===!1){let v=a.fetcherKey||pC();await r.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await r.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function gC(r,{relative:e}={}){let{basename:t}=U.useContext(Nr),s=U.useContext(Or);Xe(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Pu(r||".",{relative:e})},c=Bi();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ei([t,l.pathname])),Ls(l)}function yC(r,{relative:e}={}){let t=U.useContext(jm);Xe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=j0("useViewTransitionState"),a=Pu(r,{relative:e});if(!t.isTransitioning)return!1;let l=vr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=vr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Vh(a.pathname,c)!=null||Vh(a.pathname,l)!=null}var vC=m0();function _C(r){return U.createElement(O1,{flushSync:vC.flushSync,...r})}const EC=()=>{};var TE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},TC=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],c=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},B0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,p=a+2<r.length,m=p?r[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|m>>6,A=m&63;p||(A=64,c||(S=64)),s.push(t[v],t[T],t[S],t[A])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(z0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):TC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const m=a<r.length?t[r.charAt(a)]:64;++a;const T=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||m==null||T==null)throw new SC;const S=l<<2|d>>4;if(s.push(S),m!==64){const A=d<<4&240|m>>2;if(s.push(A),T!==64){const D=m<<6&192|T;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class SC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bC=function(r){const e=z0(r);return B0.encodeByteArray(e,!0)},Uh=function(r){return bC(r).replace(/\./g,"")},H0=function(r){try{return B0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=()=>wC().__FIREBASE_DEFAULTS__,RC=()=>{if(typeof process>"u"||typeof TE>"u")return;const r=TE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},CC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&H0(r[1]);return e&&JSON.parse(e)},pf=()=>{try{return EC()||AC()||RC()||CC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},F0=r=>pf()?.emulatorHosts?.[r],IC=r=>{const e=F0(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},q0=()=>pf()?.config,G0=r=>pf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Uh(JSON.stringify(t)),Uh(JSON.stringify(c)),""].join(".")}const hu={};function NC(){const r={prod:[],emulator:[]};for(const e of Object.keys(hu))hu[e]?r.emulator.push(e):r.prod.push(e);return r}function OC(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let SE=!1;function K0(r,e){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||hu[r]===e||hu[r]||SE)return;hu[r]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=NC().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,A){S.setAttribute("width","24"),S.setAttribute("id",A),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{SE=!0,c()},S}function v(S,A){S.setAttribute("id",A),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=OC(s),A=t("text"),D=document.getElementById(A)||document.createElement("span"),X=t("learnmore"),z=document.getElementById(X)||document.createElement("a"),te=t("preprendIcon"),H=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;d(re),v(z,X);const pe=m();p(H,te),re.append(H,D,z,pe),document.body.appendChild(re)}l?(D.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function PC(){const r=pf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function kC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UC(){const r=Sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jC(){return!PC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zC(){try{return typeof indexedDB=="object"}catch{return!1}}function BC(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="FirebaseError";class Hi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=HC,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?FC(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Hi(a,d,s)}}function FC(r,e){return r.replace(qC,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const qC=/\{\$([^}]+)}/g;function GC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Aa(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=r[a],c=e[a];if(bE(l)&&bE(c)){if(!Aa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function bE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function au(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ou(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function $C(r,e){const t=new KC(r,e);return t.subscribe.bind(t)}class KC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");YC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=zp),a.error===void 0&&(a.error=zp),a.complete===void 0&&(a.complete=zp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(r){return r&&r._delegate?r._delegate:r}class Ra{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new xC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WC(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:XC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XC(r){return r===Ta?void 0:r}function WC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ze||(Ze={}));const ZC={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},eI=Ze.INFO,tI={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},nI=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=tI[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Gm=class{constructor(e){this.name=e,this._logLevel=eI,this._logHandler=nI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}};const rI=(r,e)=>e.some(t=>r instanceof t);let wE,AE;function iI(){return wE||(wE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sI(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y0=new WeakMap,sm=new WeakMap,Q0=new WeakMap,Bp=new WeakMap,$m=new WeakMap;function aI(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Ds(r.result)),a()},c=()=>{s(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Y0.set(t,r)}).catch(()=>{}),$m.set(e,r),e}function oI(r){if(sm.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});sm.set(r,e)}let am={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return sm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Q0.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ds(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function lI(r){am=r(am)}function uI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Hp(this),e,...t);return Q0.set(s,e.sort?e.sort():[e]),Ds(s)}:sI().includes(r)?function(...e){return r.apply(Hp(this),e),Ds(Y0.get(this))}:function(...e){return Ds(r.apply(Hp(this),e))}}function cI(r){return typeof r=="function"?uI(r):(r instanceof IDBTransaction&&oI(r),rI(r,iI())?new Proxy(r,am):r)}function Ds(r){if(r instanceof IDBRequest)return aI(r);if(Bp.has(r))return Bp.get(r);const e=cI(r);return e!==r&&(Bp.set(r,e),$m.set(e,r)),e}const Hp=r=>$m.get(r);function hI(r,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=Ds(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Ds(c.result),p.oldVersion,p.newVersion,Ds(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const fI=["get","getKey","getAll","getAllKeys","count"],dI=["put","add","delete","clear"],Fp=new Map;function RE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Fp.get(e))return Fp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=dI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||fI.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&p.done]))[0]};return Fp.set(e,l),l}lI(r=>({...r,get:(e,t,s)=>RE(e,t)||r.get(e,t,s),has:(e,t)=>!!RE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function mI(r){return r.getComponent()?.type==="VERSION"}const om="@firebase/app",CE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Gm("@firebase/app"),gI="@firebase/app-compat",yI="@firebase/analytics-compat",vI="@firebase/analytics",_I="@firebase/app-check-compat",EI="@firebase/app-check",TI="@firebase/auth",SI="@firebase/auth-compat",bI="@firebase/database",wI="@firebase/data-connect",AI="@firebase/database-compat",RI="@firebase/functions",CI="@firebase/functions-compat",II="@firebase/installations",xI="@firebase/installations-compat",DI="@firebase/messaging",NI="@firebase/messaging-compat",OI="@firebase/performance",MI="@firebase/performance-compat",PI="@firebase/remote-config",VI="@firebase/remote-config-compat",LI="@firebase/storage",kI="@firebase/storage-compat",UI="@firebase/firestore",jI="@firebase/ai",zI="@firebase/firestore-compat",BI="firebase",HI="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",FI={[om]:"fire-core",[gI]:"fire-core-compat",[vI]:"fire-analytics",[yI]:"fire-analytics-compat",[EI]:"fire-app-check",[_I]:"fire-app-check-compat",[TI]:"fire-auth",[SI]:"fire-auth-compat",[bI]:"fire-rtdb",[wI]:"fire-data-connect",[AI]:"fire-rtdb-compat",[RI]:"fire-fn",[CI]:"fire-fn-compat",[II]:"fire-iid",[xI]:"fire-iid-compat",[DI]:"fire-fcm",[NI]:"fire-fcm-compat",[OI]:"fire-perf",[MI]:"fire-perf-compat",[PI]:"fire-rc",[VI]:"fire-rc-compat",[LI]:"fire-gcs",[kI]:"fire-gcs-compat",[UI]:"fire-fst",[zI]:"fire-fst-compat",[jI]:"fire-vertex","fire-js":"fire-js",[BI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,qI=new Map,um=new Map;function IE(r,e){try{r.container.addComponent(e)}catch(t){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function jo(r){const e=r.name;if(um.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,r);for(const t of jh.values())IE(t,r);for(const t of qI.values())IE(t,r);return!0}function Km(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function mr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Vu("app","Firebase",GI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=HI;function X0(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:lm,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ns.create("bad-app-name",{appName:String(a)});if(t||(t=q0()),!t)throw Ns.create("no-options");const l=jh.get(a);if(l){if(Aa(t,l.options)&&Aa(s,l.config))return l;throw Ns.create("duplicate-app",{appName:a})}const c=new JC(a);for(const p of um.values())c.addComponent(p);const d=new $I(t,s,c);return jh.set(a,d),d}function W0(r=lm){const e=jh.get(r);if(!e&&r===lm&&q0())return X0();if(!e)throw Ns.create("no-app",{appName:r});return e}function Os(r,e,t){let s=FI[r]??r;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(c.join(" "));return}jo(new Ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="firebase-heartbeat-database",YI=1,Su="firebase-heartbeat-store";let qp=null;function J0(){return qp||(qp=hI(KI,YI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Su)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ns.create("idb-open",{originalErrorMessage:r.message})})),qp}async function QI(r){try{const t=(await J0()).transaction(Su),s=await t.objectStore(Su).get(Z0(r));return await t.done,s}catch(e){if(e instanceof Hi)ki.warn(e.message);else{const t=Ns.create("idb-get",{originalErrorMessage:e?.message});ki.warn(t.message)}}}async function xE(r,e){try{const s=(await J0()).transaction(Su,"readwrite");await s.objectStore(Su).put(e,Z0(r)),await s.done}catch(t){if(t instanceof Hi)ki.warn(t.message);else{const s=Ns.create("idb-set",{originalErrorMessage:t?.message});ki.warn(s.message)}}}function Z0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=1024,WI=30;class JI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ex(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>WI){const a=tx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=DE(),{heartbeatsToSend:t,unsentEntries:s}=ZI(this._heartbeatsCache.heartbeats),a=Uh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ki.warn(e),""}}}function DE(){return new Date().toISOString().substring(0,10)}function ZI(r,e=XI){const t=[];let s=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),NE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),NE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class ex{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zC()?BC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function NE(r){return Uh(JSON.stringify({version:2,heartbeats:r})).length}function tx(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(r){jo(new Ra("platform-logger",e=>new pI(e),"PRIVATE")),jo(new Ra("heartbeat",e=>new JI(e),"PRIVATE")),Os(om,CE,r),Os(om,CE,"esm2020"),Os("fire-js","")}nx("");function eS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rx=eS,tS=new Vu("auth","Firebase",eS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Gm("@firebase/auth");function ix(r,...e){zh.logLevel<=Ze.WARN&&zh.warn(`Auth (${Yo}): ${r}`,...e)}function Ah(r,...e){zh.logLevel<=Ze.ERROR&&zh.error(`Auth (${Yo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(r,...e){throw Ym(r,...e)}function ti(r,...e){return Ym(r,...e)}function nS(r,e,t){const s={...rx(),[e]:t};return new Vu("auth","Firebase",s).create(e,{appName:r.name})}function Vi(r){return nS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return tS.create(r,...e)}function Ve(r,e,...t){if(!r)throw Ym(e,...t)}function Oi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ah(e),new Error(e)}function Ui(r,e){r||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){return typeof self<"u"&&self.location?.href||""}function sx(){return OE()==="http:"||OE()==="https:"}function OE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sx()||LC()||"connection"in navigator)?navigator.onLine:!0}function ox(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ui(t>e,"Short delay should be less than long delay!"),this.isMobile=MC()||kC()}get(){return ax()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(r,e){Ui(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cx=new ku(3e4,6e4);function qs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Gs(r,e,t,s,a={}){return iS(r,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=Lu({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const m={method:e,headers:p,...l};return VC()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&Ko(r.emulatorConfig.host)&&(m.credentials="include"),rS.fetch()(await sS(r,r.config.apiHost,t,d),m)})}async function iS(r,e,t){r._canInitEmulator=!1;const s={...lx,...e};try{const a=new fx(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw hh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw hh(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw hh(r,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw nS(r,v,m);xr(r,v)}}catch(a){if(a instanceof Hi)throw a;xr(r,"network-request-failed",{message:String(a)})}}async function Uu(r,e,t,s,a={}){const l=await Gs(r,e,t,s,a);return"mfaPendingCredential"in l&&xr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function sS(r,e,t,s){const a=`${e}${t}?${s}`,l=r,c=l.config.emulator?Qm(r.config,a):`${r.config.apiScheme}://${a}`;return ux.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function hx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ti(this.auth,"network-request-failed")),cx.get())})}}function hh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=ti(r,e,s);return a.customData._tokenResponse=t,a}function ME(r){return r!==void 0&&r.enterprise!==void 0}class dx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function px(r,e){return Gs(r,"GET","/v2/recaptchaConfig",qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(r,e){return Gs(r,"POST","/v1/accounts:delete",e)}async function Bh(r,e){return Gs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gx(r,e=!1){const t=On(r),s=await t.getIdToken(e),a=Xm(s);Ve(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:fu(Gp(a.auth_time)),issuedAtTime:fu(Gp(a.iat)),expirationTime:fu(Gp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Gp(r){return Number(r)*1e3}function Xm(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const a=H0(t);return a?JSON.parse(a):(Ah("Failed to decode base64 JWT payload"),null)}catch(a){return Ah("Caught error parsing JWT payload as JSON",a?.toString()),null}}function PE(r){const e=Xm(r);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Hi&&yx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function yx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(r){const e=r.auth,t=await r.getIdToken(),s=await bu(r,Bh(e,{idToken:t}));Ve(s?.users.length,e,"internal-error");const a=s.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?aS(a.providerUserInfo):[],c=Ex(r.providerData,l),d=r.isAnonymous,p=!(r.email&&a.passwordHash)&&!c?.length,m=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new hm(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(r,v)}async function _x(r){const e=On(r);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ex(r,e){return[...r.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function aS(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(r,e){const t=await iS(r,{},async()=>{const s=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await sS(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&Ko(r.emulatorConfig.host)&&(p.credentials="include"),rS.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Sx(r,e){return Gs(r,"POST","/v2/accounts:revokeToken",qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=PE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await Tx(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new Mo;return s&&(Ve(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Ve(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(r,e){Ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Cr{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new vx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await bu(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gx(this,e)}reload(){return _x(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(Vi(this.auth));const e=await this.getIdToken();return await bu(this,mx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:A,providerData:D,stsTokenManager:X}=t;Ve(T&&X,e,"internal-error");const z=Mo.fromJSON(this.name,X);Ve(typeof T=="string",e,"internal-error"),Ts(s,e.name),Ts(a,e.name),Ve(typeof S=="boolean",e,"internal-error"),Ve(typeof A=="boolean",e,"internal-error"),Ts(l,e.name),Ts(c,e.name),Ts(d,e.name),Ts(p,e.name),Ts(m,e.name),Ts(v,e.name);const te=new Cr({uid:T,auth:e,email:a,emailVerified:S,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:z,createdAt:m,lastLoginAt:v});return D&&Array.isArray(D)&&(te.providerData=D.map(H=>({...H}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,t,s=!1){const a=new Mo;a.updateFromServerResponse(t);const l=new Cr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Hh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?aS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Mo;d.updateFromIdToken(s);const p=new Cr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new hm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function Mi(r){Ui(r instanceof Function,"Expected a class definition");let e=VE.get(r);return e?(Ui(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,VE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oS.type="NONE";const LE=oS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(r,e,t){return`firebase:${r}:${e}:${t}`}class Po{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Rh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Rh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bh(this.auth,{idToken:e}).catch(()=>{});return t?Cr._fromGetAccountInfoResponse(this.auth,t,e):null}return Cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Po(Mi(LE),e,s);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Mi(LE);const c=Rh(s,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(c);if(v){let T;if(typeof v=="string"){const S=await Bh(e,{idToken:v}).catch(()=>{});if(!S)break;T=await Cr._fromGetAccountInfoResponse(e,S,v)}else T=Cr._fromJSON(e,v);m!==l&&(d=T),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Po(l,e,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Po(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dS(e))return"Blackberry";if(pS(e))return"Webos";if(uS(e))return"Safari";if((e.includes("chrome/")||cS(e))&&!e.includes("edge/"))return"Chrome";if(fS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function lS(r=Sn()){return/firefox\//i.test(r)}function uS(r=Sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cS(r=Sn()){return/crios\//i.test(r)}function hS(r=Sn()){return/iemobile/i.test(r)}function fS(r=Sn()){return/android/i.test(r)}function dS(r=Sn()){return/blackberry/i.test(r)}function pS(r=Sn()){return/webos/i.test(r)}function Wm(r=Sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bx(r=Sn()){return Wm(r)&&!!window.navigator?.standalone}function wx(){return UC()&&document.documentMode===10}function mS(r=Sn()){return Wm(r)||fS(r)||pS(r)||dS(r)||/windows phone/i.test(r)||hS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(r,e=[]){let t;switch(r){case"Browser":t=kE(Sn());break;case"Worker":t=`${kE(Sn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(r,e={}){return Gs(r,"GET","/v2/passwordPolicy",qs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=6;class Ix{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Cx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UE(this),this.idTokenSubscription=new UE(this),this.beforeStateQueue=new Ax(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bh(this,{idToken:e}),s=await Cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ox()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(Vi(this));const t=e?On(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rx(this),t=new Ix(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Sx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mi(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ix(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oa(r){return On(r)}class UE{constructor(e){this.auth=e,this.observer=null,this.addObserver=$C(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dx(r){mf=r}function yS(r){return mf.loadJS(r)}function Nx(){return mf.recaptchaEnterpriseScript}function Ox(){return mf.gapiScript}function Mx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Px{constructor(){this.enterprise=new Vx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Vx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Lx="recaptcha-enterprise",vS="NO_RECAPTCHA";class kx{constructor(e){this.type=Lx,this.auth=Oa(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{px(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new dx(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;ME(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(vS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Px().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!t&&ME(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Nx();p.length!==0&&(p+=d),yS(p).then(()=>{a(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function jE(r,e,t,s=!1,a=!1){const l=new kx(r);let c;if(a)c=vS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function fm(r,e,t,s,a){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await jE(r,e,t,t==="getOobCode");return s(r,l)}else return s(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await jE(r,e,t,t==="getOobCode");return s(r,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(r,e){const t=Km(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Aa(l,e??{}))return a;xr(a,"already-initialized")}return t.initialize({options:e})}function jx(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Mi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function zx(r,e,t){const s=Oa(r);Ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=_S(e),{host:c,port:d}=Bx(e),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ve(Aa(m,s.config.emulator)&&Aa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ko(c)?($0(`${l}//${c}${p}`),K0("Auth",!0)):Hx()}function _S(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Bx(r){const e=_S(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:zE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:zE(c)}}}function zE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Hx(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,t){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function Fx(r,e){return Gs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(r,e){return Uu(r,"POST","/v1/accounts:signInWithPassword",qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(r,e){return Uu(r,"POST","/v1/accounts:signInWithEmailLink",qs(r,e))}async function $x(r,e){return Uu(r,"POST","/v1/accounts:signInWithEmailLink",qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Jm{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new wu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new wu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fm(e,t,"signInWithPassword",qx);case"emailLink":return Gx(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fm(e,s,"signUpPassword",Fx);case"emailLink":return $x(e,{idToken:t,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r,e){return Uu(r,"POST","/v1/accounts:signInWithIdp",qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="http://localhost";class Ca extends Jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=t;if(!s||!a)return null;const c=new Ca(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Vo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Vo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vo(e,t)}buildRequest(){const e={requestUri:Kx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qx(r){const e=au(ou(r)).link,t=e?au(ou(e)).deep_link_id:null,s=au(ou(r)).deep_link_id;return(s?au(ou(s)).link:null)||s||t||e||r}class Zm{constructor(e){const t=au(ou(e)),s=t.apiKey??null,a=t.oobCode??null,l=Yx(t.mode??null);Ve(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Qx(e);try{return new Zm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,t){return wu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Zm.parseLink(t);return Ve(s,"argument-error"),wu._fromEmailAndCode(e,s.code,s.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends ES{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends ju{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ca._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Rs.credential(t,s)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends ju{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends ju{constructor(){super("twitter.com")}static credential(e,t){return Ca._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Is.credential(t,s)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(r,e){return Uu(r,"POST","/v1/accounts:signUp",qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await Cr._fromIdTokenResponse(e,s,a),c=BE(s);return new Ia({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=BE(s);return new Ia({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function BE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends Hi{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new Fh(e,t,s,a)}}function TS(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(r,l,e,s):l})}async function Wx(r,e,t=!1){const s=await bu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ia._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(r,e,t=!1){const{auth:s}=r;if(mr(s.app))return Promise.reject(Vi(s));const a="reauthenticate";try{const l=await bu(r,TS(s,a,e,r),t);Ve(l.idToken,s,"internal-error");const c=Xm(l.idToken);Ve(c,s,"internal-error");const{sub:d}=c;return Ve(r.uid===d,s,"user-mismatch"),Ia._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&xr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(r,e,t=!1){if(mr(r.app))return Promise.reject(Vi(r));const s="signIn",a=await TS(r,s,e),l=await Ia._fromIdTokenResponse(r,s,a);return t||await r._updateCurrentUser(l.user),l}async function Zx(r,e){return SS(Oa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(r){const e=Oa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eD(r,e,t){if(mr(r.app))return Promise.reject(Vi(r));const s=Oa(r),c=await fm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&bS(r),p}),d=await Ia._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function tD(r,e,t){return mr(r.app)?Promise.reject(Vi(r)):Zx(On(r),Qo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bS(r),s})}function nD(r,e,t,s){return On(r).onIdTokenChanged(e,t,s)}function rD(r,e,t){return On(r).beforeAuthStateChanged(e,t)}function iD(r,e,t,s){return On(r).onAuthStateChanged(e,t,s)}function sD(r){return On(r).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=1e3,oD=10;class AS extends wS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);wx()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,oD):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},aD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}AS.type="LOCAL";const lD=AS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends wS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RS.type="SESSION";const CS=RS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new gf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async m=>m(t.origin,l)),p=await uD(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=eg("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const S=T;if(S.data.eventId===m)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function hD(r){ni().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function fD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dD(){return navigator?.serviceWorker?.controller||null}function pD(){return IS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firebaseLocalStorageDb",mD=1,Gh="firebaseLocalStorage",DS="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yf(r,e){return r.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function gD(){const r=indexedDB.deleteDatabase(xS);return new zu(r).toPromise()}function dm(){const r=indexedDB.open(xS,mD);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Gh,{keyPath:DS})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Gh)?e(s):(s.close(),await gD(),e(await dm()))})})}async function HE(r,e,t){const s=yf(r,!0).put({[DS]:e,value:t});return new zu(s).toPromise()}async function yD(r,e){const t=yf(r,!1).get(e),s=await new zu(t).toPromise();return s===void 0?null:s.value}function FE(r,e){const t=yf(r,!0).delete(e);return new zu(t).toPromise()}const vD=800,_D=3;class NS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>_D)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(pD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fD(),!this.activeServiceWorker)return;this.sender=new cD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await HE(e,qh,"1"),await FE(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>HE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>yD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>FE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=yf(a,!1).getAll();return new zu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NS.type="LOCAL";const ED=NS;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(r,e){return e?Mi(e):(Ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends Jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function SD(r){return SS(r.auth,new tg(r),r.bypassAuthState)}function bD(r){const{auth:e,user:t}=r;return Ve(t,e,"internal-error"),Jx(t,new tg(r),r.bypassAuthState)}async function wD(r){const{auth:e,user:t}=r;return Ve(t,e,"internal-error"),Wx(t,new tg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SD;case"linkViaPopup":case"linkViaRedirect":return wD;case"reauthViaPopup":case"reauthViaRedirect":return bD;default:xr(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new ku(2e3,1e4);class No extends OS{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AD.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="pendingRedirect",Ch=new Map;class CD extends OS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const s=await ID(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ID(r,e){const t=ND(e),s=DD(r);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function xD(r,e){Ch.set(r._key(),e)}function DD(r){return Mi(r._redirectPersistence)}function ND(r){return Rh(RD,r.config.apiKey,r.name)}async function OD(r,e,t=!1){if(mr(r.app))return Promise.reject(Vi(r));const s=Oa(r),a=TD(s,e),c=await new CD(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=600*1e3;class PD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!MS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ti(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MD&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(e))}saveEventToCache(e){this.cachedEventUids.add(qE(e)),this.lastProcessedEventTime=Date.now()}}function qE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function MS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function VD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(r,e={}){return Gs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UD=/^https?/;async function jD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await LD(r);for(const t of e)try{if(zD(t))return}catch{}xr(r,"unauthorized-domain")}function zD(r){const e=cm(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!UD.test(t))return!1;if(kD.test(r))return s===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new ku(3e4,6e4);function GE(){const r=ni().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function HD(r){return new Promise((e,t)=>{function s(){GE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GE(),t(ti(r,"network-request-failed"))},timeout:BD.get()})}if(ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ni().gapi?.load)s();else{const a=Mx("iframefcb");return ni()[a]=()=>{gapi.load?s():t(ti(r,"network-request-failed"))},yS(`${Ox()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function FD(r){return Ih=Ih||HD(r),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new ku(5e3,15e3),GD="__/auth/iframe",$D="emulator/auth/iframe",KD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QD(r){const e=r.config;Ve(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Qm(e,$D):`https://${r.config.authDomain}/${GD}`,s={apiKey:e.apiKey,appName:r.name,v:Yo},a=YD.get(r.config.apiHost);a&&(s.eid=a);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Lu(s).slice(1)}`}async function XD(r){const e=await FD(r),t=ni().gapi;return Ve(t,r,"internal-error"),e.open({where:document.body,url:QD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KD,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=ti(r,"network-request-failed"),d=ni().setTimeout(()=>{l(c)},qD.get());function p(){ni().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JD=500,ZD=600,eN="_blank",tN="http://localhost";class $E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nN(r,e,t,s=JD,a=ZD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...WD,width:s.toString(),height:a.toString(),top:l,left:c},m=Sn().toLowerCase();t&&(d=cS(m)?eN:t),lS(m)&&(e=e||tN,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[A,D])=>`${S}${A}=${D},`,"");if(bx(m)&&d!=="_self")return rN(e||"",d),new $E(null);const T=window.open(e||"",d,v);Ve(T,r,"popup-blocked");try{T.focus()}catch{}return new $E(T)}function rN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="__/auth/handler",sN="emulator/auth/handler",aN=encodeURIComponent("fac");async function KE(r,e,t,s,a,l){Ve(r.config.authDomain,r,"auth-domain-config-required"),Ve(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Yo,eventId:a};if(e instanceof ES){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",GC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof ju){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await r._getAppCheckToken(),m=p?`#${aN}=${encodeURIComponent(p)}`:"";return`${oN(r)}?${Lu(d).slice(1)}${m}`}function oN({config:r}){return r.emulator?Qm(r,sN):`https://${r.authDomain}/${iN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="webStorageSupport";class lN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CS,this._completeRedirectFn=OD,this._overrideRedirectResult=xD}async _openPopup(e,t,s,a){Ui(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await KE(e,t,s,cm(),a);return nN(e,l,eg())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await KE(e,t,s,cm(),a);return hD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Ui(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await XD(e),s=new PD(e);return t.register("authEvent",a=>(Ve(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($p,{type:$p},a=>{const l=a?.[0]?.[$p];l!==void 0&&t(!!l),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mS()||uS()||Wm()}}const uN=lN;var YE="@firebase/auth",QE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fN(r){jo(new Ra("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gS(r)},m=new xx(s,a,l,p);return jx(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),jo(new Ra("auth-internal",e=>{const t=Oa(e.getProvider("auth").getImmediate());return(s=>new cN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(YE,QE,hN(r)),Os(YE,QE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=300,pN=G0("authIdTokenMaxAge")||dN;let XE=null;const mN=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>pN)return;const a=t?.token;XE!==a&&(XE=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function PS(r=W0()){const e=Km(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Ux(r,{popupRedirectResolver:uN,persistence:[ED,lD,CS]}),s=G0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=mN(l.toString());rD(t,c,()=>c(t.currentUser)),nD(t,d=>c(d))}}const a=F0("auth");return a&&zx(t,`http://${a}`),t}function gN(){return document.getElementsByTagName("head")?.[0]??document}Dx({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=a=>{const l=ti("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",gN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fN("Browser");var yN="firebase",vN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(yN,vN,"app");var WE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,VS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function C(){}C.prototype=R.prototype,x.D=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(M,L,j){for(var I=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)I[xe-2]=arguments[xe];return R.prototype[L].apply(M,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,R,C){C||(C=0);var M=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)M[L]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(L=0;16>L;++L)M[L]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],L=x.g[2];var j=x.g[3],I=R+(j^C&(L^j))+M[0]+3614090360&4294967295;R=C+(I<<7&4294967295|I>>>25),I=j+(L^R&(C^L))+M[1]+3905402710&4294967295,j=R+(I<<12&4294967295|I>>>20),I=L+(C^j&(R^C))+M[2]+606105819&4294967295,L=j+(I<<17&4294967295|I>>>15),I=C+(R^L&(j^R))+M[3]+3250441966&4294967295,C=L+(I<<22&4294967295|I>>>10),I=R+(j^C&(L^j))+M[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(L^R&(C^L))+M[5]+1200080426&4294967295,j=R+(I<<12&4294967295|I>>>20),I=L+(C^j&(R^C))+M[6]+2821735955&4294967295,L=j+(I<<17&4294967295|I>>>15),I=C+(R^L&(j^R))+M[7]+4249261313&4294967295,C=L+(I<<22&4294967295|I>>>10),I=R+(j^C&(L^j))+M[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(L^R&(C^L))+M[9]+2336552879&4294967295,j=R+(I<<12&4294967295|I>>>20),I=L+(C^j&(R^C))+M[10]+4294925233&4294967295,L=j+(I<<17&4294967295|I>>>15),I=C+(R^L&(j^R))+M[11]+2304563134&4294967295,C=L+(I<<22&4294967295|I>>>10),I=R+(j^C&(L^j))+M[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(L^R&(C^L))+M[13]+4254626195&4294967295,j=R+(I<<12&4294967295|I>>>20),I=L+(C^j&(R^C))+M[14]+2792965006&4294967295,L=j+(I<<17&4294967295|I>>>15),I=C+(R^L&(j^R))+M[15]+1236535329&4294967295,C=L+(I<<22&4294967295|I>>>10),I=R+(L^j&(C^L))+M[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^L&(R^C))+M[6]+3225465664&4294967295,j=R+(I<<9&4294967295|I>>>23),I=L+(R^C&(j^R))+M[11]+643717713&4294967295,L=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(L^j))+M[0]+3921069994&4294967295,C=L+(I<<20&4294967295|I>>>12),I=R+(L^j&(C^L))+M[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^L&(R^C))+M[10]+38016083&4294967295,j=R+(I<<9&4294967295|I>>>23),I=L+(R^C&(j^R))+M[15]+3634488961&4294967295,L=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(L^j))+M[4]+3889429448&4294967295,C=L+(I<<20&4294967295|I>>>12),I=R+(L^j&(C^L))+M[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^L&(R^C))+M[14]+3275163606&4294967295,j=R+(I<<9&4294967295|I>>>23),I=L+(R^C&(j^R))+M[3]+4107603335&4294967295,L=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(L^j))+M[8]+1163531501&4294967295,C=L+(I<<20&4294967295|I>>>12),I=R+(L^j&(C^L))+M[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^L&(R^C))+M[2]+4243563512&4294967295,j=R+(I<<9&4294967295|I>>>23),I=L+(R^C&(j^R))+M[7]+1735328473&4294967295,L=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(L^j))+M[12]+2368359562&4294967295,C=L+(I<<20&4294967295|I>>>12),I=R+(C^L^j)+M[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^L)+M[8]+2272392833&4294967295,j=R+(I<<11&4294967295|I>>>21),I=L+(j^R^C)+M[11]+1839030562&4294967295,L=j+(I<<16&4294967295|I>>>16),I=C+(L^j^R)+M[14]+4259657740&4294967295,C=L+(I<<23&4294967295|I>>>9),I=R+(C^L^j)+M[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^L)+M[4]+1272893353&4294967295,j=R+(I<<11&4294967295|I>>>21),I=L+(j^R^C)+M[7]+4139469664&4294967295,L=j+(I<<16&4294967295|I>>>16),I=C+(L^j^R)+M[10]+3200236656&4294967295,C=L+(I<<23&4294967295|I>>>9),I=R+(C^L^j)+M[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^L)+M[0]+3936430074&4294967295,j=R+(I<<11&4294967295|I>>>21),I=L+(j^R^C)+M[3]+3572445317&4294967295,L=j+(I<<16&4294967295|I>>>16),I=C+(L^j^R)+M[6]+76029189&4294967295,C=L+(I<<23&4294967295|I>>>9),I=R+(C^L^j)+M[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^L)+M[12]+3873151461&4294967295,j=R+(I<<11&4294967295|I>>>21),I=L+(j^R^C)+M[15]+530742520&4294967295,L=j+(I<<16&4294967295|I>>>16),I=C+(L^j^R)+M[2]+3299628645&4294967295,C=L+(I<<23&4294967295|I>>>9),I=R+(L^(C|~j))+M[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~L))+M[7]+1126891415&4294967295,j=R+(I<<10&4294967295|I>>>22),I=L+(R^(j|~C))+M[14]+2878612391&4294967295,L=j+(I<<15&4294967295|I>>>17),I=C+(j^(L|~R))+M[5]+4237533241&4294967295,C=L+(I<<21&4294967295|I>>>11),I=R+(L^(C|~j))+M[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~L))+M[3]+2399980690&4294967295,j=R+(I<<10&4294967295|I>>>22),I=L+(R^(j|~C))+M[10]+4293915773&4294967295,L=j+(I<<15&4294967295|I>>>17),I=C+(j^(L|~R))+M[1]+2240044497&4294967295,C=L+(I<<21&4294967295|I>>>11),I=R+(L^(C|~j))+M[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~L))+M[15]+4264355552&4294967295,j=R+(I<<10&4294967295|I>>>22),I=L+(R^(j|~C))+M[6]+2734768916&4294967295,L=j+(I<<15&4294967295|I>>>17),I=C+(j^(L|~R))+M[13]+1309151649&4294967295,C=L+(I<<21&4294967295|I>>>11),I=R+(L^(C|~j))+M[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~L))+M[11]+3174756917&4294967295,j=R+(I<<10&4294967295|I>>>22),I=L+(R^(j|~C))+M[2]+718787259&4294967295,L=j+(I<<15&4294967295|I>>>17),I=C+(j^(L|~R))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+j&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var C=R-this.blockSize,M=this.B,L=this.h,j=0;j<R;){if(L==0)for(;j<=C;)a(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<R;)if(M[L++]=x.charCodeAt(j++),L==this.blockSize){a(this,M),L=0;break}}else for(;j<R;)if(M[L++]=x[j++],L==this.blockSize){a(this,M),L=0;break}}this.h=L,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var C=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=C&255,C/=256;for(this.u(x),x=Array(16),R=C=0;4>R;++R)for(var M=0;32>M;M+=8)x[C++]=this.g[R]>>>M&255;return x};function l(x,R){var C=d;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function c(x,R){this.h=R;for(var C=[],M=!0,L=x.length-1;0<=L;L--){var j=x[L]|0;M&&j==R||(C[L]=j,M=!1)}this.g=C}var d={};function p(x){return-128<=x&&128>x?l(x,function(R){return new c([R|0],0>R?-1:0)}):new c([x|0],0>x?-1:0)}function m(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return z(m(-x));for(var R=[],C=1,M=0;x>=C;M++)R[M]=x/C|0,C*=4294967296;return new c(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return z(v(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(R,8)),M=T,L=0;L<x.length;L+=8){var j=Math.min(8,x.length-L),I=parseInt(x.substring(L,L+j),R);8>j?(j=m(Math.pow(R,j)),M=M.j(j).add(m(I))):(M=M.j(C),M=M.add(m(I)))}return M}var T=p(0),S=p(1),A=p(16777216);r=c.prototype,r.m=function(){if(X(this))return-z(this).m();for(var x=0,R=1,C=0;C<this.g.length;C++){var M=this.i(C);x+=(0<=M?M:4294967296+M)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D(this))return"0";if(X(this))return"-"+z(this).toString(x);for(var R=m(Math.pow(x,6)),C=this,M="";;){var L=pe(C,R).g;C=te(C,L.j(R));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=L,D(C))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function D(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function X(x){return x.h==-1}r.l=function(x){return x=te(this,x),X(x)?-1:D(x)?0:1};function z(x){for(var R=x.g.length,C=[],M=0;M<R;M++)C[M]=~x.g[M];return new c(C,~x.h).add(S)}r.abs=function(){return X(this)?z(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],M=0,L=0;L<=R;L++){var j=M+(this.i(L)&65535)+(x.i(L)&65535),I=(j>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);M=I>>>16,j&=65535,I&=65535,C[L]=I<<16|j}return new c(C,C[C.length-1]&-2147483648?-1:0)};function te(x,R){return x.add(z(R))}r.j=function(x){if(D(this)||D(x))return T;if(X(this))return X(x)?z(this).j(z(x)):z(z(this).j(x));if(X(x))return z(this.j(z(x)));if(0>this.l(A)&&0>x.l(A))return m(this.m()*x.m());for(var R=this.g.length+x.g.length,C=[],M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<x.g.length;L++){var j=this.i(M)>>>16,I=this.i(M)&65535,xe=x.i(L)>>>16,Ye=x.i(L)&65535;C[2*M+2*L]+=I*Ye,H(C,2*M+2*L),C[2*M+2*L+1]+=j*Ye,H(C,2*M+2*L+1),C[2*M+2*L+1]+=I*xe,H(C,2*M+2*L+1),C[2*M+2*L+2]+=j*xe,H(C,2*M+2*L+2)}for(M=0;M<R;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=R;M<2*R;M++)C[M]=0;return new c(C,0)};function H(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function re(x,R){this.g=x,this.h=R}function pe(x,R){if(D(R))throw Error("division by zero");if(D(x))return new re(T,T);if(X(x))return R=pe(z(x),R),new re(z(R.g),z(R.h));if(X(R))return R=pe(x,z(R)),new re(z(R.g),R.h);if(30<x.g.length){if(X(x)||X(R))throw Error("slowDivide_ only works with positive integers.");for(var C=S,M=R;0>=M.l(x);)C=se(C),M=se(M);var L=k(C,1),j=k(M,1);for(M=k(M,2),C=k(C,2);!D(M);){var I=j.add(M);0>=I.l(x)&&(L=L.add(C),j=I),M=k(M,1),C=k(C,1)}return R=te(x,L.j(R)),new re(L,R)}for(L=T;0<=x.l(R);){for(C=Math.max(1,Math.floor(x.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=m(C),I=j.j(R);X(I)||0<I.l(x);)C-=M,j=m(C),I=j.j(R);D(j)&&(j=S),L=L.add(j),x=te(x,I)}return new re(L,x)}r.A=function(x){return pe(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)&x.i(M);return new c(C,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)|x.i(M);return new c(C,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)^x.i(M);return new c(C,this.h^x.h)};function se(x){for(var R=x.g.length+1,C=[],M=0;M<R;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new c(C,x.h)}function k(x,R){var C=R>>5;R%=32;for(var M=x.g.length-C,L=[],j=0;j<M;j++)L[j]=0<R?x.i(j+C)>>>R|x.i(j+C+1)<<32-R:x.i(j+C);return new c(L,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,VS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,Ms=c}).apply(typeof WE<"u"?WE:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LS,lu,kS,xh,pm,US,jS,zS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function a(h,y){if(y)e:{var _=s;h=h.split(".");for(var w=0;w<h.length-1;w++){var q=h[w];if(!(q in _))break e;_=_[q]}h=h[h.length-1],w=_[h],y=y(w),y!=w&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,w=!1,q={next:function(){if(!w&&_<h.length){var Z=_++;return{value:y(Z,h[Z]),done:!1}}return w=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function T(h,y,_){if(!h)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,w),h.apply(y,q)}}return function(){return h.apply(y,arguments)}}function S(h,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function A(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function D(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(w,q,Z){for(var me=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)me[rt-2]=arguments[rt];return y.prototype[q].apply(w,me)}}function X(h){const y=h.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=h[w];return _}return[]}function z(h,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const q=h.length||0,Z=w.length||0;h.length=q+Z;for(let me=0;me<Z;me++)h[q+me]=w[me]}else h.push(w)}}class te{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(h){return/^[\s\xa0]*$/.test(h)}function re(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function pe(h){return pe[" "](h),h}pe[" "]=function(){};var se=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function k(h,y,_){for(const w in h)y.call(_,h[w],w,h)}function x(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function R(h){const y={};for(const _ in h)y[_]=h[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let _,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(_ in w)h[_]=w[_];for(let Z=0;Z<C.length;Z++)_=C[Z],Object.prototype.hasOwnProperty.call(w,_)&&(h[_]=w[_])}}function L(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function j(h){d.setTimeout(()=>{throw h},0)}function I(){var h=ke;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class xe{constructor(){this.h=this.g=null}add(y,_){const w=Ye.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Ye=new te(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ge=!1,ke=new xe,O=()=>{const h=d.Promise.resolve(void 0);he=()=>{h.then(ee)}};var ee=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(_){j(_)}var y=Ye;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ge=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Te=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h})();function Fe(h,y){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(se){e:{try{pe(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ne[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Fe.aa.h.call(this)}}D(Fe,ce);var Ne={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),yt=0;function Wn(h,y,_,w,q){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=q,this.key=++yt,this.da=this.fa=!1}function Ct(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function mn(h){this.src=h,this.g={},this.h=0}mn.prototype.add=function(h,y,_,w,q){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var me=li(h,y,w,q);return-1<me?(y=h[me],_||(y.fa=!1)):(y=new Wn(y,this.src,Z,!!w,q),y.fa=_,h.push(y)),y};function Pr(h,y){var _=y.type;if(_ in h.g){var w=h.g[_],q=Array.prototype.indexOf.call(w,y,void 0),Z;(Z=0<=q)&&Array.prototype.splice.call(w,q,1),Z&&(Ct(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function li(h,y,_,w){for(var q=0;q<h.length;++q){var Z=h[q];if(!Z.da&&Z.listener==y&&Z.capture==!!_&&Z.ha==w)return q}return-1}var wn="closure_lm_"+(1e6*Math.random()|0),$s={};function Ua(h,y,_,w,q){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)Ua(h,y[Z],_,w,q);return null}return _=Gi(_),h&&h[Ut]?h.K(y,_,m(w)?!!w.capture:!1,q):An(h,y,_,!1,w,q)}function An(h,y,_,w,q,Z){if(!y)throw Error("Invalid event type");var me=m(q)?!!q.capture:!!q,rt=Jn(h);if(rt||(h[wn]=rt=new mn(h)),_=rt.add(y,_,w,me,Z),_.proxy)return _;if(w=tl(),_.proxy=w,w.src=h,w.listener=_,h.addEventListener)Te||(q=me),q===void 0&&(q=!1),h.addEventListener(y.toString(),w,q);else if(h.attachEvent)h.attachEvent(ui(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function tl(){function h(_){return y.call(h.src,h.listener,_)}const y=_r;return h}function Ks(h,y,_,w,q){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)Ks(h,y[Z],_,w,q);else w=m(w)?!!w.capture:!!w,_=Gi(_),h&&h[Ut]?(h=h.i,y=String(y).toString(),y in h.g&&(Z=h.g[y],_=li(Z,_,w,q),-1<_&&(Ct(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete h.g[y],h.h--)))):h&&(h=Jn(h))&&(y=h.g[y.toString()],h=-1,y&&(h=li(y,_,w,q)),(_=-1<h?y[h]:null)&&Fi(_))}function Fi(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ut])Pr(y.i,h);else{var _=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(_,w,h.capture):y.detachEvent?y.detachEvent(ui(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Jn(y))?(Pr(_,h),_.h==0&&(_.src=null,y[wn]=null)):Ct(h)}}}function ui(h){return h in $s?$s[h]:$s[h]="on"+h}function _r(h,y){if(h.da)h=!0;else{y=new Fe(y,this);var _=h.listener,w=h.ha||h.src;h.fa&&Fi(h),h=_.call(w,y)}return h}function Jn(h){return h=h[wn],h instanceof mn?h:null}var qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(h){return typeof h=="function"?h:(h[qi]||(h[qi]=function(y){return h.handleEvent(y)}),h[qi])}function lt(){de.call(this),this.i=new mn(this),this.M=this,this.F=null}D(lt,de),lt.prototype[Ut]=!0,lt.prototype.removeEventListener=function(h,y,_,w){Ks(this,h,y,_,w)};function $e(h,y){var _,w=h.F;if(w)for(_=[];w;w=w.F)_.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new ce(y,h);else if(y instanceof ce)y.target=y.target||h;else{var q=y;y=new ce(w,h),M(y,q)}if(q=!0,_)for(var Z=_.length-1;0<=Z;Z--){var me=y.g=_[Z];q=gn(me,w,!0,y)&&q}if(me=y.g=h,q=gn(me,w,!0,y)&&q,q=gn(me,w,!1,y)&&q,_)for(Z=0;Z<_.length;Z++)me=y.g=_[Z],q=gn(me,w,!1,y)&&q}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],w=0;w<_.length;w++)Ct(_[w]);delete h.g[y],h.h--}}this.F=null},lt.prototype.K=function(h,y,_,w){return this.i.add(String(h),y,!1,_,w)},lt.prototype.L=function(h,y,_,w){return this.i.add(String(h),y,!0,_,w)};function gn(h,y,_,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Z=0;Z<y.length;++Z){var me=y[Z];if(me&&!me.da&&me.capture==_){var rt=me.listener,$t=me.ha||me.src;me.fa&&Pr(h.i,me),q=rt.call($t,w)!==!1&&q}}return q&&!w.defaultPrevented}function jt(h,y,_){if(typeof h=="function")_&&(h=S(h,_));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function ja(h){h.g=jt(()=>{h.g=null,h.i&&(h.i=!1,ja(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Zn extends de{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ja(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(h){de.call(this),this.h=h,this.g={}}D(Vr,de);var Lr=[];function kr(h){k(h.g,function(y,_){this.g.hasOwnProperty(_)&&Fi(y)},h),h.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),kr(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=d.JSON.stringify,ci=d.JSON.parse,er=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function $i(){}$i.prototype.h=null;function hi(h){return h.h||(h.h=h.i())}function Ys(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Er(){ce.call(this,"d")}D(Er,ce);function Ki(){ce.call(this,"c")}D(Ki,ce);var Rn={},Ur=null;function jr(){return Ur=Ur||new lt}Rn.La="serverreachability";function Yi(h){ce.call(this,Rn.La,h)}D(Yi,ce);function P(h){const y=jr();$e(y,new Yi(y))}Rn.STAT_EVENT="statevent";function F(h,y){ce.call(this,Rn.STAT_EVENT,h),this.stat=y}D(F,ce);function Y(h){const y=jr();$e(y,new F(y,h))}Rn.Ma="timingevent";function le(h,y){ce.call(this,Rn.Ma,h),this.size=y}D(le,ce);function fe(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function ye(){this.g=!0}ye.prototype.xa=function(){this.g=!1};function Re(h,y,_,w,q,Z){h.info(function(){if(h.g)if(Z)for(var me="",rt=Z.split("&"),$t=0;$t<rt.length;$t++){var it=rt[$t].split("=");if(1<it.length){var Zt=it[0];it=it[1];var Kt=Zt.split("_");me=2<=Kt.length&&Kt[1]=="type"?me+(Zt+"="+it+"&"):me+(Zt+"=redacted&")}}else me=null;else me=Z;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+_+`
`+me})}function be(h,y,_,w,q,Z,me){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+_+`
`+Z+" "+me})}function we(h,y,_,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ae(h,_)+(w?" "+w:"")})}function De(h,y){h.info(function(){return"TIMEOUT: "+y})}ye.prototype.info=function(){};function Ae(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var w=_[h];if(!(2>w.length)){var q=w[1];if(Array.isArray(q)&&!(1>q.length)){var Z=q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var me=1;me<q.length;me++)q[me]=""}}}}return jn(_)}catch{return y}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nt;function pt(){}D(pt,$i),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},nt=new pt;function ut(h,y,_,w){this.j=h,this.i=y,this.l=_,this.R=w||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ze}function ze(){this.i=null,this.g="",this.h=!1}var ct={},Mn={};function an(h,y,_){h.L=1,h.v=Ws(Hn(y)),h.m=_,h.P=!0,Wt(h,null)}function Wt(h,y){h.F=Date.now(),zn(h),h.A=Hn(h.v);var _=h.A,w=h.R;Array.isArray(w)||(w=[String(w)]),al(_.i,"t",w),h.C=0,_=h.j.J,h.h=new ze,h.g=ic(h.j,_?y:null,!h.m),0<h.O&&(h.M=new Zn(S(h.Y,h,h.g),h.O)),y=h.U,_=h.g,w=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(Lr[0]=q.toString()),q=Lr);for(var Z=0;Z<q.length;Z++){var me=Ua(_,q[Z],w||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),P(),Re(h.i,h.u,h.A,h.l,h.R,h.m)}ut.prototype.ca=function(h){h=h.target;const y=this.M;y&&ar(h)==3?y.j():this.Y(h)},ut.prototype.Y=function(h){try{if(h==this.g)e:{const Kt=ar(this.g);var y=this.g.Ba();const vi=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Xu(this.g)))){this.J||Kt!=4||y==7||(y==8||0>=vi?P(3):P(2)),Bn(this);var _=this.g.Z();this.X=_;t:if(Cn(this)){var w=Xu(this.g);h="";var q=w.length,Z=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),In(this);var me="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,h+=this.h.i.decode(w[y],{stream:!(Z&&y==q-1)});w.length=0,this.h.g+=h,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,be(this.i,this.u,this.A,this.l,this.R,Kt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,$t=this.g;if((rt=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(rt)){var it=rt;break t}}it=null}if(_=it)we(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,It(this,_);else{this.o=!1,this.s=3,Y(12),Me(this),In(this);break e}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<me.length;)if(ln=Qi(this,me),ln==Mn){Kt==4&&(this.s=4,Y(14),_=!1),we(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==ct){this.s=4,Y(15),we(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else we(this.i,this.l,ln,null),It(this,ln);if(Cn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||me.length!=0||this.h.h||(this.s=1,Y(16),_=!1),this.o=this.o&&_,!_)we(this.i,this.l,me,"[Invalid Chunked Response]"),Me(this),In(this);else if(0<me.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),sa(Zt),Zt.M=!0,Y(11))}}else we(this.i,this.l,me,null),It(this,me);Kt==4&&Me(this),this.o&&!this.J&&(Kt==4?tc(this.j,this):(this.o=!1,zn(this)))}else kf(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,Y(12)):(this.s=0,Y(13)),Me(this),In(this)}}}catch{}finally{}};function Cn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Qi(h,y){var _=h.C,w=y.indexOf(`
`,_);return w==-1?Mn:(_=Number(y.substring(_,w)),isNaN(_)?ct:(w+=1,w+_>y.length?Mn:(y=y.slice(w,w+_),h.C=w+_,y)))}ut.prototype.cancel=function(){this.J=!0,Me(this)};function zn(h){h.S=Date.now()+h.I,nr(h,h.I)}function nr(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=fe(S(h.ba,h),y)}function Bn(h){h.B&&(d.clearTimeout(h.B),h.B=null)}ut.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(De(this.i,this.A),this.L!=2&&(P(),Y(17)),Me(this),this.s=2,In(this)):nr(this,this.S-h)};function In(h){h.j.G==0||h.J||tc(h.j,h)}function Me(h){Bn(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,kr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function It(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||Xi(_.h,h))){if(!h.K&&Xi(_.h,h)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ya(_),$a(_);else break e;hl(_),Y(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=fe(S(_.Za,_),6e3));if(1>=Sr(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else yi(_,11)}else if((h.K||_.g==h)&&Ya(_),!H(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let it=q[y];if(_.T=it[0],it=it[1],_.G==2)if(it[0]=="c"){_.K=it[1],_.ia=it[2];const Zt=it[3];Zt!=null&&(_.la=Zt,_.j.info("VER="+_.la));const Kt=it[4];Kt!=null&&(_.Aa=Kt,_.j.info("SVER="+_.Aa));const vi=it[5];vi!=null&&typeof vi=="number"&&0<vi&&(w=1.5*vi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const ln=h.g;if(ln){const $r=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var Z=w.h;Z.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Wi(Z,Z.h),Z.h=null))}if(w.D){const dl=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(w.ya=dl,vt(w.I,w.D,dl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var me=h;if(w.qa=rc(w,w.J?w.ia:null,w.W),me.K){xn(w.h,me);var rt=me,$t=w.L;$t&&(rt.I=$t),rt.B&&(Bn(rt),zn(rt)),w.g=me}else Zu(w);0<_.i.length&&Ka(_)}else it[0]!="stop"&&it[0]!="close"||yi(_,7);else _.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?yi(_,7):ul(_):it[0]!="noop"&&_.l&&_.l.ta(it),_.v=0)}}P(4)}catch{}}var Tr=class{constructor(h,y){this.g=h,this.map=y}};function on(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bt(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Sr(h){return h.h?1:h.g?h.g.size:0}function Xi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Wi(h,y){h.g?h.g.add(y):h.h=y}function xn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}on.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function nl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return X(h.i)}function Mf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],_=h.length,w=0;w<_;w++)y.push(h[w]);return y}y=[],_=0;for(w in h)y[_++]=h[w];return y}function za(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const w in h)y[_++]=w;return y}}}function rl(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=za(h),w=Mf(h),q=w.length,Z=0;Z<q;Z++)y.call(void 0,w[Z],_&&_[Z],h)}var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pf(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var w=h[_].indexOf("="),q=null;if(0<=w){var Z=h[_].substring(0,w);q=h[_].substring(w+1)}else Z=h[_];y(Z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function zt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof zt){this.h=h.h,Xs(this,h.j),this.o=h.o,this.g=h.g,Ji(this,h.s),this.l=h.l;var y=h.i,_=new di;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),fi(this,_),this.m=h.m}else h&&(y=String(h).match(Qs))?(this.h=!1,Xs(this,y[1]||"",!0),this.o=rr(y[2]||""),this.g=rr(y[3]||"",!0),Ji(this,y[4]),this.l=rr(y[5]||"",!0),fi(this,y[6]||"",!0),this.m=rr(y[7]||"")):(this.h=!1,this.i=new di(null,this.h))}zt.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Js(y,il,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Js(y,il,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Js(_,_.charAt(0)=="/"?Vf:sl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Js(_,Ba)),h.join("")};function Hn(h){return new zt(h)}function Xs(h,y,_){h.j=_?rr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ji(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function fi(h,y,_){y instanceof di?(h.i=y,Yu(h.i,h.h)):(_||(y=Js(y,Lf)),h.i=new di(y,h.h))}function vt(h,y,_){h.i.set(y,_)}function Ws(h){return vt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function rr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Js(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,Ku),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ku(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var il=/[#\/\?@]/g,sl=/[#\?:]/g,Vf=/[#\?]/g,Lf=/[#\?@]/g,Ba=/#/g;function di(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function ir(h){h.g||(h.g=new Map,h.h=0,h.i&&Pf(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=di.prototype,r.add=function(h,y){ir(this),this.i=null,h=zr(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function pi(h,y){ir(h),y=zr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function mi(h,y){return ir(h),y=zr(h,y),h.g.has(y)}r.forEach=function(h,y){ir(this),this.g.forEach(function(_,w){_.forEach(function(q){h.call(y,q,w,this)},this)},this)},r.na=function(){ir(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const q=h[w];for(let Z=0;Z<q.length;Z++)_.push(y[w])}return _},r.V=function(h){ir(this);let y=[];if(typeof h=="string")mi(this,h)&&(y=y.concat(this.g.get(zr(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},r.set=function(h,y){return ir(this),this.i=null,h=zr(this,h),mi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function al(h,y,_){pi(h,y),0<_.length&&(h.i=null,h.g.set(zr(h,y),X(_)),h.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const Z=encodeURIComponent(String(w)),me=this.V(w);for(w=0;w<me.length;w++){var q=Z;me[w]!==""&&(q+="="+encodeURIComponent(String(me[w]))),h.push(q)}}return this.i=h.join("&")};function zr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Yu(h,y){y&&!h.j&&(ir(h),h.i=null,h.g.forEach(function(_,w){var q=w.toLowerCase();w!=q&&(pi(this,w),al(this,q,_))},h)),h.j=y}function Zs(h,y){const _=new ye;if(d.Image){const w=new Image;w.onload=A(sr,_,"TestLoadImage: loaded",!0,y,w),w.onerror=A(sr,_,"TestLoadImage: error",!1,y,w),w.onabort=A(sr,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=A(sr,_,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function br(h,y){const _=new ye,w=new AbortController,q=setTimeout(()=>{w.abort(),sr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(Z=>{clearTimeout(q),Z.ok?sr(_,"TestPingServer: ok",!0,y):sr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),sr(_,"TestPingServer: error",!1,y)})}function sr(h,y,_,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(_)}catch{}}function ea(){this.g=new er}function Br(h,y,_){const w=_||"";try{rl(h,function(q,Z){let me=q;m(q)&&(me=jn(q)),y.push(w+Z+"="+encodeURIComponent(me))})}catch(q){throw y.push(w+"type="+encodeURIComponent("_badmap")),q}}function Zi(h){this.l=h.Ub||null,this.j=h.eb||!1}D(Zi,$i),Zi.prototype.g=function(){return new gi(this.l,this.j)},Zi.prototype.i=(function(h){return function(){return h}})({});function gi(h,y){lt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(gi,lt),r=gi.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Fr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Hr(this):Fr(this),this.readyState==3&&ol(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,Hr(this))},r.Qa=function(h){this.g&&(this.response=h,Hr(this))},r.ga=function(){this.g&&Hr(this)};function Hr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Fr(h)}r.setRequestHeader=function(h,y){this.u.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function Fr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ll(h){let y="";return k(h,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Jt(h,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=ll(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):vt(h,y,_))}function ft(h){lt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(ft,lt);var Ha=/^https?$/i,ta=["POST","PUT"];r=ft.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nt.g(),this.v=this.o?hi(this.o):hi(nt),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Z){Qu(this,Z);return}if(h=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)_.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Z of w.keys())_.set(Z,w.get(Z));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ta,y,void 0))||w||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of _)this.g.setRequestHeader(Z,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{na(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){Qu(this,Z)}};function Qu(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Fa(h),qr(h)}function Fa(h){h.A||(h.A=!0,$e(h,"complete"),$e(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,$e(this,"complete"),$e(this,"abort"),qr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qr(this,!0)),ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},r.bb=function(){qa(this)};function qa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ar(h)!=4||h.Z()!=2)){if(h.u&&ar(h)==4)jt(h.Ea,0,h);else if($e(h,"readystatechange"),ar(h)==4){h.h=!1;try{const me=h.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=me===0){var q=String(h.D).match(Qs)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),w=!Ha.test(q?q.toLowerCase():"")}_=w}if(_)$e(h,"complete"),$e(h,"success");else{h.m=6;try{var Z=2<ar(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",Fa(h)}}finally{qr(h)}}}}function qr(h,y){if(h.g){na(h);const _=h.g,w=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||$e(h,"ready");try{_.onreadystatechange=w}catch{}}}function na(h){h.I&&(d.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),ci(y)}};function Xu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function kf(h){const y={};h=(h.g&&2<=ar(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(H(h[w]))continue;var _=L(h[w]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=y[q]||[];y[q]=Z,Z.push(_)}x(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function Ga(h){this.Aa=0,this.i=[],this.j=new ye,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,h),this.cb=ra("retryDelaySeedMs",1e4,h),this.Wa=ra("forwardChannelMaxRetries",2,h),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new on(h&&h.concurrentRequestLimit),this.Da=new ea,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ga.prototype,r.la=8,r.G=1,r.connect=function(h,y,_,w){Y(0),this.W=h,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=rc(this,null,this.W),Ka(this)};function ul(h){if(Wu(h),h.G==3){var y=h.U++,_=Hn(h.I);if(vt(_,"SID",h.K),vt(_,"RID",y),vt(_,"TYPE","terminate"),ia(h,_),y=new ut(h,h.j,y),y.L=2,y.v=Ws(Hn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=ic(y.j,null),y.g.ea(y.v)),y.F=Date.now(),zn(y)}nc(h)}function $a(h){h.g&&(sa(h),h.g.cancel(),h.g=null)}function Wu(h){$a(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ya(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ka(h){if(!bt(h.h)&&!h.s){h.s=!0;var y=h.Ga;he||O(),ge||(he(),ge=!0),ke.add(y,h),h.B=0}}function Uf(h,y){return Sr(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=fe(S(h.Ga,h,y),fl(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new ut(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=R(Z),M(Z,this.S)):Z=this.S),this.m!==null||this.O||(q.H=Z,Z=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ju(this,q,y),_=Hn(this.I),vt(_,"RID",h),vt(_,"CVER",22),this.D&&vt(_,"X-HTTP-Session-Id",this.D),ia(this,_),Z&&(this.O?y="headers="+encodeURIComponent(String(ll(Z)))+"&"+y:this.m&&Jt(_,this.m,Z)),Wi(this.h,q),this.Ua&&vt(_,"TYPE","init"),this.P?(vt(_,"$req",y),vt(_,"SID","null"),q.T=!0,an(q,_,null)):an(q,_,y),this.G=2}}else this.G==3&&(h?cl(this,h):this.i.length==0||bt(this.h)||cl(this))};function cl(h,y){var _;y?_=y.l:_=h.U++;const w=Hn(h.I);vt(w,"SID",h.K),vt(w,"RID",_),vt(w,"AID",h.T),ia(h,w),h.m&&h.o&&Jt(w,h.m,h.o),_=new ut(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Ju(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Wi(h.h,_),an(_,w,y)}function ia(h,y){h.H&&k(h.H,function(_,w){vt(y,w,_)}),h.l&&rl({},function(_,w){vt(y,w,_)})}function Ju(h,y,_){_=Math.min(h.i.length,_);var w=h.l?S(h.l.Na,h.l,h):null;e:{var q=h.i;let Z=-1;for(;;){const me=["count="+_];Z==-1?0<_?(Z=q[0].g,me.push("ofs="+Z)):Z=0:me.push("ofs="+Z);let rt=!0;for(let $t=0;$t<_;$t++){let it=q[$t].g;const Zt=q[$t].map;if(it-=Z,0>it)Z=Math.max(0,q[$t].g-100),rt=!1;else try{Br(Zt,me,"req"+it+"_")}catch{w&&w(Zt)}}if(rt){w=me.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,w}function Zu(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;he||O(),ge||(he(),ge=!0),ke.add(y,h),h.v=0}}function hl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=fe(S(h.Fa,h),fl(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=fe(S(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Y(10),$a(this),ec(this))};function sa(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function ec(h){h.g=new ut(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Hn(h.qa);vt(y,"RID","rpc"),vt(y,"SID",h.K),vt(y,"AID",h.T),vt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&vt(y,"TO",h.ja),vt(y,"TYPE","xmlhttp"),ia(h,y),h.m&&h.o&&Jt(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Ws(Hn(y)),_.m=null,_.P=!0,Wt(_,h)}r.Za=function(){this.C!=null&&(this.C=null,$a(this),hl(this),Y(19))};function Ya(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function tc(h,y){var _=null;if(h.g==y){Ya(h),sa(h),h.g=null;var w=2}else if(Xi(h.h,y))_=y.D,xn(h.h,y),w=1;else return;if(h.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=h.B;w=jr(),$e(w,new le(w,_)),Ka(h)}else Zu(h);else if(q=y.s,q==3||q==0&&0<y.X||!(w==1&&Uf(h,y)||w==2&&hl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),q){case 1:yi(h,5);break;case 4:yi(h,10);break;case 3:yi(h,6);break;default:yi(h,2)}}}function fl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function yi(h,y){if(h.j.info("Error code "+y),y==2){var _=S(h.fb,h),w=h.Xa;const q=!w;w=new zt(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xs(w,"https"),Ws(w),q?Zs(w.toString(),_):br(w.toString(),_)}else Y(2);h.G=0,h.l&&h.l.sa(y),nc(h),Wu(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Y(2)):(this.j.info("Failed to ping google.com"),Y(1))};function nc(h){if(h.G=0,h.ka=[],h.l){const y=nl(h.h);(y.length!=0||h.i.length!=0)&&(z(h.ka,y),z(h.ka,h.i),h.h.i.length=0,X(h.i),h.i.length=0),h.l.ra()}}function rc(h,y,_){var w=_ instanceof zt?Hn(_):new zt(_);if(w.g!="")y&&(w.g=y+"."+w.g),Ji(w,w.s);else{var q=d.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Z=new zt(null);w&&Xs(Z,w),y&&(Z.g=y),q&&Ji(Z,q),_&&(Z.l=_),w=Z}return _=h.D,y=h.ya,_&&y&&vt(w,_,y),vt(w,"VER",h.la),ia(h,w),w}function ic(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new ft(new Zi({eb:_})):new ft(h.pa),y.Ha(h.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function sc(){}r=sc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Qa(){}Qa.prototype.g=function(h,y){return new Dn(h,y)};function Dn(h,y){lt.call(this),this.g=new Ga(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!H(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Gr(this)}D(Dn,lt),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){ul(this.g)},Dn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=jn(h),h=_);y.i.push(new Tr(y.Ya++,h)),y.G==3&&Ka(y)},Dn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,Dn.aa.N.call(this)};function ac(h){Er.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}D(ac,Er);function oc(){Ki.call(this),this.status=1}D(oc,Ki);function Gr(h){this.g=h}D(Gr,sc),Gr.prototype.ua=function(){$e(this.g,"a")},Gr.prototype.ta=function(h){$e(this.g,new ac(h))},Gr.prototype.sa=function(h){$e(this.g,new oc)},Gr.prototype.ra=function(){$e(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,zS=function(){return new Qa},jS=function(){return jr()},US=Rn,pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,xh=Ee,qe.COMPLETE="complete",kS=qe,Ys.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,lu=Ys,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,LS=ft}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const JE="@firebase/firestore",ZE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Gm("@firebase/firestore");function Co(){return xa.logLevel}function ve(r,...e){if(xa.logLevel<=Ze.DEBUG){const t=e.map(ng);xa.debug(`Firestore (${Xo}): ${r}`,...t)}}function ji(r,...e){if(xa.logLevel<=Ze.ERROR){const t=e.map(ng);xa.error(`Firestore (${Xo}): ${r}`,...t)}}function zo(r,...e){if(xa.logLevel<=Ze.WARN){const t=e.map(ng);xa.warn(`Firestore (${Xo}): ${r}`,...t)}}function ng(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,BS(r,s,t)}function BS(r,e,t){let s=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ji(s),new Error(s)}function dt(r,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,r||BS(e,a,s)}function He(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Hi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(En.UNAUTHENTICATED)))}shutdown(){}}class EN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class TN{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dt(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ps,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ps)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(dt(typeof s.accessToken=="string",31837,{l:s}),new HS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class SN{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new SN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dt(this.o===void 0,3512);const s=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(dt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new eT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=AN(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function et(r,e){return r<e?-1:r>e?1:0}function mm(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const a=r.charAt(s),l=e.charAt(s);if(a!==l)return Kp(a)===Kp(l)?et(a,l):Kp(a)?1:-1}return et(r.length,e.length)}const RN=55296,CN=57343;function Kp(r){const e=r.charCodeAt(0);return e>=RN&&e<=CN}function Bo(r,e,t){return r.length===e.length&&r.every(((s,a)=>t(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__name__";class Jr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Le(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Le(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Jr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return et(e.length,t.length)}static compareSegments(e,t){const s=Jr.isNumericId(e),a=Jr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Jr.extractNumericId(e).compare(Jr.extractNumericId(t)):mm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class At extends Jr{construct(e,t,s){return new At(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new At(t)}static emptyPath(){return new At([])}}const IN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Jr{construct(e,t,s){return new dn(e,t,s)}static isValidIdentifier(e){return IN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tT}static keyField(){return new dn([tT])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new _e(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new _e(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new _e(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(t)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(At.fromString(e))}static fromName(e){return new Ie(At.fromString(e).popFirst(5))}static empty(){return new Ie(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return At.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(r,e,t){if(!t)throw new _e(oe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function xN(r,e,t,s){if(e===!0&&s===!0)throw new _e(oe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function nT(r){if(!Ie.isDocumentKey(r))throw new _e(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function rT(r){if(Ie.isDocumentKey(r))throw new _e(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function qS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Le(12329,{type:typeof r})}function $h(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vf(r);throw new _e(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Bu(r,e){if(!qS(r))throw new _e(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const c=r[s];if(a&&typeof c!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new _e(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=-62135596800,sT=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*sT);return new Rt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<iT)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sT}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bu(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:Gt("string",Rt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Rt(0,0))}static max(){return new Be(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=-1;function DN(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(s===1e9?new Rt(t+1,0):new Rt(t,s));return new ks(a,Ie.empty(),e)}function NN(r){return new ks(r.readTime,r.key,Au)}class ks{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ks(Be.min(),Ie.empty(),Au)}static max(){return new ks(Be.max(),Ie.empty(),Au)}}function ON(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(r.documentKey,e.documentKey),t!==0?t:et(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(r){if(r.code!==oe.FAILED_PRECONDITION||r.message!==MN)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,s)=>{t(e)}))}static reject(e){return new ue(((t,s)=>{s(e)}))}static waitFor(e){return new ue(((t,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(p=>s(p)))})),c=!0,l===a&&t()}))}static or(e){let t=ue.resolve(!1);for(const s of e)t=t.next((a=>a?ue.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new ue(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next((v=>{c[m]=v,++d,d===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new ue(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function VN(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Jo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_f.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=-1;function Ef(r){return r==null}function Kh(r){return r===0&&1/r==-1/0}function LN(r){return typeof r=="number"&&Number.isInteger(r)&&!Kh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="";function kN(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=aT(e)),e=UN(r.get(t),e);return aT(e)}function UN(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case GS:t+="";break;default:t+=l}}return t}function aT(r){return r+GS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ma(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function $S(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??fn.RED,this.left=a??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new fn(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lT(this.data.getIterator())}getIteratorFrom(e){return new lT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Xt(this.comparator);return t.data=e,t}}class lT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Ir([])}unionWith(e){let t=new Xt(dn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new KS("Invalid base64 string: "+l):l}})(e);return new pn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const jN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(r){if(dt(!!r,39018),typeof r=="string"){let e=0;const t=jN.exec(r);if(dt(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Lt(r.seconds),nanos:Lt(r.nanos)}}function Lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function js(r){return typeof r=="string"?pn.fromBase64String(r):pn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="server_timestamp",QS="__type__",XS="__previous_value__",WS="__local_write_time__";function sg(r){return(r?.mapValue?.fields||{})[QS]?.stringValue===YS}function Tf(r){const e=r.mapValue.fields[XS];return sg(e)?Tf(e):e}function Ru(r){const e=Us(r.mapValue.fields[WS].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t,s,a,l,c,d,p,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const Yh="(default)";class Cu{constructor(e,t){this.projectId=e,this.database=t||Yh}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(e){return e instanceof Cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="__type__",BN="__max__",ph={mapValue:{}},ZS="__vector__",Qh="value";function zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?sg(r)?4:FN(r)?9007199254740991:HN(r)?10:11:Le(28295,{value:r})}function oi(r,e){if(r===e)return!0;const t=zs(r);if(t!==zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ru(r).isEqual(Ru(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Us(a.timestampValue),d=Us(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return js(a.bytesValue).isEqual(js(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return Lt(a.geoPointValue.latitude)===Lt(l.geoPointValue.latitude)&&Lt(a.geoPointValue.longitude)===Lt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Lt(a.integerValue)===Lt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Lt(a.doubleValue),d=Lt(l.doubleValue);return c===d?Kh(c)===Kh(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Bo(r.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(oT(c)!==oT(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!oi(c[p],d[p])))return!1;return!0})(r,e);default:return Le(52216,{left:r})}}function Iu(r,e){return(r.values||[]).find((t=>oi(t,e)))!==void 0}function Ho(r,e){if(r===e)return 0;const t=zs(r),s=zs(e);if(t!==s)return et(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Lt(l.integerValue||l.doubleValue),p=Lt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,e);case 3:return uT(r.timestampValue,e.timestampValue);case 4:return uT(Ru(r),Ru(e));case 5:return mm(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=js(l),p=js(c);return d.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const v=et(d[m],p[m]);if(v!==0)return v}return et(d.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=et(Lt(l.latitude),Lt(c.latitude));return d!==0?d:et(Lt(l.longitude),Lt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return cT(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},m=d[Qh]?.arrayValue,v=p[Qh]?.arrayValue,T=et(m?.values?.length||0,v?.values?.length||0);return T!==0?T:cT(m,v)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===ph.mapValue&&c===ph.mapValue)return 0;if(l===ph.mapValue)return 1;if(c===ph.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=mm(p[T],v[T]);if(S!==0)return S;const A=Ho(d[p[T]],m[v[T]]);if(A!==0)return A}return et(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Le(23264,{he:t})}}function uT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return et(r,e);const t=Us(r),s=Us(e),a=et(t.seconds,s.seconds);return a!==0?a:et(t.nanos,s.nanos)}function cT(r,e){const t=r.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=Ho(t[a],s[a]);if(l)return l}return et(t.length,s.length)}function Fo(r){return gm(r)}function gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=Us(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return js(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ie.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=gm(l);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${gm(t.fields[c])}`;return a+"}"})(r.mapValue):Le(61005,{value:r})}function Dh(r){switch(zs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tf(r);return e?16+Dh(e):16;case 5:return 2*r.stringValue.length;case 6:return js(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Dh(l)),0)})(r.arrayValue);case 10:case 11:return(function(s){let a=0;return Ma(s.fields,((l,c)=>{a+=l.length+Dh(c)})),a})(r.mapValue);default:throw Le(13486,{value:r})}}function hT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ym(r){return!!r&&"integerValue"in r}function ag(r){return!!r&&"arrayValue"in r}function fT(r){return!!r&&"nullValue"in r}function dT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nh(r){return!!r&&"mapValue"in r}function HN(r){return(r?.mapValue?.fields||{})[JS]?.stringValue===ZS}function du(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ma(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=du(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=du(r.arrayValue.values[t]);return e}return{...r}}function FN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===BN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Nh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(t)}setAll(e){let t=dn.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=du(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Nh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ma(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new gr(du(this.value))}}function eb(r){const e=[];return Ma(r.fields,((t,s)=>{const a=new dn([t]);if(Nh(s)){const l=eb(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,t,s,a,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Tn(e,0,Be.min(),Be.min(),Be.min(),gr.empty(),0)}static newFoundDocument(e,t,s,a){return new Tn(e,1,t,Be.min(),s,a,0)}static newNoDocument(e,t){return new Tn(e,2,t,Be.min(),Be.min(),gr.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,Be.min(),Be.min(),gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.position=e,this.inclusive=t}}function pT(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?s=Ie.comparator(Ie.fromName(c.referenceValue),t.key):s=Ho(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function mT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!oi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function qN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{}class qt extends tb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new $N(e,t,s):t==="array-contains"?new QN(e,s):t==="in"?new XN(e,s):t==="not-in"?new WN(e,s):t==="array-contains-any"?new JN(e,s):new qt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new KN(e,s):new YN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ho(t,this.value)):t!==null&&zs(this.value)===zs(t)&&this.matchesComparison(Ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends tb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Dr(e,t)}matches(e){return nb(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nb(r){return r.op==="and"}function rb(r){return GN(r)&&nb(r)}function GN(r){for(const e of r.filters)if(e instanceof Dr)return!1;return!0}function vm(r){if(r instanceof qt)return r.field.canonicalString()+r.op.toString()+Fo(r.value);if(rb(r))return r.filters.map((e=>vm(e))).join(",");{const e=r.filters.map((t=>vm(t))).join(",");return`${r.op}(${e})`}}function ib(r,e){return r instanceof qt?(function(s,a){return a instanceof qt&&s.op===a.op&&s.field.isEqual(a.field)&&oi(s.value,a.value)})(r,e):r instanceof Dr?(function(s,a){return a instanceof Dr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&ib(c,a.filters[d])),!0):!1})(r,e):void Le(19439)}function sb(r){return r instanceof qt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Fo(t.value)}`})(r):r instanceof Dr?(function(t){return t.op.toString()+" {"+t.getFilters().map(sb).join(" ,")+"}"})(r):"Filter"}class $N extends qt{constructor(e,t,s){super(e,t,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class KN extends qt{constructor(e,t){super(e,"in",t),this.keys=ab("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class YN extends qt{constructor(e,t){super(e,"not-in",t),this.keys=ab("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ab(r,e){return(e.arrayValue?.values||[]).map((t=>Ie.fromName(t.referenceValue)))}class QN extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ag(t)&&Iu(t.arrayValue,this.value)}}class XN extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Iu(this.value.arrayValue,t)}}class WN extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Iu(this.value.arrayValue,t)}}class JN extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Iu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,t=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function gT(r,e=null,t=[],s=[],a=null,l=null,c=null){return new ZN(r,e,t,s,a,l,c)}function og(r){const e=He(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>vm(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Ef(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Fo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Fo(s))).join(",")),e.Te=t}return e.Te}function lg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!qN(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!ib(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!mT(r.startAt,e.startAt)&&mT(r.endAt,e.endAt)}function _m(r){return Ie.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,t=null,s=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eO(r,e,t,s,a,l,c,d){return new Hu(r,e,t,s,a,l,c,d)}function ob(r){return new Hu(r)}function yT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function lb(r){return r.collectionGroup!==null}function pu(r){const e=He(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Xt(dn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Wh(l,s))})),t.has(dn.keyField().canonicalString())||e.Ie.push(new Wh(dn.keyField(),s))}return e.Ie}function ri(r){const e=He(r);return e.Ee||(e.Ee=tO(e,pu(r))),e.Ee}function tO(r,e){if(r.limitType==="F")return gT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Wh(a.field,l)}));const t=r.endAt?new Xh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xh(r.startAt.position,r.startAt.inclusive):null;return gT(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Em(r,e){const t=r.filters.concat([e]);return new Hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Tm(r,e,t){return new Hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Sf(r,e){return lg(ri(r),ri(e))&&r.limitType===e.limitType}function ub(r){return`${og(ri(r))}|lt:${r.limitType}`}function Io(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>sb(a))).join(", ")}]`),Ef(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>Fo(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>Fo(a))).join(",")),`Target(${s})`})(ri(r))}; limitType=${r.limitType})`}function bf(r,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ie.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(r,e)&&(function(s,a){for(const l of pu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,p){const m=pT(c,d,p);return c.inclusive?m<=0:m<0})(s.startAt,pu(s),a)||s.endAt&&!(function(c,d,p){const m=pT(c,d,p);return c.inclusive?m>=0:m>0})(s.endAt,pu(s),a))})(r,e)}function nO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function cb(r){return(e,t)=>{let s=!1;for(const a of pu(r)){const l=rO(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function rO(r,e,t){const s=r.field.isKeyField()?Ie.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?Ho(p,m):Le(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Le(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return $S(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=new Nt(Ie.comparator);function zi(){return iO}const hb=new Nt(Ie.comparator);function uu(...r){let e=hb;for(const t of r)e=e.insert(t.key,t);return e}function fb(r){let e=hb;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ba(){return mu()}function db(){return mu()}function mu(){return new Pa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const sO=new Nt(Ie.comparator),aO=new Xt(Ie.comparator);function tt(...r){let e=aO;for(const t of r)e=e.add(t);return e}const oO=new Xt(et);function lO(){return oO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function pb(r){return{integerValue:""+r}}function uO(r,e){return LN(e)?pb(e):ug(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this._=void 0}}function cO(r,e,t){return r instanceof Jh?(function(a,l){const c={fields:{[QS]:{stringValue:YS},[WS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&sg(l)&&(l=Tf(l)),l&&(c.fields[XS]=l),{mapValue:c}})(t,e):r instanceof xu?gb(r,e):r instanceof Du?yb(r,e):(function(a,l){const c=mb(a,l),d=vT(c)+vT(a.Ae);return ym(c)&&ym(a.Ae)?pb(d):ug(a.serializer,d)})(r,e)}function hO(r,e,t){return r instanceof xu?gb(r,e):r instanceof Du?yb(r,e):t}function mb(r,e){return r instanceof Zh?(function(s){return ym(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Jh extends wf{}class xu extends wf{constructor(e){super(),this.elements=e}}function gb(r,e){const t=vb(e);for(const s of r.elements)t.some((a=>oi(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Du extends wf{constructor(e){super(),this.elements=e}}function yb(r,e){let t=vb(e);for(const s of r.elements)t=t.filter((a=>!oi(a,s)));return{arrayValue:{values:t}}}class Zh extends wf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function vT(r){return Lt(r.integerValue||r.doubleValue)}function vb(r){return ag(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function fO(r,e){return r.field.isEqual(e.field)&&(function(s,a){return s instanceof xu&&a instanceof xu||s instanceof Du&&a instanceof Du?Bo(s.elements,a.elements,oi):s instanceof Zh&&a instanceof Zh?oi(s.Ae,a.Ae):s instanceof Jh&&a instanceof Jh})(r.transform,e.transform)}class dO{constructor(e,t){this.version=e,this.transformResults=t}}class Li{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Af{}function _b(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Tb(r.key,Li.none()):new Fu(r.key,r.data,Li.none());{const t=r.data,s=gr.empty();let a=new Xt(dn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Va(r.key,s,new Ir(a.toArray()),Li.none())}}function pO(r,e,t){r instanceof Fu?(function(a,l,c){const d=a.value.clone(),p=ET(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Va?(function(a,l,c){if(!Oh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=ET(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Eb(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function gu(r,e,t,s){return r instanceof Fu?(function(l,c,d,p){if(!Oh(l.precondition,c))return d;const m=l.value.clone(),v=TT(l.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(r,e,t,s):r instanceof Va?(function(l,c,d,p){if(!Oh(l.precondition,c))return d;const m=TT(l.fieldTransforms,p,c),v=c.data;return v.setAll(Eb(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(r,e,t,s):(function(l,c,d){return Oh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function mO(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=mb(s.transform,a||null);l!=null&&(t===null&&(t=gr.empty()),t.set(s.field,l))}return t||null}function _T(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Bo(s,a,((l,c)=>fO(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Fu extends Af{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Va extends Af{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Eb(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function ET(r,e,t){const s=new Map;dt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,hO(c,d,t[a]))}return s}function TT(r,e,t){const s=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);s.set(a.field,cO(l,c,e))}return s}class Tb extends Af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gO extends Af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&pO(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=db();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=_b(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Be.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),tt())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((t,s)=>_T(t,s)))&&Bo(this.baseMutations,e.baseMutations,((t,s)=>_T(t,s)))}}class cg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){dt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return sO})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new cg(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,at;function EO(r){switch(r){case oe.OK:return Le(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Le(15467,{code:r})}}function Sb(r){if(r===void 0)return ji("GRPC error has no .code"),oe.UNKNOWN;switch(r){case Ft.OK:return oe.OK;case Ft.CANCELLED:return oe.CANCELLED;case Ft.UNKNOWN:return oe.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return oe.INTERNAL;case Ft.UNAVAILABLE:return oe.UNAVAILABLE;case Ft.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ft.NOT_FOUND:return oe.NOT_FOUND;case Ft.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ft.ABORTED:return oe.ABORTED;case Ft.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ft.DATA_LOSS:return oe.DATA_LOSS;default:return Le(39323,{code:r})}}(at=Ft||(Ft={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new Ms([4294967295,4294967295],0);function ST(r){const e=TO().encode(r),t=new VS;return t.update(e),new Uint8Array(t.digest())}function bT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ms([t,s],0),new Ms([a,l],0)]}class hg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new cu(`Invalid padding: ${t}`);if(s<0)throw new cu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new cu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ms.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(Ms.fromNumber(s)));return a.compare(SO)===1&&(a=new Ms([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ST(e),[s,a]=bT(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new hg(l,a,t);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=ST(e),[s,a]=bT(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Rf(Be.min(),a,new Nt(et),zi(),tt())}}class qu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new qu(s,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class bb{constructor(e,t){this.targetId=e,this.Ce=t}}class wb{constructor(e,t,s=pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class wT{constructor(){this.ve=0,this.Fe=AT(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),t=tt(),s=tt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Le(38017,{changeType:l})}})),new qu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=AT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bO{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.Je=mh(),this.He=mh(),this.Ye=new Nt(et)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(_m(l))if(s===0){const c=new Ie(l.path);this.et(t,c,Tn.newNoDocument(c,Be.min()))}else dt(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=js(s).toUint8Array()}catch(p){if(p instanceof KS)return zo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new hg(c,a,l)}catch(p){return zo(p instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&_m(d.target)){const p=new Ie(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Tn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let s=tt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Rf(e,t,this.Ye,this.je,s);return this.je=zi(),this.Je=mh(),this.He=mh(),this.Ye=new Nt(et),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new wT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Xt(et),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Xt(et),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function mh(){return new Nt(Ie.comparator)}function AT(){return new Nt(Ie.comparator)}const wO={asc:"ASCENDING",desc:"DESCENDING"},AO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RO={and:"AND",or:"OR"};class CO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sm(r,e){return r.useProto3Json||Ef(e)?e:{value:e}}function ef(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ab(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function IO(r,e){return ef(r,e.toTimestamp())}function ii(r){return dt(!!r,49232),Be.fromTimestamp((function(t){const s=Us(t);return new Rt(s.seconds,s.nanos)})(r))}function fg(r,e){return bm(r,e).canonicalString()}function bm(r,e){const t=(function(a){return new At(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function Rb(r){const e=At.fromString(r);return dt(Nb(e),10190,{key:e.toString()}),e}function wm(r,e){return fg(r.databaseId,e.path)}function Yp(r,e){const t=Rb(e);if(t.get(1)!==r.databaseId.projectId)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ie(Ib(t))}function Cb(r,e){return fg(r.databaseId,e)}function xO(r){const e=Rb(r);return e.length===4?At.emptyPath():Ib(e)}function Am(r){return new At(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ib(r){return dt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function RT(r,e,t){return{name:wm(r,e),fields:t.value.mapValue.fields}}function DO(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Le(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,v){return m.useProto3Json?(dt(v===void 0||typeof v=="string",58123),pn.fromBase64String(v||"")):(dt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),pn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const v=m.code===void 0?oe.UNKNOWN:Sb(m.code);return new _e(v,m.message||"")})(c);t=new wb(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Yp(r,s.document.name),l=ii(s.document.updateTime),c=s.document.createTime?ii(s.document.createTime):Be.min(),d=new gr({mapValue:{fields:s.document.fields}}),p=Tn.newFoundDocument(a,l,c,d),m=s.targetIds||[],v=s.removedTargetIds||[];t=new Mh(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Yp(r,s.document),l=s.readTime?ii(s.readTime):Be.min(),c=Tn.newNoDocument(a,l),d=s.removedTargetIds||[];t=new Mh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Yp(r,s.document),l=s.removedTargetIds||[];t=new Mh([],l,a,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new _O(a,l),d=s.targetId;t=new bb(d,c)}}return t}function NO(r,e){let t;if(e instanceof Fu)t={update:RT(r,e.key,e.value)};else if(e instanceof Tb)t={delete:wm(r,e.key)};else if(e instanceof Va)t={update:RT(r,e.key,e.data),updateMask:zO(e.fieldMask)};else{if(!(e instanceof gO))return Le(16599,{Vt:e.type});t={verify:wm(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Jh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Du)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Zh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Le(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:IO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Le(27497)})(r,e.precondition)),t}function OO(r,e){return r&&r.length>0?(dt(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?ii(a.updateTime):ii(l);return c.isEqual(Be.min())&&(c=ii(l)),new dO(c,a.transformResults||[])})(t,e)))):[]}function MO(r,e){return{documents:[Cb(r,e.path)]}}function PO(r,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Cb(r,a);const l=(function(m){if(m.length!==0)return Db(Dr.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((v=>(function(S){return{field:xo(S.field),direction:kO(S.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Sm(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function VO(r){let e=xO(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){dt(s===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(T){const S=xb(T);return S instanceof Dr&&rb(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((S=>(function(D){return new Wh(Do(D.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,Ef(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(T){const S=!!T.before,A=T.values||[];return new Xh(A,S)})(t.startAt));let m=null;return t.endAt&&(m=(function(T){const S=!T.before,A=T.values||[];return new Xh(A,S)})(t.endAt)),eO(e,a,c,l,d,"F",p,m)}function LO(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xb(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Do(t.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Do(t.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Do(t.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Do(t.unaryFilter.field);return qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(r):r.fieldFilter!==void 0?(function(t){return qt.create(Do(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Dr.create(t.compositeFilter.filters.map((s=>xb(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(t.compositeFilter.op))})(r):Le(30097,{filter:r})}function kO(r){return wO[r]}function UO(r){return AO[r]}function jO(r){return RO[r]}function xo(r){return{fieldPath:r.canonicalString()}}function Do(r){return dn.fromServerFormat(r.fieldPath)}function Db(r){return r instanceof qt?(function(t){if(t.op==="=="){if(dT(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NAN"}};if(fT(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(dT(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NAN"}};if(fT(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(t.field),op:UO(t.op),value:t.value}}})(r):r instanceof Dr?(function(t){const s=t.getFilters().map((a=>Db(a)));return s.length===1?s[0]:{compositeFilter:{op:jO(t.op),filters:s}}})(r):Le(54877,{filter:r})}function zO(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Nb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,s,a,l=Be.min(),c=Be.min(),d=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.yt=e}}function HO(r){const e=VO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.Cn=new qO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(ks.min())}updateCollectionGroup(e,t,s){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class qO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Xt(At.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Xt(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ob=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(Ob,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qo(0)}static cr(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="LruGarbageCollector",GO=1048576;function xT([r,e],[t,s]){const a=et(r,t);return a===0?et(e,s):a}class $O{constructor(e){this.Ir=e,this.buffer=new Xt(xT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();xT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(IT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jo(t)?ve(IT,"Ignoring IndexedDB error during garbage collection: ",t):await Wo(t)}await this.Vr(3e5)}))}}class YO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(_f.ce);const s=new $O(t);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(CT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,l,c,d,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(s=T,d=Date.now(),this.removeTargets(e,s,t)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(m=Date.now(),Co()<=Ze.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function QO(r,e){return new YO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.changes=new Pa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ue.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&gu(s.mutation,a,Ir.empty(),Rt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,tt()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=tt()){const a=ba();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let c=uu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=ba();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,tt())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,s,a){let l=zi();const c=mu(),d=(function(){return mu()})();return t.forEach(((p,m)=>{const v=s.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof Va)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),gu(v.mutation,m,v.mutation.getFieldMask(),Rt.now())):c.set(m.key,Ir.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,v)=>c.set(m,v))),t.forEach(((m,v)=>d.set(m,new WO(v,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=mu();let a=new Nt(((c,d)=>c-d)),l=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let v=s.get(p)||Ir.empty();v=d.applyToLocalView(m,v),s.set(p,v);const T=(a.get(d.batchId)||tt()).add(p);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,v=p.value,T=db();v.forEach((S=>{if(!l.has(S)){const A=_b(t.get(S),s.get(S));A!==null&&T.set(S,A),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,T))}return ue.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ue.resolve(ba());let d=Au,p=l;return c.next((m=>ue.forEach(m,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,tt()))).next((v=>({batchId:d,changes:fb(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((s=>{let a=uu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=uu();return this.indexManager.getCollectionParents(e,l).next((d=>ue.forEach(d,(p=>{const m=(function(T,S){return new Hu(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next((v=>{v.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((c=>{l.forEach(((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,Tn.newInvalidDocument(v)))}));let d=uu();return c.forEach(((p,m)=>{const v=l.get(p);v!==void 0&&gu(v.mutation,m,Ir.empty(),Rt.now()),bf(t,m)&&(d=d.insert(p,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:ii(a.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:HO(a.bundledQuery),readTime:ii(a.readTime)}})(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.overlays=new Nt(Ie.comparator),this.qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ba();return ue.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.St(e,t,l)})),ue.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ue.resolve()}getOverlaysForCollection(e,t,s){const a=ba(),l=t.length+1,c=new Ie(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new Nt(((m,v)=>m-v));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>s){let v=l.get(m.largestBatchId);v===null&&(v=ba(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=ba(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,v)=>d.set(m,v))),!(d.size()>=a)););return ue.resolve(d)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new vO(t,s));let l=this.qr.get(t);l===void 0&&(l=tt(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.Qr=new Xt(rn.$r),this.Ur=new Xt(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new rn(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new rn(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Ie(new At([])),s=new rn(t,e),a=new rn(t,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ie(new At([])),s=new rn(t,e),a=new rn(t,e+1);let l=tt();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new rn(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class rn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ie.comparator(e.key,t.key)||et(e.Yr,t.Yr)}static Kr(e,t){return et(e.Yr,t.Yr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(rn.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new yO(l,t,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new rn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?ig:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new rn(t,0),a=new rn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Xt(et);return t.forEach((a=>{const l=new rn(a,0),c=new rn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),ue.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Ie.isDocumentKey(l)||(l=l.child(""));const c=new rn(new Ie(l),0);let d=new Xt(et);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.Yr)),!0)}),c),ue.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){dt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ue.forEach(t.mutations,(a=>{const l=new rn(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new rn(t,0),a=this.Zr.firstAfterOrEqual(s);return ue.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.ri=e,this.docs=(function(){return new Nt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ue.resolve(s?s.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let s=zi();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Tn.newInvalidDocument(a))})),ue.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=zi();const c=t.path,d=new Ie(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||ON(NN(v),s)<=0||(a.has(v.key)||bf(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Le(9500)}ii(e,t){return ue.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new i2(this)}getSize(e){return ue.resolve(this.size)}}class i2 extends XO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.persistence=e,this.si=new Pa((t=>og(t)),lg),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new dg,this.targetCount=0,this.ai=qo.ur()}forEachTarget(e,t){return this.si.forEach(((s,a)=>t(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Pr(t),ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ue.waitFor(l).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ue.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ue.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ue.resolve(s)}containsKey(e,t){return ue.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){this.ui={},this.overlays={},this.ci=new _f(0),this.li=!1,this.li=!0,this.hi=new t2,this.referenceDelegate=e(this),this.Pi=new s2(this),this.indexManager=new FO,this.remoteDocumentCache=(function(a){return new r2(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new BO(t),this.Ii=new ZO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new e2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new n2(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ve("MemoryPersistence","Starting transaction:",e);const a=new a2(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ue.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class a2 extends PN{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new dg,this.Vi=null}static mi(e){return new pg(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ue.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(s=>{const a=Ie.fromPath(s);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Be.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class tf{constructor(e,t){this.persistence=e,this.pi=new Pa((s=>kN(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=QO(this,t)}static mi(e,t){return new tf(e,t)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ue.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ue.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(s++,l.removeEntry(c,Be.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dh(e.data.value)),t}br(e,t,s){return ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ue.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=tt(),a=tt();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new mg(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jC()?8:VN(Sn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new o2;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,s,a){return s.documentReadCount<this.fs?(Co()<=Ze.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(Co()<=Ze.DEBUG&&ve("QueryEngine","Query:",Io(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Co()<=Ze.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(t))):ue.resolve())}ys(e,t){if(yT(t))return ue.resolve(null);let s=ri(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Tm(t,null,"F"),s=ri(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=tt(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const m=this.Ds(t,d);return this.Cs(t,m,c,p.readTime)?this.ys(e,Tm(t,null,"F")):this.vs(e,m,t,p)}))))})))))}ws(e,t,s,a){return yT(t)||a.isEqual(Be.min())?ue.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,a)?ue.resolve(null):(Co()<=Ze.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Io(t)),this.vs(e,c,t,DN(a,Au)).next((d=>d)))}))}Ds(e,t){let s=new Xt(cb(e));return t.forEach(((a,l)=>{bf(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return Co()<=Ze.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Io(t)),this.ps.getDocumentsMatchingQuery(e,t,ks.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",u2=3e8;class c2{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Nt(et),this.xs=new Pa((l=>og(l)),lg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function h2(r,e,t,s){return new c2(r,e,t,s)}async function Pb(r,e){const t=He(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let p=tt();for(const m of a){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){d.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function f2(r,e){const t=He(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,v){const T=m.batch,S=T.keys();let A=ue.resolve();return S.forEach((D=>{A=A.next((()=>v.getEntry(p,D))).next((X=>{const z=m.docVersions.get(D);dt(z!==null,48541),X.version.compareTo(z)<0&&(T.applyToRemoteDocument(X,m),X.isValidDocument()&&(X.setReadTime(m.commitVersion),v.addEntry(X)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=tt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function Vb(r){const e=He(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function d2(r,e){const t=He(r),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((v,T)=>{const S=a.get(T);if(!S)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,T))));let A=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?A=A.withResumeToken(pn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,s)),a=a.insert(T,A),(function(X,z,te){return X.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=u2?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(S,A,v)&&d.push(t.Pi.updateTargetData(l,A))}));let p=zi(),m=tt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(p2(l,c,e.documentUpdates).next((v=>{p=v.ks,m=v.qs}))),!s.isEqual(Be.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return ue.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(t.Ms=a,l)))}function p2(r,e,t){let s=tt(),a=tt();return t.forEach((l=>s=s.add(l))),e.getEntries(r,s).next((l=>{let c=zi();return t.forEach(((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Be.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ve(gg,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function m2(r,e){const t=He(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ig),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function g2(r,e){const t=He(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Pi.getTargetData(s,e).next((l=>l?(a=l,ue.resolve(a)):t.Pi.allocateTargetId(s).next((c=>(a=new xs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Rm(r,e,t){const s=He(r),a=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Jo(c))throw c;ve(gg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function DT(r,e,t){const s=He(r);let a=Be.min(),l=tt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,v){const T=He(p),S=T.xs.get(v);return S!==void 0?ue.resolve(T.Ms.get(S)):T.Pi.getTargetData(m,v)})(s,c,ri(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?a:Be.min(),t?l:tt()))).next((d=>(y2(s,nO(e),d),{documents:d,Qs:l})))))}function y2(r,e,t){let s=r.Os.get(e)||Be.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),r.Os.set(e,s)}class NT{constructor(){this.activeTargetIds=lO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v2{constructor(){this.Mo=new NT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new NT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="ConnectivityMonitor";class MT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(OT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(OT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function Cm(){return gh===null?gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="RestConnection",E2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Yh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,l){const c=Cm(),d=this.zo(e,t.toUriEncodedString());ve(Qp,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:m}=new URL(d),v=Ko(m);return this.Jo(e,d,p,s,v).then((T=>(ve(Qp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw zo(Qp,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(e,t,s,a,l,c){return this.Go(e,t,s,a,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const s=E2[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class b2 extends T2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const c=Cm();return new Promise(((d,p)=>{const m=new LS;m.setWithCredentials(!0),m.listenOnce(kS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case xh.NO_ERROR:const T=m.getResponseJson();ve(_n,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case xh.TIMEOUT:ve(_n,`RPC '${e}' ${c} timed out`),p(new _e(oe.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const S=m.getStatus();if(ve(_n,`RPC '${e}' ${c} failed with status:`,S,"response text:",m.getResponseText()),S>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const X=(function(te){const H=te.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(H)>=0?H:oe.UNKNOWN})(D.status);p(new _e(X,D.message))}else p(new _e(oe.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new _e(oe.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ve(_n,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ve(_n,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",v,s,15)}))}T_(e,t,s){const a=Cm(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=zS(),d=jS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=l.join("");ve(_n,`Creating RPC '${e}' stream ${a}: ${v}`,p);const T=c.createWebChannel(v,p);this.I_(T);let S=!1,A=!1;const D=new S2({Yo:z=>{A?ve(_n,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(S||(ve(_n,`Opening RPC '${e}' stream ${a} transport.`),T.open(),S=!0),ve(_n,`RPC '${e}' stream ${a} sending:`,z),T.send(z))},Zo:()=>T.close()}),X=(z,te,H)=>{z.listen(te,(re=>{try{H(re)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return X(T,lu.EventType.OPEN,(()=>{A||(ve(_n,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),X(T,lu.EventType.CLOSE,(()=>{A||(A=!0,ve(_n,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(T))})),X(T,lu.EventType.ERROR,(z=>{A||(A=!0,zo(_n,`RPC '${e}' stream ${a} transport errored. Name:`,z.name,"Message:",z.message),D.a_(new _e(oe.UNAVAILABLE,"The operation could not be completed")))})),X(T,lu.EventType.MESSAGE,(z=>{if(!A){const te=z.data[0];dt(!!te,16349);const H=te,re=H?.error||H[0]?.error;if(re){ve(_n,`RPC '${e}' stream ${a} received error:`,re);const pe=re.status;let se=(function(R){const C=Ft[R];if(C!==void 0)return Sb(C)})(pe),k=re.message;se===void 0&&(se=oe.INTERNAL,k="Unknown error status: "+pe+" with message "+re.message),A=!0,D.a_(new _e(se,k)),T.close()}else ve(_n,`RPC '${e}' stream ${a} received:`,te),D.u_(te)}})),X(d,US.STAT_EVENT,(z=>{z.stat===pm.PROXY?ve(_n,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===pm.NOPROXY&&ve(_n,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Xp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(r){return new CO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="PersistentStream";class kb{constructor(e,t,s,a,l,c,d,p){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Lb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new _e(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(PT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ve(PT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class w2 extends kb{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=DO(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?ii(c.readTime):Be.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Am(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=_m(p)?{documents:MO(l,p)}:{query:PO(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Ab(l,c.resumeToken);const m=Sm(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Be.min())>0){d.readTime=ef(l,c.snapshotVersion.toTimestamp());const m=Sm(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const s=LO(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Am(this.serializer),t.removeTarget=e,this.q_(t)}}class A2 extends kb{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=OO(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Am(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>NO(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{}class C2 extends R2{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,bm(t,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(oe.UNKNOWN,l.toString())}))}Ho(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,bm(t,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class I2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ji(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class x2{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{La(this)&&(ve(Da,"Restarting streams for network reachability change."),await(async function(p){const m=He(p);m.Ea.add(4),await Gu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await If(m)})(this))}))})),this.Ra=new I2(s,a)}}async function If(r){if(La(r))for(const e of r.da)await e(!0)}async function Gu(r){for(const e of r.da)await e(!1)}function Ub(r,e){const t=He(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Eg(t)?_g(t):Zo(t).O_()&&vg(t,e))}function yg(r,e){const t=He(r),s=Zo(t);t.Ia.delete(e),s.O_()&&jb(t,e),t.Ia.size===0&&(s.O_()?s.L_():La(t)&&t.Ra.set("Unknown"))}function vg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zo(r).Y_(e)}function jb(r,e){r.Va.Ue(e),Zo(r).Z_(e)}function _g(r){r.Va=new bO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Zo(r).start(),r.Ra.ua()}function Eg(r){return La(r)&&!Zo(r).x_()&&r.Ia.size>0}function La(r){return He(r).Ea.size===0}function zb(r){r.Va=void 0}async function D2(r){r.Ra.set("Online")}async function N2(r){r.Ia.forEach(((e,t)=>{vg(r,e)}))}async function O2(r,e){zb(r),Eg(r)?(r.Ra.ha(e),_g(r)):r.Ra.set("Unknown")}async function M2(r,e,t){if(r.Ra.set("Online"),e instanceof wb&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(r,e)}catch(s){ve(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nf(r,s)}else if(e instanceof Mh?r.Va.Ze(e):e instanceof bb?r.Va.st(e):r.Va.tt(e),!t.isEqual(Be.min()))try{const s=await Vb(r.localStore);t.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,m)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(pn.EMPTY_BYTE_STRING,v.snapshotVersion)),jb(l,p);const T=new xs(v.target,p,m,v.sequenceNumber);vg(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(s){ve(Da,"Failed to raise snapshot:",s),await nf(r,s)}}async function nf(r,e,t){if(!Jo(e))throw e;r.Ea.add(1),await Gu(r),r.Ra.set("Offline"),t||(t=()=>Vb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ve(Da,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await If(r)}))}function Bb(r,e){return e().catch((t=>nf(r,t,e)))}async function xf(r){const e=He(r),t=Bs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ig;for(;P2(e);)try{const a=await m2(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,V2(e,a)}catch(a){await nf(e,a)}Hb(e)&&Fb(e)}function P2(r){return La(r)&&r.Ta.length<10}function V2(r,e){r.Ta.push(e);const t=Bs(r);t.O_()&&t.X_&&t.ea(e.mutations)}function Hb(r){return La(r)&&!Bs(r).x_()&&r.Ta.length>0}function Fb(r){Bs(r).start()}async function L2(r){Bs(r).ra()}async function k2(r){const e=Bs(r);for(const t of r.Ta)e.ea(t.mutations)}async function U2(r,e,t){const s=r.Ta.shift(),a=cg.from(s,e,t);await Bb(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await xf(r)}async function j2(r,e){e&&Bs(r).X_&&await(async function(s,a){if((function(c){return EO(c)&&c!==oe.ABORTED})(a.code)){const l=s.Ta.shift();Bs(s).B_(),await Bb(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await xf(s)}})(r,e),Hb(r)&&Fb(r)}async function VT(r,e){const t=He(r);t.asyncQueue.verifyOperationInProgress(),ve(Da,"RemoteStore received new credentials");const s=La(t);t.Ea.add(3),await Gu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await If(t)}async function z2(r,e){const t=He(r);e?(t.Ea.delete(2),await If(t)):e||(t.Ea.add(2),await Gu(t),t.Ra.set("Unknown"))}function Zo(r){return r.ma||(r.ma=(function(t,s,a){const l=He(t);return l.sa(),new w2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:D2.bind(null,r),t_:N2.bind(null,r),r_:O2.bind(null,r),H_:M2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Eg(r)?_g(r):r.Ra.set("Unknown")):(await r.ma.stop(),zb(r))}))),r.ma}function Bs(r){return r.fa||(r.fa=(function(t,s,a){const l=He(t);return l.sa(),new A2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:L2.bind(null,r),r_:j2.bind(null,r),ta:k2.bind(null,r),na:U2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await xf(r)):(await r.fa.stop(),r.Ta.length>0&&(ve(Da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,d=new Tg(e,t,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(r,e){if(ji("AsyncQueue",`${e}: ${r}`),Jo(r))return new _e(oe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ie.comparator(t.key,s.key):(t,s)=>Ie.comparator(t.key,s.key),this.keyedMap=uu(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.ga=new Nt(Ie.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Go{constructor(e,t,s,a,l,c,d,p,m){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Go(e,t,Lo.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class H2{constructor(){this.queries=kT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=He(t),l=a.queries;a.queries=kT(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new _e(oe.ABORTED,"Firestore shutting down"))}}function kT(){return new Pa((r=>ub(r)),Sf)}async function F2(r,e){const t=He(r);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new B2,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Sg(c,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&bg(t)}async function q2(r,e){const t=He(r),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function G2(r,e){const t=He(r);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&bg(t)}function $2(r,e,t){const s=He(r),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function bg(r){r.Ca.forEach((e=>{e.next()}))}var Im,UT;(UT=Im||(Im={})).Ma="default",UT.Cache="cache";class K2{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.key=e}}class Gb{constructor(e){this.key=e}}class Y2{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=cb(e),this.tu=new Lo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new LT,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,T)=>{const S=a.get(v),A=bf(this.query,T)?T:null,D=!!S&&this.mutatedKeys.has(S.key),X=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let z=!1;S&&A?S.data.isEqual(A.data)?D!==X&&(s.track({type:3,doc:A}),z=!0):this.su(S,A)||(s.track({type:2,doc:A}),z=!0,(p&&this.eu(A,p)>0||m&&this.eu(A,m)<0)&&(d=!0)):!S&&A?(s.track({type:0,doc:A}),z=!0):S&&!A&&(s.track({type:1,doc:S}),z=!0,(p||m)&&(d=!0)),z&&(A?(c=c.add(A),l=X?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,T)=>(function(A,D){const X=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:z})}};return X(A)-X(D)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),a=a??!1;const d=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new Go(this.query,e.tu,l,c,e.mutatedKeys,p===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new Gb(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new qb(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=tt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wg="SyncEngine";class Q2{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class X2{constructor(e){this.key=e,this.hu=!1}}class W2{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Pa((d=>ub(d)),Sf),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(Ie.comparator),this.Au=new Map,this.Ru=new dg,this.Vu={},this.mu=new Map,this.fu=qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function J2(r,e,t=!0){const s=Wb(r);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await $b(s,e,t,!0),a}async function Z2(r,e){const t=Wb(r);await $b(t,e,!0,!1)}async function $b(r,e,t,s){const a=await g2(r.localStore,ri(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await eM(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&Ub(r.remoteStore,a),d}async function eM(r,e,t,s,a){r.pu=(T,S,A)=>(async function(X,z,te,H){let re=z.view.ru(te);re.Cs&&(re=await DT(X.localStore,z.query,!1).then((({documents:x})=>z.view.ru(x,re))));const pe=H&&H.targetChanges.get(z.targetId),se=H&&H.targetMismatches.get(z.targetId)!=null,k=z.view.applyChanges(re,X.isPrimaryClient,pe,se);return zT(X,z.targetId,k.au),k.snapshot})(r,T,S,A);const l=await DT(r.localStore,e,!0),c=new Y2(e,l.Qs),d=c.ru(l.documents),p=qu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",a),m=c.applyChanges(d,r.isPrimaryClient,p);zT(r,t,m.au);const v=new Q2(e,t,c);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),m.snapshot}async function tM(r,e,t){const s=He(r),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Sf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Rm(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&yg(s.remoteStore,a.targetId),xm(s,a.targetId)})).catch(Wo)):(xm(s,a.targetId),await Rm(s.localStore,a.targetId,!0))}async function nM(r,e){const t=He(r),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),yg(t.remoteStore,s.targetId))}async function rM(r,e,t){const s=cM(r);try{const a=await(function(c,d){const p=He(c),m=Rt.now(),v=d.reduce(((A,D)=>A.add(D.key)),tt());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=zi(),X=tt();return p.Ns.getEntries(A,v).next((z=>{D=z,D.forEach(((te,H)=>{H.isValidDocument()||(X=X.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,D))).next((z=>{T=z;const te=[];for(const H of d){const re=mO(H,T.get(H.key).overlayedDocument);re!=null&&te.push(new Va(H.key,re,eb(re.value.mapValue),Li.exists(!0)))}return p.mutationQueue.addMutationBatch(A,m,te,d)})).next((z=>{S=z;const te=z.applyToLocalDocumentSet(T,X);return p.documentOverlayCache.saveOverlays(A,z.batchId,te)}))})).then((()=>({batchId:S.batchId,changes:fb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new Nt(et)),m=m.insert(d,p),c.Vu[c.currentUser.toKey()]=m})(s,a.batchId,t),await $u(s,a.changes),await xf(s.remoteStore)}catch(a){const l=Sg(a,"Failed to persist write");t.reject(l)}}async function Kb(r,e){const t=He(r);try{const s=await d2(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(dt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?dt(c.hu,14607):a.removedDocuments.size>0&&(dt(c.hu,42227),c.hu=!1))})),await $u(t,s,e)}catch(s){await Wo(s)}}function jT(r,e,t){const s=He(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=He(c);p.onlineState=d;let m=!1;p.queries.forEach(((v,T)=>{for(const S of T.Sa)S.va(d)&&(m=!0)})),m&&bg(p)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function iM(r,e,t){const s=He(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new Nt(Ie.comparator);c=c.insert(l,Tn.newNoDocument(l,Be.min()));const d=tt().add(l),p=new Rf(Be.min(),new Map,new Nt(et),c,d);await Kb(s,p),s.du=s.du.remove(l),s.Au.delete(e),Ag(s)}else await Rm(s.localStore,e,!1).then((()=>xm(s,e,t))).catch(Wo)}async function sM(r,e){const t=He(r),s=e.batch.batchId;try{const a=await f2(t.localStore,e);Qb(t,s,null),Yb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await $u(t,a)}catch(a){await Wo(a)}}async function aM(r,e,t){const s=He(r);try{const a=await(function(c,d){const p=He(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return p.mutationQueue.lookupMutationBatch(m,d).next((T=>(dt(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(m,T)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>p.localDocuments.getDocuments(m,v)))}))})(s.localStore,e);Qb(s,e,t),Yb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await $u(s,a)}catch(a){await Wo(a)}}function Yb(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function Qb(r,e,t){const s=He(r);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function xm(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Xb(r,s)}))}function Xb(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(yg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Ag(r))}function zT(r,e,t){for(const s of t)s instanceof qb?(r.Ru.addReference(s.key,e),oM(r,s)):s instanceof Gb?(ve(wg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Xb(r,s.key)):Le(19791,{wu:s})}function oM(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(ve(wg,"New document in limbo: "+t),r.Eu.add(s),Ag(r))}function Ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ie(At.fromString(e)),s=r.fu.next();r.Au.set(s,new X2(t)),r.du=r.du.insert(t,s),Ub(r.remoteStore,new xs(ri(ob(t.path)),s,"TargetPurposeLimboResolution",_f.ce))}}async function $u(r,e,t){const s=He(r),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,e,t).then((m=>{if((m||t)&&s.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(m){a.push(m);const v=mg.As(p.targetId,m);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(p,m){const v=He(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ue.forEach(m,(S=>ue.forEach(S.Es,(A=>v.persistence.referenceDelegate.addReference(T,S.targetId,A))).next((()=>ue.forEach(S.ds,(A=>v.persistence.referenceDelegate.removeReference(T,S.targetId,A)))))))))}catch(T){if(!Jo(T))throw T;ve(gg,"Failed to update sequence numbers: "+T)}for(const T of m){const S=T.targetId;if(!T.fromCache){const A=v.Ms.get(S),D=A.snapshotVersion,X=A.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(S,X)}}})(s.localStore,l))}async function lM(r,e){const t=He(r);if(!t.currentUser.isEqual(e)){ve(wg,"User change. New user:",e.toKey());const s=await Pb(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new _e(oe.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await $u(t,s.Ls)}}function uM(r,e){const t=He(r),s=t.Au.get(e);if(s&&s.hu)return tt().add(s.key);{let a=tt();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function Wb(r){const e=He(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iM.bind(null,e),e.Pu.H_=G2.bind(null,e.eventManager),e.Pu.yu=$2.bind(null,e.eventManager),e}function cM(r){const e=He(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aM.bind(null,e),e}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return h2(this.persistence,new l2,e.initialUser,this.serializer)}Cu(e){return new Mb(pg.mi,this.serializer)}Du(e){return new v2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class hM extends rf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){dt(this.persistence.referenceDelegate instanceof tf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new KO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new Mb((s=>tf.mi(s,t)),this.serializer)}}class Dm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lM.bind(null,this.syncEngine),await z2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new H2})()}createDatastore(e){const t=Cf(e.databaseInfo.databaseId),s=(function(l){return new b2(l)})(e.databaseInfo);return(function(l,c,d,p){return new C2(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,c,d){return new x2(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>jT(this.syncEngine,t,0)),(function(){return MT.v()?new MT:new _2})())}createSyncEngine(e,t){return(function(a,l,c,d,p,m,v){const T=new W2(a,l,c,d,p,m);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=He(t);ve(Da,"RemoteStore shutting down."),s.Ea.add(5),await Gu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class dM{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=En.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ve(Hs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ve(Hs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Sg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Wp(r,e){r.asyncQueue.verifyOperationInProgress(),ve(Hs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Pb(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function BT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await pM(r);ve(Hs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>VT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,a)=>VT(e.remoteStore,a))),r._onlineComponents=e}async function pM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(Hs,"Using user provided OfflineComponentProvider");try{await Wp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;zo("Error using user provided cache. Falling back to memory cache: "+t),await Wp(r,new rf)}}else ve(Hs,"Using default OfflineComponentProvider"),await Wp(r,new hM(void 0));return r._offlineComponents}async function Jb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(Hs,"Using user provided OnlineComponentProvider"),await BT(r,r._uninitializedComponentsProvider._online)):(ve(Hs,"Using default OnlineComponentProvider"),await BT(r,new Dm))),r._onlineComponents}function mM(r){return Jb(r).then((e=>e.syncEngine))}async function gM(r){const e=await Jb(r),t=e.eventManager;return t.onListen=J2.bind(null,e.syncEngine),t.onUnlisten=tM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Z2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=nM.bind(null,e.syncEngine),t}function yM(r,e,t={}){const s=new Ps;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,m){const v=new fM({next:S=>{v.Nu(),c.enqueueAndForget((()=>q2(l,T))),S.fromCache&&p.source==="server"?m.reject(new _e(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),T=new K2(d,v,{includeMetadataChanges:!0,qa:!0});return F2(l,T)})(await gM(r),r.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="firestore.googleapis.com",FT=!0;class qT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ew,this.ssl=FT}else this.host=e.host,this.ssl=e.ssl??FT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ob;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GO)throw new _e(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new _N;switch(s.type){case"firstParty":return new bN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=HT.get(t);s&&(ve("ComponentProvider","Removing Datastore"),HT.delete(t),s.terminate())})(this),Promise.resolve()}}function vM(r,e,t,s={}){r=$h(r,Df);const a=Ko(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&($0(`https://${d}`),K0("Firestore",!0)),l.host!==ew&&l.host!==d&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:s};if(!Aa(p,c)&&(r._setSettings(p),s.mockUserToken)){let m,v;if(typeof s.mockUserToken=="string")m=s.mockUserToken,v=En.MOCK_USER;else{m=DC(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new _e(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new En(T)}r._authCredentials=new EN(new HS(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new el(this.firestore,e,this._query)}}class sn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Bu(t,sn._jsonSchema))return new sn(e,s||null,new Ie(At.fromString(t.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:Gt("string",sn._jsonSchemaVersion),referencePath:Gt("string")};class Vs extends el{constructor(e,t,s){super(e,t,ob(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ie(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function tw(r,e,...t){if(r=On(r),FS("collection","path",e),r instanceof Df){const s=At.fromString(e,...t);return rT(s),new Vs(r,null,s)}{if(!(r instanceof sn||r instanceof Vs))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(At.fromString(e,...t));return rT(s),new Vs(r.firestore,null,s)}}function _M(r,e,...t){if(r=On(r),arguments.length===1&&(e=rg.newId()),FS("doc","path",e),r instanceof Df){const s=At.fromString(e,...t);return nT(s),new sn(r,null,new Ie(s))}{if(!(r instanceof sn||r instanceof Vs))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(At.fromString(e,...t));return nT(s),new sn(r.firestore,r instanceof Vs?r.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="AsyncQueue";class $T{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Lb(this,"async_queue_retry"),this._c=()=>{const s=Xp();s&&ve(GT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Xp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Xp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jo(e))throw e;ve(GT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ji("INTERNAL UNHANDLED ERROR: ",KT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Tg.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Le(47125,{Pc:KT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function KT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Rg extends Df{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new $T,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $T(e),this._firestoreClient=void 0,await e}}}function EM(r,e){const t=typeof r=="object"?r:W0(),s=typeof r=="string"?r:Yh,a=Km(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=IC("firestore");l&&vM(a,...l)}return a}function nw(r){if(r._terminated)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||TM(r),r._firestoreClient}function TM(r){const e=r._freezeSettings(),t=(function(a,l,c,d){return new zN(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Zb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new dM(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yr(pn.fromBase64String(e))}catch(t){throw new _e(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yr(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bu(e,yr._jsonSchema))return yr.fromBase64String(e.bytes)}}yr._jsonSchemaVersion="firestore/bytes/1.0",yr._jsonSchema={type:Gt("string",yr._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(Bu(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:Gt("string",si._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bu(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ai(e.vectorValues);throw new _e(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Gt("string",ai._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=/^__.*__$/;class bM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fu(e,this.data,t,this.fieldTransforms)}}function iw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:r})}}class Ig{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iw(this.Ac)&&SM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Cf(e)}Cc(e,t,s,a=!1){return new Ig({Ac:e,methodName:t,Dc:s,path:dn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sw(r){const e=r._freezeSettings(),t=Cf(r._databaseId);return new wM(r._databaseId,!!e.ignoreUndefinedProperties,t)}function AM(r,e,t,s,a,l={}){const c=r.Cc(l.merge||l.mergeFields?2:0,e,t,a);lw("Data must be an object, but it was:",c,s);const d=aw(s,c);let p,m;if(l.merge)p=new Ir(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const S=CM(e,T,t);if(!c.contains(S))throw new _e(oe.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);xM(v,S)||v.push(S)}p=new Ir(v),m=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,m=c.fieldTransforms;return new bM(new gr(d),p,m)}function RM(r,e,t,s=!1){return xg(t,r.Cc(s?4:3,e))}function xg(r,e){if(ow(r=On(r)))return lw("Unsupported field value:",e,r),aw(r,e);if(r instanceof rw)return(function(s,a){if(!iw(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let p=xg(d,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(r,e)}return(function(s,a){if((s=On(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Rt.fromDate(s);return{timestampValue:ef(a.serializer,l)}}if(s instanceof Rt){const l=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ef(a.serializer,l)}}if(s instanceof si)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yr)return{bytesValue:Ab(a.serializer,s._byteString)};if(s instanceof sn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:fg(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ai)return(function(c,d){return{mapValue:{fields:{[JS]:{stringValue:ZS},[Qh]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return ug(d.serializer,m)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${vf(s)}`)})(r,e)}function aw(r,e){const t={};return $S(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(r,((s,a)=>{const l=xg(a,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function ow(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof si||r instanceof yr||r instanceof sn||r instanceof rw||r instanceof ai)}function lw(r,e,t){if(!ow(t)||!qS(t)){const s=vf(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function CM(r,e,t){if((e=On(e))instanceof Cg)return e._internalPath;if(typeof e=="string")return uw(r,e);throw sf("Field path arguments must be of type string or ",r,!1,void 0,t)}const IM=new RegExp("[~\\*/\\[\\]]");function uw(r,e,t){if(e.search(IM)>=0)throw sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Cg(...e.split("."))._internalPath}catch{throw sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function sf(r,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new _e(oe.INVALID_ARGUMENT,d+r+p)}function xM(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class DM extends cw{data(){return super.data()}}function Dg(r,e){return typeof e=="string"?uw(r,e):e instanceof Cg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new _e(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class OM extends Ng{}function MM(r,e,...t){let s=[];e instanceof Ng&&s.push(e),s=s.concat(t),(function(l){const c=l.filter((p=>p instanceof Og)).length,d=l.filter((p=>p instanceof Nf)).length;if(c>1||c>0&&d>0)throw new _e(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)r=a._apply(r);return r}class Nf extends OM{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Nf(e,t,s)}_apply(e){const t=this._parse(e);return hw(e._query,t),new el(e.firestore,e.converter,Em(e._query,t))}_parse(e){const t=sw(e.firestore);return(function(l,c,d,p,m,v,T){let S;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new _e(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){QT(T,v);const D=[];for(const X of T)D.push(YT(p,l,X));S={arrayValue:{values:D}}}else S=YT(p,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||QT(T,v),S=RM(d,c,T,v==="in"||v==="not-in");return qt.create(m,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function PM(r,e,t){const s=e,a=Dg("where",r);return Nf._create(a,s,t)}class Og extends Ng{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Og(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)hw(c,p),c=Em(c,p)})(e._query,t),new el(e.firestore,e.converter,Em(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function YT(r,e,t){if(typeof(t=On(t))=="string"){if(t==="")throw new _e(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lb(e)&&t.indexOf("/")!==-1)throw new _e(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(At.fromString(t));if(!Ie.isDocumentKey(s))throw new _e(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return hT(r,new Ie(s))}if(t instanceof sn)return hT(r,t._key);throw new _e(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(t)}.`)}function QT(r,e){if(!Array.isArray(r)||r.length===0)throw new _e(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hw(r,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new _e(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class VM{convertValue(e,t="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ma(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[Qh].arrayValue?.values?.map((s=>Lt(s.doubleValue)));return new ai(t)}convertGeoPoint(e){return new si(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Tf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ru(e));default:return null}}convertTimestamp(e){const t=Us(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=At.fromString(e);dt(Nb(s),9688,{name:e});const a=new Cu(s.get(1),s.get(3)),l=new Ie(s.popFirst(5));return a.isEqual(t)||ji(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class yh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ko extends cw{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Dg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ko._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ko._jsonSchemaVersion="firestore/documentSnapshot/1.0",ko._jsonSchema={type:Gt("string",ko._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Ph extends ko{data(e={}){return super.data(e)}}class Uo{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new yh(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Ph(this._firestore,this._userDataWriter,s.key,s,new yh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new Ph(a._firestore,a._userDataWriter,d.doc.key,d.doc,new yh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new Ph(a._firestore,a._userDataWriter,d.doc.key,d.doc,new yh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:kM(d.type),doc:p,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:r})}}Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:Gt("string",Uo._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class UM extends VM{constructor(e){super(),this.firestore=e}convertBytes(e){return new yr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,t)}}function jM(r){r=$h(r,el);const e=$h(r.firestore,Rg),t=nw(e),s=new UM(e);return NM(r._query),yM(t,r._query).then((a=>new Uo(e,s,r,a)))}function zM(r,e){const t=$h(r.firestore,Rg),s=_M(r),a=LM(r.converter,e);return BM(t,[AM(sw(r.firestore),"addDoc",s._key,a,r.converter!==null,{}).toMutation(s._key,Li.exists(!1))]).then((()=>s))}function BM(r,e){return(function(s,a){const l=new Ps;return s.asyncQueue.enqueueAndForget((async()=>rM(await mM(s),a,l))),l.promise})(nw(r),e)}(function(e,t=!0){(function(a){Xo=a})(Yo),jo(new Ra("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Rg(new TN(s.getProvider("auth-internal")),new wN(c,s.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _e(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(m.options.projectId,v)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Os(JE,ZE,e),Os(JE,ZE,"esm2020")})();const HM={apiKey:"AIzaSyDPnoNYJ95g54IE8Dmt3YtKXx3pfB5B4i4",authDomain:"rest-client-app-e010a.firebaseapp.com",projectId:"rest-client-app-e010a",storageBucket:"rest-client-app-e010a.appspot.com",messagingSenderId:"797035696388",appId:"1:797035696388:web:f8451161f4e8bed8794051"},fw=X0(HM),Mg=PS(fw),dw=EM(fw);async function FM(r,e){const t=PS(),s=await tD(t,r,e);return{id:s.user.uid,email:s.user.email??"",name:s.user.displayName??""}}async function qM(r,e){const t=await eD(Mg,r,e);return{id:t.user.uid,email:t.user.email??"",name:t.user.displayName??""}}function GM(){sD(Mg)}async function pw(){return new Promise(r=>{iD(Mg,e=>{r(e?{id:e.uid,email:e.email??"",name:e.displayName??""}:null)})})}const mw=U.createContext({user:null,login:async()=>{throw new Error("AuthContext not initialized")},logout:()=>{throw new Error("AuthContext not initialized")}}),ka=()=>U.useContext(mw);function $M({children:r}){const[e,t]=U.useState(null),s=window.location,a=1200*1e3;U.useEffect(()=>{pw().then(t).catch(()=>t(null));const d=setTimeout(()=>{c()},a);return()=>clearTimeout(d)},[]);const l=async(d,p)=>{const m=await FM(d,p);return t(m),m},c=()=>{GM(),t(null),window.location.pathname!=="/"&&(s.href="/")};return Q.jsx(mw.Provider,{value:{user:e,login:l,logout:c},children:r})}const KM=(r,e,t,s)=>{const a=[t,{code:e,...s||{}}];if(r?.services?.logger?.forward)return r.services.logger.forward(a,"warn","react-i18next::",!0);wa(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),r?.services?.logger?.warn?r.services.logger.warn(...a):console?.warn&&console.warn(...a)},XT={},Nm=(r,e,t,s)=>{wa(t)&&XT[t]||(wa(t)&&(XT[t]=new Date),KM(r,e,t,s))},gw=(r,e)=>()=>{if(r.isInitialized)e();else{const t=()=>{setTimeout(()=>{r.off("initialized",t)},0),e()};r.on("initialized",t)}},Om=(r,e,t)=>{r.loadNamespaces(e,gw(r,t))},WT=(r,e,t,s)=>{if(wa(t)&&(t=[t]),r.options.preload&&r.options.preload.indexOf(e)>-1)return Om(r,t,s);t.forEach(a=>{r.options.ns.indexOf(a)<0&&r.options.ns.push(a)}),r.loadLanguages(e,gw(r,s))},YM=(r,e,t={})=>!e.languages||!e.languages.length?(Nm(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(r,{lng:t.lng,precheck:(s,a)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!a(s.isLanguageChangingTo,r))return!1}}),wa=r=>typeof r=="string",QM=r=>typeof r=="object"&&r!==null,XM=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,WM={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},JM=r=>WM[r],ZM=r=>r.replace(XM,JM);let Mm={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ZM};const eP=(r={})=>{Mm={...Mm,...r}},tP=()=>Mm;let yw;const nP=r=>{yw=r},rP=()=>yw,iP={type:"3rdParty",init(r){eP(r.options.react),nP(r)}},sP=U.createContext();class aP{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const oP=(r,e)=>{const t=U.useRef();return U.useEffect(()=>{t.current=r},[r,e]),t.current},vw=(r,e,t,s)=>r.getFixedT(e,t,s),lP=(r,e,t,s)=>U.useCallback(vw(r,e,t,s),[r,e,t,s]),Mr=(r,e={})=>{const{i18n:t}=e,{i18n:s,defaultNS:a}=U.useContext(sP)||{},l=t||s||rP();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new aP),!l){Nm(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const pe=(k,x)=>wa(x)?x:QM(x)&&wa(x.defaultValue)?x.defaultValue:Array.isArray(k)?k[k.length-1]:k,se=[pe,{},!1];return se.t=pe,se.i18n={},se.ready=!1,se}l.options.react?.wait&&Nm(l,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...tP(),...l.options.react,...e},{useSuspense:d,keyPrefix:p}=c;let m=a||l.options?.defaultNS;m=wa(m)?[m]:m||["translation"],l.reportNamespaces.addUsedNamespaces?.(m);const v=(l.isInitialized||l.initializedStoreOnce)&&m.every(pe=>YM(pe,l,c)),T=lP(l,e.lng||null,c.nsMode==="fallback"?m:m[0],p),S=()=>T,A=()=>vw(l,e.lng||null,c.nsMode==="fallback"?m:m[0],p),[D,X]=U.useState(S);let z=m.join();e.lng&&(z=`${e.lng}${z}`);const te=oP(z),H=U.useRef(!0);U.useEffect(()=>{const{bindI18n:pe,bindI18nStore:se}=c;H.current=!0,!v&&!d&&(e.lng?WT(l,e.lng,m,()=>{H.current&&X(A)}):Om(l,m,()=>{H.current&&X(A)})),v&&te&&te!==z&&H.current&&X(A);const k=()=>{H.current&&X(A)};return pe&&l?.on(pe,k),se&&l?.store.on(se,k),()=>{H.current=!1,l&&pe&&pe?.split(" ").forEach(x=>l.off(x,k)),se&&l&&se.split(" ").forEach(x=>l.store.off(x,k))}},[l,z]),U.useEffect(()=>{H.current&&v&&X(S)},[l,p,v]);const re=[D,l,v];if(re.t=D,re.i18n=l,re.ready=v,v||!v&&!d)return re;throw new Promise(pe=>{e.lng?WT(l,e.lng,m,()=>pe()):Om(l,m,()=>pe())})},uP=[{code:"en",label:"English"},{code:"pl",label:"Polski"}];function cP(){const{i18n:r}=Mr(),[e,t]=U.useState(r.language||"en");U.useEffect(()=>{const a=localStorage.getItem("lang");a&&a!==r.language&&(r.changeLanguage(a),t(a))},[r]);const s=a=>{const l=a.target.value;r.changeLanguage(l),localStorage.setItem("lang",l),t(l)};return Q.jsx("div",{className:"language-switcher",children:Q.jsx("select",{style:{width:"80px",height:"24px",padding:0},value:e,onChange:s,className:"rounded px-2 py-1 border border-gray-300 bg-white text-sm",children:uP.map(a=>Q.jsx("option",{value:a.code,children:a.label},a.code))})})}function hP(){const{pathname:r}=Bi(),{user:e,logout:t}=ka(),{t:s}=Mr(),a=e?[{path:"/rest",label:"appName"},{path:"/history",label:"history"},{path:"/variables",label:"variables"}]:[{path:"/signin",label:"signin"},{path:"/signup",label:"signup"}];let l="No user is signed in";return e?l=e.email:l="No user is signed",Q.jsxs("header",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-md px-6 py-4 flex justify-between items-center",children:[Q.jsx(Pi,{to:"/",children:Q.jsx("h1",{className:"text-xl font-bold tracking-wide",children:s("appName")})}),Q.jsxs("nav",{className:"flex gap-4",children:[Q.jsx(cP,{}),a.map(({path:c,label:d})=>c==="/signin"||c==="/signup"?e?"":Q.jsx(Pi,{to:c,className:`text-sm font-medium hover:underline ${r===c?"underline font-semibold":""}`,children:s(d)},c):Q.jsx(Pi,{to:c,className:`text-sm font-medium hover:underline ${r===c?"underline font-semibold":""}`,children:s(d)},c)),e?Q.jsxs(Q.Fragment,{children:[" ",Q.jsxs("span",{children:[" ",Q.jsxs("b",{children:[s("user"),": "]})," ",l]}),Q.jsxs("span",{onClick:t,style:{color:"red",cursor:"pointer"},children:[" ",s("signout")," "]})]}):""]})]})}function fP(){return Q.jsxs("footer",{className:"p-4 text-center text-sm text-gray-500",children:[" ",Q.jsx(Pi,{to:"https://github.com/Dj-Rom",children:"GitHub"})," 2025"," ",Q.jsxs(Pi,{to:"https://rs.school/courses/reactjs",children:[Q.jsx("img",{width:10,src:"https://images.ctfassets.net/12phxmr4hjo6/5gsAustpJN1GgYERWk8Hth/2df7c970259f0e01a1a0f567e859bc65/react.svg",alt:"logo react course RS School"}),"React Course Rs"]})]})}function dP(){return Q.jsxs(Q.Fragment,{children:[Q.jsx(hP,{}),Q.jsx("main",{className:"p-4",children:Q.jsx(L1,{})}),Q.jsx(fP,{})]})}function pP(){const{t:r}=Mr(),{user:e,login:t}=ka(),s=ff(),[a,l]=U.useState(""),[c,d]=U.useState(""),[p,m]=U.useState(null),[v,T]=U.useState(!1);U.useEffect(()=>{e&&s("/",{replace:!0})},[e,s]);const S=async A=>{A.preventDefault(),T(!0),m(null);try{await t(a,c),s("/")}catch(D){D instanceof Error?m(D.message):m("login failed")}finally{T(!1)}};return Q.jsxs("div",{className:"max-w-md mx-auto py-6 px-4",children:[Q.jsx("h1",{className:"text-2xl font-bold mb-4",children:r("signin")}),Q.jsxs("form",{onSubmit:S,className:"space-y-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{className:"block mb-1",children:r("email")}),Q.jsx("input",{type:"email",value:a,onChange:A=>l(A.target.value),required:!0,className:"w-full border px-2 py-1 rounded"})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block mb-1",children:r("password")}),Q.jsx("input",{type:"password",value:c,onChange:A=>d(A.target.value),required:!0,className:"w-full border px-2 py-1 rounded"})]}),p&&Q.jsx("p",{className:"text-red-600 text-sm",children:p}),Q.jsx("button",{type:"submit",disabled:v,className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:v?"...":r("signin")})]})]})}function mP(){const{t:r}=Mr(),e=ff(),{user:t}=ka(),[s,a]=U.useState(""),[l,c]=U.useState(""),[d,p]=U.useState(null),[m,v]=U.useState(!1);U.useEffect(()=>{t&&e("/",{replace:!0})},[t,e]);const T=async S=>{S.preventDefault(),v(!0),p(null);try{const A=await qM(s,l);console.log("Signed up:",A),e("/signin")}catch(A){p(A.message||"Signup failed")}finally{v(!1)}};return Q.jsxs("div",{className:"max-w-md mx-auto py-6 px-4",children:[Q.jsx("h1",{className:"text-2xl font-bold mb-4",children:r("signup")}),Q.jsxs("form",{onSubmit:T,className:"space-y-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{className:"block mb-1 text-sm font-medium",children:r("email")}),Q.jsx("input",{type:"email",value:s,onChange:S=>a(S.target.value),required:!0,className:"w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block mb-1 text-sm font-medium",children:r("password")}),Q.jsx("input",{type:"password",value:l,onChange:S=>c(S.target.value),required:!0,className:"w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d&&Q.jsx("p",{className:"text-red-600 text-sm",children:d}),Q.jsx("button",{type:"submit",disabled:m,className:"bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 transition",children:m?"...":r("signup")})]})]})}function yu(r,e){const t=e??(()=>{try{const s=localStorage.getItem("rest-client-variables");return s?JSON.parse(s):{}}catch{return{}}})();return r.replace(/{{(.*?)}}/g,(s,a)=>t[a.trim()]??`{{${a}}}`)}function gP({url:r,headers:e,body:t,variables:s}){const a=yu(r,s),l={};for(const[d,p]of Object.entries(e))l[d]=yu(p,s);const c=yu(t,s);return{url:a,headers:l,body:c}}async function yP({method:r,url:e,headers:t,body:s,variables:a}){try{const{url:l,headers:c,body:d}=gP({url:e,headers:t,body:s,variables:a}),p=performance.now(),m=await fetch(l,{method:r,headers:c,body:["GET","HEAD"].includes(r.toUpperCase())?void 0:d}),v=performance.now()-p;let T;m.headers.get("content-type")?.includes("application/json")?T=await m.json():T=await m.text();const A={};return m.headers.forEach((D,X)=>{A[X]=D}),{method:r,url:l,status:m.status,statusText:m.statusText,duration:Math.round(v),data:T,headers:A}}catch(l){const c=performance.now();return{method:r,url:e,status:0,statusText:"Network Error",duration:Math.round(c),data:null,headers:{},error:l instanceof Error?l.message:typeof l=="string"?l:"Unknown error"}}}function vP({response:r}){const{t:e}=Mr();return Q.jsxs("div",{className:"mt-6 space-y-4",children:[Q.jsx("h2",{className:"text-xl font-bold",children:e("response")}),Q.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[Q.jsxs("div",{children:[Q.jsxs("span",{className:"font-semibold",children:[e("status"),":"]})," ",Q.jsxs("span",{className:r.status>=400?"text-red-600":"text-green-600",children:[r.status," ",r.statusText]})]}),Q.jsxs("div",{children:[Q.jsxs("span",{className:"font-semibold",children:[e("duration"),":"]})," ",r.duration,"ms"]})]}),r.error&&Q.jsxs("div",{className:"text-red-600 text-sm",children:[Q.jsxs("strong",{children:[e("error"),":"]})," ",r.error]}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"font-semibold mb-1",children:"Headers"}),Q.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs overflow-x-auto",children:JSON.stringify(r.headers,null,2)})]}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"font-semibold mb-1",children:"Body"}),Q.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs overflow-x-auto",children:typeof r.data=="object"?JSON.stringify(r.data,null,2):String(r.data)})]})]})}const _P=[{key:"curl",label:"cURL"},{key:"javascript",label:"JavaScript (fetch)"}];function EP({method:r,url:e,header:t,body:s}){const[a,l]=U.useState("curl"),[c,d]=U.useState("");U.useEffect(()=>{const m={};t.forEach(({key:S,value:A})=>{S&&(m[S]=A)});const v=s??"";d((()=>{switch(a){case"curl":const S=Object.entries(m).map(([X,z])=>`-H "${X}: ${z}"`).join(` \\
  `),A=S?S+` \\
  `:"",D=v&&!["GET","HEAD"].includes(r.toUpperCase())?`--data '${v}' \\
  `:"";return`curl -X ${r} \\
  ${A}${D}"${e}"`;case"javascript":return`fetch("${e}", {
  method: "${r}",
  headers: ${JSON.stringify(m,null,2)},
  body: ${v?JSON.stringify(v):"undefined"}
})`}})())},[r,e,t,s,a]);const p=()=>{navigator.clipboard.writeText(c)};return Q.jsxs("div",{className:"mt-6",children:[Q.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Q.jsx("select",{value:a,onChange:m=>l(m.target.value),className:"px-2 py-1 border rounded",children:_P.map(m=>Q.jsx("option",{value:m.key,children:m.label},m.key))}),Q.jsx("button",{onClick:p,className:"bg-gray-800 text-white px-3 py-1 rounded text-sm",children:"Copy"})]}),Q.jsx("pre",{className:"bg-gray-100 p-4 rounded overflow-x-auto text-sm",children:Q.jsx("code",{children:c})})]})}async function JT(r,e,t,s,a,l){const c=tw(dw,"requests");await zM(c,{userId:r,method:e,url:t,status:s,duration:a,error:l??null,timestamp:Rt.now()})}async function TP(r){const e=tw(dw,"requests"),t=MM(e,PM("userId","==",r));return(await jM(t)).docs.map(a=>{const l=a.data();return{method:l.method,url:l.url,status:l.status,duration:l.duration,error:l.error??void 0,timestamp:l.timestamp.toDate()}})}const SP=["GET","POST","PUT","DELETE","PATCH"];function bP({restoreRequest:r}){const{t:e}=Mr(),{user:t}=ka(),[s,a]=U.useState("GET"),[l,c]=U.useState(""),[d,p]=U.useState({}),[m,v]=U.useState(""),[T,S]=U.useState(null),[A,D]=U.useState(!1);U.useEffect(()=>{if(!r?.restoreRequest)return;const H=r.restoreRequest;a(H.method??"GET"),c(H.url??""),p(H.headers??{}),v(H.body??"")},[r]);const X=(H,re)=>{p(pe=>({...pe,[H]:re}))},z=async()=>{if(!l.trim())return;const H=yu(l);c(H),D(!0);const re=[H.startsWith("http://")||H.startsWith("https://")?H:`http://${H}`,H.startsWith("http://")||H.startsWith("https://")?"":`https://${H}`].filter(Boolean);let pe=null;for(const k of re)try{const x=await yP({method:s,url:k,headers:d,body:m,variables:{}});S(x),t&&await JT(t.id,x.method,x.url,x.status,x.duration,x.error??void 0),D(!1);return}catch(x){pe=x}const se={method:s,url:l,status:0,statusText:"Error",duration:0,data:null,headers:{},error:pe instanceof Error?pe.message:typeof pe=="string"?pe:"Unknown error"};S(se),t&&await JT(t.id,se.method,se.url,se.status,se.duration,se.error??void 0),D(!1)};function te({loading:H,onClick:re,t:pe}){const[se,k]=U.useState("");return U.useEffect(()=>{if(!H){k("");return}const x=setInterval(()=>{k(R=>R.length<3?R+".":"")},500);return()=>clearInterval(x)},[H]),Q.jsx("button",{onClick:re,className:"bg-blue-600 text-white px-4 py-1 rounded",disabled:H,children:H?`Wait${se}`:pe("send")})}return Q.jsxs("div",{className:"space-y-6",children:[Q.jsxs("div",{className:"flex gap-2 items-center",children:[Q.jsx("select",{value:s,onChange:H=>a(H.target.value),className:"border px-2 py-1 rounded",children:SP.map(H=>Q.jsx("option",{value:H,children:H},H))}),Q.jsx("input",{type:"text",placeholder:e("url"),value:l,onChange:H=>c(H.target.value),className:"flex-grow border px-2 py-1 rounded"}),Q.jsx(te,{loading:A,onClick:z,t:e})]}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"font-semibold mb-2",children:e("headers")}),Object.entries(d).map(([H,re],pe)=>Q.jsxs("div",{className:"flex gap-2 mb-1",children:[Q.jsx("input",{type:"text",value:H,onChange:se=>{const k=se.target.value,x={...d};delete x[H],x[k]=re,p(x)},className:"border px-2 py-1 w-1/3"}),Q.jsx("input",{type:"text",value:re,onChange:se=>X(H,se.target.value),className:"border px-2 py-1 w-2/3"})]},pe)),Q.jsx("button",{onClick:()=>X("",""),className:"text-sm text-blue-600 mt-2",children:"+ Add Header"})]}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"font-semibold mb-2",children:e("body")}),Q.jsx("textarea",{value:m,onChange:H=>v(H.target.value),rows:6,className:"w-full border px-2 py-1 rounded"})]}),T&&Q.jsx(vP,{response:T}),Q.jsx(EP,{method:s,url:yu(l),header:Object.entries(d).map(([H,re])=>({key:H,value:re})),body:m})]})}function wP(r){const{t:e}=Mr();return Q.jsxs("div",{className:"max-w-5xl mx-auto py-6 px-4",children:[Q.jsx("h1",{className:"text-2xl font-bold mb-4",children:e("appName")}),Q.jsx(bP,{restoreRequest:r})]})}const je=r=>typeof r=="string",iu=()=>{let r,e;const t=new Promise((s,a)=>{r=s,e=a});return t.resolve=r,t.reject=e,t},ZT=r=>r==null?"":""+r,AP=(r,e,t)=>{r.forEach(s=>{e[s]&&(t[s]=e[s])})},RP=/###/g,e0=r=>r&&r.indexOf("###")>-1?r.replace(RP,"."):r,t0=r=>!r||je(r),vu=(r,e,t)=>{const s=je(e)?e.split("."):e;let a=0;for(;a<s.length-1;){if(t0(r))return{};const l=e0(s[a]);!r[l]&&t&&(r[l]=new t),Object.prototype.hasOwnProperty.call(r,l)?r=r[l]:r={},++a}return t0(r)?{}:{obj:r,k:e0(s[a])}},n0=(r,e,t)=>{const{obj:s,k:a}=vu(r,e,Object);if(s!==void 0||e.length===1){s[a]=t;return}let l=e[e.length-1],c=e.slice(0,e.length-1),d=vu(r,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=vu(r,c,Object),d?.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=t},CP=(r,e,t,s)=>{const{obj:a,k:l}=vu(r,e,Object);a[l]=a[l]||[],a[l].push(t)},af=(r,e)=>{const{obj:t,k:s}=vu(r,e);if(t&&Object.prototype.hasOwnProperty.call(t,s))return t[s]},IP=(r,e,t)=>{const s=af(r,t);return s!==void 0?s:af(e,t)},_w=(r,e,t)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in r?je(r[s])||r[s]instanceof String||je(e[s])||e[s]instanceof String?t&&(r[s]=e[s]):_w(r[s],e[s],t):r[s]=e[s]);return r},Ao=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var xP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const DP=r=>je(r)?r.replace(/[&<>"'\/]/g,e=>xP[e]):r;class NP{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const OP=[" ",",","?","!",";"],MP=new NP(20),PP=(r,e,t)=>{e=e||"",t=t||"";const s=OP.filter(c=>e.indexOf(c)<0&&t.indexOf(c)<0);if(s.length===0)return!0;const a=MP.getRegExp(`(${s.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!a.test(r);if(!l){const c=r.indexOf(t);c>0&&!a.test(r.substring(0,c))&&(l=!0)}return l},Pm=(r,e,t=".")=>{if(!r)return;if(r[e])return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;const s=e.split(t);let a=r;for(let l=0;l<s.length;){if(!a||typeof a!="object")return;let c,d="";for(let p=l;p<s.length;++p)if(p!==l&&(d+=t),d+=s[p],c=a[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&p<s.length-1)continue;l+=p-l+1;break}a=c}return a},Nu=r=>r?.replace("_","-"),VP={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){console?.[r]?.apply?.(console,e)}};class of{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||VP,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,a){return a&&!this.debug?null:(je(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new of(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new of(this.logger,e)}}var Zr=new of;class Of{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const a=this.observers[s].get(t)||0;this.observers[s].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a.apply(a,[e,...t])})}}class r0 extends Of{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s,a={}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],s&&(Array.isArray(s)?d.push(...s):je(s)&&l?d.push(...s.split(l)):d.push(s)));const p=af(this.data,d);return!p&&!t&&!s&&e.indexOf(".")>-1&&(e=d[0],t=d[1],s=d.slice(2).join(".")),p||!c||!je(s)?p:Pm(this.data?.[e]?.[t],s,l)}addResource(e,t,s,a,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,t];s&&(d=d.concat(c?s.split(c):s)),e.indexOf(".")>-1&&(d=e.split("."),a=t,t=d[1]),this.addNamespaces(t),n0(this.data,d,a),l.silent||this.emit("added",e,t,s,a)}addResources(e,t,s,a={silent:!1}){for(const l in s)(je(s[l])||Array.isArray(s[l]))&&this.addResource(e,t,l,s[l],{silent:!0});a.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,a,l,c={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),a=s,s=t,t=d[1]),this.addNamespaces(t);let p=af(this.data,d)||{};c.skipCopy||(s=JSON.parse(JSON.stringify(s))),a?_w(p,s,l):p={...p,...s},n0(this.data,d,p),c.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var Ew={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,t,s,a){return r.forEach(l=>{e=this.processors[l]?.process(e,t,s,a)??e}),e}};const Tw=Symbol("i18next/PATH_KEY");function LP(){const r=[],e=Object.create(null);let t;return e.get=(s,a)=>(t?.revoke?.(),a===Tw?r:(r.push(a),t=Proxy.revocable(s,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Vm(r,e){const{[Tw]:t}=r(LP());return t.join(e?.keySeparator??".")}const i0={},s0=r=>!je(r)&&typeof r!="boolean"&&typeof r!="number";class lf extends Of{constructor(e,t={}){super(),AP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Zr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const s={...t};return e==null?!1:this.resolve(e,s)?.res!==void 0}extractFromKey(e,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let l=t.ns||this.options.defaultNS||[];const c=s&&e.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!PP(e,s,a);if(c&&!d){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:je(l)?[l]:l};const m=e.split(s);(s!==a||s===a&&this.options.ns.indexOf(m[0])>-1)&&(l=m.shift()),e=m.join(a)}return{key:e,namespaces:je(l)?[l]:l}}translate(e,t,s){let a=typeof t=="object"?{...t}:t;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=Vm(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:d,namespaces:p}=this.extractFromKey(e[e.length-1],a),m=p[p.length-1];let v=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;v===void 0&&(v=":");const T=a.lng||this.language,S=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(T?.toLowerCase()==="cimode")return S?l?{res:`${m}${v}${d}`,usedKey:d,exactUsedKey:d,usedLng:T,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:`${m}${v}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:T,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:d;const A=this.resolve(e,a);let D=A?.res;const X=A?.usedKey||d,z=A?.exactUsedKey||d,te=["[object Number]","[object Function]","[object RegExp]"],H=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,re=!this.i18nFormat||this.i18nFormat.handleAsObject,pe=a.count!==void 0&&!je(a.count),se=lf.hasDefaultValue(a),k=pe?this.pluralResolver.getSuffix(T,a.count,a):"",x=a.ordinal&&pe?this.pluralResolver.getSuffix(T,a.count,{ordinal:!1}):"",R=pe&&!a.ordinal&&a.count===0,C=R&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${k}`]||a[`defaultValue${x}`]||a.defaultValue;let M=D;re&&!D&&se&&(M=C);const L=s0(M),j=Object.prototype.toString.apply(M);if(re&&M&&L&&te.indexOf(j)<0&&!(je(H)&&Array.isArray(M))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(X,M,{...a,ns:p}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(A.res=I,A.usedParams=this.getUsedParamsDetails(a),A):I}if(c){const I=Array.isArray(M),xe=I?[]:{},Ye=I?z:X;for(const $ in M)if(Object.prototype.hasOwnProperty.call(M,$)){const he=`${Ye}${c}${$}`;se&&!D?xe[$]=this.translate(he,{...a,defaultValue:s0(C)?C[$]:void 0,joinArrays:!1,ns:p}):xe[$]=this.translate(he,{...a,joinArrays:!1,ns:p}),xe[$]===he&&(xe[$]=M[$])}D=xe}}else if(re&&je(H)&&Array.isArray(D))D=D.join(H),D&&(D=this.extendTranslation(D,e,a,s));else{let I=!1,xe=!1;!this.isValidLookup(D)&&se&&(I=!0,D=C),this.isValidLookup(D)||(xe=!0,D=d);const $=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&xe?void 0:D,he=se&&C!==D&&this.options.updateMissing;if(xe||I||he){if(this.logger.log(he?"updateKey":"missingKey",T,m,d,he?C:D),c){const ee=this.resolve(d,{...a,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ge=[];const ke=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ke&&ke[0])for(let ee=0;ee<ke.length;ee++)ge.push(ke[ee]);else this.options.saveMissingTo==="all"?ge=this.languageUtils.toResolveHierarchy(a.lng||this.language):ge.push(a.lng||this.language);const O=(ee,de,ce)=>{const Te=se&&ce!==D?ce:$;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,m,de,Te,he,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ee,m,de,Te,he,a),this.emit("missingKey",ee,m,de,D)};this.options.saveMissing&&(this.options.saveMissingPlurals&&pe?ge.forEach(ee=>{const de=this.pluralResolver.getSuffixes(ee,a);R&&a[`defaultValue${this.options.pluralSeparator}zero`]&&de.indexOf(`${this.options.pluralSeparator}zero`)<0&&de.push(`${this.options.pluralSeparator}zero`),de.forEach(ce=>{O([ee],d+ce,a[`defaultValue${ce}`]||C)})}):O(ge,d,C))}D=this.extendTranslation(D,e,a,A,s),xe&&D===d&&this.options.appendNamespaceToMissingKey&&(D=`${m}${v}${d}`),(xe||I)&&this.options.parseMissingKeyHandler&&(D=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${v}${d}`:d,I?D:void 0,a))}return l?(A.res=D,A.usedParams=this.getUsedParamsDetails(a),A):D}extendTranslation(e,t,s,a,l){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const p=je(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(p){const T=e.match(this.interpolator.nestingRegexp);m=T&&T.length}let v=s.replace&&!je(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,s.lng||this.language||a.usedLng,s),p){const T=e.match(this.interpolator.nestingRegexp),S=T&&T.length;m<S&&(s.nest=!1)}!s.lng&&a&&a.res&&(s.lng=this.language||a.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>l?.[0]===T[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${t[0]}`),null):this.translate(...T,t),s)),s.interpolation&&this.interpolator.reset()}const c=s.postProcess||this.options.postProcess,d=je(c)?[c]:c;return e!=null&&d?.length&&s.applyPostProcessor!==!1&&(e=Ew.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,t={}){let s,a,l,c,d;return je(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(s))return;const m=this.extractFromKey(p,t),v=m.key;a=v;let T=m.namespaces;this.options.fallbackNS&&(T=T.concat(this.options.fallbackNS));const S=t.count!==void 0&&!je(t.count),A=S&&!t.ordinal&&t.count===0,D=t.context!==void 0&&(je(t.context)||typeof t.context=="number")&&t.context!=="",X=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);T.forEach(z=>{this.isValidLookup(s)||(d=z,!i0[`${X[0]}-${z}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(i0[`${X[0]}-${z}`]=!0,this.logger.warn(`key "${a}" for languages "${X.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),X.forEach(te=>{if(this.isValidLookup(s))return;c=te;const H=[v];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(H,v,te,z,t);else{let pe;S&&(pe=this.pluralResolver.getSuffix(te,t.count,t));const se=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(S&&(t.ordinal&&pe.indexOf(k)===0&&H.push(v+pe.replace(k,this.options.pluralSeparator)),H.push(v+pe),A&&H.push(v+se)),D){const x=`${v}${this.options.contextSeparator||"_"}${t.context}`;H.push(x),S&&(t.ordinal&&pe.indexOf(k)===0&&H.push(x+pe.replace(k,this.options.pluralSeparator)),H.push(x+pe),A&&H.push(x+se))}}let re;for(;re=H.pop();)this.isValidLookup(s)||(l=re,s=this.getResource(te,z,re,t))}))})}),{res:s,usedKey:a,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,s,a):this.resourceStore.getResource(e,t,s,a)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!je(e.replace);let a=s?e.replace:e;if(s&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!s){a={...a};for(const l of t)delete a[l]}return a}static hasDefaultValue(e){const t="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&e[s]!==void 0)return!0;return!1}}class a0{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zr.create("languageUtils")}getScriptPartFromCode(e){if(e=Nu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Nu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(je(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(s=>{if(t)return;const a=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(s=>{if(t)return;const a=this.getScriptPartFromCode(s);if(this.isSupportedCode(a))return t=a;const l=this.getLanguagePartFromCode(s);if(this.isSupportedCode(l))return t=l;t=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),je(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),a=[],l=c=>{c&&(this.isSupportedCode(c)?a.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return je(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):je(e)&&l(this.formatLanguageCode(e)),s.forEach(c=>{a.indexOf(c)<0&&l(this.formatLanguageCode(c))}),a}}const o0={zero:0,one:1,two:2,few:3,many:4,other:5},l0={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class kP{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Zr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const s=Nu(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:s,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(s,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),l0;if(!e.match(/-|_/))return l0;const p=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(p,t)}return this.pluralRulesCache[l]=c,c}needsPlural(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,s={}){return this.getSuffixes(e,s).map(a=>`${t}${a}`)}getSuffixes(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?s.resolvedOptions().pluralCategories.sort((a,l)=>o0[a]-o0[l]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t,s={}){const a=this.getRule(e,s);return a?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,s))}}const u0=(r,e,t,s=".",a=!0)=>{let l=IP(r,e,t);return!l&&a&&je(t)&&(l=Pm(r,t,s),l===void 0&&(l=Pm(e,t,s))),l},Jp=r=>r.replace(/\$/g,"$$$$");class UP{constructor(e={}){this.logger=Zr.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:a,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:p,formatSeparator:m,unescapeSuffix:v,unescapePrefix:T,nestingPrefix:S,nestingPrefixEscaped:A,nestingSuffix:D,nestingSuffixEscaped:X,nestingOptionsSeparator:z,maxReplaces:te,alwaysFormat:H}=e.interpolation;this.escape=t!==void 0?t:DP,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?Ao(l):c||"{{",this.suffix=d?Ao(d):p||"}}",this.formatSeparator=m||",",this.unescapePrefix=v?"":T||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=S?Ao(S):A||Ao("$t("),this.nestingSuffix=D?Ao(D):X||Ao(")"),this.nestingOptionsSeparator=z||",",this.maxReplaces=te||1e3,this.alwaysFormat=H!==void 0?H:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,s)=>t?.source===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,s,a){let l,c,d;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=A=>{if(A.indexOf(this.formatSeparator)<0){const te=u0(t,p,A,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(te,void 0,s,{...a,...t,interpolationkey:A}):te}const D=A.split(this.formatSeparator),X=D.shift().trim(),z=D.join(this.formatSeparator).trim();return this.format(u0(t,p,X,this.options.keySeparator,this.options.ignoreJSONStructure),z,s,{...a,...t,interpolationkey:X})};this.resetRegExp();const v=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,T=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:A=>Jp(A)},{regex:this.regexp,safeValue:A=>this.escapeValue?Jp(this.escape(A)):Jp(A)}].forEach(A=>{for(d=0;l=A.regex.exec(e);){const D=l[1].trim();if(c=m(D),c===void 0)if(typeof v=="function"){const z=v(e,l,a);c=je(z)?z:""}else if(a&&Object.prototype.hasOwnProperty.call(a,D))c="";else if(T){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${D} for interpolating ${e}`),c="";else!je(c)&&!this.useRawValueToEscape&&(c=ZT(c));const X=A.safeValue(c);if(e=e.replace(l[0],X),T?(A.regex.lastIndex+=c.length,A.regex.lastIndex-=l[0].length):A.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,s={}){let a,l,c;const d=(p,m)=>{const v=this.nestingOptionsSeparator;if(p.indexOf(v)<0)return p;const T=p.split(new RegExp(`${v}[ ]*{`));let S=`{${T[1]}`;p=T[0],S=this.interpolate(S,c);const A=S.match(/'/g),D=S.match(/"/g);((A?.length??0)%2===0&&!D||D.length%2!==0)&&(S=S.replace(/'/g,'"'));try{c=JSON.parse(S),m&&(c={...m,...c})}catch(X){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,X),`${p}${v}${S}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,p};for(;a=this.nestingRegexp.exec(e);){let p=[];c={...s},c=c.replace&&!je(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const m=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(m!==-1&&(p=a[1].slice(m).split(this.formatSeparator).map(v=>v.trim()).filter(Boolean),a[1]=a[1].slice(0,m)),l=t(d.call(this,a[1].trim(),c),c),l&&a[0]===e&&!je(l))return l;je(l)||(l=ZT(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),p.length&&(l=p.reduce((v,T)=>this.format(v,T,s.lng,{...s,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const jP=r=>{let e=r.toLowerCase().trim();const t={};if(r.indexOf("(")>-1){const s=r.split("(");e=s[0].toLowerCase().trim();const a=s[1].substring(0,s[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(c=>{if(c){const[d,...p]=c.split(":"),m=p.join(":").trim().replace(/^'+|'+$/g,""),v=d.trim();t[v]||(t[v]=m),m==="false"&&(t[v]=!1),m==="true"&&(t[v]=!0),isNaN(m)||(t[v]=parseInt(m,10))}})}return{formatName:e,formatOptions:t}},c0=r=>{const e={};return(t,s,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const c=s+JSON.stringify(l);let d=e[c];return d||(d=r(Nu(s),a),e[c]=d),d(t)}},zP=r=>(e,t,s)=>r(Nu(t),s)(e);class BP{constructor(e={}){this.logger=Zr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const s=t.cacheInBuiltFormats?c0:zP;this.formats={number:s((a,l)=>{const c=new Intl.NumberFormat(a,{...l});return d=>c.format(d)}),currency:s((a,l)=>{const c=new Intl.NumberFormat(a,{...l,style:"currency"});return d=>c.format(d)}),datetime:s((a,l)=>{const c=new Intl.DateTimeFormat(a,{...l});return d=>c.format(d)}),relativetime:s((a,l)=>{const c=new Intl.RelativeTimeFormat(a,{...l});return d=>c.format(d,l.range||"day")}),list:s((a,l)=>{const c=new Intl.ListFormat(a,{...l});return d=>c.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=c0(t)}format(e,t,s,a={}){const l=t.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(p=>p.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,p)=>{const{formatName:m,formatOptions:v}=jP(p);if(this.formats[m]){let T=d;try{const S=a?.formatParams?.[a.interpolationkey]||{},A=S.locale||S.lng||a.locale||a.lng||s;T=this.formats[m](d,A,{...v,...a,...S})}catch(S){this.logger.warn(S)}return T}else this.logger.warn(`there was no format function for ${m}`);return d},e)}}const HP=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class FP extends Of{constructor(e,t,s,a={}){super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=a,this.logger=Zr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,a.backend,a)}queueLoad(e,t,s,a){const l={},c={},d={},p={};return e.forEach(m=>{let v=!0;t.forEach(T=>{const S=`${m}|${T}`;!s.reload&&this.store.hasResourceBundle(m,T)?this.state[S]=2:this.state[S]<0||(this.state[S]===1?c[S]===void 0&&(c[S]=!0):(this.state[S]=1,v=!1,c[S]===void 0&&(c[S]=!0),l[S]===void 0&&(l[S]=!0),p[T]===void 0&&(p[T]=!0)))}),v||(d[m]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(p)}}loaded(e,t,s){const a=e.split("|"),l=a[0],c=a[1];t&&this.emit("failedLoading",l,c,t),!t&&s&&this.store.addResourceBundle(l,c,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&s&&(this.state[e]=0);const d={};this.queue.forEach(p=>{CP(p.loaded,[l],c),HP(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(m=>{d[m]||(d[m]={});const v=p.loaded[m];v.length&&v.forEach(T=>{d[m][T]===void 0&&(d[m][T]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(p=>!p.done)}read(e,t,s,a=0,l=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:s,tried:a,wait:l,callback:c});return}this.readingCalls++;const d=(m,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const T=this.waitingReads.shift();this.read(T.lng,T.ns,T.fcName,T.tried,T.wait,T.callback)}if(m&&v&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,s,a+1,l*2,c)},l);return}c(m,v)},p=this.backend[s].bind(this.backend);if(p.length===2){try{const m=p(e,t);m&&typeof m.then=="function"?m.then(v=>d(null,v)).catch(d):d(null,m)}catch(m){d(m)}return}return p(e,t,d)}prepareLoading(e,t,s={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();je(e)&&(e=this.languageUtils.toResolveHierarchy(e)),je(t)&&(t=[t]);const l=this.queueLoad(e,t,s,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e,t=""){const s=e.split("|"),a=s[0],l=s[1];this.read(a,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${t}loading namespace ${l} for language ${a} failed`,c),!c&&d&&this.logger.log(`${t}loaded namespace ${l} for language ${a}`,d),this.loaded(e,c,d)})}saveMissing(e,t,s,a,l,c={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const p={...c,isUpdate:l},m=this.backend.create.bind(this.backend);if(m.length<6)try{let v;m.length===5?v=m(e,t,s,a,p):v=m(e,t,s,a),v&&typeof v.then=="function"?v.then(T=>d(null,T)).catch(d):d(null,v)}catch(v){d(v)}else m(e,t,s,a,d,p)}!e||!e[0]||this.store.addResource(e[0],t,s,a)}}}const h0=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),je(r[1])&&(e.defaultValue=r[1]),je(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const t=r[3]||r[2];Object.keys(t).forEach(s=>{e[s]=t[s]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),f0=r=>(je(r.ns)&&(r.ns=[r.ns]),je(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),je(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs?.indexOf?.("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r),vh=()=>{},qP=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(t=>{typeof r[t]=="function"&&(r[t]=r[t].bind(r))})};class Ou extends Of{constructor(e={},t){if(super(),this.options=f0(e),this.services={},this.logger=Zr,this.modules={external:[]},qP(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(je(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=h0();this.options={...s,...this.options,...f0(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?Zr.init(a(this.modules.logger),this.options):Zr.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=BP;const v=new a0(this.options);this.store=new r0(this.options.resources,this.options);const T=this.services;T.logger=Zr,T.resourceStore=this.store,T.languageUtils=v,T.pluralResolver=new kP(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),m&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(T.formatter=a(m),T.formatter.init&&T.formatter.init(T,this.options),this.options.interpolation.format=T.formatter.format.bind(T.formatter)),T.interpolator=new UP(this.options),T.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},T.backendConnector=new FP(a(this.modules.backend),T.resourceStore,T,this.options),T.backendConnector.on("*",(A,...D)=>{this.emit(A,...D)}),this.modules.languageDetector&&(T.languageDetector=a(this.modules.languageDetector),T.languageDetector.init&&T.languageDetector.init(T,this.options.detection,this.options)),this.modules.i18nFormat&&(T.i18nFormat=a(this.modules.i18nFormat),T.i18nFormat.init&&T.i18nFormat.init(this)),this.translator=new lf(this.services,this.options),this.translator.on("*",(A,...D)=>{this.emit(A,...D)}),this.modules.external.forEach(A=>{A.init&&A.init(this)})}if(this.format=this.options.interpolation.format,t||(t=vh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...v)=>this.store[m](...v)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...v)=>(this.store[m](...v),this)});const d=iu(),p=()=>{const m=(v,T)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(T),t(v,T)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),d}loadResources(e,t=vh){let s=t;const a=je(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(m=>{m!=="cimode"&&l.indexOf(m)<0&&l.push(m)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>c(p)),this.options.preload?.forEach?.(d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(d)})}else s(null)}reloadResources(e,t,s){const a=iu();return typeof e=="function"&&(s=e,e=void 0),typeof t=="function"&&(s=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),s||(s=vh),this.services.backendConnector.reload(e,t,l=>{a.resolve(),s(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ew.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const s=iu();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,p)=>{p?this.isLanguageChangingTo===e&&(a(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,s.resolve((...m)=>this.t(...m)),t&&t(d,(...m)=>this.t(...m))},c=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const p=je(d)?d:d&&d[0],m=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(je(d)?[d]:d);m&&(this.language||a(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector?.cacheUserLanguage?.(m)),this.loadResources(m,v=>{l(v,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),s}getFixedT(e,t,s){const a=(l,c,...d)=>{let p;typeof c!="object"?p=this.options.overloadTranslationOptionHandler([l,c].concat(d)):p={...c},p.lng=p.lng||a.lng,p.lngs=p.lngs||a.lngs,p.ns=p.ns||a.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||s||a.keyPrefix);const m=this.options.keySeparator||".";let v;return p.keyPrefix&&Array.isArray(l)?v=l.map(T=>(typeof T=="function"&&(T=Vm(T,{...this.options,...c})),`${p.keyPrefix}${m}${T}`)):(typeof l=="function"&&(l=Vm(l,{...this.options,...c})),v=p.keyPrefix?`${p.keyPrefix}${m}${l}`:l),this.t(v,p)};return je(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=s,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const c=(d,p)=>{const m=this.services.backendConnector.state[`${d}|${p}`];return m===-1||m===0||m===2};if(t.precheck){const d=t.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,e)&&(!a||c(l,e)))}loadNamespaces(e,t){const s=iu();return this.options.ns?(je(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{s.resolve(),t&&t(a)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=iu();je(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(c=>a.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=a.concat(l),this.loadResources(c=>{s.resolve(),t&&t(c)}),s):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new a0(h0());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new Ou(e,t)}cloneInstance(e={},t=vh){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new Ou(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},s){const d=Object.keys(this.store.data).reduce((p,m)=>(p[m]={...this.store.data[m]},p[m]=Object.keys(p[m]).reduce((v,T)=>(v[T]={...p[m][T]},v),p[m]),p),{});l.store=new r0(d,a),l.services.resourceStore=l.store}return l.translator=new lf(l.services,a),l.translator.on("*",(d,...p)=>{l.emit(d,...p)}),l.init(a,t),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const bn=Ou.createInstance();bn.createInstance=Ou.createInstance;bn.createInstance;bn.dir;bn.init;bn.loadResources;bn.reloadResources;bn.use;bn.changeLanguage;bn.getFixedT;const Zp=bn.t;bn.exists;bn.setDefaultNamespace;bn.hasLoadedNamespace;bn.loadNamespaces;bn.loadLanguages;function GP({onSelect:r}){const[e,t]=U.useState([]),[s,a]=U.useState(!0),[l,c]=U.useState(null);return U.useEffect(()=>{(async()=>{try{const p=await pw();if(!p)throw new Error("You must be signed in to view history.");const m=await TP(p.id);t(m.sort((v,T)=>T.timestamp.getTime()-v.timestamp.getTime()))}catch(p){p instanceof Error?c(p.message):c("Failed to load history.")}finally{a(!1)}})()},[]),s?Q.jsx("p",{className:"text-gray-500",children:"Loading history..."}):l?Q.jsx("p",{className:"text-red-500",children:l}):e.length===0?Q.jsx("p",{className:"text-gray-500",children:"No history found."}):Q.jsx("div",{className:"space-y-4",children:e.map((d,p)=>Q.jsxs("div",{className:"history-entry cursor-pointer p-2 border rounded hover:bg-gray-100",onClick:()=>r?.(d),children:[Q.jsxs("div",{children:[Zp("method"),":"," ",Q.jsx("strong",{style:{color:"blue"},children:d.method})," ",Zp("url"),": ",d.url,Q.jsxs("span",{style:{color:"green",fontSize:20},children:[" ",Q.jsxs("strong",{style:{color:"black"},children:[Zp("status"),": "]})," ",d.status]})," ",Q.jsx("br",{}),Q.jsx("span",{style:{color:"red"},children:d.error})]}),Q.jsx("div",{style:{color:"gray"},children:d.timestamp.toLocaleString()})]},p))})}function Sw({onSelect:r}){const{t:e}=Mr();return Q.jsxs("div",{className:"max-w-4xl mx-auto py-6 px-4",children:[Q.jsx("h1",{className:"text-2xl font-bold mb-4",children:e("history")}),Q.jsx(GP,{onSelect:r})]})}function em(r,e){localStorage.setItem(r,JSON.stringify(e))}function $P(r){const e=localStorage.getItem(r);return e?JSON.parse(e):null}const _h="rest-client-variables",bw=U.createContext({variables:{},addVariable:()=>{},editVariable:()=>{},deleteVariable:()=>{}}),KP=({children:r})=>{const[e,t]=U.useState({});U.useEffect(()=>{const c=$P(_h);c&&t(c)},[]);const s=(c,d)=>{t(p=>{const m={...p,[c]:d};return em(_h,m),m})},a=(c,d)=>{t(p=>{if(!p[c])return p;const m={...p,[c]:d};return em(_h,m),m})},l=c=>{t(d=>{const p={...d};return delete p[c],em(_h,p),p})};return Q.jsx(bw.Provider,{value:{variables:e,addVariable:s,editVariable:a,deleteVariable:l},children:r})},YP=()=>U.useContext(bw);function QP(){const{variables:r,addVariable:e,editVariable:t,deleteVariable:s}=YP(),{t:a}=Mr(),[l,c]=U.useState(""),[d,p]=U.useState(""),[m,v]=U.useState(null),T=()=>{l.trim()&&(m?(t(m,d),v(null)):e(l,d),c(""),p(""))},S=D=>{v(D),c(D),p(r[D])},A=()=>{v(null),c(""),p("")};return Q.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[Q.jsx("h2",{className:"text-2xl font-bold",children:a("variables")}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsx("input",{type:"text",placeholder:a("addVariable")+" name",value:l,onChange:D=>c(D.target.value),className:"border px-2 py-1 w-1/3"}),Q.jsx("input",{type:"text",placeholder:a("addVariable")+" value",value:d,onChange:D=>p(D.target.value),className:"border px-2 py-1 w-1/2"}),Q.jsx("button",{onClick:T,className:"bg-blue-600 text-white px-3 py-1 rounded",children:a(m?"save Variable":"add Variable")}),m&&Q.jsx("button",{onClick:A,className:"bg-gray-400 text-white px-3 py-1 rounded",children:"Cancel"})]}),Q.jsx("ul",{className:"space-y-2",children:Object.entries(r).map(([D,X])=>Q.jsxs("li",{className:"flex justify-between items-center border p-2 rounded",children:[Q.jsxs("div",{children:[Q.jsx("span",{className:"font-semibold",children:`{{${D}}}`}),"="," ",Q.jsx("span",{children:X})]}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsx("button",{onClick:()=>S(D),className:"text-blue-600 hover:underline",children:a("editVariable")}),Q.jsx("button",{onClick:()=>s(D),className:"text-red-600 hover:underline",children:a("deleteVariable")})]})]},D))})]})}function XP(){const{t:r}=Mr();return Q.jsxs("div",{className:"max-w-4xl mx-auto py-6 px-4",children:[Q.jsx("h1",{className:"text-2xl font-bold mb-4",children:r("variables")}),Q.jsx(QP,{})]})}function ww(){const{t:r}=Mr();return Q.jsxs("section",{className:"MainWithoutLogin",children:[" ",Q.jsx(Pi,{to:"/signin",children:r("signin")}),Q.jsx(Pi,{to:"/signup",children:r("signup")})]})}function Eh({children:r}){const{user:e}=ka();return e?r:Q.jsx(ww,{})}const d0=({children:r})=>{const{user:e}=ka();return e?Q.jsx(V1,{to:"/",replace:!0}):r};function WP(){const{user:r}=ka();return r?Q.jsxs("h1",{children:["Welcome ",r.email]}):Q.jsx(ww,{})}function JP(){const[r,e]=U.useState(null);function t(s){e(s)}return Q.jsxs(Q.Fragment,{children:[Q.jsx(wP,{restoreRequest:r}),Q.jsx(Sw,{onSelect:t})]})}const ZP=aC([{path:"/",element:Q.jsx(dP,{}),children:[{path:"/",element:Q.jsx(Eh,{children:Q.jsx(WP,{})})},{path:"signin",element:Q.jsx(d0,{children:Q.jsx(pP,{})})},{path:"signup",element:Q.jsx(d0,{children:Q.jsx(mP,{})})},{path:"rest",element:Q.jsx(Eh,{children:Q.jsx(JP,{})})},{path:"history",element:Q.jsx(Eh,{children:Q.jsx(Sw,{})})},{path:"variables",element:Q.jsx(Eh,{children:Q.jsx(XP,{})})}]}]);class eV extends U.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?this.props.fallback??Q.jsxs("div",{className:"p-4 text-center text-red-600",children:[Q.jsx("h2",{className:"text-xl font-bold",children:"Something went wrong."}),Q.jsx("p",{children:this.state.error?.message})]}):this.props.children}}const tV="REST Client",nV="Sign In",rV="Sign Up",iV="Sign Out",sV="Email",aV="Password",oV="Submit",lV="Method",uV="URL",cV="Headers",hV="Body",fV="Send Request",dV="Response",pV="Status",mV="Duration",gV="Code Generation",yV="History",vV="Variables",_V="Add Variable",EV="Edit Variable",TV="Delete Variable",SV="Language",bV="Welcome to REST Client",wV="Something went wrong",AV="Page not found",RV="User",CV={appName:tV,signin:nV,signup:rV,signout:iV,email:sV,password:aV,submit:oV,method:lV,url:uV,headers:cV,body:hV,send:fV,response:dV,status:pV,duration:mV,codeGeneration:gV,history:yV,variables:vV,addVariable:_V,editVariable:EV,deleteVariable:TV,language:SV,welcome:bV,error:wV,notFound:AV,user:RV},IV="Klient REST",xV="Zaloguj si",DV="Zarejestruj si",NV="Wyloguj si",OV="Email",MV="Haso",PV="Wylij",VV="Metoda",LV="Adres URL",kV="Nagwki",UV="Tre",jV="Wylij danie",zV="Odpowied",BV="Status",HV="Czas trwania",FV="Generowanie kodu",qV="Historia",GV="Zmienne",$V="Dodaj zmienn",KV="Edytuj zmienn",YV="Usu zmienn",QV="Jzyk",XV="Witamy w Kliencie REST",WV="Co poszo nie tak",JV="Strona nie zostaa znaleziona",ZV="Uytkownik",eL={appName:IV,signin:xV,signup:DV,signout:NV,email:OV,password:MV,submit:PV,method:VV,url:LV,headers:kV,body:UV,send:jV,response:zV,status:BV,duration:HV,codeGeneration:FV,history:qV,variables:GV,addVariable:$V,editVariable:KV,deleteVariable:YV,language:QV,welcome:XV,error:WV,notFound:JV,user:ZV};bn.use(iP).init({resources:{en:{translation:CV},pl:{translation:eL}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});sR.createRoot(document.getElementById("root")).render(Q.jsx(JA.StrictMode,{children:Q.jsx(eV,{children:Q.jsx(KP,{children:Q.jsx($M,{children:Q.jsx(_C,{router:ZP})})})})}));
