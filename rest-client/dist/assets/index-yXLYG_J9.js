(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function h0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bp={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function GA(){if(H_)return Wl;H_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Wl.Fragment=e,Wl.jsx=t,Wl.jsxs=t,Wl}var F_;function $A(){return F_||(F_=1,bp.exports=GA()),bp.exports}var ee=$A(),wp={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function KA(){if(q_)return Ge;q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,Y={};function U(O,te,pe){this.props=O,this.context=te,this.refs=Y,this.updater=pe||A}U.prototype.isReactComponent={},U.prototype.setState=function(O,te){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,te,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Q(){}Q.prototype=U.prototype;function X(O,te,pe){this.props=O,this.context=te,this.refs=Y,this.updater=pe||A}var ne=X.prototype=new Q;ne.constructor=X,D(ne,U.prototype),ne.isPureReactComponent=!0;var fe=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function x(O,te,pe,ce,Te,Fe){return pe=Fe.ref,{$$typeof:r,type:O,key:te,ref:pe!==void 0?pe:null,props:Fe}}function R(O,te){return x(O.type,te,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function M(O){var te={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(pe){return te[pe]})}var L=/\/+/g;function j(O,te){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):te.toString(36)}function I(){}function xe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(te){O.status==="pending"&&(O.status="fulfilled",O.value=te)},function(te){O.status==="pending"&&(O.status="rejected",O.reason=te)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Ye(O,te,pe,ce,Te){var Fe=typeof O;(Fe==="undefined"||Fe==="boolean")&&(O=null);var Ne=!1;if(O===null)Ne=!0;else switch(Fe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(O.$$typeof){case r:case e:Ne=!0;break;case v:return Ne=O._init,Ye(Ne(O._payload),te,pe,ce,Te)}}if(Ne)return Te=Te(O),Ne=ce===""?"."+j(O,0):ce,fe(Te)?(pe="",Ne!=null&&(pe=Ne.replace(L,"$&/")+"/"),Ye(Te,te,pe,"",function(Wn){return Wn})):Te!=null&&(C(Te)&&(Te=R(Te,pe+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(L,"$&/")+"/")+Ne)),te.push(Te)),1;Ne=0;var kt=ce===""?".":ce+":";if(fe(O))for(var yt=0;yt<O.length;yt++)ce=O[yt],Fe=kt+j(ce,yt),Ne+=Ye(ce,te,pe,Fe,Te);else if(yt=S(O),typeof yt=="function")for(O=yt.call(O),yt=0;!(ce=O.next()).done;)ce=ce.value,Fe=kt+j(ce,yt++),Ne+=Ye(ce,te,pe,Fe,Te);else if(Fe==="object"){if(typeof O.then=="function")return Ye(xe(O),te,pe,ce,Te);throw te=String(O),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function G(O,te,pe){if(O==null)return O;var ce=[],Te=0;return Ye(O,ce,"","",function(Fe){return te.call(pe,Fe,Te++)}),ce}function he(O){if(O._status===-1){var te=O._result;te=te(),te.then(function(pe){(O._status===0||O._status===-1)&&(O._status=1,O._result=pe)},function(pe){(O._status===0||O._status===-1)&&(O._status=2,O._result=pe)}),O._status===-1&&(O._status=0,O._result=te)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ke(){}return Ge.Children={map:G,forEach:function(O,te,pe){G(O,function(){te.apply(this,arguments)},pe)},count:function(O){var te=0;return G(O,function(){te++}),te},toArray:function(O){return G(O,function(te){return te})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ge.Component=U,Ge.Fragment=t,Ge.Profiler=a,Ge.PureComponent=X,Ge.StrictMode=s,Ge.Suspense=p,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(O){return se.H.useMemoCache(O)}},Ge.cache=function(O){return function(){return O.apply(null,arguments)}},Ge.cloneElement=function(O,te,pe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=D({},O.props),Te=O.key,Fe=void 0;if(te!=null)for(Ne in te.ref!==void 0&&(Fe=void 0),te.key!==void 0&&(Te=""+te.key),te)!k.call(te,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&te.ref===void 0||(ce[Ne]=te[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=pe;else if(1<Ne){for(var kt=Array(Ne),yt=0;yt<Ne;yt++)kt[yt]=arguments[yt+2];ce.children=kt}return x(O.type,Te,void 0,void 0,Fe,ce)},Ge.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Ge.createElement=function(O,te,pe){var ce,Te={},Fe=null;if(te!=null)for(ce in te.key!==void 0&&(Fe=""+te.key),te)k.call(te,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=te[ce]);var Ne=arguments.length-2;if(Ne===1)Te.children=pe;else if(1<Ne){for(var kt=Array(Ne),yt=0;yt<Ne;yt++)kt[yt]=arguments[yt+2];Te.children=kt}if(O&&O.defaultProps)for(ce in Ne=O.defaultProps,Ne)Te[ce]===void 0&&(Te[ce]=Ne[ce]);return x(O,Fe,void 0,void 0,null,Te)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(O){return{$$typeof:d,render:O}},Ge.isValidElement=C,Ge.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:he}},Ge.memo=function(O,te){return{$$typeof:m,type:O,compare:te===void 0?null:te}},Ge.startTransition=function(O){var te=se.T,pe={};se.T=pe;try{var ce=O(),Te=se.S;Te!==null&&Te(pe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ke,ge)}catch(Fe){ge(Fe)}finally{se.T=te}},Ge.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ge.use=function(O){return se.H.use(O)},Ge.useActionState=function(O,te,pe){return se.H.useActionState(O,te,pe)},Ge.useCallback=function(O,te){return se.H.useCallback(O,te)},Ge.useContext=function(O){return se.H.useContext(O)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(O,te){return se.H.useDeferredValue(O,te)},Ge.useEffect=function(O,te,pe){var ce=se.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(O,te)},Ge.useId=function(){return se.H.useId()},Ge.useImperativeHandle=function(O,te,pe){return se.H.useImperativeHandle(O,te,pe)},Ge.useInsertionEffect=function(O,te){return se.H.useInsertionEffect(O,te)},Ge.useLayoutEffect=function(O,te){return se.H.useLayoutEffect(O,te)},Ge.useMemo=function(O,te){return se.H.useMemo(O,te)},Ge.useOptimistic=function(O,te){return se.H.useOptimistic(O,te)},Ge.useReducer=function(O,te,pe){return se.H.useReducer(O,te,pe)},Ge.useRef=function(O){return se.H.useRef(O)},Ge.useState=function(O){return se.H.useState(O)},Ge.useSyncExternalStore=function(O,te,pe){return se.H.useSyncExternalStore(O,te,pe)},Ge.useTransition=function(){return se.H.useTransition()},Ge.version="19.1.1",Ge}var G_;function Dm(){return G_||(G_=1,wp.exports=KA()),wp.exports}var B=Dm();const YA=h0(B);var Ap={exports:{}},Jl={},Rp={exports:{}},Cp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function QA(){return $_||($_=1,(function(r){function e(G,he){var ge=G.length;G.push(he);e:for(;0<ge;){var ke=ge-1>>>1,O=G[ke];if(0<a(O,he))G[ke]=he,G[ge]=O,ge=ke;else break e}}function t(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var he=G[0],ge=G.pop();if(ge!==he){G[0]=ge;e:for(var ke=0,O=G.length,te=O>>>1;ke<te;){var pe=2*(ke+1)-1,ce=G[pe],Te=pe+1,Fe=G[Te];if(0>a(ce,ge))Te<O&&0>a(Fe,ce)?(G[ke]=Fe,G[Te]=ge,ke=Te):(G[ke]=ce,G[pe]=ge,ke=pe);else if(Te<O&&0>a(Fe,ge))G[ke]=Fe,G[Te]=ge,ke=Te;else break e}}return he}function a(G,he){var ge=G.sortIndex-he.sortIndex;return ge!==0?ge:G.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],m=[],v=1,T=null,S=3,A=!1,D=!1,Y=!1,U=!1,Q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function fe(G){for(var he=t(m);he!==null;){if(he.callback===null)s(m);else if(he.startTime<=G)s(m),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(m)}}function se(G){if(Y=!1,fe(G),!D)if(t(p)!==null)D=!0,k||(k=!0,j());else{var he=t(m);he!==null&&Ye(se,he.startTime-G)}}var k=!1,x=-1,R=5,C=-1;function M(){return U?!0:!(r.unstable_now()-C<R)}function L(){if(U=!1,k){var G=r.unstable_now();C=G;var he=!0;try{e:{D=!1,Y&&(Y=!1,X(x),x=-1),A=!0;var ge=S;try{t:{for(fe(G),T=t(p);T!==null&&!(T.expirationTime>G&&M());){var ke=T.callback;if(typeof ke=="function"){T.callback=null,S=T.priorityLevel;var O=ke(T.expirationTime<=G);if(G=r.unstable_now(),typeof O=="function"){T.callback=O,fe(G),he=!0;break t}T===t(p)&&s(p),fe(G)}else s(p);T=t(p)}if(T!==null)he=!0;else{var te=t(m);te!==null&&Ye(se,te.startTime-G),he=!1}}break e}finally{T=null,S=ge,A=!1}he=void 0}}finally{he?j():k=!1}}}var j;if(typeof ne=="function")j=function(){ne(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,xe=I.port2;I.port1.onmessage=L,j=function(){xe.postMessage(null)}}else j=function(){Q(L,0)};function Ye(G,he){x=Q(function(){G(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(G){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var ge=S;S=he;try{return G()}finally{S=ge}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(G,he){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ge=S;S=G;try{return he()}finally{S=ge}},r.unstable_scheduleCallback=function(G,he,ge){var ke=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ke+ge:ke):ge=ke,G){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,G={id:v++,callback:he,priorityLevel:G,startTime:ge,expirationTime:O,sortIndex:-1},ge>ke?(G.sortIndex=ge,e(m,G),t(p)===null&&G===t(m)&&(Y?(X(x),x=-1):Y=!0,Ye(se,ge-ke))):(G.sortIndex=O,e(p,G),D||A||(D=!0,k||(k=!0,j()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var he=S;return function(){var ge=S;S=he;try{return G.apply(this,arguments)}finally{S=ge}}}})(Cp)),Cp}var K_;function XA(){return K_||(K_=1,Rp.exports=QA()),Rp.exports}var Ip={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function WA(){if(Y_)return vn;Y_=1;var r=Dm();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:m,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,vn.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,v)},vn.flushSync=function(p){var m=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=m,s.p=v,s.d.f()}},vn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},vn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},vn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,T=d(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:A}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},vn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},vn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=d(v,m.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},vn.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=d(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},vn.requestFormReset=function(p){s.d.r(p)},vn.unstable_batchedUpdates=function(p,m){return p(m)},vn.useFormState=function(p,m,v){return c.H.useFormState(p,m,v)},vn.useFormStatus=function(){return c.H.useHostTransitionStatus()},vn.version="19.1.1",vn}var Q_;function f0(){if(Q_)return Ip.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ip.exports=WA(),Ip.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function JA(){if(X_)return Jl;X_=1;var r=XA(),e=Dm(),t=f0();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(s(188));return i!==n?null:n}for(var o=n,u=i;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),n;if(g===u)return d(f),i;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,b=f.child;b;){if(b===o){E=!0,o=f,u=g;break}if(b===u){E=!0,u=f,o=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===o){E=!0,o=g,u=f;break}if(b===u){E=!0,u=g,o=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function xe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case U:return"Profiler";case Y:return"StrictMode";case se:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case ne:return(n.displayName||"Context")+".Provider";case X:return(n._context.displayName||"Context")+".Consumer";case fe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return i=n.displayName||null,i!==null?i:xe(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return xe(n(i))}catch{}}return null}var Ye=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ke=[],O=-1;function te(n){return{current:n}}function pe(n){0>O||(n.current=ke[O],ke[O]=null,O--)}function ce(n,i){O++,ke[O]=n.current,n.current=i}var Te=te(null),Fe=te(null),Ne=te(null),kt=te(null);function yt(n,i){switch(ce(Ne,i),ce(Fe,n),ce(Te,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?g_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=g_(i),n=y_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}pe(Te),ce(Te,n)}function Wn(){pe(Te),pe(Fe),pe(Ne)}function Ct(n){n.memoizedState!==null&&ce(kt,n);var i=Te.current,o=y_(i,n.type);i!==o&&(ce(Fe,n),ce(Te,o))}function mn(n){Fe.current===n&&(pe(Te),pe(Fe)),kt.current===n&&(pe(kt),$l._currentValue=ge)}var Nr=Object.prototype.hasOwnProperty,li=r.unstable_scheduleCallback,wn=r.unstable_cancelCallback,Gs=r.unstable_shouldYield,ka=r.unstable_requestPaint,An=r.unstable_now,Zo=r.unstable_getCurrentPriorityLevel,$s=r.unstable_ImmediatePriority,Bi=r.unstable_UserBlockingPriority,ui=r.unstable_NormalPriority,_r=r.unstable_LowPriority,Jn=r.unstable_IdlePriority,Hi=r.log,Fi=r.unstable_setDisableYieldValue,lt=null,$e=null;function gn(n){if(typeof Hi=="function"&&Fi(n),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(lt,n)}catch{}}var Ut=Math.clz32?Math.clz32:Or,Ua=Math.log,Zn=Math.LN2;function Or(n){return n>>>=0,n===0?32:31-(Ua(n)/Zn|0)|0}var Mr=256,Pr=4194304;function jn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ci(n,i,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~g,u!==0?f=jn(u):(E&=b,E!==0?f=jn(E):o||(o=b&~n,o!==0&&(f=jn(o))))):(b=u&~g,b!==0?f=jn(b):E!==0?f=jn(E):o||(o=u&~n,o!==0&&(f=jn(o)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:f}function er(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function qi(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(){var n=Mr;return Mr<<=1,(Mr&4194048)===0&&(Mr=256),n}function Ks(){var n=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),n}function tr(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Er(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Gi(n,i,o,u,f,g){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var b=n.entanglements,N=n.expirationTimes,$=n.hiddenUpdates;for(o=E&~o;0<o;){var re=31-Ut(o),ae=1<<re;b[re]=0,N[re]=-1;var W=$[re];if(W!==null)for($[re]=null,re=0;re<W.length;re++){var J=W[re];J!==null&&(J.lane&=-536870913)}o&=~ae}u!==0&&Rn(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(E&~i))}function Rn(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-Ut(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Vr(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-Ut(o),f=1<<u;f&i|n[u]&i&&(n[u]|=i),o&=~f}}function Lr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function $i(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function P(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:L_(n.type))}function H(n,i){var o=he.p;try{return he.p=n,i()}finally{he.p=o}}var K=Math.random().toString(36).slice(2),le="__reactFiber$"+K,de="__reactProps$"+K,ye="__reactContainer$"+K,Re="__reactEvents$"+K,be="__reactListeners$"+K,we="__reactHandles$"+K,De="__reactResources$"+K,Ae="__reactMarker$"+K;function Ee(n){delete n[le],delete n[de],delete n[Re],delete n[be],delete n[we]}function qe(n){var i=n[le];if(i)return i;for(var o=n.parentNode;o;){if(i=o[ye]||o[le]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=T_(n);n!==null;){if(o=n[le])return o;n=T_(n)}return i}n=o,o=n.parentNode}return null}function nt(n){if(n=n[le]||n[ye]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function pt(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function ut(n){var i=n[De];return i||(i=n[De]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ze(n){n[Ae]=!0}var ct=new Set,Mn={};function an(n,i){Wt(n,i),Wt(n+"Capture",i)}function Wt(n,i){for(Mn[n]=i,n=0;n<i.length;n++)ct.add(i[n])}var Cn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ki={},zn={};function nr(n){return Nr.call(zn,n)?!0:Nr.call(Ki,n)?!1:Cn.test(n)?zn[n]=!0:(Ki[n]=!0,!1)}function Bn(n,i,o){if(nr(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function In(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function Me(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}var It,Tr;function on(n){if(It===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);It=i&&i[1]||"",Tr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+n+Tr}var bt=!1;function Sr(n,i){if(!n||bt)return"";bt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var W=J}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(J){W=J}n.call(ae.prototype)}}else{try{throw Error()}catch(J){W=J}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],b=g[1];if(E&&b){var N=E.split(`
`),$=b.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===$.length)for(u=N.length-1,f=$.length-1;1<=u&&0<=f&&N[u]!==$[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==$[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==$[f]){var re=`
`+N[u].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=u&&0<=f);break}}}finally{bt=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?on(o):""}function Yi(n){switch(n.tag){case 26:case 27:case 5:return on(n.type);case 16:return on("Lazy");case 13:return on("Suspense");case 19:return on("SuspenseList");case 0:case 15:return Sr(n.type,!1);case 11:return Sr(n.type.render,!1);case 1:return Sr(n.type,!0);case 31:return on("Activity");default:return""}}function Qi(n){try{var i="";do i+=Yi(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function xn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function el(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Cf(n){var i=el(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ja(n){n._valueTracker||(n._valueTracker=Cf(n))}function tl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=el(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function Ys(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var If=/[\n"\\]/g;function jt(n){return n.replace(If,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hn(n,i,o,u,f,g,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+xn(i)):n.value!==""+xn(i)&&(n.value=""+xn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Xi(n,E,xn(i)):o!=null?Xi(n,E,xn(o)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+xn(b):n.removeAttribute("name")}function Qs(n,i,o,u,f,g,E,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;o=o!=null?""+xn(o):"",i=i!=null?""+xn(i):o,b||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Xi(n,i,o){i==="number"&&Ys(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function fi(n,i,o,u){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+xn(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function vt(n,i,o){if(i!=null&&(i=""+xn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+xn(o):""}function Xs(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if(Ye(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=xn(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function rr(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Ws=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gu(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||Ws.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function nl(n,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&Gu(n,f,u)}else for(var g in i)i.hasOwnProperty(g)&&Gu(n,g,i[g])}function rl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(n){return Df.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var di=null;function ir(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var pi=null,mi=null;function il(n){var i=nt(n);if(i&&(n=i.stateNode)){var o=n[de]||null;e:switch(n=i.stateNode,i.type){case"input":if(Hn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+jt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var f=u[de]||null;if(!f)throw Error(s(90));Hn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&tl(u)}break e;case"textarea":vt(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&fi(n,!!o.multiple,i,!1)}}}var kr=!1;function $u(n,i,o){if(kr)return n(i,o);kr=!0;try{var u=n(i);return u}finally{if(kr=!1,(pi!==null||mi!==null)&&(jc(),pi&&(i=pi,n=mi,mi=pi=null,il(i),n)))for(i=0;i<n.length;i++)il(n[i])}}function Js(n,i){var o=n.stateNode;if(o===null)return null;var u=o[de]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sr=!1;if(br)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{sr=!1}var Ur=null,Wi=null,gi=null;function sl(){if(gi)return gi;var n,i=Wi,o=i.length,u,f="value"in Ur?Ur.value:Ur.textContent,g=f.length;for(n=0;n<o&&i[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&i[o-u]===f[g-u];u++);return gi=f.slice(n,1<u?1-u:void 0)}function jr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function zr(){return!0}function al(){return!1}function Jt(n){function i(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(o=n[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?zr:al,this.isPropagationStopped=al,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),i}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=Jt(ft),ea=v({},ft,{view:0,detail:0}),Ku=Jt(ea),Ha,Fa,Br,ta=v({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Br&&(Br&&n.type==="mousemove"?(Ha=n.screenX-Br.screenX,Fa=n.screenY-Br.screenY):Fa=Ha=0,Br=n),Ha)},movementY:function(n){return"movementY"in n?n.movementY:Fa}}),ar=Jt(ta),Yu=v({},ta,{dataTransfer:0}),Nf=Jt(Yu),na=v({},ea,{relatedTarget:0}),qa=Jt(na),ol=v({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=Jt(ol),Qu=v({},ft,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$a=Jt(Qu),Of=v({},ft,{data:0}),ll=Jt(Of),ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Wu[n])?!!i[n]:!1}function ia(){return ul}var Ju=v({},ea,{key:function(n){if(n.key){var i=ra[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=jr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Xu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(n){return n.type==="keypress"?jr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?jr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ka=Jt(Ju),Zu=v({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=Jt(Zu),yi=v({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),ec=Jt(yi),tc=v({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),nc=Jt(tc),rc=v({},ta,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ya=Jt(rc),Dn=v({},ft,{newState:0,oldState:0}),ic=Jt(Dn),sc=[9,13,27,32],Hr=br&&"CompositionEvent"in window,h=null;br&&"documentMode"in document&&(h=document.documentMode);var y=br&&"TextEvent"in window&&!h,_=br&&(!Hr||h&&8<h&&11>=h),w=" ",F=!1;function Z(n,i){switch(n){case"keyup":return sc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var rt=!1;function $t(n,i){switch(n){case"compositionend":return me(i);case"keypress":return i.which!==32?null:(F=!0,w);case"textInput":return n=i.data,n===w&&F?null:n;default:return null}}function it(n,i){if(rt)return n==="compositionend"||!Hr&&Z(n,i)?(n=sl(),gi=Wi=Ur=null,rt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Zt[n.type]:i==="textarea"}function vi(n,i,o,u){pi?mi?mi.push(u):mi=[u]:pi=u,i=Gc(i,"onChange"),0<i.length&&(o=new Ba("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var ln=null,Fr=null;function hl(n){h_(n,0)}function ac(n){var i=pt(n);if(tl(i))return n}function Og(n,i){if(n==="change")return i}var Mg=!1;if(br){var Mf;if(br){var Pf="oninput"in document;if(!Pf){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Pf=typeof Pg.oninput=="function"}Mf=Pf}else Mf=!1;Mg=Mf&&(!document.documentMode||9<document.documentMode)}function Vg(){ln&&(ln.detachEvent("onpropertychange",Lg),Fr=ln=null)}function Lg(n){if(n.propertyName==="value"&&ac(Fr)){var i=[];vi(i,Fr,n,ir(n)),$u(hl,i)}}function Tw(n,i,o){n==="focusin"?(Vg(),ln=i,Fr=o,ln.attachEvent("onpropertychange",Lg)):n==="focusout"&&Vg()}function Sw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ac(Fr)}function bw(n,i){if(n==="click")return ac(i)}function ww(n,i){if(n==="input"||n==="change")return ac(i)}function Aw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Fn=typeof Object.is=="function"?Object.is:Aw;function fl(n,i){if(Fn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Nr.call(i,f)||!Fn(n[f],i[f]))return!1}return!0}function kg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ug(n,i){var o=kg(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kg(o)}}function jg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?jg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function zg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ys(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Ys(n.document)}return i}function Vf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Rw=br&&"documentMode"in document&&11>=document.documentMode,Qa=null,Lf=null,dl=null,kf=!1;function Bg(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;kf||Qa==null||Qa!==Ys(u)||(u=Qa,"selectionStart"in u&&Vf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),dl&&fl(dl,u)||(dl=u,u=Gc(Lf,"onSelect"),0<u.length&&(i=new Ba("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=Qa)))}function sa(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Xa={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Uf={},Hg={};br&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function aa(n){if(Uf[n])return Uf[n];if(!Xa[n])return n;var i=Xa[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in Hg)return Uf[n]=i[o];return n}var Fg=aa("animationend"),qg=aa("animationiteration"),Gg=aa("animationstart"),Cw=aa("transitionrun"),Iw=aa("transitionstart"),xw=aa("transitioncancel"),$g=aa("transitionend"),Kg=new Map,jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jf.push("scrollEnd");function wr(n,i){Kg.set(n,i),an(i,[n])}var Yg=new WeakMap;function or(n,i){if(typeof n=="object"&&n!==null){var o=Yg.get(n);return o!==void 0?o:(i={value:n,source:i,stack:Qi(i)},Yg.set(n,i),i)}return{value:n,source:i,stack:Qi(i)}}var lr=[],Wa=0,zf=0;function oc(){for(var n=Wa,i=zf=Wa=0;i<n;){var o=lr[i];lr[i++]=null;var u=lr[i];lr[i++]=null;var f=lr[i];lr[i++]=null;var g=lr[i];if(lr[i++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&Qg(o,f,g)}}function lc(n,i,o,u){lr[Wa++]=n,lr[Wa++]=i,lr[Wa++]=o,lr[Wa++]=u,zf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Bf(n,i,o,u){return lc(n,i,o,u),uc(n)}function Ja(n,i){return lc(n,null,null,i),uc(n)}function Qg(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&i!==null&&(f=31-Ut(o),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[i]:u.push(i),i.lane=o|536870912),g):null}function uc(n){if(50<Ul)throw Ul=0,Kd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Za={};function Dw(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(n,i,o,u){return new Dw(n,i,o,u)}function Hf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _i(n,i){var o=n.alternate;return o===null?(o=qn(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Xg(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function cc(n,i,o,u,f,g){var E=0;if(u=n,typeof n=="function")Hf(n)&&(E=1);else if(typeof n=="string")E=OA(n,o,Te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=qn(31,o,i,f),n.elementType=C,n.lanes=g,n;case D:return oa(o.children,f,g,i);case Y:E=8,f|=24;break;case U:return n=qn(12,o,i,f|2),n.elementType=U,n.lanes=g,n;case se:return n=qn(13,o,i,f),n.elementType=se,n.lanes=g,n;case k:return n=qn(19,o,i,f),n.elementType=k,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q:case ne:E=10;break e;case X:E=9;break e;case fe:E=11;break e;case x:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=qn(E,o,i,f),i.elementType=n,i.type=u,i.lanes=g,i}function oa(n,i,o,u){return n=qn(7,n,u,i),n.lanes=o,n}function Ff(n,i,o){return n=qn(6,n,null,i),n.lanes=o,n}function qf(n,i,o){return i=qn(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var eo=[],to=0,hc=null,fc=0,ur=[],cr=0,la=null,Ei=1,Ti="";function ua(n,i){eo[to++]=fc,eo[to++]=hc,hc=n,fc=i}function Wg(n,i,o){ur[cr++]=Ei,ur[cr++]=Ti,ur[cr++]=la,la=n;var u=Ei;n=Ti;var f=32-Ut(u)-1;u&=~(1<<f),o+=1;var g=32-Ut(i)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Ei=1<<32-Ut(i)+f|o<<f|u,Ti=g+n}else Ei=1<<g|o<<f|u,Ti=n}function Gf(n){n.return!==null&&(ua(n,1),Wg(n,1,0))}function $f(n){for(;n===hc;)hc=eo[--to],eo[to]=null,fc=eo[--to],eo[to]=null;for(;n===la;)la=ur[--cr],ur[cr]=null,Ti=ur[--cr],ur[cr]=null,Ei=ur[--cr],ur[cr]=null}var Nn=null,Ot=null,ht=!1,ca=null,qr=!1,Kf=Error(s(519));function ha(n){var i=Error(s(418,""));throw gl(or(i,n)),Kf}function Jg(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[le]=n,i[de]=u,o){case"dialog":We("cancel",i),We("close",i);break;case"iframe":case"object":case"embed":We("load",i);break;case"video":case"audio":for(o=0;o<zl.length;o++)We(zl[o],i);break;case"source":We("error",i);break;case"img":case"image":case"link":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"input":We("invalid",i),Qs(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ja(i);break;case"select":We("invalid",i);break;case"textarea":We("invalid",i),Xs(i,u.value,u.defaultValue,u.children),ja(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||m_(i.textContent,o)?(u.popover!=null&&(We("beforetoggle",i),We("toggle",i)),u.onScroll!=null&&We("scroll",i),u.onScrollEnd!=null&&We("scrollend",i),u.onClick!=null&&(i.onclick=$c),i=!0):i=!1,i||ha(n)}function Zg(n){for(Nn=n.return;Nn;)switch(Nn.tag){case 5:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:Nn=Nn.return}}function pl(n){if(n!==Nn)return!1;if(!ht)return Zg(n),ht=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||up(n.type,n.memoizedProps)),o=!o),o&&Ot&&ha(n),Zg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){Ot=Rr(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}Ot=null}}else i===27?(i=Ot,ds(n.type)?(n=dp,dp=null,Ot=n):Ot=i):Ot=Nn?Rr(n.stateNode.nextSibling):null;return!0}function ml(){Ot=Nn=null,ht=!1}function ey(){var n=ca;return n!==null&&(Ln===null?Ln=n:Ln.push.apply(Ln,n),ca=null),n}function gl(n){ca===null?ca=[n]:ca.push(n)}var Yf=te(null),fa=null,Si=null;function Ji(n,i,o){ce(Yf,i._currentValue),i._currentValue=o}function bi(n){n._currentValue=Yf.current,pe(Yf)}function Qf(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function Xf(n,i,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var b=g;g=f;for(var N=0;N<i.length;N++)if(b.context===i[N]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),Qf(g.return,o,n),u||(E=null);break e}g=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Qf(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function yl(n,i,o,u){n=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;Fn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===kt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push($l):n=[$l])}f=f.return}n!==null&&Xf(i,n,o,u),i.flags|=262144}function dc(n){for(n=n.firstContext;n!==null;){if(!Fn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function da(n){fa=n,Si=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function yn(n){return ty(fa,n)}function pc(n,i){return fa===null&&da(n),ty(n,i)}function ty(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Si===null){if(n===null)throw Error(s(308));Si=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Si=Si.next=i;return o}var Nw=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},Ow=r.unstable_scheduleCallback,Mw=r.unstable_NormalPriority,Yt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new Nw,data:new Map,refCount:0}}function vl(n){n.refCount--,n.refCount===0&&Ow(Mw,function(){n.controller.abort()})}var _l=null,Jf=0,no=0,ro=null;function Pw(n,i){if(_l===null){var o=_l=[];Jf=0,no=ep(),ro={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Jf++,i.then(ny,ny),i}function ny(){if(--Jf===0&&_l!==null){ro!==null&&(ro.status="fulfilled");var n=_l;_l=null,no=0,ro=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Vw(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var ry=G.S;G.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Pw(n,i),ry!==null&&ry(n,i)};var pa=te(null);function Zf(){var n=pa.current;return n!==null?n:wt.pooledCache}function mc(n,i){i===null?ce(pa,pa.current):ce(pa,i.pool)}function iy(){var n=Zf();return n===null?null:{parent:Yt._currentValue,pool:n}}var El=Error(s(460)),sy=Error(s(474)),gc=Error(s(542)),ed={then:function(){}};function ay(n){return n=n.status,n==="fulfilled"||n==="rejected"}function yc(){}function oy(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(yc,yc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,uy(n),n;default:if(typeof i.status=="string")i.then(yc,yc);else{if(n=wt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,uy(n),n}throw Tl=i,El}}var Tl=null;function ly(){if(Tl===null)throw Error(s(459));var n=Tl;return Tl=null,n}function uy(n){if(n===El||n===gc)throw Error(s(483))}var Zi=!1;function td(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function es(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ts(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(mt&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=uc(n),Qg(n,null,o),i}return lc(n,u,i,o),uc(n)}function Sl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Vr(n,o)}}function rd(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=i:g=g.next=i}else f=g=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var id=!1;function bl(){if(id){var n=ro;if(n!==null)throw n}}function wl(n,i,o,u){id=!1;var f=n.updateQueue;Zi=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,$=N.next;N.next=null,E===null?g=$:E.next=$,E=N;var re=n.alternate;re!==null&&(re=re.updateQueue,b=re.lastBaseUpdate,b!==E&&(b===null?re.firstBaseUpdate=$:b.next=$,re.lastBaseUpdate=N))}if(g!==null){var ae=f.baseState;E=0,re=$=N=null,b=g;do{var W=b.lane&-536870913,J=W!==b.lane;if(J?(st&W)===W:(u&W)===W){W!==0&&W===no&&(id=!0),re!==null&&(re=re.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Ue=n,Oe=b;W=i;var Tt=o;switch(Oe.tag){case 1:if(Ue=Oe.payload,typeof Ue=="function"){ae=Ue.call(Tt,ae,W);break e}ae=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Oe.payload,W=typeof Ue=="function"?Ue.call(Tt,ae,W):Ue,W==null)break e;ae=v({},ae,W);break e;case 2:Zi=!0}}W=b.callback,W!==null&&(n.flags|=64,J&&(n.flags|=8192),J=f.callbacks,J===null?f.callbacks=[W]:J.push(W))}else J={lane:W,tag:b.tag,payload:b.payload,callback:b.callback,next:null},re===null?($=re=J,N=ae):re=re.next=J,E|=W;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;J=b,b=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);re===null&&(N=ae),f.baseState=N,f.firstBaseUpdate=$,f.lastBaseUpdate=re,g===null&&(f.shared.lanes=0),us|=E,n.lanes=E,n.memoizedState=ae}}function cy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function hy(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)cy(o[n],i)}var io=te(null),vc=te(0);function fy(n,i){n=Di,ce(vc,n),ce(io,i),Di=n|i.baseLanes}function sd(){ce(vc,Di),ce(io,io.current)}function ad(){Di=vc.current,pe(io),pe(vc)}var ns=0,Ke=null,_t=null,zt=null,_c=!1,so=!1,ma=!1,Ec=0,Al=0,ao=null,Lw=0;function Pt(){throw Error(s(321))}function od(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!Fn(n[o],i[o]))return!1;return!0}function ld(n,i,o,u,f,g){return ns=g,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=n===null||n.memoizedState===null?Qy:Xy,ma=!1,g=o(u,f),ma=!1,so&&(g=py(i,o,u,f)),dy(n),g}function dy(n){G.H=Rc;var i=_t!==null&&_t.next!==null;if(ns=0,zt=_t=Ke=null,_c=!1,Al=0,ao=null,i)throw Error(s(300));n===null||en||(n=n.dependencies,n!==null&&dc(n)&&(en=!0))}function py(n,i,o,u){Ke=n;var f=0;do{if(so&&(ao=null),Al=0,so=!1,25<=f)throw Error(s(301));if(f+=1,zt=_t=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}G.H=Fw,g=i(o,u)}while(so);return g}function kw(){var n=G.H,i=n.useState()[0];return i=typeof i.then=="function"?Rl(i):i,n=n.useState()[0],(_t!==null?_t.memoizedState:null)!==n&&(Ke.flags|=1024),i}function ud(){var n=Ec!==0;return Ec=0,n}function cd(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function hd(n){if(_c){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_c=!1}ns=0,zt=_t=Ke=null,so=!1,Al=Ec=0,ao=null}function Pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ke.memoizedState=zt=n:zt=zt.next=n,zt}function Bt(){if(_t===null){var n=Ke.alternate;n=n!==null?n.memoizedState:null}else n=_t.next;var i=zt===null?Ke.memoizedState:zt.next;if(i!==null)zt=i,_t=n;else{if(n===null)throw Ke.alternate===null?Error(s(467)):Error(s(310));_t=n,n={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},zt===null?Ke.memoizedState=zt=n:zt=zt.next=n}return zt}function fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(n){var i=Al;return Al+=1,ao===null&&(ao=[]),n=oy(ao,n,i),i=Ke,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Qy:Xy),n}function Tc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Rl(n);if(n.$$typeof===ne)return yn(n)}throw Error(s(438,String(n)))}function dd(n){var i=null,o=Ke.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=fd(),Ke.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=M;return i.index++,o}function wi(n,i){return typeof i=="function"?i(n):i}function Sc(n){var i=Bt();return pd(i,_t,n)}function pd(n,i,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}i.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{i=f.next;var b=E=null,N=null,$=i,re=!1;do{var ae=$.lane&-536870913;if(ae!==$.lane?(st&ae)===ae:(ns&ae)===ae){var W=$.revertLane;if(W===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ae===no&&(re=!0);else if((ns&W)===W){$=$.next,W===no&&(re=!0);continue}else ae={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},N===null?(b=N=ae,E=g):N=N.next=ae,Ke.lanes|=W,us|=W;ae=$.action,ma&&o(g,ae),g=$.hasEagerState?$.eagerState:o(g,ae)}else W={lane:ae,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},N===null?(b=N=W,E=g):N=N.next=W,Ke.lanes|=ae,us|=ae;$=$.next}while($!==null&&$!==i);if(N===null?E=g:N.next=b,!Fn(g,n.memoizedState)&&(en=!0,re&&(o=ro,o!==null)))throw o;n.memoizedState=g,n.baseState=E,n.baseQueue=N,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function md(n){var i=Bt(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,g=i.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);Fn(g,i.memoizedState)||(en=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,u]}function my(n,i,o){var u=Ke,f=Bt(),g=ht;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=i();var E=!Fn((_t||f).memoizedState,o);E&&(f.memoizedState=o,en=!0),f=f.queue;var b=vy.bind(null,u,f,n);if(Cl(2048,8,b,[n]),f.getSnapshot!==i||E||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,oo(9,bc(),yy.bind(null,u,f,o,i),null),wt===null)throw Error(s(349));g||(ns&124)!==0||gy(u,i,o)}return o}function gy(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Ke.updateQueue,i===null?(i=fd(),Ke.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function yy(n,i,o,u){i.value=o,i.getSnapshot=u,_y(i)&&Ey(n)}function vy(n,i,o){return o(function(){_y(i)&&Ey(n)})}function _y(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!Fn(n,o)}catch{return!0}}function Ey(n){var i=Ja(n,2);i!==null&&Qn(i,n,2)}function gd(n){var i=Pn();if(typeof n=="function"){var o=n;if(n=o(),ma){gn(!0);try{o()}finally{gn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:n},i}function Ty(n,i,o,u){return n.baseState=o,pd(n,_t,typeof u=="function"?u:wi)}function Uw(n,i,o,u,f){if(Ac(n))throw Error(s(485));if(n=i.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};G.T!==null?o(!0):g.isTransition=!1,u(g),o=i.pending,o===null?(g.next=i.pending=g,Sy(i,g)):(g.next=o.next,i.pending=o.next=g)}}function Sy(n,i){var o=i.action,u=i.payload,f=n.state;if(i.isTransition){var g=G.T,E={};G.T=E;try{var b=o(f,u),N=G.S;N!==null&&N(E,b),by(n,i,b)}catch($){yd(n,i,$)}finally{G.T=g}}else try{g=o(f,u),by(n,i,g)}catch($){yd(n,i,$)}}function by(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){wy(n,i,u)},function(u){return yd(n,i,u)}):wy(n,i,o)}function wy(n,i,o){i.status="fulfilled",i.value=o,Ay(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,Sy(n,o)))}function yd(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,Ay(i),i=i.next;while(i!==u)}n.action=null}function Ay(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Ry(n,i){return i}function Cy(n,i){if(ht){var o=wt.formState;if(o!==null){e:{var u=Ke;if(ht){if(Ot){t:{for(var f=Ot,g=qr;f.nodeType!==8;){if(!g){f=null;break t}if(f=Rr(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ot=Rr(f.nextSibling),u=f.data==="F!";break e}}ha(u)}u=!1}u&&(i=o[0])}}return o=Pn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:i},o.queue=u,o=$y.bind(null,Ke,u),u.dispatch=o,u=gd(!1),g=Sd.bind(null,Ke,!1,u.queue),u=Pn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,o=Uw.bind(null,Ke,f,g,o),f.dispatch=o,u.memoizedState=n,[i,o,!1]}function Iy(n){var i=Bt();return xy(i,_t,n)}function xy(n,i,o){if(i=pd(n,i,Ry)[0],n=Sc(wi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Rl(i)}catch(E){throw E===El?gc:E}else u=i;i=Bt();var f=i.queue,g=f.dispatch;return o!==i.memoizedState&&(Ke.flags|=2048,oo(9,bc(),jw.bind(null,f,o),null)),[u,g,n]}function jw(n,i){n.action=i}function Dy(n){var i=Bt(),o=_t;if(o!==null)return xy(i,o,n);Bt(),i=i.memoizedState,o=Bt();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function oo(n,i,o,u){return n={tag:n,create:o,deps:u,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=fd(),Ke.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function bc(){return{destroy:void 0,resource:void 0}}function Ny(){return Bt().memoizedState}function wc(n,i,o,u){var f=Pn();u=u===void 0?null:u,Ke.flags|=n,f.memoizedState=oo(1|i,bc(),o,u)}function Cl(n,i,o,u){var f=Bt();u=u===void 0?null:u;var g=f.memoizedState.inst;_t!==null&&u!==null&&od(u,_t.memoizedState.deps)?f.memoizedState=oo(i,g,o,u):(Ke.flags|=n,f.memoizedState=oo(1|i,g,o,u))}function Oy(n,i){wc(8390656,8,n,i)}function My(n,i){Cl(2048,8,n,i)}function Py(n,i){return Cl(4,2,n,i)}function Vy(n,i){return Cl(4,4,n,i)}function Ly(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function ky(n,i,o){o=o!=null?o.concat([n]):null,Cl(4,4,Ly.bind(null,i,n),o)}function vd(){}function Uy(n,i){var o=Bt();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&od(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function jy(n,i){var o=Bt();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&od(i,u[1]))return u[0];if(u=n(),ma){gn(!0);try{n()}finally{gn(!1)}}return o.memoizedState=[u,i],u}function _d(n,i,o){return o===void 0||(ns&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=Hv(),Ke.lanes|=n,us|=n,o)}function zy(n,i,o,u){return Fn(o,i)?o:io.current!==null?(n=_d(n,o,u),Fn(n,i)||(en=!0),n):(ns&42)===0?(en=!0,n.memoizedState=o):(n=Hv(),Ke.lanes|=n,us|=n,i)}function By(n,i,o,u,f){var g=he.p;he.p=g!==0&&8>g?g:8;var E=G.T,b={};G.T=b,Sd(n,!1,i,o);try{var N=f(),$=G.S;if($!==null&&$(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var re=Vw(N,u);Il(n,i,re,Yn(n))}else Il(n,i,u,Yn(n))}catch(ae){Il(n,i,{then:function(){},status:"rejected",reason:ae},Yn())}finally{he.p=g,G.T=E}}function zw(){}function Ed(n,i,o,u){if(n.tag!==5)throw Error(s(476));var f=Hy(n).queue;By(n,f,i,ge,o===null?zw:function(){return Fy(n),o(u)})}function Hy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:ge},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Fy(n){var i=Hy(n).next.queue;Il(n,i,{},Yn())}function Td(){return yn($l)}function qy(){return Bt().memoizedState}function Gy(){return Bt().memoizedState}function Bw(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Yn();n=es(o);var u=ts(i,n,o);u!==null&&(Qn(u,i,o),Sl(u,i,o)),i={cache:Wf()},n.payload=i;return}i=i.return}}function Hw(n,i,o){var u=Yn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ac(n)?Ky(i,o):(o=Bf(n,i,o,u),o!==null&&(Qn(o,n,u),Yy(o,i,u)))}function $y(n,i,o){var u=Yn();Il(n,i,o,u)}function Il(n,i,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ac(n))Ky(i,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,b=g(E,o);if(f.hasEagerState=!0,f.eagerState=b,Fn(b,E))return lc(n,i,f,0),wt===null&&oc(),!1}catch{}finally{}if(o=Bf(n,i,f,u),o!==null)return Qn(o,n,u),Yy(o,i,u),!0}return!1}function Sd(n,i,o,u){if(u={lane:2,revertLane:ep(),action:u,hasEagerState:!1,eagerState:null,next:null},Ac(n)){if(i)throw Error(s(479))}else i=Bf(n,o,u,2),i!==null&&Qn(i,n,2)}function Ac(n){var i=n.alternate;return n===Ke||i!==null&&i===Ke}function Ky(n,i){so=_c=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Yy(n,i,o){if((o&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Vr(n,o)}}var Rc={readContext:yn,use:Tc,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},Qy={readContext:yn,use:Tc,useCallback:function(n,i){return Pn().memoizedState=[n,i===void 0?null:i],n},useContext:yn,useEffect:Oy,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,wc(4194308,4,Ly.bind(null,i,n),o)},useLayoutEffect:function(n,i){return wc(4194308,4,n,i)},useInsertionEffect:function(n,i){wc(4,2,n,i)},useMemo:function(n,i){var o=Pn();i=i===void 0?null:i;var u=n();if(ma){gn(!0);try{n()}finally{gn(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=Pn();if(o!==void 0){var f=o(i);if(ma){gn(!0);try{o(i)}finally{gn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=Hw.bind(null,Ke,n),[u.memoizedState,n]},useRef:function(n){var i=Pn();return n={current:n},i.memoizedState=n},useState:function(n){n=gd(n);var i=n.queue,o=$y.bind(null,Ke,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:vd,useDeferredValue:function(n,i){var o=Pn();return _d(o,n,i)},useTransition:function(){var n=gd(!1);return n=By.bind(null,Ke,n.queue,!0,!1),Pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=Ke,f=Pn();if(ht){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),wt===null)throw Error(s(349));(st&124)!==0||gy(u,i,o)}f.memoizedState=o;var g={value:o,getSnapshot:i};return f.queue=g,Oy(vy.bind(null,u,g,n),[n]),u.flags|=2048,oo(9,bc(),yy.bind(null,u,g,o,i),null),o},useId:function(){var n=Pn(),i=wt.identifierPrefix;if(ht){var o=Ti,u=Ei;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,i=""+i+"R"+o,o=Ec++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=Lw++,i=""+i+"r"+o.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Td,useFormState:Cy,useActionState:Cy,useOptimistic:function(n){var i=Pn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Sd.bind(null,Ke,!0,o),o.dispatch=i,[n,i]},useMemoCache:dd,useCacheRefresh:function(){return Pn().memoizedState=Bw.bind(null,Ke)}},Xy={readContext:yn,use:Tc,useCallback:Uy,useContext:yn,useEffect:My,useImperativeHandle:ky,useInsertionEffect:Py,useLayoutEffect:Vy,useMemo:jy,useReducer:Sc,useRef:Ny,useState:function(){return Sc(wi)},useDebugValue:vd,useDeferredValue:function(n,i){var o=Bt();return zy(o,_t.memoizedState,n,i)},useTransition:function(){var n=Sc(wi)[0],i=Bt().memoizedState;return[typeof n=="boolean"?n:Rl(n),i]},useSyncExternalStore:my,useId:qy,useHostTransitionStatus:Td,useFormState:Iy,useActionState:Iy,useOptimistic:function(n,i){var o=Bt();return Ty(o,_t,n,i)},useMemoCache:dd,useCacheRefresh:Gy},Fw={readContext:yn,use:Tc,useCallback:Uy,useContext:yn,useEffect:My,useImperativeHandle:ky,useInsertionEffect:Py,useLayoutEffect:Vy,useMemo:jy,useReducer:md,useRef:Ny,useState:function(){return md(wi)},useDebugValue:vd,useDeferredValue:function(n,i){var o=Bt();return _t===null?_d(o,n,i):zy(o,_t.memoizedState,n,i)},useTransition:function(){var n=md(wi)[0],i=Bt().memoizedState;return[typeof n=="boolean"?n:Rl(n),i]},useSyncExternalStore:my,useId:qy,useHostTransitionStatus:Td,useFormState:Dy,useActionState:Dy,useOptimistic:function(n,i){var o=Bt();return _t!==null?Ty(o,_t,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:dd,useCacheRefresh:Gy},lo=null,xl=0;function Cc(n){var i=xl;return xl+=1,lo===null&&(lo=[]),oy(lo,n,i)}function Dl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Ic(n,i){throw i.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Wy(n){var i=n._init;return i(n._payload)}function Jy(n){function i(z,V){if(n){var q=z.deletions;q===null?(z.deletions=[V],z.flags|=16):q.push(V)}}function o(z,V){if(!n)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function u(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function f(z,V){return z=_i(z,V),z.index=0,z.sibling=null,z}function g(z,V,q){return z.index=q,n?(q=z.alternate,q!==null?(q=q.index,q<V?(z.flags|=67108866,V):q):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function E(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function b(z,V,q,ie){return V===null||V.tag!==6?(V=Ff(q,z.mode,ie),V.return=z,V):(V=f(V,q),V.return=z,V)}function N(z,V,q,ie){var Se=q.type;return Se===D?re(z,V,q.props.children,ie,q.key):V!==null&&(V.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&Wy(Se)===V.type)?(V=f(V,q.props),Dl(V,q),V.return=z,V):(V=cc(q.type,q.key,q.props,null,z.mode,ie),Dl(V,q),V.return=z,V)}function $(z,V,q,ie){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=qf(q,z.mode,ie),V.return=z,V):(V=f(V,q.children||[]),V.return=z,V)}function re(z,V,q,ie,Se){return V===null||V.tag!==7?(V=oa(q,z.mode,ie,Se),V.return=z,V):(V=f(V,q),V.return=z,V)}function ae(z,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Ff(""+V,z.mode,q),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return q=cc(V.type,V.key,V.props,null,z.mode,q),Dl(q,V),q.return=z,q;case A:return V=qf(V,z.mode,q),V.return=z,V;case R:var ie=V._init;return V=ie(V._payload),ae(z,V,q)}if(Ye(V)||j(V))return V=oa(V,z.mode,q,null),V.return=z,V;if(typeof V.then=="function")return ae(z,Cc(V),q);if(V.$$typeof===ne)return ae(z,pc(z,V),q);Ic(z,V)}return null}function W(z,V,q,ie){var Se=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Se!==null?null:b(z,V,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===Se?N(z,V,q,ie):null;case A:return q.key===Se?$(z,V,q,ie):null;case R:return Se=q._init,q=Se(q._payload),W(z,V,q,ie)}if(Ye(q)||j(q))return Se!==null?null:re(z,V,q,ie,null);if(typeof q.then=="function")return W(z,V,Cc(q),ie);if(q.$$typeof===ne)return W(z,V,pc(z,q),ie);Ic(z,q)}return null}function J(z,V,q,ie,Se){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return z=z.get(q)||null,b(V,z,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return z=z.get(ie.key===null?q:ie.key)||null,N(V,z,ie,Se);case A:return z=z.get(ie.key===null?q:ie.key)||null,$(V,z,ie,Se);case R:var Qe=ie._init;return ie=Qe(ie._payload),J(z,V,q,ie,Se)}if(Ye(ie)||j(ie))return z=z.get(q)||null,re(V,z,ie,Se,null);if(typeof ie.then=="function")return J(z,V,q,Cc(ie),Se);if(ie.$$typeof===ne)return J(z,V,q,pc(V,ie),Se);Ic(V,ie)}return null}function Ue(z,V,q,ie){for(var Se=null,Qe=null,Ce=V,Pe=V=0,nn=null;Ce!==null&&Pe<q.length;Pe++){Ce.index>Pe?(nn=Ce,Ce=null):nn=Ce.sibling;var ot=W(z,Ce,q[Pe],ie);if(ot===null){Ce===null&&(Ce=nn);break}n&&Ce&&ot.alternate===null&&i(z,Ce),V=g(ot,V,Pe),Qe===null?Se=ot:Qe.sibling=ot,Qe=ot,Ce=nn}if(Pe===q.length)return o(z,Ce),ht&&ua(z,Pe),Se;if(Ce===null){for(;Pe<q.length;Pe++)Ce=ae(z,q[Pe],ie),Ce!==null&&(V=g(Ce,V,Pe),Qe===null?Se=Ce:Qe.sibling=Ce,Qe=Ce);return ht&&ua(z,Pe),Se}for(Ce=u(Ce);Pe<q.length;Pe++)nn=J(Ce,z,Pe,q[Pe],ie),nn!==null&&(n&&nn.alternate!==null&&Ce.delete(nn.key===null?Pe:nn.key),V=g(nn,V,Pe),Qe===null?Se=nn:Qe.sibling=nn,Qe=nn);return n&&Ce.forEach(function(vs){return i(z,vs)}),ht&&ua(z,Pe),Se}function Oe(z,V,q,ie){if(q==null)throw Error(s(151));for(var Se=null,Qe=null,Ce=V,Pe=V=0,nn=null,ot=q.next();Ce!==null&&!ot.done;Pe++,ot=q.next()){Ce.index>Pe?(nn=Ce,Ce=null):nn=Ce.sibling;var vs=W(z,Ce,ot.value,ie);if(vs===null){Ce===null&&(Ce=nn);break}n&&Ce&&vs.alternate===null&&i(z,Ce),V=g(vs,V,Pe),Qe===null?Se=vs:Qe.sibling=vs,Qe=vs,Ce=nn}if(ot.done)return o(z,Ce),ht&&ua(z,Pe),Se;if(Ce===null){for(;!ot.done;Pe++,ot=q.next())ot=ae(z,ot.value,ie),ot!==null&&(V=g(ot,V,Pe),Qe===null?Se=ot:Qe.sibling=ot,Qe=ot);return ht&&ua(z,Pe),Se}for(Ce=u(Ce);!ot.done;Pe++,ot=q.next())ot=J(Ce,z,Pe,ot.value,ie),ot!==null&&(n&&ot.alternate!==null&&Ce.delete(ot.key===null?Pe:ot.key),V=g(ot,V,Pe),Qe===null?Se=ot:Qe.sibling=ot,Qe=ot);return n&&Ce.forEach(function(qA){return i(z,qA)}),ht&&ua(z,Pe),Se}function Tt(z,V,q,ie){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var Se=q.key;V!==null;){if(V.key===Se){if(Se=q.type,Se===D){if(V.tag===7){o(z,V.sibling),ie=f(V,q.props.children),ie.return=z,z=ie;break e}}else if(V.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&Wy(Se)===V.type){o(z,V.sibling),ie=f(V,q.props),Dl(ie,q),ie.return=z,z=ie;break e}o(z,V);break}else i(z,V);V=V.sibling}q.type===D?(ie=oa(q.props.children,z.mode,ie,q.key),ie.return=z,z=ie):(ie=cc(q.type,q.key,q.props,null,z.mode,ie),Dl(ie,q),ie.return=z,z=ie)}return E(z);case A:e:{for(Se=q.key;V!==null;){if(V.key===Se)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){o(z,V.sibling),ie=f(V,q.children||[]),ie.return=z,z=ie;break e}else{o(z,V);break}else i(z,V);V=V.sibling}ie=qf(q,z.mode,ie),ie.return=z,z=ie}return E(z);case R:return Se=q._init,q=Se(q._payload),Tt(z,V,q,ie)}if(Ye(q))return Ue(z,V,q,ie);if(j(q)){if(Se=j(q),typeof Se!="function")throw Error(s(150));return q=Se.call(q),Oe(z,V,q,ie)}if(typeof q.then=="function")return Tt(z,V,Cc(q),ie);if(q.$$typeof===ne)return Tt(z,V,pc(z,q),ie);Ic(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(o(z,V.sibling),ie=f(V,q),ie.return=z,z=ie):(o(z,V),ie=Ff(q,z.mode,ie),ie.return=z,z=ie),E(z)):o(z,V)}return function(z,V,q,ie){try{xl=0;var Se=Tt(z,V,q,ie);return lo=null,Se}catch(Ce){if(Ce===El||Ce===gc)throw Ce;var Qe=qn(29,Ce,null,z.mode);return Qe.lanes=ie,Qe.return=z,Qe}finally{}}}var uo=Jy(!0),Zy=Jy(!1),hr=te(null),Gr=null;function rs(n){var i=n.alternate;ce(Qt,Qt.current&1),ce(hr,n),Gr===null&&(i===null||io.current!==null||i.memoizedState!==null)&&(Gr=n)}function ev(n){if(n.tag===22){if(ce(Qt,Qt.current),ce(hr,n),Gr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Gr=n)}}else is()}function is(){ce(Qt,Qt.current),ce(hr,hr.current)}function Ai(n){pe(hr),Gr===n&&(Gr=null),pe(Qt)}var Qt=te(0);function xc(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||fp(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function bd(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:v({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var wd={enqueueSetState:function(n,i,o){n=n._reactInternals;var u=Yn(),f=es(u);f.payload=i,o!=null&&(f.callback=o),i=ts(n,f,u),i!==null&&(Qn(i,n,u),Sl(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=Yn(),f=es(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=ts(n,f,u),i!==null&&(Qn(i,n,u),Sl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Yn(),u=es(o);u.tag=2,i!=null&&(u.callback=i),i=ts(n,u,o),i!==null&&(Qn(i,n,o),Sl(i,n,o))}};function tv(n,i,o,u,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,E):i.prototype&&i.prototype.isPureReactComponent?!fl(o,u)||!fl(f,g):!0}function nv(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&wd.enqueueReplaceState(i,i.state,null)}function ga(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=v({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Dc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function rv(n){Dc(n)}function iv(n){console.error(n)}function sv(n){Dc(n)}function Nc(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function av(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ad(n,i,o){return o=es(o),o.tag=3,o.payload={element:null},o.callback=function(){Nc(n,i)},o}function ov(n){return n=es(n),n.tag=3,n}function lv(n,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){av(i,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){av(i,o,u),typeof f!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function qw(n,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&yl(i,o,f,!0),o=hr.current,o!==null){switch(o.tag){case 13:return Gr===null?Qd():o.alternate===null&&Mt===0&&(Mt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ed?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),Wd(n,u,f)),!1;case 22:return o.flags|=65536,u===ed?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),Wd(n,u,f)),!1}throw Error(s(435,o.tag))}return Wd(n,u,f),Qd(),!1}if(ht)return i=hr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Kf&&(n=Error(s(422),{cause:u}),gl(or(n,o)))):(u!==Kf&&(i=Error(s(423),{cause:u}),gl(or(i,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=or(u,o),f=Ad(n.stateNode,u,f),rd(n,f),Mt!==4&&(Mt=2)),!1;var g=Error(s(520),{cause:u});if(g=or(g,o),kl===null?kl=[g]:kl.push(g),Mt!==4&&(Mt=2),i===null)return!0;u=or(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Ad(o.stateNode,u,n),rd(o,n),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cs===null||!cs.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=ov(f),lv(f,n,o,u),rd(o,f),!1}o=o.return}while(o!==null);return!1}var uv=Error(s(461)),en=!1;function un(n,i,o,u){i.child=n===null?Zy(i,null,o,u):uo(i,n.child,o,u)}function cv(n,i,o,u,f){o=o.render;var g=i.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return da(i),u=ld(n,i,o,E,g,f),b=ud(),n!==null&&!en?(cd(n,i,f),Ri(n,i,f)):(ht&&b&&Gf(i),i.flags|=1,un(n,i,u,f),i.child)}function hv(n,i,o,u,f){if(n===null){var g=o.type;return typeof g=="function"&&!Hf(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,fv(n,i,g,u,f)):(n=cc(o.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!Md(n,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:fl,o(E,u)&&n.ref===i.ref)return Ri(n,i,f)}return i.flags|=1,n=_i(g,u),n.ref=i.ref,n.return=i,i.child=n}function fv(n,i,o,u,f){if(n!==null){var g=n.memoizedProps;if(fl(g,u)&&n.ref===i.ref)if(en=!1,i.pendingProps=u=g,Md(n,f))(n.flags&131072)!==0&&(en=!0);else return i.lanes=n.lanes,Ri(n,i,f)}return Rd(n,i,o,u,f)}function dv(n,i,o){var u=i.pendingProps,f=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,n!==null){for(f=i.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~u}else i.childLanes=0,i.child=null;return pv(n,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&mc(i,g!==null?g.cachePool:null),g!==null?fy(i,g):sd(),ev(i);else return i.lanes=i.childLanes=536870912,pv(n,i,g!==null?g.baseLanes|o:o,o)}else g!==null?(mc(i,g.cachePool),fy(i,g),is(),i.memoizedState=null):(n!==null&&mc(i,null),sd(),is());return un(n,i,f,o),i.child}function pv(n,i,o,u){var f=Zf();return f=f===null?null:{parent:Yt._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},n!==null&&mc(i,null),sd(),ev(i),n!==null&&yl(n,i,u,!0),null}function Oc(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Rd(n,i,o,u,f){return da(i),o=ld(n,i,o,u,void 0,f),u=ud(),n!==null&&!en?(cd(n,i,f),Ri(n,i,f)):(ht&&u&&Gf(i),i.flags|=1,un(n,i,o,f),i.child)}function mv(n,i,o,u,f,g){return da(i),i.updateQueue=null,o=py(i,u,o,f),dy(n),u=ud(),n!==null&&!en?(cd(n,i,g),Ri(n,i,g)):(ht&&u&&Gf(i),i.flags|=1,un(n,i,o,g),i.child)}function gv(n,i,o,u,f){if(da(i),i.stateNode===null){var g=Za,E=o.contextType;typeof E=="object"&&E!==null&&(g=yn(E)),g=new o(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=wd,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},td(i),E=o.contextType,g.context=typeof E=="object"&&E!==null?yn(E):Za,g.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(bd(i,o,E,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&wd.enqueueReplaceState(g,g.state,null),wl(i,u,g,f),bl(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){g=i.stateNode;var b=i.memoizedProps,N=ga(o,b);g.props=N;var $=g.context,re=o.contextType;E=Za,typeof re=="object"&&re!==null&&(E=yn(re));var ae=o.getDerivedStateFromProps;re=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||$!==E)&&nv(i,g,u,E),Zi=!1;var W=i.memoizedState;g.state=W,wl(i,u,g,f),bl(),$=i.memoizedState,b||W!==$||Zi?(typeof ae=="function"&&(bd(i,o,ae,u),$=i.memoizedState),(N=Zi||tv(i,o,N,u,W,$,E))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=$),g.props=u,g.state=$,g.context=E,u=N):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,nd(n,i),E=i.memoizedProps,re=ga(o,E),g.props=re,ae=i.pendingProps,W=g.context,$=o.contextType,N=Za,typeof $=="object"&&$!==null&&(N=yn($)),b=o.getDerivedStateFromProps,($=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ae||W!==N)&&nv(i,g,u,N),Zi=!1,W=i.memoizedState,g.state=W,wl(i,u,g,f),bl();var J=i.memoizedState;E!==ae||W!==J||Zi||n!==null&&n.dependencies!==null&&dc(n.dependencies)?(typeof b=="function"&&(bd(i,o,b,u),J=i.memoizedState),(re=Zi||tv(i,o,re,u,W,J,N)||n!==null&&n.dependencies!==null&&dc(n.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,N)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=J),g.props=u,g.state=J,g.context=N,u=re):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(i.flags|=1024),u=!1)}return g=u,Oc(n,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,n!==null&&u?(i.child=uo(i,n.child,null,f),i.child=uo(i,null,o,f)):un(n,i,o,f),i.memoizedState=g.state,n=i.child):n=Ri(n,i,f),n}function yv(n,i,o,u){return ml(),i.flags|=256,un(n,i,o,u),i.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(n){return{baseLanes:n,cachePool:iy()}}function xd(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=fr),n}function vv(n,i,o){var u=i.pendingProps,f=!1,g=(i.flags&128)!==0,E;if((E=g)||(E=n!==null&&n.memoizedState===null?!1:(Qt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(ht){if(f?rs(i):is(),ht){var b=Ot,N;if(N=b){e:{for(N=b,b=qr;N.nodeType!==8;){if(!b){b=null;break e}if(N=Rr(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(i.memoizedState={dehydrated:b,treeContext:la!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},N=qn(18,null,null,0),N.stateNode=b,N.return=i,i.child=N,Nn=i,Ot=null,N=!0):N=!1}N||ha(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return fp(b)?i.lanes=32:i.lanes=536870912,null;Ai(i)}return b=u.children,u=u.fallback,f?(is(),f=i.mode,b=Mc({mode:"hidden",children:b},f),u=oa(u,f,o,null),b.return=i,u.return=i,b.sibling=u,i.child=b,f=i.child,f.memoizedState=Id(o),f.childLanes=xd(n,E,o),i.memoizedState=Cd,u):(rs(i),Dd(i,b))}if(N=n.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(g)i.flags&256?(rs(i),i.flags&=-257,i=Nd(n,i,o)):i.memoizedState!==null?(is(),i.child=n.child,i.flags|=128,i=null):(is(),f=u.fallback,b=i.mode,u=Mc({mode:"visible",children:u.children},b),f=oa(f,b,o,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,uo(i,n.child,null,o),u=i.child,u.memoizedState=Id(o),u.childLanes=xd(n,E,o),i.memoizedState=Cd,i=f);else if(rs(i),fp(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var $=E.dgst;E=$,u=Error(s(419)),u.stack="",u.digest=E,gl({value:u,source:null,stack:null}),i=Nd(n,i,o)}else if(en||yl(n,i,o,!1),E=(o&n.childLanes)!==0,en||E){if(E=wt,E!==null&&(u=o&-o,u=(u&42)!==0?1:Lr(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,Ja(n,u),Qn(E,n,u),uv;b.data==="$?"||Qd(),i=Nd(n,i,o)}else b.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=N.treeContext,Ot=Rr(b.nextSibling),Nn=i,ht=!0,ca=null,qr=!1,n!==null&&(ur[cr++]=Ei,ur[cr++]=Ti,ur[cr++]=la,Ei=n.id,Ti=n.overflow,la=i),i=Dd(i,u.children),i.flags|=4096);return i}return f?(is(),f=u.fallback,b=i.mode,N=n.child,$=N.sibling,u=_i(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,$!==null?f=_i($,f):(f=oa(f,b,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,b=n.child.memoizedState,b===null?b=Id(o):(N=b.cachePool,N!==null?($=Yt._currentValue,N=N.parent!==$?{parent:$,pool:$}:N):N=iy(),b={baseLanes:b.baseLanes|o,cachePool:N}),f.memoizedState=b,f.childLanes=xd(n,E,o),i.memoizedState=Cd,u):(rs(i),o=n.child,n=o.sibling,o=_i(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=o,i.memoizedState=null,o)}function Dd(n,i){return i=Mc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Mc(n,i){return n=qn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Nd(n,i,o){return uo(i,n.child,null,o),n=Dd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function _v(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Qf(n.return,i,o)}function Od(n,i,o,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function Ev(n,i,o){var u=i.pendingProps,f=u.revealOrder,g=u.tail;if(un(n,i,u.children,o),u=Qt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_v(n,o,i);else if(n.tag===19)_v(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ce(Qt,u),f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&xc(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),Od(i,!1,f,o,g);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&xc(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Od(i,!0,o,null,g);break;case"together":Od(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ri(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),us|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(yl(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,o=_i(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=_i(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Md(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&dc(n)))}function Gw(n,i,o){switch(i.tag){case 3:yt(i,i.stateNode.containerInfo),Ji(i,Yt,n.memoizedState.cache),ml();break;case 27:case 5:Ct(i);break;case 4:yt(i,i.stateNode.containerInfo);break;case 10:Ji(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(rs(i),i.flags|=128,null):(o&i.child.childLanes)!==0?vv(n,i,o):(rs(i),n=Ri(n,i,o),n!==null?n.sibling:null);rs(i);break;case 19:var f=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(yl(n,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return Ev(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(Qt,Qt.current),u)break;return null;case 22:case 23:return i.lanes=0,dv(n,i,o);case 24:Ji(i,Yt,n.memoizedState.cache)}return Ri(n,i,o)}function Tv(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)en=!0;else{if(!Md(n,o)&&(i.flags&128)===0)return en=!1,Gw(n,i,o);en=(n.flags&131072)!==0}else en=!1,ht&&(i.flags&1048576)!==0&&Wg(i,fc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Hf(u)?(n=ga(u,n),i.tag=1,i=gv(null,i,u,n,o)):(i.tag=0,i=Rd(null,i,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===fe){i.tag=11,i=cv(null,i,u,n,o);break e}else if(f===x){i.tag=14,i=hv(null,i,u,n,o);break e}}throw i=xe(u)||u,Error(s(306,i,""))}}return i;case 0:return Rd(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=ga(u,i.pendingProps),gv(n,i,u,f,o);case 3:e:{if(yt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));u=i.pendingProps;var g=i.memoizedState;f=g.element,nd(n,i),wl(i,u,null,o);var E=i.memoizedState;if(u=E.cache,Ji(i,Yt,u),u!==g.cache&&Xf(i,[Yt],o,!0),bl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=yv(n,i,u,o);break e}else if(u!==f){f=or(Error(s(424)),i),gl(f),i=yv(n,i,u,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ot=Rr(n.firstChild),Nn=i,ht=!0,ca=null,qr=!0,o=Zy(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ml(),u===f){i=Ri(n,i,o);break e}un(n,i,u,o)}i=i.child}return i;case 26:return Oc(n,i),n===null?(o=A_(i.type,null,i.pendingProps,null))?i.memoizedState=o:ht||(o=i.type,n=i.pendingProps,u=Kc(Ne.current).createElement(o),u[le]=i,u[de]=n,hn(u,o,n),ze(u),i.stateNode=u):i.memoizedState=A_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ct(i),n===null&&ht&&(u=i.stateNode=S_(i.type,i.pendingProps,Ne.current),Nn=i,qr=!0,f=Ot,ds(i.type)?(dp=f,Ot=Rr(u.firstChild)):Ot=f),un(n,i,i.pendingProps.children,o),Oc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ht&&((f=u=Ot)&&(u=_A(u,i.type,i.pendingProps,qr),u!==null?(i.stateNode=u,Nn=i,Ot=Rr(u.firstChild),qr=!1,f=!0):f=!1),f||ha(i)),Ct(i),f=i.type,g=i.pendingProps,E=n!==null?n.memoizedProps:null,u=g.children,up(f,g)?u=null:E!==null&&up(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=ld(n,i,kw,null,null,o),$l._currentValue=f),Oc(n,i),un(n,i,u,o),i.child;case 6:return n===null&&ht&&((n=o=Ot)&&(o=EA(o,i.pendingProps,qr),o!==null?(i.stateNode=o,Nn=i,Ot=null,n=!0):n=!1),n||ha(i)),null;case 13:return vv(n,i,o);case 4:return yt(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=uo(i,null,u,o):un(n,i,u,o),i.child;case 11:return cv(n,i,i.type,i.pendingProps,o);case 7:return un(n,i,i.pendingProps,o),i.child;case 8:return un(n,i,i.pendingProps.children,o),i.child;case 12:return un(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Ji(i,i.type,u.value),un(n,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,da(i),f=yn(f),u=u(f),i.flags|=1,un(n,i,u,o),i.child;case 14:return hv(n,i,i.type,i.pendingProps,o);case 15:return fv(n,i,i.type,i.pendingProps,o);case 19:return Ev(n,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},n===null?(o=Mc(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=_i(n.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return dv(n,i,o);case 24:return da(i),u=yn(Yt),n===null?(f=Zf(),f===null&&(f=wt,g=Wf(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),i.memoizedState={parent:u,cache:f},td(i),Ji(i,Yt,f)):((n.lanes&o)!==0&&(nd(n,i),wl(i,null,null,o),bl()),f=n.memoizedState,g=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ji(i,Yt,u)):(u=g.cache,Ji(i,Yt,u),u!==f.cache&&Xf(i,[Yt],o,!0))),un(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ci(n){n.flags|=4}function Sv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!D_(i)){if(i=hr.current,i!==null&&((st&4194048)===st?Gr!==null:(st&62914560)!==st&&(st&536870912)===0||i!==Gr))throw Tl=ed,sy;n.flags|=8192}}function Pc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ks():536870912,n.lanes|=i,po|=i)}function Nl(n,i){if(!ht)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Dt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function $w(n,i,o){var u=i.pendingProps;switch($f(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),bi(Yt),Wn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(pl(i)?Ci(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ey())),Dt(i),null;case 26:return o=i.memoizedState,n===null?(Ci(i),o!==null?(Dt(i),Sv(i,o)):(Dt(i),i.flags&=-16777217)):o?o!==n.memoizedState?(Ci(i),Dt(i),Sv(i,o)):(Dt(i),i.flags&=-16777217):(n.memoizedProps!==u&&Ci(i),Dt(i),i.flags&=-16777217),null;case 27:mn(i),o=Ne.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Ci(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Dt(i),null}n=Te.current,pl(i)?Jg(i):(n=S_(f,u,o),i.stateNode=n,Ci(i))}return Dt(i),null;case 5:if(mn(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Ci(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Dt(i),null}if(n=Te.current,pl(i))Jg(i);else{switch(f=Kc(Ne.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[le]=i,n[de]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(hn(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ci(i)}}return Dt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Ci(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=Ne.current,pl(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,f=Nn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[le]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||m_(n.nodeValue,o)),n||ha(i)}else n=Kc(n).createTextNode(u),n[le]=i,i.stateNode=n}return Dt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=pl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[le]=i}else ml(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),f=!1}else f=ey(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ai(i),i):(Ai(i),null)}if(Ai(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),Pc(i,i.updateQueue),Dt(i),null;case 4:return Wn(),n===null&&ip(i.stateNode.containerInfo),Dt(i),null;case 10:return bi(i.type),Dt(i),null;case 19:if(pe(Qt),f=i.memoizedState,f===null)return Dt(i),null;if(u=(i.flags&128)!==0,g=f.rendering,g===null)if(u)Nl(f,!1);else{if(Mt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(g=xc(n),g!==null){for(i.flags|=128,Nl(f,!1),n=g.updateQueue,i.updateQueue=n,Pc(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Xg(o,n),o=o.sibling;return ce(Qt,Qt.current&1|2),i.child}n=n.sibling}f.tail!==null&&An()>kc&&(i.flags|=128,u=!0,Nl(f,!1),i.lanes=4194304)}else{if(!u)if(n=xc(g),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Pc(i,n),Nl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!ht)return Dt(i),null}else 2*An()-f.renderingStartTime>kc&&o!==536870912&&(i.flags|=128,u=!0,Nl(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(n=f.last,n!==null?n.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=An(),i.sibling=null,n=Qt.current,ce(Qt,u?n&1|2:n&1),i):(Dt(i),null);case 22:case 23:return Ai(i),ad(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),o=i.updateQueue,o!==null&&Pc(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&pe(pa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),bi(Yt),Dt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Kw(n,i){switch($f(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return bi(Yt),Wn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return mn(i),null;case 13:if(Ai(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ml()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return pe(Qt),null;case 4:return Wn(),null;case 10:return bi(i.type),null;case 22:case 23:return Ai(i),ad(),n!==null&&pe(pa),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return bi(Yt),null;case 25:return null;default:return null}}function bv(n,i){switch($f(i),i.tag){case 3:bi(Yt),Wn();break;case 26:case 27:case 5:mn(i);break;case 4:Wn();break;case 13:Ai(i);break;case 19:pe(Qt);break;case 10:bi(i.type);break;case 22:case 23:Ai(i),ad(),n!==null&&pe(pa);break;case 24:bi(Yt)}}function Ol(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(b){St(i,i.return,b)}}function ss(n,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=i;var N=o,$=b;try{$()}catch(re){St(f,N,re)}}}u=u.next}while(u!==g)}}catch(re){St(i,i.return,re)}}function wv(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{hy(i,o)}catch(u){St(n,n.return,u)}}}function Av(n,i,o){o.props=ga(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){St(n,i,u)}}function Ml(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){St(n,i,f)}}function $r(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){St(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){St(n,i,f)}else o.current=null}function Rv(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){St(n,n.return,f)}}function Pd(n,i,o){try{var u=n.stateNode;pA(u,n.type,o,i),u[de]=i}catch(f){St(n,n.return,f)}}function Cv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ds(n.type)||n.tag===4}function Vd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Cv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ds(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ld(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=$c));else if(u!==4&&(u===27&&ds(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(Ld(n,i,o),n=n.sibling;n!==null;)Ld(n,i,o),n=n.sibling}function Vc(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&(u===27&&ds(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Vc(n,i,o),n=n.sibling;n!==null;)Vc(n,i,o),n=n.sibling}function Iv(n){var i=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);hn(i,u,o),i[le]=n,i[de]=o}catch(g){St(n,n.return,g)}}var Ii=!1,Vt=!1,kd=!1,xv=typeof WeakSet=="function"?WeakSet:Set,tn=null;function Yw(n,i){if(n=n.containerInfo,op=Zc,n=zg(n),Vf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,b=-1,N=-1,$=0,re=0,ae=n,W=null;t:for(;;){for(var J;ae!==o||f!==0&&ae.nodeType!==3||(b=E+f),ae!==g||u!==0&&ae.nodeType!==3||(N=E+u),ae.nodeType===3&&(E+=ae.nodeValue.length),(J=ae.firstChild)!==null;)W=ae,ae=J;for(;;){if(ae===n)break t;if(W===o&&++$===f&&(b=E),W===g&&++re===u&&(N=E),(J=ae.nextSibling)!==null)break;ae=W,W=ae.parentNode}ae=J}o=b===-1||N===-1?null:{start:b,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(lp={focusedElem:n,selectionRange:o},Zc=!1,tn=i;tn!==null;)if(i=tn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,tn=n;else for(;tn!==null;){switch(i=tn,g=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=i,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ue=ga(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Ue,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(Oe){St(o,o.return,Oe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)hp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":hp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,tn=n;break}tn=i.return}}function Dv(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:as(n,o),u&4&&Ol(5,o);break;case 1:if(as(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(E){St(o,o.return,E)}else{var f=ga(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){St(o,o.return,E)}}u&64&&wv(o),u&512&&Ml(o,o.return);break;case 3:if(as(n,o),u&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{hy(n,i)}catch(E){St(o,o.return,E)}}break;case 27:i===null&&u&4&&Iv(o);case 26:case 5:as(n,o),i===null&&u&4&&Rv(o),u&512&&Ml(o,o.return);break;case 12:as(n,o);break;case 13:as(n,o),u&4&&Mv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=rA.bind(null,o),TA(n,o))));break;case 22:if(u=o.memoizedState!==null||Ii,!u){i=i!==null&&i.memoizedState!==null||Vt,f=Ii;var g=Vt;Ii=u,(Vt=i)&&!g?os(n,o,(o.subtreeFlags&8772)!==0):as(n,o),Ii=f,Vt=g}break;case 30:break;default:as(n,o)}}function Nv(n){var i=n.alternate;i!==null&&(n.alternate=null,Nv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ee(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xt=null,Vn=!1;function xi(n,i,o){for(o=o.child;o!==null;)Ov(n,i,o),o=o.sibling}function Ov(n,i,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(lt,o)}catch{}switch(o.tag){case 26:Vt||$r(o,i),xi(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Vt||$r(o,i);var u=xt,f=Vn;ds(o.type)&&(xt=o.stateNode,Vn=!1),xi(n,i,o),Hl(o.stateNode),xt=u,Vn=f;break;case 5:Vt||$r(o,i);case 6:if(u=xt,f=Vn,xt=null,xi(n,i,o),xt=u,Vn=f,xt!==null)if(Vn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(g){St(o,i,g)}else try{xt.removeChild(o.stateNode)}catch(g){St(o,i,g)}break;case 18:xt!==null&&(Vn?(n=xt,E_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Xl(n)):E_(xt,o.stateNode));break;case 4:u=xt,f=Vn,xt=o.stateNode.containerInfo,Vn=!0,xi(n,i,o),xt=u,Vn=f;break;case 0:case 11:case 14:case 15:Vt||ss(2,o,i),Vt||ss(4,o,i),xi(n,i,o);break;case 1:Vt||($r(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Av(o,i,u)),xi(n,i,o);break;case 21:xi(n,i,o);break;case 22:Vt=(u=Vt)||o.memoizedState!==null,xi(n,i,o),Vt=u;break;default:xi(n,i,o)}}function Mv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Xl(n)}catch(o){St(i,i.return,o)}}function Qw(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new xv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new xv),i;default:throw Error(s(435,n.tag))}}function Ud(n,i){var o=Qw(n);i.forEach(function(u){var f=iA.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function Gn(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=n,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(ds(b.type)){xt=b.stateNode,Vn=!1;break e}break;case 5:xt=b.stateNode,Vn=!1;break e;case 3:case 4:xt=b.stateNode.containerInfo,Vn=!0;break e}b=b.return}if(xt===null)throw Error(s(160));Ov(g,E,f),xt=null,Vn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Pv(i,n),i=i.sibling}var Ar=null;function Pv(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gn(i,n),$n(n),u&4&&(ss(3,n,n.return),Ol(3,n),ss(5,n,n.return));break;case 1:Gn(i,n),$n(n),u&512&&(Vt||o===null||$r(o,o.return)),u&64&&Ii&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Ar;if(Gn(i,n),$n(n),u&512&&(Vt||o===null||$r(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ae]||g[le]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),hn(g,u,o),g[le]=n,ze(g),u=g;break e;case"link":var E=I_("link","href",f).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(g=E[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break t}}g=f.createElement(u),hn(g,u,o),f.head.appendChild(g);break;case"meta":if(E=I_("meta","content",f).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(g=E[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break t}}g=f.createElement(u),hn(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[le]=n,ze(g),u=g}n.stateNode=u}else x_(f,n.type,n.stateNode);else n.stateNode=C_(f,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?x_(f,n.type,n.stateNode):C_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Pd(n,n.memoizedProps,o.memoizedProps)}break;case 27:Gn(i,n),$n(n),u&512&&(Vt||o===null||$r(o,o.return)),o!==null&&u&4&&Pd(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Gn(i,n),$n(n),u&512&&(Vt||o===null||$r(o,o.return)),n.flags&32){f=n.stateNode;try{rr(f,"")}catch(J){St(n,n.return,J)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Pd(n,f,o!==null?o.memoizedProps:f)),u&1024&&(kd=!0);break;case 6:if(Gn(i,n),$n(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(J){St(n,n.return,J)}}break;case 3:if(Xc=null,f=Ar,Ar=Yc(i.containerInfo),Gn(i,n),Ar=f,$n(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Xl(i.containerInfo)}catch(J){St(n,n.return,J)}kd&&(kd=!1,Vv(n));break;case 4:u=Ar,Ar=Yc(n.stateNode.containerInfo),Gn(i,n),$n(n),Ar=u;break;case 12:Gn(i,n),$n(n);break;case 13:Gn(i,n),$n(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(qd=An()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ud(n,u)));break;case 22:f=n.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,$=Ii,re=Vt;if(Ii=$||f,Vt=re||N,Gn(i,n),Vt=re,Ii=$,$n(n),u&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||N||Ii||Vt||ya(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){N=o=i;try{if(g=N.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=N.stateNode;var ae=N.memoizedProps.style,W=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;b.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(J){St(N,N.return,J)}}}else if(i.tag===6){if(o===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(J){St(N,N.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ud(n,o))));break;case 19:Gn(i,n),$n(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ud(n,u)));break;case 30:break;case 21:break;default:Gn(i,n),$n(n)}}function $n(n){var i=n.flags;if(i&2){try{for(var o,u=n.return;u!==null;){if(Cv(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Vd(n);Vc(n,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(rr(E,""),o.flags&=-33);var b=Vd(n);Vc(n,b,E);break;case 3:case 4:var N=o.stateNode.containerInfo,$=Vd(n);Ld(n,$,N);break;default:throw Error(s(161))}}catch(re){St(n,n.return,re)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Vv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Vv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function as(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Dv(n,i.alternate,i),i=i.sibling}function ya(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ss(4,i,i.return),ya(i);break;case 1:$r(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Av(i,i.return,o),ya(i);break;case 27:Hl(i.stateNode);case 26:case 5:$r(i,i.return),ya(i);break;case 22:i.memoizedState===null&&ya(i);break;case 30:ya(i);break;default:ya(i)}n=n.sibling}}function os(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,g=i,E=g.flags;switch(g.tag){case 0:case 11:case 15:os(f,g,o),Ol(4,g);break;case 1:if(os(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){St(u,u.return,$)}if(u=g,f=u.updateQueue,f!==null){var b=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)cy(N[f],b)}catch($){St(u,u.return,$)}}o&&E&64&&wv(g),Ml(g,g.return);break;case 27:Iv(g);case 26:case 5:os(f,g,o),o&&u===null&&E&4&&Rv(g),Ml(g,g.return);break;case 12:os(f,g,o);break;case 13:os(f,g,o),o&&E&4&&Mv(f,g);break;case 22:g.memoizedState===null&&os(f,g,o),Ml(g,g.return);break;case 30:break;default:os(f,g,o)}i=i.sibling}}function jd(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&vl(o))}function zd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&vl(n))}function Kr(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Lv(n,i,o,u),i=i.sibling}function Lv(n,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Kr(n,i,o,u),f&2048&&Ol(9,i);break;case 1:Kr(n,i,o,u);break;case 3:Kr(n,i,o,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&vl(n)));break;case 12:if(f&2048){Kr(n,i,o,u),n=i.stateNode;try{var g=i.memoizedProps,E=g.id,b=g.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){St(i,i.return,N)}}else Kr(n,i,o,u);break;case 13:Kr(n,i,o,u);break;case 23:break;case 22:g=i.stateNode,E=i.alternate,i.memoizedState!==null?g._visibility&2?Kr(n,i,o,u):Pl(n,i):g._visibility&2?Kr(n,i,o,u):(g._visibility|=2,co(n,i,o,u,(i.subtreeFlags&10256)!==0)),f&2048&&jd(E,i);break;case 24:Kr(n,i,o,u),f&2048&&zd(i.alternate,i);break;default:Kr(n,i,o,u)}}function co(n,i,o,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=n,E=i,b=o,N=u,$=E.flags;switch(E.tag){case 0:case 11:case 15:co(g,E,b,N,f),Ol(8,E);break;case 23:break;case 22:var re=E.stateNode;E.memoizedState!==null?re._visibility&2?co(g,E,b,N,f):Pl(g,E):(re._visibility|=2,co(g,E,b,N,f)),f&&$&2048&&jd(E.alternate,E);break;case 24:co(g,E,b,N,f),f&&$&2048&&zd(E.alternate,E);break;default:co(g,E,b,N,f)}i=i.sibling}}function Pl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,f=u.flags;switch(u.tag){case 22:Pl(o,u),f&2048&&jd(u.alternate,u);break;case 24:Pl(o,u),f&2048&&zd(u.alternate,u);break;default:Pl(o,u)}i=i.sibling}}var Vl=8192;function ho(n){if(n.subtreeFlags&Vl)for(n=n.child;n!==null;)kv(n),n=n.sibling}function kv(n){switch(n.tag){case 26:ho(n),n.flags&Vl&&n.memoizedState!==null&&PA(Ar,n.memoizedState,n.memoizedProps);break;case 5:ho(n);break;case 3:case 4:var i=Ar;Ar=Yc(n.stateNode.containerInfo),ho(n),Ar=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Vl,Vl=16777216,ho(n),Vl=i):ho(n));break;default:ho(n)}}function Uv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ll(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];tn=u,zv(u,n)}Uv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jv(n),n=n.sibling}function jv(n){switch(n.tag){case 0:case 11:case 15:Ll(n),n.flags&2048&&ss(9,n,n.return);break;case 3:Ll(n);break;case 12:Ll(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Lc(n)):Ll(n);break;default:Ll(n)}}function Lc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];tn=u,zv(u,n)}Uv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ss(8,i,i.return),Lc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Lc(i));break;default:Lc(i)}n=n.sibling}}function zv(n,i){for(;tn!==null;){var o=tn;switch(o.tag){case 0:case 11:case 15:ss(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:vl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,tn=u;else e:for(o=n;tn!==null;){u=tn;var f=u.sibling,g=u.return;if(Nv(u),u===o){tn=null;break e}if(f!==null){f.return=g,tn=f;break e}tn=g}}}var Xw={getCacheForType:function(n){var i=yn(Yt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},Ww=typeof WeakMap=="function"?WeakMap:Map,mt=0,wt=null,Xe=null,st=0,gt=0,Kn=null,ls=!1,fo=!1,Bd=!1,Di=0,Mt=0,us=0,va=0,Hd=0,fr=0,po=0,kl=null,Ln=null,Fd=!1,qd=0,kc=1/0,Uc=null,cs=null,cn=0,hs=null,mo=null,go=0,Gd=0,$d=null,Bv=null,Ul=0,Kd=null;function Yn(){if((mt&2)!==0&&st!==0)return st&-st;if(G.T!==null){var n=no;return n!==0?n:ep()}return P()}function Hv(){fr===0&&(fr=(st&536870912)===0||ht?hi():536870912);var n=hr.current;return n!==null&&(n.flags|=32),fr}function Qn(n,i,o){(n===wt&&(gt===2||gt===9)||n.cancelPendingCommit!==null)&&(yo(n,0),fs(n,st,fr,!1)),Er(n,o),((mt&2)===0||n!==wt)&&(n===wt&&((mt&2)===0&&(va|=o),Mt===4&&fs(n,st,fr,!1)),Yr(n))}function Fv(n,i,o){if((mt&6)!==0)throw Error(s(327));var u=!o&&(i&124)===0&&(i&n.expiredLanes)===0||er(n,i),f=u?eA(n,i):Xd(n,i,!0),g=u;do{if(f===0){fo&&!u&&fs(n,i,0,!1);break}else{if(o=n.current.alternate,g&&!Jw(o)){f=Xd(n,i,!1),g=!1;continue}if(f===2){if(g=i,n.errorRecoveryDisabledLanes&g)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var b=n;f=kl;var N=b.current.memoizedState.isDehydrated;if(N&&(yo(b,E).flags|=256),E=Xd(b,E,!1),E!==2){if(Bd&&!N){b.errorRecoveryDisabledLanes|=g,va|=g,f=4;break e}g=Ln,Ln=f,g!==null&&(Ln===null?Ln=g:Ln.push.apply(Ln,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){yo(n,0),fs(n,i,0,!0);break}e:{switch(u=n,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:fs(u,i,fr,!ls);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=qd+300-An(),10<f)){if(fs(u,i,fr,!ls),ci(u,0,!0)!==0)break e;u.timeoutHandle=v_(qv.bind(null,u,o,Ln,Uc,Fd,i,fr,va,po,ls,g,2,-0,0),f);break e}qv(u,o,Ln,Uc,Fd,i,fr,va,po,ls,g,0,-0,0)}}break}while(!0);Yr(n)}function qv(n,i,o,u,f,g,E,b,N,$,re,ae,W,J){if(n.timeoutHandle=-1,ae=i.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Gl={stylesheets:null,count:0,unsuspend:MA},kv(i),ae=VA(),ae!==null)){n.cancelPendingCommit=ae(Wv.bind(null,n,i,g,o,u,f,E,b,N,re,1,W,J)),fs(n,g,E,!$);return}Wv(n,i,g,o,u,f,E,b,N)}function Jw(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Fn(g(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fs(n,i,o,u){i&=~Hd,i&=~va,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var g=31-Ut(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&Rn(n,o,i)}function jc(){return(mt&6)===0?(jl(0),!1):!0}function Yd(){if(Xe!==null){if(gt===0)var n=Xe.return;else n=Xe,Si=fa=null,hd(n),lo=null,xl=0,n=Xe;for(;n!==null;)bv(n.alternate,n),n=n.return;Xe=null}}function yo(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,gA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Yd(),wt=n,Xe=o=_i(n.current,null),st=i,gt=0,Kn=null,ls=!1,fo=er(n,i),Bd=!1,po=fr=Hd=va=us=Mt=0,Ln=kl=null,Fd=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-Ut(u),g=1<<f;i|=n[f],u&=~g}return Di=i,oc(),o}function Gv(n,i){Ke=null,G.H=Rc,i===El||i===gc?(i=ly(),gt=3):i===sy?(i=ly(),gt=4):gt=i===uv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kn=i,Xe===null&&(Mt=1,Nc(n,or(i,n.current)))}function $v(){var n=G.H;return G.H=Rc,n===null?Rc:n}function Kv(){var n=G.A;return G.A=Xw,n}function Qd(){Mt=4,ls||(st&4194048)!==st&&hr.current!==null||(fo=!0),(us&134217727)===0&&(va&134217727)===0||wt===null||fs(wt,st,fr,!1)}function Xd(n,i,o){var u=mt;mt|=2;var f=$v(),g=Kv();(wt!==n||st!==i)&&(Uc=null,yo(n,i)),i=!1;var E=Mt;e:do try{if(gt!==0&&Xe!==null){var b=Xe,N=Kn;switch(gt){case 8:Yd(),E=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(i=!0);var $=gt;if(gt=0,Kn=null,vo(n,b,N,$),o&&fo){E=0;break e}break;default:$=gt,gt=0,Kn=null,vo(n,b,N,$)}}Zw(),E=Mt;break}catch(re){Gv(n,re)}while(!0);return i&&n.shellSuspendCounter++,Si=fa=null,mt=u,G.H=f,G.A=g,Xe===null&&(wt=null,st=0,oc()),E}function Zw(){for(;Xe!==null;)Yv(Xe)}function eA(n,i){var o=mt;mt|=2;var u=$v(),f=Kv();wt!==n||st!==i?(Uc=null,kc=An()+500,yo(n,i)):fo=er(n,i);e:do try{if(gt!==0&&Xe!==null){i=Xe;var g=Kn;t:switch(gt){case 1:gt=0,Kn=null,vo(n,i,g,1);break;case 2:case 9:if(ay(g)){gt=0,Kn=null,Qv(i);break}i=function(){gt!==2&&gt!==9||wt!==n||(gt=7),Yr(n)},g.then(i,i);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:ay(g)?(gt=0,Kn=null,Qv(i)):(gt=0,Kn=null,vo(n,i,g,7));break;case 5:var E=null;switch(Xe.tag){case 26:E=Xe.memoizedState;case 5:case 27:var b=Xe;if(!E||D_(E)){gt=0,Kn=null;var N=b.sibling;if(N!==null)Xe=N;else{var $=b.return;$!==null?(Xe=$,zc($)):Xe=null}break t}}gt=0,Kn=null,vo(n,i,g,5);break;case 6:gt=0,Kn=null,vo(n,i,g,6);break;case 8:Yd(),Mt=6;break e;default:throw Error(s(462))}}tA();break}catch(re){Gv(n,re)}while(!0);return Si=fa=null,G.H=u,G.A=f,mt=o,Xe!==null?0:(wt=null,st=0,oc(),Mt)}function tA(){for(;Xe!==null&&!Gs();)Yv(Xe)}function Yv(n){var i=Tv(n.alternate,n,Di);n.memoizedProps=n.pendingProps,i===null?zc(n):Xe=i}function Qv(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=mv(o,i,i.pendingProps,i.type,void 0,st);break;case 11:i=mv(o,i,i.pendingProps,i.type.render,i.ref,st);break;case 5:hd(i);default:bv(o,i),i=Xe=Xg(i,Di),i=Tv(o,i,Di)}n.memoizedProps=n.pendingProps,i===null?zc(n):Xe=i}function vo(n,i,o,u){Si=fa=null,hd(i),lo=null,xl=0;var f=i.return;try{if(qw(n,f,i,o,st)){Mt=1,Nc(n,or(o,n.current)),Xe=null;return}}catch(g){if(f!==null)throw Xe=f,g;Mt=1,Nc(n,or(o,n.current)),Xe=null;return}i.flags&32768?(ht||u===1?n=!0:fo||(st&536870912)!==0?n=!1:(ls=n=!0,(u===2||u===9||u===3||u===6)&&(u=hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Xv(i,n)):zc(i)}function zc(n){var i=n;do{if((i.flags&32768)!==0){Xv(i,ls);return}n=i.return;var o=$w(i.alternate,i,Di);if(o!==null){Xe=o;return}if(i=i.sibling,i!==null){Xe=i;return}Xe=i=n}while(i!==null);Mt===0&&(Mt=5)}function Xv(n,i){do{var o=Kw(n.alternate,n);if(o!==null){o.flags&=32767,Xe=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Xe=n;return}Xe=n=o}while(n!==null);Mt=6,Xe=null}function Wv(n,i,o,u,f,g,E,b,N){n.cancelPendingCommit=null;do Bc();while(cn!==0);if((mt&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=zf,Gi(n,o,g,E,b,N),n===wt&&(Xe=wt=null,st=0),mo=i,hs=n,go=o,Gd=g,$d=f,Bv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,sA(ui,function(){return n_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=G.T,G.T=null,f=he.p,he.p=2,E=mt,mt|=4;try{Yw(n,i,o)}finally{mt=E,he.p=f,G.T=u}}cn=1,Jv(),Zv(),e_()}}function Jv(){if(cn===1){cn=0;var n=hs,i=mo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var u=he.p;he.p=2;var f=mt;mt|=4;try{Pv(i,n);var g=lp,E=zg(n.containerInfo),b=g.focusedElem,N=g.selectionRange;if(E!==b&&b&&b.ownerDocument&&jg(b.ownerDocument.documentElement,b)){if(N!==null&&Vf(b)){var $=N.start,re=N.end;if(re===void 0&&(re=$),"selectionStart"in b)b.selectionStart=$,b.selectionEnd=Math.min(re,b.value.length);else{var ae=b.ownerDocument||document,W=ae&&ae.defaultView||window;if(W.getSelection){var J=W.getSelection(),Ue=b.textContent.length,Oe=Math.min(N.start,Ue),Tt=N.end===void 0?Oe:Math.min(N.end,Ue);!J.extend&&Oe>Tt&&(E=Tt,Tt=Oe,Oe=E);var z=Ug(b,Oe),V=Ug(b,Tt);if(z&&V&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==V.node||J.focusOffset!==V.offset)){var q=ae.createRange();q.setStart(z.node,z.offset),J.removeAllRanges(),Oe>Tt?(J.addRange(q),J.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),J.addRange(q))}}}}for(ae=[],J=b;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ae.length;b++){var ie=ae[b];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Zc=!!op,lp=op=null}finally{mt=f,he.p=u,G.T=o}}n.current=i,cn=2}}function Zv(){if(cn===2){cn=0;var n=hs,i=mo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var u=he.p;he.p=2;var f=mt;mt|=4;try{Dv(n,i.alternate,i)}finally{mt=f,he.p=u,G.T=o}}cn=3}}function e_(){if(cn===4||cn===3){cn=0,ka();var n=hs,i=mo,o=go,u=Bv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?cn=5:(cn=0,mo=hs=null,t_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(cs=null),$i(o),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=G.T,f=he.p,he.p=2,G.T=null;try{for(var g=n.onRecoverableError,E=0;E<u.length;E++){var b=u[E];g(b.value,{componentStack:b.stack})}}finally{G.T=i,he.p=f}}(go&3)!==0&&Bc(),Yr(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Kd?Ul++:(Ul=0,Kd=n):Ul=0,jl(0)}}function t_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,vl(i)))}function Bc(n){return Jv(),Zv(),e_(),n_()}function n_(){if(cn!==5)return!1;var n=hs,i=Gd;Gd=0;var o=$i(go),u=G.T,f=he.p;try{he.p=32>o?32:o,G.T=null,o=$d,$d=null;var g=hs,E=go;if(cn=0,mo=hs=null,go=0,(mt&6)!==0)throw Error(s(331));var b=mt;if(mt|=4,jv(g.current),Lv(g,g.current,E,o),mt=b,jl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(lt,g)}catch{}return!0}finally{he.p=f,G.T=u,t_(n,i)}}function r_(n,i,o){i=or(o,i),i=Ad(n.stateNode,i,2),n=ts(n,i,2),n!==null&&(Er(n,2),Yr(n))}function St(n,i,o){if(n.tag===3)r_(n,n,o);else for(;i!==null;){if(i.tag===3){r_(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(cs===null||!cs.has(u))){n=or(o,n),o=ov(2),u=ts(i,o,2),u!==null&&(lv(o,u,i,n),Er(u,2),Yr(u));break}}i=i.return}}function Wd(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new Ww;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(Bd=!0,f.add(o),n=nA.bind(null,n,i,o),i.then(n,n))}function nA(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,wt===n&&(st&o)===o&&(Mt===4||Mt===3&&(st&62914560)===st&&300>An()-qd?(mt&2)===0&&yo(n,0):Hd|=o,po===st&&(po=0)),Yr(n)}function i_(n,i){i===0&&(i=Ks()),n=Ja(n,i),n!==null&&(Er(n,i),Yr(n))}function rA(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),i_(n,o)}function iA(n,i){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),i_(n,o)}function sA(n,i){return li(n,i)}var Hc=null,_o=null,Jd=!1,Fc=!1,Zd=!1,_a=0;function Yr(n){n!==_o&&n.next===null&&(_o===null?Hc=_o=n:_o=_o.next=n),Fc=!0,Jd||(Jd=!0,oA())}function jl(n,i){if(!Zd&&Fc){Zd=!0;do for(var o=!1,u=Hc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-Ut(42|n)+1)-1,g&=f&~(E&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,l_(u,g))}else g=st,g=ci(u,u===wt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||er(u,g)||(o=!0,l_(u,g));u=u.next}while(o);Zd=!1}}function aA(){s_()}function s_(){Fc=Jd=!1;var n=0;_a!==0&&(mA()&&(n=_a),_a=0);for(var i=An(),o=null,u=Hc;u!==null;){var f=u.next,g=a_(u,i);g===0?(u.next=null,o===null?Hc=f:o.next=f,f===null&&(_o=o)):(o=u,(n!==0||(g&3)!==0)&&(Fc=!0)),u=f}jl(n)}function a_(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var E=31-Ut(g),b=1<<E,N=f[E];N===-1?((b&o)===0||(b&u)!==0)&&(f[E]=qi(b,i)):N<=i&&(n.expiredLanes|=b),g&=~b}if(i=wt,o=st,o=ci(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===i&&(gt===2||gt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&wn(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||er(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&wn(u),$i(o)){case 2:case 8:o=Bi;break;case 32:o=ui;break;case 268435456:o=Jn;break;default:o=ui}return u=o_.bind(null,n),o=li(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&wn(u),n.callbackPriority=2,n.callbackNode=null,2}function o_(n,i){if(cn!==0&&cn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Bc()&&n.callbackNode!==o)return null;var u=st;return u=ci(n,n===wt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Fv(n,u,i),a_(n,An()),n.callbackNode!=null&&n.callbackNode===o?o_.bind(null,n):null)}function l_(n,i){if(Bc())return null;Fv(n,i,!0)}function oA(){yA(function(){(mt&6)!==0?li($s,aA):s_()})}function ep(){return _a===0&&(_a=hi()),_a}function u_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:za(""+n)}function c_(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function lA(n,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var g=u_((f[de]||null).action),E=u.submitter;E&&(i=(i=E[de]||null)?u_(i.formAction):E.getAttribute("formAction"),i!==null&&(g=i,E=null));var b=new Ba("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(_a!==0){var N=E?c_(f,E):new FormData(f);Ed(o,{pending:!0,data:N,method:f.method,action:g},null,N)}}else typeof g=="function"&&(b.preventDefault(),N=E?c_(f,E):new FormData(f),Ed(o,{pending:!0,data:N,method:f.method,action:g},g,N))},currentTarget:f}]})}}for(var tp=0;tp<jf.length;tp++){var np=jf[tp],uA=np.toLowerCase(),cA=np[0].toUpperCase()+np.slice(1);wr(uA,"on"+cA)}wr(Fg,"onAnimationEnd"),wr(qg,"onAnimationIteration"),wr(Gg,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(Cw,"onTransitionRun"),wr(Iw,"onTransitionStart"),wr(xw,"onTransitionCancel"),wr($g,"onTransitionEnd"),Wt("onMouseEnter",["mouseout","mouseover"]),Wt("onMouseLeave",["mouseout","mouseover"]),Wt("onPointerEnter",["pointerout","pointerover"]),Wt("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function h_(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var g=void 0;if(i)for(var E=u.length-1;0<=E;E--){var b=u[E],N=b.instance,$=b.currentTarget;if(b=b.listener,N!==g&&f.isPropagationStopped())break e;g=b,f.currentTarget=$;try{g(f)}catch(re){Dc(re)}f.currentTarget=null,g=N}else for(E=0;E<u.length;E++){if(b=u[E],N=b.instance,$=b.currentTarget,b=b.listener,N!==g&&f.isPropagationStopped())break e;g=b,f.currentTarget=$;try{g(f)}catch(re){Dc(re)}f.currentTarget=null,g=N}}}}function We(n,i){var o=i[Re];o===void 0&&(o=i[Re]=new Set);var u=n+"__bubble";o.has(u)||(f_(i,n,2,!1),o.add(u))}function rp(n,i,o){var u=0;i&&(u|=4),f_(o,n,u,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function ip(n){if(!n[qc]){n[qc]=!0,ct.forEach(function(o){o!=="selectionchange"&&(hA.has(o)||rp(o,!1,n),rp(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[qc]||(i[qc]=!0,rp("selectionchange",!1,i))}}function f_(n,i,o,u){switch(L_(i)){case 2:var f=UA;break;case 8:f=jA;break;default:f=vp}o=f.bind(null,i,o,n),f=void 0,!sr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function sp(n,i,o,u,f){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=u.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=qe(b),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){u=g=E;continue e}b=b.parentNode}}u=u.return}$u(function(){var $=g,re=ir(o),ae=[];e:{var W=Kg.get(n);if(W!==void 0){var J=Ba,Ue=n;switch(n){case"keypress":if(jr(o)===0)break e;case"keydown":case"keyup":J=Ka;break;case"focusin":Ue="focus",J=qa;break;case"focusout":Ue="blur",J=qa;break;case"beforeblur":case"afterblur":J=qa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=ec;break;case Fg:case qg:case Gg:J=Ga;break;case $g:J=nc;break;case"scroll":case"scrollend":J=Ku;break;case"wheel":J=Ya;break;case"copy":case"cut":case"paste":J=$a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=cl;break;case"toggle":case"beforetoggle":J=ic}var Oe=(i&4)!==0,Tt=!Oe&&(n==="scroll"||n==="scrollend"),z=Oe?W!==null?W+"Capture":null:W;Oe=[];for(var V=$,q;V!==null;){var ie=V;if(q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||q===null||z===null||(ie=Js(V,z),ie!=null&&Oe.push(Bl(V,ie,q))),Tt)break;V=V.return}0<Oe.length&&(W=new J(W,Ue,null,o,re),ae.push({event:W,listeners:Oe}))}}if((i&7)===0){e:{if(W=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",W&&o!==di&&(Ue=o.relatedTarget||o.fromElement)&&(qe(Ue)||Ue[ye]))break e;if((J||W)&&(W=re.window===re?re:(W=re.ownerDocument)?W.defaultView||W.parentWindow:window,J?(Ue=o.relatedTarget||o.toElement,J=$,Ue=Ue?qe(Ue):null,Ue!==null&&(Tt=l(Ue),Oe=Ue.tag,Ue!==Tt||Oe!==5&&Oe!==27&&Oe!==6)&&(Ue=null)):(J=null,Ue=$),J!==Ue)){if(Oe=ar,ie="onMouseLeave",z="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(Oe=cl,ie="onPointerLeave",z="onPointerEnter",V="pointer"),Tt=J==null?W:pt(J),q=Ue==null?W:pt(Ue),W=new Oe(ie,V+"leave",J,o,re),W.target=Tt,W.relatedTarget=q,ie=null,qe(re)===$&&(Oe=new Oe(z,V+"enter",Ue,o,re),Oe.target=q,Oe.relatedTarget=Tt,ie=Oe),Tt=ie,J&&Ue)t:{for(Oe=J,z=Ue,V=0,q=Oe;q;q=Eo(q))V++;for(q=0,ie=z;ie;ie=Eo(ie))q++;for(;0<V-q;)Oe=Eo(Oe),V--;for(;0<q-V;)z=Eo(z),q--;for(;V--;){if(Oe===z||z!==null&&Oe===z.alternate)break t;Oe=Eo(Oe),z=Eo(z)}Oe=null}else Oe=null;J!==null&&d_(ae,W,J,Oe,!1),Ue!==null&&Tt!==null&&d_(ae,Tt,Ue,Oe,!0)}}e:{if(W=$?pt($):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Se=Og;else if(Kt(W))if(Mg)Se=ww;else{Se=Sw;var Qe=Tw}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?$&&rl($.elementType)&&(Se=Og):Se=bw;if(Se&&(Se=Se(n,$))){vi(ae,Se,o,re);break e}Qe&&Qe(n,W,$),n==="focusout"&&$&&W.type==="number"&&$.memoizedProps.value!=null&&Xi(W,"number",W.value)}switch(Qe=$?pt($):window,n){case"focusin":(Kt(Qe)||Qe.contentEditable==="true")&&(Qa=Qe,Lf=$,dl=null);break;case"focusout":dl=Lf=Qa=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Bg(ae,o,re);break;case"selectionchange":if(Rw)break;case"keydown":case"keyup":Bg(ae,o,re)}var Ce;if(Hr)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else rt?Z(n,o)&&(Pe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(_&&o.locale!=="ko"&&(rt||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&rt&&(Ce=sl()):(Ur=re,Wi="value"in Ur?Ur.value:Ur.textContent,rt=!0)),Qe=Gc($,Pe),0<Qe.length&&(Pe=new ll(Pe,n,null,o,re),ae.push({event:Pe,listeners:Qe}),Ce?Pe.data=Ce:(Ce=me(o),Ce!==null&&(Pe.data=Ce)))),(Ce=y?$t(n,o):it(n,o))&&(Pe=Gc($,"onBeforeInput"),0<Pe.length&&(Qe=new ll("onBeforeInput","beforeinput",null,o,re),ae.push({event:Qe,listeners:Pe}),Qe.data=Ce)),lA(ae,n,$,o,re)}h_(ae,i)})}function Bl(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Gc(n,i){for(var o=i+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Js(n,o),f!=null&&u.unshift(Bl(n,f,g)),f=Js(n,i),f!=null&&u.push(Bl(n,f,g))),n.tag===3)return u;n=n.return}return[]}function Eo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function d_(n,i,o,u,f){for(var g=i._reactName,E=[];o!==null&&o!==u;){var b=o,N=b.alternate,$=b.stateNode;if(b=b.tag,N!==null&&N===u)break;b!==5&&b!==26&&b!==27||$===null||(N=$,f?($=Js(o,g),$!=null&&E.unshift(Bl(o,$,N))):f||($=Js(o,g),$!=null&&E.push(Bl(o,$,N)))),o=o.return}E.length!==0&&n.push({event:i,listeners:E})}var fA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function p_(n){return(typeof n=="string"?n:""+n).replace(fA,`
`).replace(dA,"")}function m_(n,i){return i=p_(i),p_(n)===i}function $c(){}function Et(n,i,o,u,f,g){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||rr(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&rr(n,""+u);break;case"className":In(n,"class",u);break;case"tabIndex":In(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":In(n,o,u);break;case"style":nl(n,u,g);break;case"data":if(i!=="object"){In(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=za(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Et(n,i,"name",f.name,f,null),Et(n,i,"formEncType",f.formEncType,f,null),Et(n,i,"formMethod",f.formMethod,f,null),Et(n,i,"formTarget",f.formTarget,f,null)):(Et(n,i,"encType",f.encType,f,null),Et(n,i,"method",f.method,f,null),Et(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=za(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=$c);break;case"onScroll":u!=null&&We("scroll",n);break;case"onScrollEnd":u!=null&&We("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=za(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":We("beforetoggle",n),We("toggle",n),Bn(n,"popover",u);break;case"xlinkActuate":Me(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Me(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Me(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Me(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Me(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Me(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Me(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Me(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Me(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Bn(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=xf.get(o)||o,Bn(n,o,u))}}function ap(n,i,o,u,f,g){switch(o){case"style":nl(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?rr(n,u):(typeof u=="number"||typeof u=="bigint")&&rr(n,""+u);break;case"onScroll":u!=null&&We("scroll",n);break;case"onScrollEnd":u!=null&&We("scrollend",n);break;case"onClick":u!=null&&(n.onclick=$c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),g=n[de]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(i,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Bn(n,o,u)}}}function hn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",n),We("load",n);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Et(n,i,g,E,o,null)}}f&&Et(n,i,"srcSet",o.srcSet,o,null),u&&Et(n,i,"src",o.src,o,null);return;case"input":We("invalid",n);var b=g=E=f=null,N=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var re=o[u];if(re!=null)switch(u){case"name":f=re;break;case"type":E=re;break;case"checked":N=re;break;case"defaultChecked":$=re;break;case"value":g=re;break;case"defaultValue":b=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:Et(n,i,u,re,o,null)}}Qs(n,g,b,N,$,E,f,!1),ja(n);return;case"select":We("invalid",n),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:Et(n,i,f,b,o,null)}i=g,o=E,n.multiple=!!u,i!=null?fi(n,!!u,i,!1):o!=null&&fi(n,!!u,o,!0);return;case"textarea":We("invalid",n),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Et(n,i,E,b,o,null)}Xs(n,u,f,g),ja(n);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Et(n,i,N,u,o,null)}return;case"dialog":We("beforetoggle",n),We("toggle",n),We("cancel",n),We("close",n);break;case"iframe":case"object":We("load",n);break;case"video":case"audio":for(u=0;u<zl.length;u++)We(zl[u],n);break;case"image":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"embed":case"source":case"link":We("error",n),We("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Et(n,i,$,u,o,null)}return;default:if(rl(i)){for(re in o)o.hasOwnProperty(re)&&(u=o[re],u!==void 0&&ap(n,i,re,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&Et(n,i,b,u,o,null))}function pA(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,b=null,N=null,$=null,re=null;for(J in o){var ae=o[J];if(o.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":N=ae;default:u.hasOwnProperty(J)||Et(n,i,J,null,u,ae)}}for(var W in u){var J=u[W];if(ae=o[W],u.hasOwnProperty(W)&&(J!=null||ae!=null))switch(W){case"type":g=J;break;case"name":f=J;break;case"checked":$=J;break;case"defaultChecked":re=J;break;case"value":E=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:J!==ae&&Et(n,i,W,J,u,ae)}}Hn(n,E,b,N,$,re,g,f);return;case"select":J=E=b=W=null;for(g in o)if(N=o[g],o.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":J=N;default:u.hasOwnProperty(g)||Et(n,i,g,null,u,N)}for(f in u)if(g=u[f],N=o[f],u.hasOwnProperty(f)&&(g!=null||N!=null))switch(f){case"value":W=g;break;case"defaultValue":b=g;break;case"multiple":E=g;default:g!==N&&Et(n,i,f,g,u,N)}i=b,o=E,u=J,W!=null?fi(n,!!o,W,!1):!!u!=!!o&&(i!=null?fi(n,!!o,i,!0):fi(n,!!o,o?[]:"",!1));return;case"textarea":J=W=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Et(n,i,b,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":W=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Et(n,i,E,f,u,g)}vt(n,W,J);return;case"option":for(var Ue in o)if(W=o[Ue],o.hasOwnProperty(Ue)&&W!=null&&!u.hasOwnProperty(Ue))switch(Ue){case"selected":n.selected=!1;break;default:Et(n,i,Ue,null,u,W)}for(N in u)if(W=u[N],J=o[N],u.hasOwnProperty(N)&&W!==J&&(W!=null||J!=null))switch(N){case"selected":n.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Et(n,i,N,W,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in o)W=o[Oe],o.hasOwnProperty(Oe)&&W!=null&&!u.hasOwnProperty(Oe)&&Et(n,i,Oe,null,u,W);for($ in u)if(W=u[$],J=o[$],u.hasOwnProperty($)&&W!==J&&(W!=null||J!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Et(n,i,$,W,u,J)}return;default:if(rl(i)){for(var Tt in o)W=o[Tt],o.hasOwnProperty(Tt)&&W!==void 0&&!u.hasOwnProperty(Tt)&&ap(n,i,Tt,void 0,u,W);for(re in u)W=u[re],J=o[re],!u.hasOwnProperty(re)||W===J||W===void 0&&J===void 0||ap(n,i,re,W,u,J);return}}for(var z in o)W=o[z],o.hasOwnProperty(z)&&W!=null&&!u.hasOwnProperty(z)&&Et(n,i,z,null,u,W);for(ae in u)W=u[ae],J=o[ae],!u.hasOwnProperty(ae)||W===J||W==null&&J==null||Et(n,i,ae,W,u,J)}var op=null,lp=null;function Kc(n){return n.nodeType===9?n:n.ownerDocument}function g_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function up(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cp=null;function mA(){var n=window.event;return n&&n.type==="popstate"?n===cp?!1:(cp=n,!0):(cp=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,gA=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,yA=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(n){return __.resolve(null).then(n).catch(vA)}:v_;function vA(n){setTimeout(function(){throw n})}function ds(n){return n==="head"}function E_(n,i){var o=i,u=0,f=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&Hl(E.documentElement),o&2&&Hl(E.body),o&4)for(o=E.head,Hl(o),E=o.firstChild;E;){var b=E.nextSibling,N=E.nodeName;E[Ae]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=b}}if(f===0){n.removeChild(g),Xl(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Xl(i)}function hp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":hp(o),Ee(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function _A(n,i,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ae])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Rr(n.nextSibling),n===null)break}return null}function EA(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Rr(n.nextSibling),n===null))return null;return n}function fp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function TA(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Rr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var dp=null;function T_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function S_(n,i,o){switch(i=Kc(o),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Hl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ee(n)}var dr=new Map,b_=new Set;function Yc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ni=he.d;he.d={f:SA,r:bA,D:wA,C:AA,L:RA,m:CA,X:xA,S:IA,M:DA};function SA(){var n=Ni.f(),i=jc();return n||i}function bA(n){var i=nt(n);i!==null&&i.tag===5&&i.type==="form"?Fy(i):Ni.r(n)}var To=typeof document>"u"?null:document;function w_(n,i,o){var u=To;if(u&&typeof i=="string"&&i){var f=jt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),b_.has(f)||(b_.add(f),n={rel:n,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),hn(i,"link",n),ze(i),u.head.appendChild(i)))}}function wA(n){Ni.D(n),w_("dns-prefetch",n,null)}function AA(n,i){Ni.C(n,i),w_("preconnect",n,i)}function RA(n,i,o){Ni.L(n,i,o);var u=To;if(u&&n&&i){var f='link[rel="preload"][as="'+jt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+jt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+jt(o.imageSizes)+'"]')):f+='[href="'+jt(n)+'"]';var g=f;switch(i){case"style":g=So(n);break;case"script":g=bo(n)}dr.has(g)||(n=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),dr.set(g,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(Fl(g))||i==="script"&&u.querySelector(ql(g))||(i=u.createElement("link"),hn(i,"link",n),ze(i),u.head.appendChild(i)))}}function CA(n,i){Ni.m(n,i);var o=To;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+jt(u)+'"][href="'+jt(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=bo(n)}if(!dr.has(g)&&(n=v({rel:"modulepreload",href:n},i),dr.set(g,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ql(g)))return}u=o.createElement("link"),hn(u,"link",n),ze(u),o.head.appendChild(u)}}}function IA(n,i,o){Ni.S(n,i,o);var u=To;if(u&&n){var f=ut(u).hoistableStyles,g=So(n);i=i||"default";var E=f.get(g);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(Fl(g)))b.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},o),(o=dr.get(g))&&pp(n,o);var N=E=u.createElement("link");ze(N),hn(N,"link",n),N._p=new Promise(function($,re){N.onload=$,N.onerror=re}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Qc(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(g,E)}}}function xA(n,i){Ni.X(n,i);var o=To;if(o&&n){var u=ut(o).hoistableScripts,f=bo(n),g=u.get(f);g||(g=o.querySelector(ql(f)),g||(n=v({src:n,async:!0},i),(i=dr.get(f))&&mp(n,i),g=o.createElement("script"),ze(g),hn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function DA(n,i){Ni.M(n,i);var o=To;if(o&&n){var u=ut(o).hoistableScripts,f=bo(n),g=u.get(f);g||(g=o.querySelector(ql(f)),g||(n=v({src:n,async:!0,type:"module"},i),(i=dr.get(f))&&mp(n,i),g=o.createElement("script"),ze(g),hn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function A_(n,i,o,u){var f=(f=Ne.current)?Yc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=So(o.href),o=ut(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=So(o.href);var g=ut(f).hoistableStyles,E=g.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,E),(g=f.querySelector(Fl(n)))&&!g._p&&(E.instance=g,E.state.loading=5),dr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},dr.set(n,o),g||NA(f,n,o,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=bo(o),o=ut(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function So(n){return'href="'+jt(n)+'"'}function Fl(n){return'link[rel="stylesheet"]['+n+"]"}function R_(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function NA(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),hn(i,"link",o),ze(i),n.head.appendChild(i))}function bo(n){return'[src="'+jt(n)+'"]'}function ql(n){return"script[async]"+n}function C_(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+jt(o.href)+'"]');if(u)return i.instance=u,ze(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ze(u),hn(u,"style",f),Qc(u,o.precedence,n),i.instance=u;case"stylesheet":f=So(o.href);var g=n.querySelector(Fl(f));if(g)return i.state.loading|=4,i.instance=g,ze(g),g;u=R_(o),(f=dr.get(f))&&pp(u,f),g=(n.ownerDocument||n).createElement("link"),ze(g);var E=g;return E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),hn(g,"link",u),i.state.loading|=4,Qc(g,o.precedence,n),i.instance=g;case"script":return g=bo(o.src),(f=n.querySelector(ql(g)))?(i.instance=f,ze(f),f):(u=o,(f=dr.get(g))&&(u=v({},o),mp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),ze(f),hn(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Qc(u,o.precedence,n));return i.instance}function Qc(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===i)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function pp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function mp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Xc=null;function I_(n,i,o){if(Xc===null){var u=new Map,f=Xc=new Map;f.set(o,u)}else f=Xc,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var g=o[f];if(!(g[Ae]||g[le]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(i)||"";E=n+E;var b=u.get(E);b?b.push(g):u.set(E,[g])}}return u}function x_(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function OA(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function D_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Gl=null;function MA(){}function PA(n,i,o){if(Gl===null)throw Error(s(475));var u=Gl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=So(o.href),g=n.querySelector(Fl(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Wc.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=g,ze(g);return}g=n.ownerDocument||n,o=R_(o),(f=dr.get(f))&&pp(o,f),g=g.createElement("link"),ze(g);var E=g;E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),hn(g,"link",o),i.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Wc.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function VA(){if(Gl===null)throw Error(s(475));var n=Gl;return n.stylesheets&&n.count===0&&gp(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&gp(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Wc(){if(this.count--,this.count===0){if(this.stylesheets)gp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Jc=null;function gp(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Jc=new Map,i.forEach(LA,n),Jc=null,Wc.call(n))}function LA(n,i){if(!(i.state.loading&4)){var o=Jc.get(n);if(o)var u=o.get(null);else{o=new Map,Jc.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=i.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=Wc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var $l={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function kA(n,i,o,u,f,g,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tr(0),this.hiddenUpdates=tr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function N_(n,i,o,u,f,g,E,b,N,$,re,ae){return n=new kA(n,i,o,E,b,N,$,ae),i=1,g===!0&&(i|=24),g=qn(3,null,null,i),n.current=g,g.stateNode=n,i=Wf(),i.refCount++,n.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:i},td(g),n}function O_(n){return n?(n=Za,n):Za}function M_(n,i,o,u,f,g){f=O_(f),u.context===null?u.context=f:u.pendingContext=f,u=es(i),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ts(n,u,i),o!==null&&(Qn(o,n,i),Sl(o,n,i))}function P_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function yp(n,i){P_(n,i),(n=n.alternate)&&P_(n,i)}function V_(n){if(n.tag===13){var i=Ja(n,67108864);i!==null&&Qn(i,n,67108864),yp(n,67108864)}}var Zc=!0;function UA(n,i,o,u){var f=G.T;G.T=null;var g=he.p;try{he.p=2,vp(n,i,o,u)}finally{he.p=g,G.T=f}}function jA(n,i,o,u){var f=G.T;G.T=null;var g=he.p;try{he.p=8,vp(n,i,o,u)}finally{he.p=g,G.T=f}}function vp(n,i,o,u){if(Zc){var f=_p(u);if(f===null)sp(n,i,u,eh,o),k_(n,u);else if(BA(f,n,i,o,u))u.stopPropagation();else if(k_(n,u),i&4&&-1<zA.indexOf(n)){for(;f!==null;){var g=nt(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=jn(g.pendingLanes);if(E!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var N=1<<31-Ut(E);b.entanglements[1]|=N,E&=~N}Yr(g),(mt&6)===0&&(kc=An()+500,jl(0))}}break;case 13:b=Ja(g,2),b!==null&&Qn(b,g,2),jc(),yp(g,2)}if(g=_p(u),g===null&&sp(n,i,u,eh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else sp(n,i,u,null,o)}}function _p(n){return n=ir(n),Ep(n)}var eh=null;function Ep(n){if(eh=null,n=qe(n),n!==null){var i=l(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=c(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return eh=n,null}function L_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zo()){case $s:return 2;case Bi:return 8;case ui:case _r:return 32;case Jn:return 268435456;default:return 32}default:return 32}}var Tp=!1,ps=null,ms=null,gs=null,Kl=new Map,Yl=new Map,ys=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(n,i){switch(n){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(i.pointerId)}}function Ql(n,i,o,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},i!==null&&(i=nt(i),i!==null&&V_(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function BA(n,i,o,u,f){switch(i){case"focusin":return ps=Ql(ps,n,i,o,u,f),!0;case"dragenter":return ms=Ql(ms,n,i,o,u,f),!0;case"mouseover":return gs=Ql(gs,n,i,o,u,f),!0;case"pointerover":var g=f.pointerId;return Kl.set(g,Ql(Kl.get(g)||null,n,i,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Yl.set(g,Ql(Yl.get(g)||null,n,i,o,u,f)),!0}return!1}function U_(n){var i=qe(n.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){n.blockedOn=i,H(n.priority,function(){if(o.tag===13){var u=Yn();u=Lr(u);var f=Ja(o,u);f!==null&&Qn(f,o,u),yp(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function th(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=_p(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);di=u,o.target.dispatchEvent(u),di=null}else return i=nt(o),i!==null&&V_(i),n.blockedOn=o,!1;i.shift()}return!0}function j_(n,i,o){th(n)&&o.delete(i)}function HA(){Tp=!1,ps!==null&&th(ps)&&(ps=null),ms!==null&&th(ms)&&(ms=null),gs!==null&&th(gs)&&(gs=null),Kl.forEach(j_),Yl.forEach(j_)}function nh(n,i){n.blockedOn===i&&(n.blockedOn=null,Tp||(Tp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,HA)))}var rh=null;function z_(n){rh!==n&&(rh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){rh===n&&(rh=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(Ep(u||o)===null)continue;break}var g=nt(o);g!==null&&(n.splice(i,3),i-=3,Ed(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Xl(n){function i(N){return nh(N,n)}ps!==null&&nh(ps,n),ms!==null&&nh(ms,n),gs!==null&&nh(gs,n),Kl.forEach(i),Yl.forEach(i);for(var o=0;o<ys.length;o++){var u=ys[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ys.length&&(o=ys[0],o.blockedOn===null);)U_(o),o.blockedOn===null&&ys.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[de]||null;if(typeof g=="function")E||z_(o);else if(E){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[de]||null)b=E.formAction;else if(Ep(f)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),z_(o)}}}function Sp(n){this._internalRoot=n}ih.prototype.render=Sp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=Yn();M_(o,u,n,i,null,null)},ih.prototype.unmount=Sp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;M_(n.current,2,null,n,null,null),jc(),i[ye]=null}};function ih(n){this._internalRoot=n}ih.prototype.unstable_scheduleHydration=function(n){if(n){var i=P();n={blockedOn:null,target:n,priority:i};for(var o=0;o<ys.length&&i!==0&&i<ys[o].priority;o++);ys.splice(o,0,n),o===0&&U_(n)}};var B_=e.version;if(B_!=="19.1.1")throw Error(s(527,B_,"19.1.1"));he.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var FA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{lt=sh.inject(FA),$e=sh}catch{}}return Jl.createRoot=function(n,i){if(!a(n))throw Error(s(299));var o=!1,u="",f=rv,g=iv,E=sv,b=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=N_(n,1,!1,null,null,o,u,f,g,E,b,null),n[ye]=i.current,ip(n),new Sp(i)},Jl.hydrateRoot=function(n,i,o){if(!a(n))throw Error(s(299));var u=!1,f="",g=rv,E=iv,b=sv,N=null,$=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&($=o.formState)),i=N_(n,1,!0,i,o??null,u,f,g,E,b,N,$),i.context=O_(null),o=i.current,u=Yn(),u=Lr(u),f=es(u),f.callback=null,ts(o,f,u),o=u,i.current.lanes=o,Er(i,o),Yr(i),n[ye]=i.current,ip(n),new ih(i)},Jl.version="19.1.1",Jl}var W_;function ZA(){if(W_)return Ap.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ap.exports=JA(),Ap.exports}var eR=ZA();const tR=h0(eR);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var d0=r=>{throw TypeError(r)},nR=(r,e,t)=>e.has(r)||d0("Cannot "+t),xp=(r,e,t)=>(nR(r,e,"read from private field"),t?t.call(r):e.get(r)),rR=(r,e,t)=>e.has(r)?d0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),J_="popstate";function iR(r={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return gu("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:Ps(a)}return aR(e,t,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sR(){return Math.random().toString(36).substring(2,10)}function Z_(r,e){return{usr:r.state,key:r.key,idx:e}}function gu(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Bs(e):e,state:t,key:e&&e.key||s||sR()}}function Ps({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Bs(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function aR(r,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",p=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let U=v(),Q=U==null?null:U-m;m=U,p&&p({action:d,location:Y.location,delta:Q})}function S(U,Q){d="PUSH";let X=gu(Y.location,U,Q);m=v()+1;let ne=Z_(X,m),fe=Y.createHref(X);try{c.pushState(ne,"",fe)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(fe)}l&&p&&p({action:d,location:Y.location,delta:1})}function A(U,Q){d="REPLACE";let X=gu(Y.location,U,Q);m=v();let ne=Z_(X,m),fe=Y.createHref(X);c.replaceState(ne,"",fe),l&&p&&p({action:d,location:Y.location,delta:0})}function D(U){return p0(U)}let Y={get action(){return d},get location(){return r(a,c)},listen(U){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(J_,T),p=U,()=>{a.removeEventListener(J_,T),p=null}},createHref(U){return e(a,U)},createURL:D,encodeLocation(U){let Q=D(U);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:S,replace:A,go(U){return c.go(U)}};return Y}function p0(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Je(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ps(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}var ru,eE=class{constructor(r){if(rR(this,ru,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(xp(this,ru).has(r))return xp(this,ru).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){xp(this,ru).set(r,e)}};ru=new WeakMap;var oR=new Set(["lazy","caseSensitive","path","id","index","children"]);function lR(r){return oR.has(r)}var uR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function cR(r){return uR.has(r)}function hR(r){return r.index===!0}function yu(r,e,t=[],s={},a=!1){return r.map((l,c)=>{let d=[...t,String(c)],p=typeof l.id=="string"?l.id:d.join("-");if(Je(l.index!==!0||!l.children,"Cannot specify children on an index route"),Je(a||!s[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),hR(l)){let m={...l,...e(l),id:p};return s[p]=m,m}else{let m={...l,...e(l),id:p,children:void 0};return s[p]=m,l.children&&(m.children=yu(l.children,e,d,s,a)),m}})}function Ts(r,e,t="/"){return vh(r,e,t,!1)}function vh(r,e,t,s){let a=typeof e=="string"?Bs(e):e,l=vr(a.pathname||"/",t);if(l==null)return null;let c=m0(r);dR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=wR(l);d=SR(c[p],m,s)}return d}function fR(r,e){let{route:t,pathname:s,params:a}=r;return{id:t.id,pathname:s,params:a,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function m0(r,e=[],t=[],s="",a=!1){let l=(c,d,p=a,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;Je(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=Wr([s,v.relativePath]),S=t.concat(v);c.children&&c.children.length>0&&(Je(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),m0(c.children,e,S,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:ER(T,c.index),routesMeta:S})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of g0(c.path))l(c,d,!0,p)}),e}function g0(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=g0(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function dR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:TR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var pR=/^:[\w-]+$/,mR=3,gR=2,yR=1,vR=10,_R=-2,tE=r=>r==="*";function ER(r,e){let t=r.split("/"),s=t.length;return t.some(tE)&&(s+=_R),e&&(s+=gR),t.filter(a=>!tE(a)).reduce((a,l)=>a+(pR.test(l)?mR:l===""?yR:vR),s)}function TR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function SR(r,e,t=!1){let{routesMeta:s}=r,a={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],m=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),S=p.route;if(!T&&m&&t&&!s[s.length-1].route.index&&(T=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:Wr([l,T.pathname]),pathnameBase:IR(Wr([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=Wr([l,T.pathnameBase]))}return c}function Oh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=bR(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((m,{paramName:v,isOptional:T},S)=>{if(v==="*"){let D=d[S]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const A=d[S];return T&&!A?m[v]=void 0:m[v]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:r}}function bR(r,e=!1,t=!0){Gt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function wR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function vr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function AR({basename:r,pathname:e}){return e==="/"?r:Wr([r,e])}function RR(r,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof r=="string"?Bs(r):r;return{pathname:t?t.startsWith("/")?t:CR(t,e):e,search:xR(s),hash:DR(a)}}function CR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Dp(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y0(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Nm(r){let e=y0(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Om(r,e,t,s=!1){let a;typeof r=="string"?a=Bs(r):(a={...r},Je(!a.pathname||!a.pathname.includes("?"),Dp("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),Dp("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),Dp("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;a.pathname=S.join("/")}d=T>=0?e[T]:"/"}let p=RR(a,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var Wr=r=>r.join("/").replace(/\/\/+/g,"/"),IR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),xR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,DR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Mh=class{constructor(r,e,t,s=!1){this.status=r,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function vu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var v0=["POST","PUT","PATCH","DELETE"],NR=new Set(v0),OR=["GET",...v0],MR=new Set(OR),PR=new Set([301,302,303,307,308]),VR=new Set([307,308]),Np={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},LR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},kR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mm=r=>kR.test(r),UR=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),_0="remix-router-transitions",E0=Symbol("ResetLoaderData");function jR(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=r.hydrationRouteProperties||[],a=r.mapRouteProperties||UR,l={},c=yu(r.routes,a,void 0,l),d,p=r.basename||"/";p.startsWith("/")||(p=`/${p}`);let m=r.dataStrategy||qR,v={...r.future},T=null,S=new Set,A=null,D=null,Y=null,U=r.hydrationData!=null,Q=Ts(c,r.history.location,p),X=!1,ne=null,fe;if(Q==null&&!r.patchRoutesOnNavigation){let P=pr(404,{pathname:r.history.location.pathname}),{matches:H,route:K}=ah(c);fe=!0,Q=H,ne={[K.id]:P}}else if(Q&&!r.hydrationData&&Rn(Q,c,r.history.location.pathname).active&&(Q=null),Q)if(Q.some(P=>P.route.lazy))fe=!1;else if(!Q.some(P=>P.route.loader))fe=!0;else{let P=r.hydrationData?r.hydrationData.loaderData:null,H=r.hydrationData?r.hydrationData.errors:null;if(H){let K=Q.findIndex(le=>H[le.route.id]!==void 0);fe=Q.slice(0,K+1).every(le=>!Xp(le.route,P,H))}else fe=Q.every(K=>!Xp(K.route,P,H))}else{fe=!1,Q=[];let P=Rn(null,c,r.history.location.pathname);P.active&&P.matches&&(X=!0,Q=P.matches)}let se,k={historyAction:r.history.action,location:r.history.location,matches:Q,initialized:fe,navigation:Np,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ne,fetchers:new Map,blockers:new Map},x="POP",R=!1,C,M=!1,L=new Map,j=null,I=!1,xe=!1,Ye=new Set,G=new Map,he=0,ge=-1,ke=new Map,O=new Set,te=new Map,pe=new Map,ce=new Set,Te=new Map,Fe,Ne=null;function kt(){if(T=r.history.listen(({action:P,location:H,delta:K})=>{if(Fe){Fe(),Fe=void 0;return}Gt(Te.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=qi({currentLocation:k.location,nextLocation:H,historyAction:P});if(le&&K!=null){let de=new Promise(ye=>{Fe=ye});r.history.go(K*-1),er(le,{state:"blocked",location:H,proceed(){er(le,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),de.then(()=>r.history.go(K))},reset(){let ye=new Map(k.blockers);ye.set(le,Zl),Ct({blockers:ye})}});return}return wn(P,H)}),t){s1(e,L);let P=()=>a1(e,L);e.addEventListener("pagehide",P),j=()=>e.removeEventListener("pagehide",P)}return k.initialized||wn("POP",k.location,{initialHydration:!0}),se}function yt(){T&&T(),j&&j(),S.clear(),C&&C.abort(),k.fetchers.forEach((P,H)=>Ut(H)),k.blockers.forEach((P,H)=>ci(H))}function Wn(P){return S.add(P),()=>S.delete(P)}function Ct(P,H={}){P.matches&&(P.matches=P.matches.map(de=>{let ye=l[de.route.id],Re=de.route;return Re.element!==ye.element||Re.errorElement!==ye.errorElement||Re.hydrateFallbackElement!==ye.hydrateFallbackElement?{...de,route:ye}:de})),k={...k,...P};let K=[],le=[];k.fetchers.forEach((de,ye)=>{de.state==="idle"&&(ce.has(ye)?K.push(ye):le.push(ye))}),ce.forEach(de=>{!k.fetchers.has(de)&&!G.has(de)&&K.push(de)}),[...S].forEach(de=>de(k,{deletedFetchers:K,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),K.forEach(de=>Ut(de)),le.forEach(de=>k.fetchers.delete(de))}function mn(P,H,{flushSync:K}={}){let le=k.actionData!=null&&k.navigation.formMethod!=null&&Un(k.navigation.formMethod)&&k.navigation.state==="loading"&&P.state?._isRedirect!==!0,de;H.actionData?Object.keys(H.actionData).length>0?de=H.actionData:de=null:le?de=k.actionData:de=null;let ye=H.loaderData?hE(k.loaderData,H.loaderData,H.matches||[],H.errors):k.loaderData,Re=k.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Ae,Ee)=>Re.set(Ee,Zl)));let be=I?!1:Gi(P,H.matches||k.matches),we=R===!0||k.navigation.formMethod!=null&&Un(k.navigation.formMethod)&&P.state?._isRedirect!==!0;d&&(c=d,d=void 0),I||x==="POP"||(x==="PUSH"?r.history.push(P,P.state):x==="REPLACE"&&r.history.replace(P,P.state));let De;if(x==="POP"){let Ae=L.get(k.location.pathname);Ae&&Ae.has(P.pathname)?De={currentLocation:k.location,nextLocation:P}:L.has(P.pathname)&&(De={currentLocation:P,nextLocation:k.location})}else if(M){let Ae=L.get(k.location.pathname);Ae?Ae.add(P.pathname):(Ae=new Set([P.pathname]),L.set(k.location.pathname,Ae)),De={currentLocation:k.location,nextLocation:P}}Ct({...H,actionData:de,loaderData:ye,historyAction:x,location:P,initialized:!0,navigation:Np,revalidation:"idle",restoreScrollPosition:be,preventScrollReset:we,blockers:Re},{viewTransitionOpts:De,flushSync:K===!0}),x="POP",R=!1,M=!1,I=!1,xe=!1,Ne?.resolve(),Ne=null}async function Nr(P,H){if(typeof P=="number"){r.history.go(P);return}let K=Qp(k.location,k.matches,p,P,H?.fromRouteId,H?.relative),{path:le,submission:de,error:ye}=nE(!1,K,H),Re=k.location,be=gu(k.location,le,H&&H.state);be={...be,...r.history.encodeLocation(be)};let we=H&&H.replace!=null?H.replace:void 0,De="PUSH";we===!0?De="REPLACE":we===!1||de!=null&&Un(de.formMethod)&&de.formAction===k.location.pathname+k.location.search&&(De="REPLACE");let Ae=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Ee=(H&&H.flushSync)===!0,qe=qi({currentLocation:Re,nextLocation:be,historyAction:De});if(qe){er(qe,{state:"blocked",location:be,proceed(){er(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),Nr(P,H)},reset(){let nt=new Map(k.blockers);nt.set(qe,Zl),Ct({blockers:nt})}});return}await wn(De,be,{submission:de,pendingError:ye,preventScrollReset:Ae,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:Ee})}function li(){Ne||(Ne=o1()),Fi(),Ct({revalidation:"loading"});let P=Ne.promise;return k.navigation.state==="submitting"?P:k.navigation.state==="idle"?(wn(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),P):(wn(x||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:M===!0}),P)}async function wn(P,H,K){C&&C.abort(),C=null,x=P,I=(K&&K.startUninterruptedRevalidation)===!0,Er(k.location,k.matches),R=(K&&K.preventScrollReset)===!0,M=(K&&K.enableViewTransition)===!0;let le=d||c,de=K&&K.overrideNavigation,ye=K?.initialHydration&&k.matches&&k.matches.length>0&&!X?k.matches:Ts(le,H,p),Re=(K&&K.flushSync)===!0;if(ye&&k.initialized&&!xe&&JR(k.location,H)&&!(K&&K.submission&&Un(K.submission.formMethod))){mn(H,{matches:ye},{flushSync:Re});return}let be=Rn(ye,le,H.pathname);if(be.active&&be.matches&&(ye=be.matches),!ye){let{error:ut,notFoundMatches:ze,route:ct}=hi(H.pathname);mn(H,{matches:ze,loaderData:{},errors:{[ct.id]:ut}},{flushSync:Re});return}C=new AbortController;let we=Ao(r.history,H,C.signal,K&&K.submission),De=r.unstable_getContext?await r.unstable_getContext():new eE,Ae;if(K&&K.pendingError)Ae=[Ss(ye).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&Un(K.submission.formMethod)){let ut=await Gs(we,H,K.submission,ye,De,be.active,K&&K.initialHydration===!0,{replace:K.replace,flushSync:Re});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[ze,ct]=ut.pendingActionResult;if(Xn(ct)&&vu(ct.error)&&ct.error.status===404){C=null,mn(H,{matches:ut.matches,loaderData:{},errors:{[ze]:ct.error}});return}}ye=ut.matches||ye,Ae=ut.pendingActionResult,de=Op(H,K.submission),Re=!1,be.active=!1,we=Ao(r.history,we.url,we.signal)}let{shortCircuited:Ee,matches:qe,loaderData:nt,errors:pt}=await ka(we,H,ye,De,be.active,de,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Re,Ae);Ee||(C=null,mn(H,{matches:qe||ye,...fE(Ae),loaderData:nt,errors:pt}))}async function Gs(P,H,K,le,de,ye,Re,be={}){Fi();let we=r1(H,K);if(Ct({navigation:we},{flushSync:be.flushSync===!0}),ye){let Ee=await Vr(le,H.pathname,P.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){if(Ee.partialMatches.length===0){let{matches:nt,route:pt}=ah(c);return{matches:nt,pendingActionResult:[pt.id,{type:"error",error:Ee.error}]}}let qe=Ss(Ee.partialMatches).route.id;return{matches:Ee.partialMatches,pendingActionResult:[qe,{type:"error",error:Ee.error}]}}else if(Ee.matches)le=Ee.matches;else{let{notFoundMatches:qe,error:nt,route:pt}=hi(H.pathname);return{matches:qe,pendingActionResult:[pt.id,{type:"error",error:nt}]}}}let De,Ae=_h(le,H);if(!Ae.route.action&&!Ae.route.lazy)De={type:"error",error:pr(405,{method:P.method,pathname:H.pathname,routeId:Ae.route.id})};else{let Ee=No(a,l,P,le,Ae,Re?[]:s,de),qe=await Jn(P,Ee,de,null);if(De=qe[Ae.route.id],!De){for(let nt of le)if(qe[nt.route.id]){De=qe[nt.route.id];break}}if(P.signal.aborted)return{shortCircuited:!0}}if(Ta(De)){let Ee;return be&&be.replace!=null?Ee=be.replace:Ee=lE(De.response.headers.get("Location"),new URL(P.url),p)===k.location.pathname+k.location.search,await _r(P,De,!0,{submission:K,replace:Ee}),{shortCircuited:!0}}if(Xn(De)){let Ee=Ss(le,Ae.route.id);return(be&&be.replace)!==!0&&(x="PUSH"),{matches:le,pendingActionResult:[Ee.route.id,De,Ae.route.id]}}return{matches:le,pendingActionResult:[Ae.route.id,De]}}async function ka(P,H,K,le,de,ye,Re,be,we,De,Ae,Ee){let qe=ye||Op(H,Re),nt=Re||be||pE(qe),pt=!I&&!De;if(de){if(pt){let It=An(Ee);Ct({navigation:qe,...It!==void 0?{actionData:It}:{}},{flushSync:Ae})}let Me=await Vr(K,H.pathname,P.signal);if(Me.type==="aborted")return{shortCircuited:!0};if(Me.type==="error"){if(Me.partialMatches.length===0){let{matches:Tr,route:on}=ah(c);return{matches:Tr,loaderData:{},errors:{[on.id]:Me.error}}}let It=Ss(Me.partialMatches).route.id;return{matches:Me.partialMatches,loaderData:{},errors:{[It]:Me.error}}}else if(Me.matches)K=Me.matches;else{let{error:It,notFoundMatches:Tr,route:on}=hi(H.pathname);return{matches:Tr,loaderData:{},errors:{[on.id]:It}}}}let ut=d||c,{dsMatches:ze,revalidatingFetchers:ct}=rE(P,le,a,l,r.history,k,K,nt,H,De?[]:s,De===!0,xe,Ye,ce,te,O,ut,p,r.patchRoutesOnNavigation!=null,Ee);if(ge=++he,!r.dataStrategy&&!ze.some(Me=>Me.shouldLoad)&&!ze.some(Me=>Me.route.unstable_middleware)&&ct.length===0){let Me=Mr();return mn(H,{matches:K,loaderData:{},errors:Ee&&Xn(Ee[1])?{[Ee[0]]:Ee[1].error}:null,...fE(Ee),...Me?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Ae}),{shortCircuited:!0}}if(pt){let Me={};if(!de){Me.navigation=qe;let It=An(Ee);It!==void 0&&(Me.actionData=It)}ct.length>0&&(Me.fetchers=Zo(ct)),Ct(Me,{flushSync:Ae})}ct.forEach(Me=>{Zn(Me.key),Me.controller&&G.set(Me.key,Me.controller)});let Mn=()=>ct.forEach(Me=>Zn(Me.key));C&&C.signal.addEventListener("abort",Mn);let{loaderResults:an,fetcherResults:Wt}=await Hi(ze,ct,P,le);if(P.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Mn),ct.forEach(Me=>G.delete(Me.key));let Cn=oh(an);if(Cn)return await _r(P,Cn.result,!0,{replace:we}),{shortCircuited:!0};if(Cn=oh(Wt),Cn)return O.add(Cn.key),await _r(P,Cn.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:Ki,errors:zn}=cE(k,K,an,Ee,ct,Wt);De&&k.errors&&(zn={...k.errors,...zn});let nr=Mr(),Bn=Pr(ge),In=nr||Bn||ct.length>0;return{matches:K,loaderData:Ki,errors:zn,...In?{fetchers:new Map(k.fetchers)}:{}}}function An(P){if(P&&!Xn(P[1]))return{[P[0]]:P[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Zo(P){return P.forEach(H=>{let K=k.fetchers.get(H.key),le=eu(void 0,K?K.data:void 0);k.fetchers.set(H.key,le)}),new Map(k.fetchers)}async function $s(P,H,K,le){Zn(P);let de=(le&&le.flushSync)===!0,ye=d||c,Re=Qp(k.location,k.matches,p,K,H,le?.relative),be=Ts(ye,Re,p),we=Rn(be,ye,Re);if(we.active&&we.matches&&(be=we.matches),!be){$e(P,H,pr(404,{pathname:Re}),{flushSync:de});return}let{path:De,submission:Ae,error:Ee}=nE(!0,Re,le);if(Ee){$e(P,H,Ee,{flushSync:de});return}let qe=r.unstable_getContext?await r.unstable_getContext():new eE,nt=(le&&le.preventScrollReset)===!0;if(Ae&&Un(Ae.formMethod)){await Bi(P,H,De,be,qe,we.active,de,nt,Ae);return}te.set(P,{routeId:H,path:De}),await ui(P,H,De,be,qe,we.active,de,nt,Ae)}async function Bi(P,H,K,le,de,ye,Re,be,we){Fi(),te.delete(P);let De=k.fetchers.get(P);lt(P,i1(we,De),{flushSync:Re});let Ae=new AbortController,Ee=Ao(r.history,K,Ae.signal,we);if(ye){let bt=await Vr(le,new URL(Ee.url).pathname,Ee.signal,P);if(bt.type==="aborted")return;if(bt.type==="error"){$e(P,H,bt.error,{flushSync:Re});return}else if(bt.matches)le=bt.matches;else{$e(P,H,pr(404,{pathname:K}),{flushSync:Re});return}}let qe=_h(le,K);if(!qe.route.action&&!qe.route.lazy){let bt=pr(405,{method:we.formMethod,pathname:K,routeId:H});$e(P,H,bt,{flushSync:Re});return}G.set(P,Ae);let nt=he,pt=No(a,l,Ee,le,qe,s,de),ze=(await Jn(Ee,pt,de,P))[qe.route.id];if(Ee.signal.aborted){G.get(P)===Ae&&G.delete(P);return}if(ce.has(P)){if(Ta(ze)||Xn(ze)){lt(P,Es(void 0));return}}else{if(Ta(ze))if(G.delete(P),ge>nt){lt(P,Es(void 0));return}else return O.add(P),lt(P,eu(we)),_r(Ee,ze,!1,{fetcherSubmission:we,preventScrollReset:be});if(Xn(ze)){$e(P,H,ze.error);return}}let ct=k.navigation.location||k.location,Mn=Ao(r.history,ct,Ae.signal),an=d||c,Wt=k.navigation.state!=="idle"?Ts(an,k.navigation.location,p):k.matches;Je(Wt,"Didn't find any matches after fetcher action");let Cn=++he;ke.set(P,Cn);let Ki=eu(we,ze.data);k.fetchers.set(P,Ki);let{dsMatches:zn,revalidatingFetchers:nr}=rE(Mn,de,a,l,r.history,k,Wt,we,ct,s,!1,xe,Ye,ce,te,O,an,p,r.patchRoutesOnNavigation!=null,[qe.route.id,ze]);nr.filter(bt=>bt.key!==P).forEach(bt=>{let Sr=bt.key,Yi=k.fetchers.get(Sr),Qi=eu(void 0,Yi?Yi.data:void 0);k.fetchers.set(Sr,Qi),Zn(Sr),bt.controller&&G.set(Sr,bt.controller)}),Ct({fetchers:new Map(k.fetchers)});let Bn=()=>nr.forEach(bt=>Zn(bt.key));Ae.signal.addEventListener("abort",Bn);let{loaderResults:In,fetcherResults:Me}=await Hi(zn,nr,Mn,de);if(Ae.signal.aborted)return;if(Ae.signal.removeEventListener("abort",Bn),ke.delete(P),G.delete(P),nr.forEach(bt=>G.delete(bt.key)),k.fetchers.has(P)){let bt=Es(ze.data);k.fetchers.set(P,bt)}let It=oh(In);if(It)return _r(Mn,It.result,!1,{preventScrollReset:be});if(It=oh(Me),It)return O.add(It.key),_r(Mn,It.result,!1,{preventScrollReset:be});let{loaderData:Tr,errors:on}=cE(k,Wt,In,void 0,nr,Me);Pr(Cn),k.navigation.state==="loading"&&Cn>ge?(Je(x,"Expected pending action"),C&&C.abort(),mn(k.navigation.location,{matches:Wt,loaderData:Tr,errors:on,fetchers:new Map(k.fetchers)})):(Ct({errors:on,loaderData:hE(k.loaderData,Tr,Wt,on),fetchers:new Map(k.fetchers)}),xe=!1)}async function ui(P,H,K,le,de,ye,Re,be,we){let De=k.fetchers.get(P);lt(P,eu(we,De?De.data:void 0),{flushSync:Re});let Ae=new AbortController,Ee=Ao(r.history,K,Ae.signal);if(ye){let ct=await Vr(le,new URL(Ee.url).pathname,Ee.signal,P);if(ct.type==="aborted")return;if(ct.type==="error"){$e(P,H,ct.error,{flushSync:Re});return}else if(ct.matches)le=ct.matches;else{$e(P,H,pr(404,{pathname:K}),{flushSync:Re});return}}let qe=_h(le,K);G.set(P,Ae);let nt=he,pt=No(a,l,Ee,le,qe,s,de),ze=(await Jn(Ee,pt,de,P))[qe.route.id];if(G.get(P)===Ae&&G.delete(P),!Ee.signal.aborted){if(ce.has(P)){lt(P,Es(void 0));return}if(Ta(ze))if(ge>nt){lt(P,Es(void 0));return}else{O.add(P),await _r(Ee,ze,!1,{preventScrollReset:be});return}if(Xn(ze)){$e(P,H,ze.error);return}lt(P,Es(ze.data))}}async function _r(P,H,K,{submission:le,fetcherSubmission:de,preventScrollReset:ye,replace:Re}={}){H.response.headers.has("X-Remix-Revalidate")&&(xe=!0);let be=H.response.headers.get("Location");Je(be,"Expected a Location header on the redirect Response"),be=lE(be,new URL(P.url),p);let we=gu(k.location,be,{_isRedirect:!0});if(t){let pt=!1;if(H.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(Mm(be)){const ut=p0(be,!0);pt=ut.origin!==e.location.origin||vr(ut.pathname,p)==null}if(pt){Re?e.location.replace(be):e.location.assign(be);return}}C=null;let De=Re===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ae,formAction:Ee,formEncType:qe}=k.navigation;!le&&!de&&Ae&&Ee&&qe&&(le=pE(k.navigation));let nt=le||de;if(VR.has(H.response.status)&&nt&&Un(nt.formMethod))await wn(De,we,{submission:{...nt,formAction:be},preventScrollReset:ye||R,enableViewTransition:K?M:void 0});else{let pt=Op(we,le);await wn(De,we,{overrideNavigation:pt,fetcherSubmission:de,preventScrollReset:ye||R,enableViewTransition:K?M:void 0})}}async function Jn(P,H,K,le){let de,ye={};try{de=await $R(m,P,H,le,K,!1)}catch(Re){return H.filter(be=>be.shouldLoad).forEach(be=>{ye[be.route.id]={type:"error",error:Re}}),ye}if(P.signal.aborted)return ye;for(let[Re,be]of Object.entries(de))if(t1(be)){let we=be.result;ye[Re]={type:"redirect",response:XR(we,P,Re,H,p)}}else ye[Re]=await QR(be);return ye}async function Hi(P,H,K,le){let de=Jn(K,P,le,null),ye=Promise.all(H.map(async we=>{if(we.matches&&we.match&&we.request&&we.controller){let Ae=(await Jn(we.request,we.matches,le,we.key))[we.match.route.id];return{[we.key]:Ae}}else return Promise.resolve({[we.key]:{type:"error",error:pr(404,{pathname:we.path})}})})),Re=await de,be=(await ye).reduce((we,De)=>Object.assign(we,De),{});return{loaderResults:Re,fetcherResults:be}}function Fi(){xe=!0,te.forEach((P,H)=>{G.has(H)&&Ye.add(H),Zn(H)})}function lt(P,H,K={}){k.fetchers.set(P,H),Ct({fetchers:new Map(k.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function $e(P,H,K,le={}){let de=Ss(k.matches,H);Ut(P),Ct({errors:{[de.route.id]:K},fetchers:new Map(k.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function gn(P){return pe.set(P,(pe.get(P)||0)+1),ce.has(P)&&ce.delete(P),k.fetchers.get(P)||LR}function Ut(P){let H=k.fetchers.get(P);G.has(P)&&!(H&&H.state==="loading"&&ke.has(P))&&Zn(P),te.delete(P),ke.delete(P),O.delete(P),ce.delete(P),Ye.delete(P),k.fetchers.delete(P)}function Ua(P){let H=(pe.get(P)||0)-1;H<=0?(pe.delete(P),ce.add(P)):pe.set(P,H),Ct({fetchers:new Map(k.fetchers)})}function Zn(P){let H=G.get(P);H&&(H.abort(),G.delete(P))}function Or(P){for(let H of P){let K=gn(H),le=Es(K.data);k.fetchers.set(H,le)}}function Mr(){let P=[],H=!1;for(let K of O){let le=k.fetchers.get(K);Je(le,`Expected fetcher: ${K}`),le.state==="loading"&&(O.delete(K),P.push(K),H=!0)}return Or(P),H}function Pr(P){let H=[];for(let[K,le]of ke)if(le<P){let de=k.fetchers.get(K);Je(de,`Expected fetcher: ${K}`),de.state==="loading"&&(Zn(K),ke.delete(K),H.push(K))}return Or(H),H.length>0}function jn(P,H){let K=k.blockers.get(P)||Zl;return Te.get(P)!==H&&Te.set(P,H),K}function ci(P){k.blockers.delete(P),Te.delete(P)}function er(P,H){let K=k.blockers.get(P)||Zl;Je(K.state==="unblocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="proceeding"||K.state==="blocked"&&H.state==="unblocked"||K.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${H.state}`);let le=new Map(k.blockers);le.set(P,H),Ct({blockers:le})}function qi({currentLocation:P,nextLocation:H,historyAction:K}){if(Te.size===0)return;Te.size>1&&Gt(!1,"A router only supports one blocker at a time");let le=Array.from(Te.entries()),[de,ye]=le[le.length-1],Re=k.blockers.get(de);if(!(Re&&Re.state==="proceeding")&&ye({currentLocation:P,nextLocation:H,historyAction:K}))return de}function hi(P){let H=pr(404,{pathname:P}),K=d||c,{matches:le,route:de}=ah(K);return{notFoundMatches:le,route:de,error:H}}function Ks(P,H,K){if(A=P,Y=H,D=K||null,!U&&k.navigation===Np){U=!0;let le=Gi(k.location,k.matches);le!=null&&Ct({restoreScrollPosition:le})}return()=>{A=null,Y=null,D=null}}function tr(P,H){return D&&D(P,H.map(le=>fR(le,k.loaderData)))||P.key}function Er(P,H){if(A&&Y){let K=tr(P,H);A[K]=Y()}}function Gi(P,H){if(A){let K=tr(P,H),le=A[K];if(typeof le=="number")return le}return null}function Rn(P,H,K){if(r.patchRoutesOnNavigation)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:vh(H,K,p,!0)}}else return{active:!0,matches:vh(H,K,p,!0)||[]};return{active:!1,matches:null}}async function Vr(P,H,K,le){if(!r.patchRoutesOnNavigation)return{type:"success",matches:P};let de=P;for(;;){let ye=d==null,Re=d||c,be=l;try{await r.patchRoutesOnNavigation({signal:K,path:H,matches:de,fetcherKey:le,patch:(Ae,Ee)=>{K.aborted||iE(Ae,Ee,Re,be,a,!1)}})}catch(Ae){return{type:"error",error:Ae,partialMatches:de}}finally{ye&&!K.aborted&&(c=[...c])}if(K.aborted)return{type:"aborted"};let we=Ts(Re,H,p);if(we)return{type:"success",matches:we};let De=vh(Re,H,p,!0);if(!De||de.length===De.length&&de.every((Ae,Ee)=>Ae.route.id===De[Ee].route.id))return{type:"success",matches:null};de=De}}function Lr(P){l={},d=yu(P,a,void 0,l)}function $i(P,H,K=!1){let le=d==null;iE(P,H,d||c,l,a,K),le&&(c=[...c],Ct({}))}return se={get basename(){return p},get future(){return v},get state(){return k},get routes(){return c},get window(){return e},initialize:kt,subscribe:Wn,enableScrollRestoration:Ks,navigate:Nr,fetch:$s,revalidate:li,createHref:P=>r.history.createHref(P),encodeLocation:P=>r.history.encodeLocation(P),getFetcher:gn,deleteFetcher:Ua,dispose:yt,getBlocker:jn,deleteBlocker:ci,patchRoutes:$i,_internalFetchControllers:G,_internalSetRoutes:Lr,_internalSetStateDoNotUseOrYouWillBreakYourApp(P){Ct(P)}},se}function zR(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Qp(r,e,t,s,a,l){let c,d;if(a){c=[];for(let m of e)if(c.push(m),m.route.id===a){d=m;break}}else c=e,d=e[e.length-1];let p=Om(s||".",Nm(c),vr(r.pathname,t)||r.pathname,l==="path");if(s==null&&(p.search=r.search,p.hash=r.hash),(s==null||s===""||s===".")&&d){let m=Pm(p.search);if(d.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let v=new URLSearchParams(p.search),T=v.getAll("index");v.delete("index"),T.filter(A=>A).forEach(A=>v.append("index",A));let S=v.toString();p.search=S?`?${S}`:""}}return t!=="/"&&(p.pathname=AR({basename:t,pathname:p.pathname})),Ps(p)}function nE(r,e,t){if(!t||!zR(t))return{path:e};if(t.formMethod&&!n1(t.formMethod))return{path:e,error:pr(405,{method:t.formMethod})};let s=()=>({path:e,error:pr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=R0(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Un(l))return s();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((S,[A,D])=>`${S}${A}=${D}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!Un(l))return s();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return s()}}}Je(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=Jp(t.formData),p=t.formData;else if(t.body instanceof FormData)d=Jp(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=uE(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=uE(d)}catch{return s()}let m={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Un(m.formMethod))return{path:e,submission:m};let v=Bs(e);return r&&v.search&&Pm(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Ps(v),submission:m}}function rE(r,e,t,s,a,l,c,d,p,m,v,T,S,A,D,Y,U,Q,X,ne){let fe=ne?Xn(ne[1])?ne[1].error:ne[1].data:void 0,se=a.createURL(l.location),k=a.createURL(p),x;if(v&&l.errors){let I=Object.keys(l.errors)[0];x=c.findIndex(xe=>xe.route.id===I)}else if(ne&&Xn(ne[1])){let I=ne[0];x=c.findIndex(xe=>xe.route.id===I)-1}let R=ne?ne[1].statusCode:void 0,C=R&&R>=400,M={currentUrl:se,currentParams:l.matches[0]?.params||{},nextUrl:k,nextParams:c[0].params,...d,actionResult:fe,actionStatus:R},L=c.map((I,xe)=>{let{route:Ye}=I,G=null;if(x!=null&&xe>x?G=!1:Ye.lazy?G=!0:Ye.loader==null?G=!1:v?G=Xp(Ye,l.loaderData,l.errors):BR(l.loaderData,l.matches[xe],I)&&(G=!0),G!==null)return Wp(t,s,r,I,m,e,G);let he=C?!1:T||se.pathname+se.search===k.pathname+k.search||se.search!==k.search||HR(l.matches[xe],I),ge={...M,defaultShouldRevalidate:he},ke=Ph(I,ge);return Wp(t,s,r,I,m,e,ke,ge)}),j=[];return D.forEach((I,xe)=>{if(v||!c.some(pe=>pe.route.id===I.routeId)||A.has(xe))return;let Ye=l.fetchers.get(xe),G=Ye&&Ye.state!=="idle"&&Ye.data===void 0,he=Ts(U,I.path,Q);if(!he){if(X&&G)return;j.push({key:xe,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if(Y.has(xe))return;let ge=_h(he,I.path),ke=new AbortController,O=Ao(a,I.path,ke.signal),te=null;if(S.has(xe))S.delete(xe),te=No(t,s,O,he,ge,m,e);else if(G)T&&(te=No(t,s,O,he,ge,m,e));else{let pe={...M,defaultShouldRevalidate:C?!1:T};Ph(ge,pe)&&(te=No(t,s,O,he,ge,m,e,pe))}te&&j.push({key:xe,routeId:I.routeId,path:I.path,matches:te,match:ge,request:O,controller:ke})}),{dsMatches:L,revalidatingFetchers:j}}function Xp(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let s=e!=null&&r.id in e,a=t!=null&&t[r.id]!==void 0;return!s&&a?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!s&&!a}function BR(r,e,t){let s=!e||t.route.id!==e.route.id,a=!r.hasOwnProperty(t.route.id);return s||a}function HR(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function Ph(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function iE(r,e,t,s,a,l){let c;if(r){let m=s[r];Je(m,`No route found to patch children into: routeId = ${r}`),m.children||(m.children=[]),c=m.children}else c=t;let d=[],p=[];if(e.forEach(m=>{let v=c.find(T=>T0(m,T));v?p.push({existingRoute:v,newRoute:m}):d.push(m)}),d.length>0){let m=yu(d,a,[r||"_","patch",String(c?.length||"0")],s);c.push(...m)}if(l&&p.length>0)for(let m=0;m<p.length;m++){let{existingRoute:v,newRoute:T}=p[m],S=v,[A]=yu([T],a,[],{},!0);Object.assign(S,{element:A.element?A.element:S.element,errorElement:A.errorElement?A.errorElement:S.errorElement,hydrateFallbackElement:A.hydrateFallbackElement?A.hydrateFallbackElement:S.hydrateFallbackElement})}}function T0(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,s)=>e.children?.some(a=>T0(t,a))):!1}var sE=new WeakMap,S0=({key:r,route:e,manifest:t,mapRouteProperties:s})=>{let a=t[e.id];if(Je(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[r];if(!l)return;let c=sE.get(a);c||(c={},sE.set(a,c));let d=c[r];if(d)return d;let p=(async()=>{let m=lR(r),T=a[r]!==void 0&&r!=="hasErrorBoundary";if(m)Gt(!m,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),c[r]=Promise.resolve();else if(T)Gt(!1,`Route "${a.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let S=await l();S!=null&&(Object.assign(a,{[r]:S}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[r]=void 0,Object.values(a.lazy).every(S=>S===void 0)&&(a.lazy=void 0))})();return c[r]=p,p},aE=new WeakMap;function FR(r,e,t,s,a){let l=t[r.id];if(Je(l,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=aE.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let T=(async()=>{Je(typeof r.lazy=="function","No lazy route function found");let S=await r.lazy(),A={};for(let D in S){let Y=S[D];if(Y===void 0)continue;let U=cR(D),X=l[D]!==void 0&&D!=="hasErrorBoundary";U?Gt(!U,"Route property "+D+" is not a supported property to be returned from a lazy route function. This property will be ignored."):X?Gt(!X,`Route "${l.id}" has a static property "${D}" defined but its lazy function is also returning a value for this property. The lazy route property "${D}" will be ignored.`):A[D]=Y}Object.assign(l,A),Object.assign(l,{...s(l),lazy:void 0})})();return aE.set(l,T),T.catch(()=>{}),{lazyRoutePromise:T,lazyHandlerPromise:T}}let c=Object.keys(r.lazy),d=[],p;for(let v of c){if(a&&a.includes(v))continue;let T=S0({key:v,route:r,manifest:t,mapRouteProperties:s});T&&(d.push(T),v===e&&(p=T))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:p}}async function oE(r){let e=r.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,l)=>{t[e[l].route.id]=a}),t}async function qR(r){return r.matches.some(e=>e.route.unstable_middleware)?b0(r,()=>oE(r)):oE(r)}function b0(r,e){return GR(r,e,s=>s,ZR,t);function t(s,a,l){if(l)return Promise.resolve(Object.assign(l.value,{[a]:{type:"error",result:s}}));{let{matches:c}=r,d=Math.min(c.findIndex(m=>m.route.id===a)||0,c.findIndex(m=>m.unstable_shouldCallHandler())||0),p=Ss(c,c[d].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:s}})}}}async function GR(r,e,t,s,a){let{matches:l,request:c,params:d,context:p}=r,m=l.flatMap(T=>T.route.unstable_middleware?T.route.unstable_middleware.map(S=>[T.route.id,S]):[]);return await w0({request:c,params:d,context:p},m,e,t,s,a)}async function w0(r,e,t,s,a,l,c=0){let{request:d}=r;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let p=e[c];if(!p)return await t();let[m,v]=p,T,S=async()=>{if(T)throw new Error("You may only call `next()` once per middleware");try{return T={value:await w0(r,e,t,s,a,l,c+1)},T.value}catch(A){return T={value:await l(A,m,T)},T.value}};try{let A=await v(r,S),D=A!=null?s(A):void 0;return a(D)?D:T?D??T.value:(T={value:await S()},T.value)}catch(A){return await l(A,m,T)}}function A0(r,e,t,s,a){let l=S0({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:r}),c=FR(s.route,Un(t.method)?"action":"loader",e,r,a);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Wp(r,e,t,s,a,l,c,d=null){let p=!1,m=A0(r,e,t,s,a);return{...s,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(v){return p=!0,d?typeof v=="boolean"?Ph(s,{...d,defaultShouldRevalidate:v}):Ph(s,d):c},resolve(v){return p||c||v&&!Un(t.method)&&(s.route.lazy||s.route.loader)?KR({request:t,match:s,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function No(r,e,t,s,a,l,c,d=null){return s.map(p=>p.route.id!==a.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:A0(r,e,t,p,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Wp(r,e,t,p,l,c,!0,d))}async function $R(r,e,t,s,a,l){t.some(m=>m._lazyPromises?.middleware)&&await Promise.all(t.map(m=>m._lazyPromises?.middleware));let c={request:e,params:t[0].params,context:a,matches:t},p=await r({...c,fetcherKey:s,unstable_runClientMiddleware:m=>{let v=c;return b0(v,()=>m({...v,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return p}async function KR({request:r,match:e,lazyHandlerPromise:t,lazyRoutePromise:s,handlerOverride:a,scopedContext:l}){let c,d,p=Un(r.method),m=p?"action":"loader",v=T=>{let S,A=new Promise((U,Q)=>S=Q);d=()=>S(),r.signal.addEventListener("abort",d);let D=U=>typeof T!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):T({request:r,params:e.params,context:l},...U!==void 0?[U]:[]),Y=(async()=>{try{return{type:"data",result:await(a?a(Q=>D(Q)):D())}}catch(U){return{type:"error",result:U}}})();return Promise.race([Y,A])};try{let T=p?e.route.action:e.route.loader;if(t||s)if(T){let S,[A]=await Promise.all([v(T).catch(D=>{S=D}),t,s]);if(S!==void 0)throw S;c=A}else{await t;let S=p?e.route.action:e.route.loader;if(S)[c]=await Promise.all([v(S),s]);else if(m==="action"){let A=new URL(r.url),D=A.pathname+A.search;throw pr(405,{method:r.method,pathname:D,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(T)c=await v(T);else{let S=new URL(r.url),A=S.pathname+S.search;throw pr(404,{pathname:A})}}catch(T){return{type:"error",result:T}}finally{d&&r.signal.removeEventListener("abort",d)}return c}async function YR(r){let e=r.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?r.body==null?null:r.json():r.text()}async function QR(r){let{result:e,type:t}=r;if(C0(e)){let s;try{s=await YR(e)}catch(a){return{type:"error",error:a}}return t==="error"?{type:"error",error:new Mh(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}return t==="error"?dE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Mh(e.init?.status||500,void 0,e.data),statusCode:vu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:vu(e)?e.status:void 0}:dE(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function XR(r,e,t,s,a){let l=r.headers.get("Location");if(Je(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mm(l)){let c=s.slice(0,s.findIndex(d=>d.route.id===t)+1);l=Qp(new URL(e.url),c,a,l),r.headers.set("Location",l)}return r}function lE(r,e,t){if(Mm(r)){let s=r,a=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=vr(a.pathname,t)!=null;if(a.origin===e.origin&&l)return a.pathname+a.search+a.hash}return r}function Ao(r,e,t,s){let a=r.createURL(R0(e)).toString(),l={signal:t};if(s&&Un(s.formMethod)){let{formMethod:c,formEncType:d}=s;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(s.json)):d==="text/plain"?l.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?l.body=Jp(s.formData):l.body=s.formData}return new Request(a,l)}function Jp(r){let e=new URLSearchParams;for(let[t,s]of r.entries())e.append(t,typeof s=="string"?s:s.name);return e}function uE(r){let e=new FormData;for(let[t,s]of r.entries())e.append(t,s);return e}function WR(r,e,t,s=!1,a=!1){let l={},c=null,d,p=!1,m={},v=t&&Xn(t[1])?t[1].error:void 0;return r.forEach(T=>{if(!(T.route.id in e))return;let S=T.route.id,A=e[S];if(Je(!Ta(A),"Cannot handle redirect results in processLoaderData"),Xn(A)){let D=A.error;if(v!==void 0&&(D=v,v=void 0),c=c||{},a)c[S]=D;else{let Y=Ss(r,S);c[Y.route.id]==null&&(c[Y.route.id]=D)}s||(l[S]=E0),p||(p=!0,d=vu(A.error)?A.error.status:500),A.headers&&(m[S]=A.headers)}else l[S]=A.data,A.statusCode&&A.statusCode!==200&&!p&&(d=A.statusCode),A.headers&&(m[S]=A.headers)}),v!==void 0&&t&&(c={[t[0]]:v},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:m}}function cE(r,e,t,s,a,l){let{loaderData:c,errors:d}=WR(e,t,s);return a.filter(p=>!p.matches||p.matches.some(m=>m.shouldLoad)).forEach(p=>{let{key:m,match:v,controller:T}=p;if(T&&T.signal.aborted)return;let S=l[m];if(Je(S,"Did not find corresponding fetcher result"),Xn(S)){let A=Ss(r.matches,v?.route.id);d&&d[A.route.id]||(d={...d,[A.route.id]:S.error}),r.fetchers.delete(m)}else if(Ta(S))Je(!1,"Unhandled fetcher revalidation redirect");else{let A=Es(S.data);r.fetchers.set(m,A)}}),{loaderData:c,errors:d}}function hE(r,e,t,s){let a=Object.entries(e).filter(([,l])=>l!==E0).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&r.hasOwnProperty(c)&&l.route.loader&&(a[c]=r[c]),s&&s.hasOwnProperty(c))break}return a}function fE(r){return r?Xn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Ss(r,e){return(e?r.slice(0,r.findIndex(s=>s.route.id===e)+1):[...r]).reverse().find(s=>s.route.hasErrorBoundary===!0)||r[0]}function ah(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function pr(r,{pathname:e,routeId:t,method:s,type:a,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return r===400?(c="Bad Request",s&&e&&t?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):r===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):r===404?(c="Not Found",d=`No route matches URL "${e}"`):r===405&&(c="Method Not Allowed",s&&e&&t?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new Mh(r||500,c,new Error(d),!0)}function oh(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[s,a]=e[t];if(Ta(a))return{key:s,result:a}}}function R0(r){let e=typeof r=="string"?Bs(r):r;return Ps({...e,hash:""})}function JR(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function ZR(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([e,t])=>typeof e=="string"&&e1(t))}function e1(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function t1(r){return C0(r.result)&&PR.has(r.result.status)}function Xn(r){return r.type==="error"}function Ta(r){return(r&&r.type)==="redirect"}function dE(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function C0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function n1(r){return MR.has(r.toUpperCase())}function Un(r){return NR.has(r.toUpperCase())}function Pm(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function _h(r,e){let t=typeof e=="string"?Bs(e).search:e.search;if(r[r.length-1].route.index&&Pm(t||""))return r[r.length-1];let s=y0(r);return s[s.length-1]}function pE(r){let{formMethod:e,formAction:t,formEncType:s,text:a,formData:l,json:c}=r;if(!(!e||!t||!s)){if(a!=null)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:e,formAction:t,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:c,text:void 0}}}function Op(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function r1(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function eu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function i1(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Es(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function s1(r,e){try{let t=r.sessionStorage.getItem(_0);if(t){let s=JSON.parse(t);for(let[a,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(a,new Set(l||[]))}}catch{}}function a1(r,e){if(e.size>0){let t={};for(let[s,a]of e)t[s]=[...a];try{r.sessionStorage.setItem(_0,JSON.stringify(t))}catch(s){Gt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function o1(){let r,e,t=new Promise((s,a)=>{r=async l=>{s(l);try{await t}catch{}},e=async l=>{a(l);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var Na=B.createContext(null);Na.displayName="DataRouter";var Du=B.createContext(null);Du.displayName="DataRouterState";B.createContext(!1);var Vm=B.createContext({isTransitioning:!1});Vm.displayName="ViewTransition";var I0=B.createContext(new Map);I0.displayName="Fetchers";var l1=B.createContext(null);l1.displayName="Await";var si=B.createContext(null);si.displayName="Navigation";var af=B.createContext(null);af.displayName="Location";var ai=B.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var Lm=B.createContext(null);Lm.displayName="RouteError";function u1(r,{relative:e}={}){Je(Nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=B.useContext(si),{hash:a,pathname:l,search:c}=Ou(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Wr([t,l])),s.createHref({pathname:d,search:c,hash:a})}function Nu(){return B.useContext(af)!=null}function Hs(){return Je(Nu(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(af).location}var x0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D0(r){B.useContext(si).static||B.useLayoutEffect(r)}function km(){let{isDataRoute:r}=B.useContext(ai);return r?w1():c1()}function c1(){Je(Nu(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(Na),{basename:e,navigator:t}=B.useContext(si),{matches:s}=B.useContext(ai),{pathname:a}=Hs(),l=JSON.stringify(Nm(s)),c=B.useRef(!1);return D0(()=>{c.current=!0}),B.useCallback((p,m={})=>{if(Gt(c.current,x0),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Om(p,JSON.parse(l),a,m.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Wr([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,l,a,r])}var h1=B.createContext(null);function f1(r){let e=B.useContext(ai).outlet;return e&&B.createElement(h1.Provider,{value:r},e)}function Ou(r,{relative:e}={}){let{matches:t}=B.useContext(ai),{pathname:s}=Hs(),a=JSON.stringify(Nm(t));return B.useMemo(()=>Om(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function d1(r,e,t,s,a){Je(Nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=B.useContext(si),{matches:c}=B.useContext(ai),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let X=T&&T.path||"";N0(m,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=Hs(),A;A=S;let D=A.pathname||"/",Y=D;if(v!=="/"){let X=v.replace(/^\//,"").split("/");Y="/"+D.replace(/^\//,"").split("/").slice(X.length).join("/")}let U=Ts(r,{pathname:Y});return Gt(T||U!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Gt(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),v1(U&&U.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Wr([v,l.encodeLocation?l.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?v:Wr([v,l.encodeLocation?l.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),c,t,s,a)}function p1(){let r=b1(),e=vu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:a},t):null,c)}var m1=B.createElement(p1,null),g1=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?B.createElement(ai.Provider,{value:this.props.routeContext},B.createElement(Lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function y1({routeContext:r,match:e,children:t}){let s=B.useContext(Na);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(ai.Provider,{value:r},t)}function v1(r,e=[],t=null,s=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let m=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Je(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,p=-1;if(t)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:T,errors:S}=t,A=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||A){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,v,T)=>{let S,A=!1,D=null,Y=null;t&&(S=c&&v.route.id?c[v.route.id]:void 0,D=v.route.errorElement||m1,d&&(p<0&&T===0?(N0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,Y=null):p===T&&(A=!0,Y=v.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,T+1)),Q=()=>{let X;return S?X=D:A?X=Y:v.route.Component?X=B.createElement(v.route.Component,null):v.route.element?X=v.route.element:X=m,B.createElement(y1,{match:v,routeContext:{outlet:m,matches:U,isDataRoute:t!=null},children:X})};return t&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?B.createElement(g1,{location:t.location,revalidation:t.revalidation,component:D,error:S,children:Q(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:s}):Q()},null)}function Um(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _1(r){let e=B.useContext(Na);return Je(e,Um(r)),e}function E1(r){let e=B.useContext(Du);return Je(e,Um(r)),e}function T1(r){let e=B.useContext(ai);return Je(e,Um(r)),e}function jm(r){let e=T1(r),t=e.matches[e.matches.length-1];return Je(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function S1(){return jm("useRouteId")}function b1(){let r=B.useContext(Lm),e=E1("useRouteError"),t=jm("useRouteError");return r!==void 0?r:e.errors?.[t]}function w1(){let{router:r}=_1("useNavigate"),e=jm("useNavigate"),t=B.useRef(!1);return D0(()=>{t.current=!0}),B.useCallback(async(a,l={})=>{Gt(t.current,x0),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var mE={};function N0(r,e,t){!e&&!mE[r]&&(mE[r]=!0,Gt(!1,t))}var gE={};function yE(r,e){!r&&!gE[e]&&(gE[e]=!0,console.warn(e))}function A1(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Gt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:B.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Gt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:B.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Gt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:B.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var R1=["HydrateFallback","hydrateFallbackElement"],C1=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function I1({router:r,flushSync:e,unstable_onError:t}){let[s,a]=B.useState(r.state),[l,c]=B.useState(),[d,p]=B.useState({isTransitioning:!1}),[m,v]=B.useState(),[T,S]=B.useState(),[A,D]=B.useState(),Y=B.useRef(new Map),U=B.useCallback(se=>{a(k=>(se.errors&&t&&Object.entries(se.errors).forEach(([x,R])=>{k.errors?.[x]!==R&&t(R)}),se))},[t]),Q=B.useCallback((se,{deletedFetchers:k,flushSync:x,viewTransitionOpts:R})=>{se.fetchers.forEach((M,L)=>{M.data!==void 0&&Y.current.set(L,M.data)}),k.forEach(M=>Y.current.delete(M)),yE(x===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(yE(R==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!C){e&&x?e(()=>U(se)):B.startTransition(()=>U(se));return}if(e&&x){e(()=>{T&&(m&&m.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let M=r.window.document.startViewTransition(()=>{e(()=>U(se))});M.finished.finally(()=>{e(()=>{v(void 0),S(void 0),c(void 0),p({isTransitioning:!1})})}),e(()=>S(M));return}T?(m&&m.resolve(),T.skipTransition(),D({state:se,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(c(se),p({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[r.window,e,T,m,U]);B.useLayoutEffect(()=>r.subscribe(Q),[r,Q]),B.useEffect(()=>{d.isTransitioning&&!d.flushSync&&v(new C1)},[d]),B.useEffect(()=>{if(m&&l&&r.window){let se=l,k=m.promise,x=r.window.document.startViewTransition(async()=>{B.startTransition(()=>U(se)),await k});x.finished.finally(()=>{v(void 0),S(void 0),c(void 0),p({isTransitioning:!1})}),S(x)}},[l,m,r.window,U]),B.useEffect(()=>{m&&l&&s.location.key===l.location.key&&m.resolve()},[m,T,s.location,l]),B.useEffect(()=>{!d.isTransitioning&&A&&(c(A.state),p({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),D(void 0))},[d.isTransitioning,A]);let X=B.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:se=>r.navigate(se),push:(se,k,x)=>r.navigate(se,{state:k,preventScrollReset:x?.preventScrollReset}),replace:(se,k,x)=>r.navigate(se,{replace:!0,state:k,preventScrollReset:x?.preventScrollReset})}),[r]),ne=r.basename||"/",fe=B.useMemo(()=>({router:r,navigator:X,static:!1,basename:ne,unstable_onError:t}),[r,X,ne,t]);return B.createElement(B.Fragment,null,B.createElement(Na.Provider,{value:fe},B.createElement(Du.Provider,{value:s},B.createElement(I0.Provider,{value:Y.current},B.createElement(Vm.Provider,{value:d},B.createElement(O1,{basename:ne,location:s.location,navigationType:s.historyAction,navigator:X},B.createElement(x1,{routes:r.routes,future:r.future,state:s,unstable_onError:t})))))),null)}var x1=B.memo(D1);function D1({routes:r,future:e,state:t,unstable_onError:s}){return d1(r,void 0,t,s,e)}function N1(r){return f1(r.context)}function O1({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){Je(!Nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Bs(t));let{pathname:p="/",search:m="",hash:v="",state:T=null,key:S="default"}=t,A=B.useMemo(()=>{let D=vr(p,c);return D==null?null:{location:{pathname:D,search:m,hash:v,state:T,key:S},navigationType:s}},[c,p,m,v,T,S,s]);return Gt(A!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:B.createElement(si.Provider,{value:d},B.createElement(af.Provider,{children:e,value:A}))}var Eh="get",Th="application/x-www-form-urlencoded";function of(r){return r!=null&&typeof r.tagName=="string"}function M1(r){return of(r)&&r.tagName.toLowerCase()==="button"}function P1(r){return of(r)&&r.tagName.toLowerCase()==="form"}function V1(r){return of(r)&&r.tagName.toLowerCase()==="input"}function L1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function k1(r,e){return r.button===0&&(!e||e==="_self")&&!L1(r)}var lh=null;function U1(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var j1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mp(r){return r!=null&&!j1.has(r)?(Gt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):r}function z1(r,e){let t,s,a,l,c;if(P1(r)){let d=r.getAttribute("action");s=d?vr(d,e):null,t=r.getAttribute("method")||Eh,a=Mp(r.getAttribute("enctype"))||Th,l=new FormData(r)}else if(M1(r)||V1(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?vr(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Eh,a=Mp(r.getAttribute("formenctype"))||Mp(d.getAttribute("enctype"))||Th,l=new FormData(d,r),!U1()){let{name:m,type:v,value:T}=r;if(v==="image"){let S=m?`${m}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else m&&l.append(m,T)}}else{if(of(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Eh,s=null,a=Th,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function B1(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&vr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function H1(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function q1(r,e,t){let s=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await H1(l,t);return c.links?c.links():[]}return[]}));return Y1(s.flat(1).filter(F1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function vE(r,e,t,s,a,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,d=(p,m)=>t[m].pathname!==p.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,m)=>c(p,m)||d(p,m)):l==="data"?e.filter((p,m)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function G1(r,e,{includeHydrateFallback:t}={}){return $1(r.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function $1(r){return[...new Set(r)]}function K1(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function Y1(r,e){let t=new Set;return new Set(e),r.reduce((s,a)=>{let l=JSON.stringify(K1(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function O0(){let r=B.useContext(Na);return zm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Q1(){let r=B.useContext(Du);return zm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Bm=B.createContext(void 0);Bm.displayName="FrameworkContext";function M0(){let r=B.useContext(Bm);return zm(r,"You must render this element inside a <HydratedRouter> element"),r}function X1(r,e){let t=B.useContext(Bm),[s,a]=B.useState(!1),[l,c]=B.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:T}=e,S=B.useRef(null);B.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let Y=Q=>{Q.forEach(X=>{c(X.isIntersecting)})},U=new IntersectionObserver(Y,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[r]),B.useEffect(()=>{if(s){let Y=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let A=()=>{a(!0)},D=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,S,{}]:[l,S,{onFocus:tu(d,A),onBlur:tu(p,D),onMouseEnter:tu(m,A),onMouseLeave:tu(v,D),onTouchStart:tu(T,A)}]:[!1,S,{}]}function tu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function W1({page:r,...e}){let{router:t}=O0(),s=B.useMemo(()=>Ts(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?B.createElement(Z1,{page:r,matches:s,...e}):null}function J1(r){let{manifest:e,routeModules:t}=M0(),[s,a]=B.useState([]);return B.useEffect(()=>{let l=!1;return q1(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),s}function Z1({page:r,matches:e,...t}){let s=Hs(),{manifest:a,routeModules:l}=M0(),{basename:c}=O0(),{loaderData:d,matches:p}=Q1(),m=B.useMemo(()=>vE(r,e,p,a,s,"data"),[r,e,p,a,s]),v=B.useMemo(()=>vE(r,e,p,a,s,"assets"),[r,e,p,a,s]),T=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let D=new Set,Y=!1;if(e.forEach(Q=>{let X=a.routes[Q.route.id];!X||!X.hasLoader||(!m.some(ne=>ne.route.id===Q.route.id)&&Q.route.id in d&&l[Q.route.id]?.shouldRevalidate||X.hasClientLoader?Y=!0:D.add(Q.route.id))}),D.size===0)return[];let U=B1(r,c,"data");return Y&&D.size>0&&U.searchParams.set("_routes",e.filter(Q=>D.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[U.pathname+U.search]},[c,d,s,a,m,e,r,l]),S=B.useMemo(()=>G1(v,a),[v,a]),A=J1(v);return B.createElement(B.Fragment,null,T.map(D=>B.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),S.map(D=>B.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),A.map(({key:D,link:Y})=>B.createElement("link",{key:D,nonce:t.nonce,...Y})))}function eC(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var P0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{P0&&(window.__reactRouterVersion="7.8.2")}catch{}function tC(r,e){return jR({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:iR({window:e?.window}),hydrationData:nC(),routes:r,mapRouteProperties:A1,hydrationRouteProperties:R1,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function nC(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:rC(r.errors)}),r}function rC(r){if(!r)return null;let e=Object.entries(r),t={};for(let[s,a]of e)if(a&&a.__type==="RouteErrorResponse")t[s]=new Mh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let c=new l(a.message);c.stack="",t[s]=c}catch{}}if(t[s]==null){let l=new Error(a.message);l.stack="",t[s]=l}}else t[s]=a;return t}var V0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ba=B.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:v,viewTransition:T,...S},A){let{basename:D}=B.useContext(si),Y=typeof m=="string"&&V0.test(m),U,Q=!1;if(typeof m=="string"&&Y&&(U=m,P0))try{let C=new URL(window.location.href),M=m.startsWith("//")?new URL(C.protocol+m):new URL(m),L=vr(M.pathname,D);M.origin===C.origin&&L!=null?m=L+M.search+M.hash:Q=!0}catch{Gt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=u1(m,{relative:a}),[ne,fe,se]=X1(s,S),k=oC(m,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:T});function x(C){e&&e(C),C.defaultPrevented||k(C)}let R=B.createElement("a",{...S,...se,href:U||X,onClick:Q||l?e:x,ref:eC(A,fe),target:p,"data-discover":!Y&&t==="render"?"true":void 0});return ne&&!Y?B.createElement(B.Fragment,null,R,B.createElement(W1,{page:X})):R});ba.displayName="Link";var iC=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...m},v){let T=Ou(c,{relative:m.relative}),S=Hs(),A=B.useContext(Du),{navigator:D,basename:Y}=B.useContext(si),U=A!=null&&fC(T)&&d===!0,Q=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,X=S.pathname,ne=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(X=X.toLowerCase(),ne=ne?ne.toLowerCase():null,Q=Q.toLowerCase()),ne&&Y&&(ne=vr(ne,Y)||ne);const fe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let se=X===Q||!a&&X.startsWith(Q)&&X.charAt(fe)==="/",k=ne!=null&&(ne===Q||!a&&ne.startsWith(Q)&&ne.charAt(Q.length)==="/"),x={isActive:se,isPending:k,isTransitioning:U},R=se?e:void 0,C;typeof s=="function"?C=s(x):C=[s,se?"active":null,k?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(x):l;return B.createElement(ba,{...m,"aria-current":R,className:C,ref:v,style:M,to:c,viewTransition:d},typeof p=="function"?p(x):p)});iC.displayName="NavLink";var sC=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=Eh,action:d,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:T,...S},A)=>{let D=cC(),Y=hC(d,{relative:m}),U=c.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&V0.test(d),X=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let fe=ne.nativeEvent.submitter,se=fe?.getAttribute("formmethod")||c;D(fe||ne.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:a,state:l,relative:m,preventScrollReset:v,viewTransition:T})};return B.createElement("form",{ref:A,method:U,action:Y,onSubmit:s?p:X,...S,"data-discover":!Q&&r==="render"?"true":void 0})});sC.displayName="Form";function aC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L0(r){let e=B.useContext(Na);return Je(e,aC(r)),e}function oC(r,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=km(),p=Hs(),m=Ou(r,{relative:l});return B.useCallback(v=>{if(k1(v,e)){v.preventDefault();let T=t!==void 0?t:Ps(p)===Ps(m);d(r,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,m,t,s,e,r,a,l,c])}var lC=0,uC=()=>`__${String(++lC)}__`;function cC(){let{router:r}=L0("useSubmit"),{basename:e}=B.useContext(si),t=S1();return B.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:p,body:m}=z1(s,e);if(a.navigate===!1){let v=a.fetcherKey||uC();await r.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await r.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function hC(r,{relative:e}={}){let{basename:t}=B.useContext(si),s=B.useContext(ai);Je(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Ou(r||".",{relative:e})},c=Hs();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Wr([t,l.pathname])),Ps(l)}function fC(r,{relative:e}={}){let t=B.useContext(Vm);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=L0("useViewTransitionState"),a=Ou(r,{relative:e});if(!t.isTransitioning)return!1;let l=vr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=vr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Oh(a.pathname,c)!=null||Oh(a.pathname,l)!=null}var dC=f0();function pC(r){return B.createElement(I1,{flushSync:dC.flushSync,...r})}const mC=()=>{};var _E={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},gC=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],c=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,p=a+2<r.length,m=p?r[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|m>>6,A=m&63;p||(A=64,c||(S=64)),s.push(t[v],t[T],t[S],t[A])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(k0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):gC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const m=a<r.length?t[r.charAt(a)]:64;++a;const T=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||m==null||T==null)throw new yC;const S=l<<2|d>>4;if(s.push(S),m!==64){const A=d<<4&240|m>>2;if(s.push(A),T!==64){const D=m<<6&192|T;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vC=function(r){const e=k0(r);return U0.encodeByteArray(e,!0)},Vh=function(r){return vC(r).replace(/\./g,"")},j0=function(r){try{return U0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=()=>_C().__FIREBASE_DEFAULTS__,TC=()=>{if(typeof process>"u"||typeof _E>"u")return;const r=_E.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},SC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&j0(r[1]);return e&&JSON.parse(e)},lf=()=>{try{return mC()||EC()||TC()||SC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},z0=r=>lf()?.emulatorHosts?.[r],bC=r=>{const e=z0(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},B0=()=>lf()?.config,H0=r=>lf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Vh(JSON.stringify(t)),Vh(JSON.stringify(c)),""].join(".")}const uu={};function RC(){const r={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?r.emulator.push(e):r.prod.push(e);return r}function CC(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let EE=!1;function q0(r,e){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||uu[r]===e||uu[r]||EE)return;uu[r]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=RC().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,A){S.setAttribute("width","24"),S.setAttribute("id",A),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{EE=!0,c()},S}function v(S,A){S.setAttribute("id",A),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=CC(s),A=t("text"),D=document.getElementById(A)||document.createElement("span"),Y=t("learnmore"),U=document.getElementById(Y)||document.createElement("a"),Q=t("preprendIcon"),X=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ne=S.element;d(ne),v(U,Y);const fe=m();p(X,Q),ne.append(X,D,U,fe),document.body.appendChild(ne)}l?(D.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function xC(){const r=lf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function OC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MC(){const r=Sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function PC(){return!xC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VC(){try{return typeof indexedDB=="object"}catch{return!1}}function LC(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="FirebaseError";class zi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=kC,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?UC(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new zi(a,d,s)}}function UC(r,e){return r.replace(jC,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const jC=/\{\$([^}]+)}/g;function zC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Aa(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=r[a],c=e[a];if(TE(l)&&TE(c)){if(!Aa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function TE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function iu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function su(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function BC(r,e){const t=new HC(r,e);return t.subscribe.bind(t)}class HC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");FC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Pp),a.error===void 0&&(a.error=Pp),a.complete===void 0&&(a.complete=Pp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(r){return r&&r._delegate?r._delegate:r}class Ra{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new wC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($C(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GC(r){return r===Ea?void 0:r}function $C(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ze||(Ze={}));const YC={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},QC=Ze.INFO,XC={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},WC=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=XC[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Hm=class{constructor(e){this.name=e,this._logLevel=QC,this._logHandler=WC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}};const JC=(r,e)=>e.some(t=>r instanceof t);let SE,bE;function ZC(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eI(){return bE||(bE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G0=new WeakMap,Zp=new WeakMap,$0=new WeakMap,Vp=new WeakMap,Fm=new WeakMap;function tI(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Is(r.result)),a()},c=()=>{s(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&G0.set(t,r)}).catch(()=>{}),Fm.set(e,r),e}function nI(r){if(Zp.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});Zp.set(r,e)}let em={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Zp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$0.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function rI(r){em=r(em)}function iI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Lp(this),e,...t);return $0.set(s,e.sort?e.sort():[e]),Is(s)}:eI().includes(r)?function(...e){return r.apply(Lp(this),e),Is(G0.get(this))}:function(...e){return Is(r.apply(Lp(this),e))}}function sI(r){return typeof r=="function"?iI(r):(r instanceof IDBTransaction&&nI(r),JC(r,ZC())?new Proxy(r,em):r)}function Is(r){if(r instanceof IDBRequest)return tI(r);if(Vp.has(r))return Vp.get(r);const e=sI(r);return e!==r&&(Vp.set(r,e),Fm.set(e,r)),e}const Lp=r=>Fm.get(r);function aI(r,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=Is(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Is(c.result),p.oldVersion,p.newVersion,Is(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const oI=["get","getKey","getAll","getAllKeys","count"],lI=["put","add","delete","clear"],kp=new Map;function wE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(kp.get(e))return kp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=lI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||oI.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&p.done]))[0]};return kp.set(e,l),l}rI(r=>({...r,get:(e,t,s)=>wE(e,t)||r.get(e,t,s),has:(e,t)=>!!wE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function cI(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",AE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Hm("@firebase/app"),hI="@firebase/app-compat",fI="@firebase/analytics-compat",dI="@firebase/analytics",pI="@firebase/app-check-compat",mI="@firebase/app-check",gI="@firebase/auth",yI="@firebase/auth-compat",vI="@firebase/database",_I="@firebase/data-connect",EI="@firebase/database-compat",TI="@firebase/functions",SI="@firebase/functions-compat",bI="@firebase/installations",wI="@firebase/installations-compat",AI="@firebase/messaging",RI="@firebase/messaging-compat",CI="@firebase/performance",II="@firebase/performance-compat",xI="@firebase/remote-config",DI="@firebase/remote-config-compat",NI="@firebase/storage",OI="@firebase/storage-compat",MI="@firebase/firestore",PI="@firebase/ai",VI="@firebase/firestore-compat",LI="firebase",kI="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="[DEFAULT]",UI={[tm]:"fire-core",[hI]:"fire-core-compat",[dI]:"fire-analytics",[fI]:"fire-analytics-compat",[mI]:"fire-app-check",[pI]:"fire-app-check-compat",[gI]:"fire-auth",[yI]:"fire-auth-compat",[vI]:"fire-rtdb",[_I]:"fire-data-connect",[EI]:"fire-rtdb-compat",[TI]:"fire-fn",[SI]:"fire-fn-compat",[bI]:"fire-iid",[wI]:"fire-iid-compat",[AI]:"fire-fcm",[RI]:"fire-fcm-compat",[CI]:"fire-perf",[II]:"fire-perf-compat",[xI]:"fire-rc",[DI]:"fire-rc-compat",[NI]:"fire-gcs",[OI]:"fire-gcs-compat",[MI]:"fire-fst",[VI]:"fire-fst-compat",[PI]:"fire-vertex","fire-js":"fire-js",[LI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,jI=new Map,rm=new Map;function RE(r,e){try{r.container.addComponent(e)}catch(t){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Uo(r){const e=r.name;if(rm.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,r);for(const t of Lh.values())RE(t,r);for(const t of jI.values())RE(t,r);return!0}function qm(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function mr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new Mu("app","Firebase",zI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=kI;function K0(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:nm,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw xs.create("bad-app-name",{appName:String(a)});if(t||(t=B0()),!t)throw xs.create("no-options");const l=Lh.get(a);if(l){if(Aa(t,l.options)&&Aa(s,l.config))return l;throw xs.create("duplicate-app",{appName:a})}const c=new KC(a);for(const p of rm.values())c.addComponent(p);const d=new BI(t,s,c);return Lh.set(a,d),d}function Y0(r=nm){const e=Lh.get(r);if(!e&&r===nm&&B0())return K0();if(!e)throw xs.create("no-app",{appName:r});return e}function Ds(r,e,t){let s=UI[r]??r;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(c.join(" "));return}Uo(new Ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="firebase-heartbeat-database",FI=1,_u="firebase-heartbeat-store";let Up=null;function Q0(){return Up||(Up=aI(HI,FI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(_u)}catch(t){console.warn(t)}}}}).catch(r=>{throw xs.create("idb-open",{originalErrorMessage:r.message})})),Up}async function qI(r){try{const t=(await Q0()).transaction(_u),s=await t.objectStore(_u).get(X0(r));return await t.done,s}catch(e){if(e instanceof zi)Li.warn(e.message);else{const t=xs.create("idb-get",{originalErrorMessage:e?.message});Li.warn(t.message)}}}async function CE(r,e){try{const s=(await Q0()).transaction(_u,"readwrite");await s.objectStore(_u).put(e,X0(r)),await s.done}catch(t){if(t instanceof zi)Li.warn(t.message);else{const s=xs.create("idb-set",{originalErrorMessage:t?.message});Li.warn(s.message)}}}function X0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=1024,$I=30;class KI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>$I){const a=XI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=IE(),{heartbeatsToSend:t,unsentEntries:s}=YI(this._heartbeatsCache.heartbeats),a=Vh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Li.warn(e),""}}}function IE(){return new Date().toISOString().substring(0,10)}function YI(r,e=GI){const t=[];let s=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),xE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),xE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class QI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VC()?LC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return CE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return CE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xE(r){return Vh(JSON.stringify({version:2,heartbeats:r})).length}function XI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r){Uo(new Ra("platform-logger",e=>new uI(e),"PRIVATE")),Uo(new Ra("heartbeat",e=>new KI(e),"PRIVATE")),Ds(tm,AE,r),Ds(tm,AE,"esm2020"),Ds("fire-js","")}WI("");function W0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JI=W0,J0=new Mu("auth","Firebase",W0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Hm("@firebase/auth");function ZI(r,...e){kh.logLevel<=Ze.WARN&&kh.warn(`Auth (${$o}): ${r}`,...e)}function Sh(r,...e){kh.logLevel<=Ze.ERROR&&kh.error(`Auth (${$o}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(r,...e){throw Gm(r,...e)}function Jr(r,...e){return Gm(r,...e)}function Z0(r,e,t){const s={...JI(),[e]:t};return new Mu("auth","Firebase",s).create(e,{appName:r.name})}function Pi(r){return Z0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return J0.create(r,...e)}function Ve(r,e,...t){if(!r)throw Gm(e,...t)}function Oi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sh(e),new Error(e)}function ki(r,e){r||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(){return typeof self<"u"&&self.location?.href||""}function ex(){return DE()==="http:"||DE()==="https:"}function DE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ex()||NC()||"connection"in navigator)?navigator.onLine:!0}function nx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ki(t>e,"Short delay should be less than long delay!"),this.isMobile=IC()||OC()}get(){return tx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r,e){ki(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sx=new Vu(3e4,6e4);function Fs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function qs(r,e,t,s,a={}){return tS(r,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=Pu({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const m={method:e,headers:p,...l};return DC()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&Go(r.emulatorConfig.host)&&(m.credentials="include"),eS.fetch()(await nS(r,r.config.apiHost,t,d),m)})}async function tS(r,e,t){r._canInitEmulator=!1;const s={...rx,...e};try{const a=new ox(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw uh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw uh(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw uh(r,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Z0(r,v,m);xr(r,v)}}catch(a){if(a instanceof zi)throw a;xr(r,"network-request-failed",{message:String(a)})}}async function Lu(r,e,t,s,a={}){const l=await qs(r,e,t,s,a);return"mfaPendingCredential"in l&&xr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function nS(r,e,t,s){const a=`${e}${t}?${s}`,l=r,c=l.config.emulator?$m(r.config,a):`${r.config.apiScheme}://${a}`;return ix.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function ax(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ox{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Jr(this.auth,"network-request-failed")),sx.get())})}}function uh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Jr(r,e,s);return a.customData._tokenResponse=t,a}function NE(r){return r!==void 0&&r.enterprise!==void 0}class lx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ax(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ux(r,e){return qs(r,"GET","/v2/recaptchaConfig",Fs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(r,e){return qs(r,"POST","/v1/accounts:delete",e)}async function Uh(r,e){return qs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hx(r,e=!1){const t=On(r),s=await t.getIdToken(e),a=Km(s);Ve(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:cu(jp(a.auth_time)),issuedAtTime:cu(jp(a.iat)),expirationTime:cu(jp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function jp(r){return Number(r)*1e3}function Km(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const a=j0(t);return a?JSON.parse(a):(Sh("Failed to decode base64 JWT payload"),null)}catch(a){return Sh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function OE(r){const e=Km(r);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof zi&&fx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function fx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(r){const e=r.auth,t=await r.getIdToken(),s=await Eu(r,Uh(e,{idToken:t}));Ve(s?.users.length,e,"internal-error");const a=s.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?rS(a.providerUserInfo):[],c=mx(r.providerData,l),d=r.isAnonymous,p=!(r.email&&a.passwordHash)&&!c?.length,m=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new sm(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(r,v)}async function px(r){const e=On(r);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mx(r,e){return[...r.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function rS(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(r,e){const t=await tS(r,{},async()=>{const s=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await nS(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&Go(r.emulatorConfig.host)&&(p.credentials="include"),eS.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yx(r,e){return qs(r,"POST","/v2/accounts:revokeToken",Fs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=OE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await gx(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new Oo;return s&&(Ve(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Ve(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(r,e){Ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Cr{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new dx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new sm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hx(this,e)}reload(){return px(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await Eu(this,cx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:A,providerData:D,stsTokenManager:Y}=t;Ve(T&&Y,e,"internal-error");const U=Oo.fromJSON(this.name,Y);Ve(typeof T=="string",e,"internal-error"),_s(s,e.name),_s(a,e.name),Ve(typeof S=="boolean",e,"internal-error"),Ve(typeof A=="boolean",e,"internal-error"),_s(l,e.name),_s(c,e.name),_s(d,e.name),_s(p,e.name),_s(m,e.name),_s(v,e.name);const Q=new Cr({uid:T,auth:e,email:a,emailVerified:S,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:U,createdAt:m,lastLoginAt:v});return D&&Array.isArray(D)&&(Q.providerData=D.map(X=>({...X}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(e,t,s=!1){const a=new Oo;a.updateFromServerResponse(t);const l=new Cr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await jh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?rS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Oo;d.updateFromIdToken(s);const p=new Cr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new sm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;function Mi(r){ki(r instanceof Function,"Expected a class definition");let e=ME.get(r);return e?(ki(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ME.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iS.type="NONE";const PE=iS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(r,e,t){return`firebase:${r}:${e}:${t}`}class Mo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=bh(this.userKey,a.apiKey,l),this.fullPersistenceKey=bh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Uh(this.auth,{idToken:e}).catch(()=>{});return t?Cr._fromGetAccountInfoResponse(this.auth,t,e):null}return Cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Mo(Mi(PE),e,s);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Mi(PE);const c=bh(s,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(c);if(v){let T;if(typeof v=="string"){const S=await Uh(e,{idToken:v}).catch(()=>{});if(!S)break;T=await Cr._fromGetAccountInfoResponse(e,S,v)}else T=Cr._fromJSON(e,v);m!==l&&(d=T),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Mo(l,e,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Mo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cS(e))return"Blackberry";if(hS(e))return"Webos";if(aS(e))return"Safari";if((e.includes("chrome/")||oS(e))&&!e.includes("edge/"))return"Chrome";if(uS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function sS(r=Sn()){return/firefox\//i.test(r)}function aS(r=Sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oS(r=Sn()){return/crios\//i.test(r)}function lS(r=Sn()){return/iemobile/i.test(r)}function uS(r=Sn()){return/android/i.test(r)}function cS(r=Sn()){return/blackberry/i.test(r)}function hS(r=Sn()){return/webos/i.test(r)}function Ym(r=Sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function vx(r=Sn()){return Ym(r)&&!!window.navigator?.standalone}function _x(){return MC()&&document.documentMode===10}function fS(r=Sn()){return Ym(r)||uS(r)||hS(r)||cS(r)||/windows phone/i.test(r)||lS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(r,e=[]){let t;switch(r){case"Browser":t=VE(Sn());break;case"Worker":t=`${VE(Sn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$o}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(r,e={}){return qs(r,"GET","/v2/passwordPolicy",Fs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=6;class bx{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Sx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LE(this),this.idTokenSubscription=new LE(this),this.beforeStateQueue=new Ex(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Uh(this,{idToken:e}),s=await Cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(Pi(this));const t=e?On(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Tx(this),t=new bx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await yx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mi(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[Mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oa(r){return On(r)}class LE{constructor(e){this.auth=e,this.observer=null,this.addObserver=BC(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ax(r){uf=r}function pS(r){return uf.loadJS(r)}function Rx(){return uf.recaptchaEnterpriseScript}function Cx(){return uf.gapiScript}function Ix(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class xx{constructor(){this.enterprise=new Dx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Dx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Nx="recaptcha-enterprise",mS="NO_RECAPTCHA";class Ox{constructor(e){this.type=Nx,this.auth=Oa(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{ux(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new lx(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;NE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(mS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xx().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!t&&NE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Rx();p.length!==0&&(p+=d),pS(p).then(()=>{a(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function kE(r,e,t,s=!1,a=!1){const l=new Ox(r);let c;if(a)c=mS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function am(r,e,t,s,a){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await kE(r,e,t,t==="getOobCode");return s(r,l)}else return s(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await kE(r,e,t,t==="getOobCode");return s(r,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(r,e){const t=qm(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Aa(l,e??{}))return a;xr(a,"already-initialized")}return t.initialize({options:e})}function Px(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Mi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Vx(r,e,t){const s=Oa(r);Ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=gS(e),{host:c,port:d}=Lx(e),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ve(Aa(m,s.config.emulator)&&Aa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Go(c)?(F0(`${l}//${c}${p}`),q0("Auth",!0)):kx()}function gS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Lx(r){const e=gS(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:UE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:UE(c)}}}function UE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function kx(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,t){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function Ux(r,e){return qs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(r,e){return Lu(r,"POST","/v1/accounts:signInWithPassword",Fs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(r,e){return Lu(r,"POST","/v1/accounts:signInWithEmailLink",Fs(r,e))}async function Bx(r,e){return Lu(r,"POST","/v1/accounts:signInWithEmailLink",Fs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Qm{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Tu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Tu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return am(e,t,"signInWithPassword",jx);case"emailLink":return zx(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return am(e,s,"signUpPassword",Ux);case"emailLink":return Bx(e,{idToken:t,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(r,e){return Lu(r,"POST","/v1/accounts:signInWithIdp",Fs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="http://localhost";class Ca extends Qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=t;if(!s||!a)return null;const c=new Ca(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Po(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Po(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Po(e,t)}buildRequest(){const e={requestUri:Hx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qx(r){const e=iu(su(r)).link,t=e?iu(su(e)).deep_link_id:null,s=iu(su(r)).deep_link_id;return(s?iu(su(s)).link:null)||s||t||e||r}class Xm{constructor(e){const t=iu(su(e)),s=t.apiKey??null,a=t.oobCode??null,l=Fx(t.mode??null);Ve(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=qx(e);try{return new Xm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,t){return Tu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Xm.parseLink(t);return Ve(s,"argument-error"),Tu._fromEmailAndCode(e,s.code,s.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends yS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends ku{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ca._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ws.credential(t,s)}catch{return null}}}ws.GOOGLE_SIGN_IN_METHOD="google.com";ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends ku{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends ku{constructor(){super("twitter.com")}static credential(e,t){return Ca._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Rs.credential(t,s)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(r,e){return Lu(r,"POST","/v1/accounts:signUp",Fs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await Cr._fromIdTokenResponse(e,s,a),c=jE(s);return new Ia({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=jE(s);return new Ia({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function jE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends zi{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new zh(e,t,s,a)}}function vS(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(r,l,e,s):l})}async function $x(r,e,t=!1){const s=await Eu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ia._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(r,e,t=!1){const{auth:s}=r;if(mr(s.app))return Promise.reject(Pi(s));const a="reauthenticate";try{const l=await Eu(r,vS(s,a,e,r),t);Ve(l.idToken,s,"internal-error");const c=Km(l.idToken);Ve(c,s,"internal-error");const{sub:d}=c;return Ve(r.uid===d,s,"user-mismatch"),Ia._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&xr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(r,e,t=!1){if(mr(r.app))return Promise.reject(Pi(r));const s="signIn",a=await vS(r,s,e),l=await Ia._fromIdTokenResponse(r,s,a);return t||await r._updateCurrentUser(l.user),l}async function Yx(r,e){return _S(Oa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(r){const e=Oa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Qx(r,e,t){if(mr(r.app))return Promise.reject(Pi(r));const s=Oa(r),c=await am(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ES(r),p}),d=await Ia._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function Xx(r,e,t){return mr(r.app)?Promise.reject(Pi(r)):Yx(On(r),Ko.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ES(r),s})}function Wx(r,e,t,s){return On(r).onIdTokenChanged(e,t,s)}function Jx(r,e,t){return On(r).beforeAuthStateChanged(e,t)}function Zx(r,e,t,s){return On(r).onAuthStateChanged(e,t,s)}function eD(r){return On(r).signOut()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=1e3,nD=10;class SS extends TS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);_x()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,nD):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},tD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}SS.type="LOCAL";const rD=SS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends TS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bS.type="SESSION";const wS=bS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new cf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async m=>m(t.origin,l)),p=await iD(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=Wm("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const S=T;if(S.data.eventId===m)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function aD(r){Zr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function oD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lD(){return navigator?.serviceWorker?.controller||null}function uD(){return AS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebaseLocalStorageDb",cD=1,Hh="firebaseLocalStorage",CS="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hf(r,e){return r.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function hD(){const r=indexedDB.deleteDatabase(RS);return new Uu(r).toPromise()}function om(){const r=indexedDB.open(RS,cD);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hh,{keyPath:CS})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hh)?e(s):(s.close(),await hD(),e(await om()))})})}async function zE(r,e,t){const s=hf(r,!0).put({[CS]:e,value:t});return new Uu(s).toPromise()}async function fD(r,e){const t=hf(r,!1).get(e),s=await new Uu(t).toPromise();return s===void 0?null:s.value}function BE(r,e){const t=hf(r,!0).delete(e);return new Uu(t).toPromise()}const dD=800,pD=3;class IS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>pD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(uD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oD(),!this.activeServiceWorker)return;this.sender=new sD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await zE(e,Bh,"1"),await BE(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>zE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>fD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>BE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=hf(a,!1).getAll();return new Uu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IS.type="LOCAL";const mD=IS;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(r,e){return e?Mi(e):(Ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends Qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yD(r){return _S(r.auth,new Jm(r),r.bypassAuthState)}function vD(r){const{auth:e,user:t}=r;return Ve(t,e,"internal-error"),Kx(t,new Jm(r),r.bypassAuthState)}async function _D(r){const{auth:e,user:t}=r;return Ve(t,e,"internal-error"),$x(t,new Jm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yD;case"linkViaPopup":case"linkViaRedirect":return _D;case"reauthViaPopup":case"reauthViaRedirect":return vD;default:xr(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=new Vu(2e3,1e4);class Do extends xS{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ED.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="pendingRedirect",wh=new Map;class SD extends xS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const s=await bD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bD(r,e){const t=RD(e),s=AD(r);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function wD(r,e){wh.set(r._key(),e)}function AD(r){return Mi(r._redirectPersistence)}function RD(r){return bh(TD,r.config.apiKey,r.name)}async function CD(r,e,t=!1){if(mr(r.app))return Promise.reject(Pi(r));const s=Oa(r),a=gD(s,e),c=await new SD(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=600*1e3;class xD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!DS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Jr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ID&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(e))}saveEventToCache(e){this.cachedEventUids.add(HE(e)),this.lastProcessedEventTime=Date.now()}}function HE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function DS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function DD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(r,e={}){return qs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MD=/^https?/;async function PD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ND(r);for(const t of e)try{if(VD(t))return}catch{}xr(r,"unauthorized-domain")}function VD(r){const e=im(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!MD.test(t))return!1;if(OD.test(r))return s===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Vu(3e4,6e4);function FE(){const r=Zr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function kD(r){return new Promise((e,t)=>{function s(){FE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FE(),t(Jr(r,"network-request-failed"))},timeout:LD.get()})}if(Zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zr().gapi?.load)s();else{const a=Ix("iframefcb");return Zr()[a]=()=>{gapi.load?s():t(Jr(r,"network-request-failed"))},pS(`${Cx()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function UD(r){return Ah=Ah||kD(r),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new Vu(5e3,15e3),zD="__/auth/iframe",BD="emulator/auth/iframe",HD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qD(r){const e=r.config;Ve(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?$m(e,BD):`https://${r.config.authDomain}/${zD}`,s={apiKey:e.apiKey,appName:r.name,v:$o},a=FD.get(r.config.apiHost);a&&(s.eid=a);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Pu(s).slice(1)}`}async function GD(r){const e=await UD(r),t=Zr().gapi;return Ve(t,r,"internal-error"),e.open({where:document.body,url:qD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HD,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Jr(r,"network-request-failed"),d=Zr().setTimeout(()=>{l(c)},jD.get());function p(){Zr().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KD=500,YD=600,QD="_blank",XD="http://localhost";class qE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WD(r,e,t,s=KD,a=YD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...$D,width:s.toString(),height:a.toString(),top:l,left:c},m=Sn().toLowerCase();t&&(d=oS(m)?QD:t),sS(m)&&(e=e||XD,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[A,D])=>`${S}${A}=${D},`,"");if(vx(m)&&d!=="_self")return JD(e||"",d),new qE(null);const T=window.open(e||"",d,v);Ve(T,r,"popup-blocked");try{T.focus()}catch{}return new qE(T)}function JD(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="__/auth/handler",eN="emulator/auth/handler",tN=encodeURIComponent("fac");async function GE(r,e,t,s,a,l){Ve(r.config.authDomain,r,"auth-domain-config-required"),Ve(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:$o,eventId:a};if(e instanceof yS){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",zC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof ku){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await r._getAppCheckToken(),m=p?`#${tN}=${encodeURIComponent(p)}`:"";return`${nN(r)}?${Pu(d).slice(1)}${m}`}function nN({config:r}){return r.emulator?$m(r,eN):`https://${r.authDomain}/${ZD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="webStorageSupport";class rN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wS,this._completeRedirectFn=CD,this._overrideRedirectResult=wD}async _openPopup(e,t,s,a){ki(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await GE(e,t,s,im(),a);return WD(e,l,Wm())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await GE(e,t,s,im(),a);return aD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(ki(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await GD(e),s=new xD(e);return t.register("authEvent",a=>(Ve(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zp,{type:zp},a=>{const l=a?.[0]?.[zp];l!==void 0&&t(!!l),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fS()||aS()||Ym()}}const iN=rN;var $E="@firebase/auth",KE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oN(r){Uo(new Ra("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dS(r)},m=new wx(s,a,l,p);return Px(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Uo(new Ra("auth-internal",e=>{const t=Oa(e.getProvider("auth").getImmediate());return(s=>new sN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds($E,KE,aN(r)),Ds($E,KE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=300,uN=H0("authIdTokenMaxAge")||lN;let YE=null;const cN=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>uN)return;const a=t?.token;YE!==a&&(YE=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function NS(r=Y0()){const e=qm(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Mx(r,{popupRedirectResolver:iN,persistence:[mD,rD,wS]}),s=H0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=cN(l.toString());Jx(t,c,()=>c(t.currentUser)),Wx(t,d=>c(d))}}const a=z0("auth");return a&&Vx(t,`http://${a}`),t}function hN(){return document.getElementsByTagName("head")?.[0]??document}Ax({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=a=>{const l=Jr("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",hN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oN("Browser");var fN="firebase",dN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(fN,dN,"app");var QE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,OS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function C(){}C.prototype=R.prototype,x.D=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(M,L,j){for(var I=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)I[xe-2]=arguments[xe];return R.prototype[L].apply(M,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,R,C){C||(C=0);var M=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)M[L]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(L=0;16>L;++L)M[L]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],L=x.g[2];var j=x.g[3],I=R+(j^C&(L^j))+M[0]+3614090360&4294967295;R=C+(I<<7&4294967295|I>>>25),I=j+(L^R&(C^L))+M[1]+3905402710&4294967295,j=R+(I<<12&4294967295|I>>>20),I=L+(C^j&(R^C))+M[2]+606105819&4294967295,L=j+(I<<17&4294967295|I>>>15),I=C+(R^L&(j^R))+M[3]+3250441966&4294967295,C=L+(I<<22&4294967295|I>>>10),I=R+(j^C&(L^j))+M[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(L^R&(C^L))+M[5]+1200080426&4294967295,j=R+(I<<12&4294967295|I>>>20),I=L+(C^j&(R^C))+M[6]+2821735955&4294967295,L=j+(I<<17&4294967295|I>>>15),I=C+(R^L&(j^R))+M[7]+4249261313&4294967295,C=L+(I<<22&4294967295|I>>>10),I=R+(j^C&(L^j))+M[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(L^R&(C^L))+M[9]+2336552879&4294967295,j=R+(I<<12&4294967295|I>>>20),I=L+(C^j&(R^C))+M[10]+4294925233&4294967295,L=j+(I<<17&4294967295|I>>>15),I=C+(R^L&(j^R))+M[11]+2304563134&4294967295,C=L+(I<<22&4294967295|I>>>10),I=R+(j^C&(L^j))+M[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=j+(L^R&(C^L))+M[13]+4254626195&4294967295,j=R+(I<<12&4294967295|I>>>20),I=L+(C^j&(R^C))+M[14]+2792965006&4294967295,L=j+(I<<17&4294967295|I>>>15),I=C+(R^L&(j^R))+M[15]+1236535329&4294967295,C=L+(I<<22&4294967295|I>>>10),I=R+(L^j&(C^L))+M[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^L&(R^C))+M[6]+3225465664&4294967295,j=R+(I<<9&4294967295|I>>>23),I=L+(R^C&(j^R))+M[11]+643717713&4294967295,L=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(L^j))+M[0]+3921069994&4294967295,C=L+(I<<20&4294967295|I>>>12),I=R+(L^j&(C^L))+M[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^L&(R^C))+M[10]+38016083&4294967295,j=R+(I<<9&4294967295|I>>>23),I=L+(R^C&(j^R))+M[15]+3634488961&4294967295,L=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(L^j))+M[4]+3889429448&4294967295,C=L+(I<<20&4294967295|I>>>12),I=R+(L^j&(C^L))+M[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^L&(R^C))+M[14]+3275163606&4294967295,j=R+(I<<9&4294967295|I>>>23),I=L+(R^C&(j^R))+M[3]+4107603335&4294967295,L=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(L^j))+M[8]+1163531501&4294967295,C=L+(I<<20&4294967295|I>>>12),I=R+(L^j&(C^L))+M[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=j+(C^L&(R^C))+M[2]+4243563512&4294967295,j=R+(I<<9&4294967295|I>>>23),I=L+(R^C&(j^R))+M[7]+1735328473&4294967295,L=j+(I<<14&4294967295|I>>>18),I=C+(j^R&(L^j))+M[12]+2368359562&4294967295,C=L+(I<<20&4294967295|I>>>12),I=R+(C^L^j)+M[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^L)+M[8]+2272392833&4294967295,j=R+(I<<11&4294967295|I>>>21),I=L+(j^R^C)+M[11]+1839030562&4294967295,L=j+(I<<16&4294967295|I>>>16),I=C+(L^j^R)+M[14]+4259657740&4294967295,C=L+(I<<23&4294967295|I>>>9),I=R+(C^L^j)+M[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^L)+M[4]+1272893353&4294967295,j=R+(I<<11&4294967295|I>>>21),I=L+(j^R^C)+M[7]+4139469664&4294967295,L=j+(I<<16&4294967295|I>>>16),I=C+(L^j^R)+M[10]+3200236656&4294967295,C=L+(I<<23&4294967295|I>>>9),I=R+(C^L^j)+M[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^L)+M[0]+3936430074&4294967295,j=R+(I<<11&4294967295|I>>>21),I=L+(j^R^C)+M[3]+3572445317&4294967295,L=j+(I<<16&4294967295|I>>>16),I=C+(L^j^R)+M[6]+76029189&4294967295,C=L+(I<<23&4294967295|I>>>9),I=R+(C^L^j)+M[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=j+(R^C^L)+M[12]+3873151461&4294967295,j=R+(I<<11&4294967295|I>>>21),I=L+(j^R^C)+M[15]+530742520&4294967295,L=j+(I<<16&4294967295|I>>>16),I=C+(L^j^R)+M[2]+3299628645&4294967295,C=L+(I<<23&4294967295|I>>>9),I=R+(L^(C|~j))+M[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~L))+M[7]+1126891415&4294967295,j=R+(I<<10&4294967295|I>>>22),I=L+(R^(j|~C))+M[14]+2878612391&4294967295,L=j+(I<<15&4294967295|I>>>17),I=C+(j^(L|~R))+M[5]+4237533241&4294967295,C=L+(I<<21&4294967295|I>>>11),I=R+(L^(C|~j))+M[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~L))+M[3]+2399980690&4294967295,j=R+(I<<10&4294967295|I>>>22),I=L+(R^(j|~C))+M[10]+4293915773&4294967295,L=j+(I<<15&4294967295|I>>>17),I=C+(j^(L|~R))+M[1]+2240044497&4294967295,C=L+(I<<21&4294967295|I>>>11),I=R+(L^(C|~j))+M[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~L))+M[15]+4264355552&4294967295,j=R+(I<<10&4294967295|I>>>22),I=L+(R^(j|~C))+M[6]+2734768916&4294967295,L=j+(I<<15&4294967295|I>>>17),I=C+(j^(L|~R))+M[13]+1309151649&4294967295,C=L+(I<<21&4294967295|I>>>11),I=R+(L^(C|~j))+M[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=j+(C^(R|~L))+M[11]+3174756917&4294967295,j=R+(I<<10&4294967295|I>>>22),I=L+(R^(j|~C))+M[2]+718787259&4294967295,L=j+(I<<15&4294967295|I>>>17),I=C+(j^(L|~R))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+j&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var C=R-this.blockSize,M=this.B,L=this.h,j=0;j<R;){if(L==0)for(;j<=C;)a(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<R;)if(M[L++]=x.charCodeAt(j++),L==this.blockSize){a(this,M),L=0;break}}else for(;j<R;)if(M[L++]=x[j++],L==this.blockSize){a(this,M),L=0;break}}this.h=L,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var C=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=C&255,C/=256;for(this.u(x),x=Array(16),R=C=0;4>R;++R)for(var M=0;32>M;M+=8)x[C++]=this.g[R]>>>M&255;return x};function l(x,R){var C=d;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function c(x,R){this.h=R;for(var C=[],M=!0,L=x.length-1;0<=L;L--){var j=x[L]|0;M&&j==R||(C[L]=j,M=!1)}this.g=C}var d={};function p(x){return-128<=x&&128>x?l(x,function(R){return new c([R|0],0>R?-1:0)}):new c([x|0],0>x?-1:0)}function m(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return U(m(-x));for(var R=[],C=1,M=0;x>=C;M++)R[M]=x/C|0,C*=4294967296;return new c(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return U(v(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(R,8)),M=T,L=0;L<x.length;L+=8){var j=Math.min(8,x.length-L),I=parseInt(x.substring(L,L+j),R);8>j?(j=m(Math.pow(R,j)),M=M.j(j).add(m(I))):(M=M.j(C),M=M.add(m(I)))}return M}var T=p(0),S=p(1),A=p(16777216);r=c.prototype,r.m=function(){if(Y(this))return-U(this).m();for(var x=0,R=1,C=0;C<this.g.length;C++){var M=this.i(C);x+=(0<=M?M:4294967296+M)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D(this))return"0";if(Y(this))return"-"+U(this).toString(x);for(var R=m(Math.pow(x,6)),C=this,M="";;){var L=fe(C,R).g;C=Q(C,L.j(R));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=L,D(C))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function D(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function Y(x){return x.h==-1}r.l=function(x){return x=Q(this,x),Y(x)?-1:D(x)?0:1};function U(x){for(var R=x.g.length,C=[],M=0;M<R;M++)C[M]=~x.g[M];return new c(C,~x.h).add(S)}r.abs=function(){return Y(this)?U(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],M=0,L=0;L<=R;L++){var j=M+(this.i(L)&65535)+(x.i(L)&65535),I=(j>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);M=I>>>16,j&=65535,I&=65535,C[L]=I<<16|j}return new c(C,C[C.length-1]&-2147483648?-1:0)};function Q(x,R){return x.add(U(R))}r.j=function(x){if(D(this)||D(x))return T;if(Y(this))return Y(x)?U(this).j(U(x)):U(U(this).j(x));if(Y(x))return U(this.j(U(x)));if(0>this.l(A)&&0>x.l(A))return m(this.m()*x.m());for(var R=this.g.length+x.g.length,C=[],M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<x.g.length;L++){var j=this.i(M)>>>16,I=this.i(M)&65535,xe=x.i(L)>>>16,Ye=x.i(L)&65535;C[2*M+2*L]+=I*Ye,X(C,2*M+2*L),C[2*M+2*L+1]+=j*Ye,X(C,2*M+2*L+1),C[2*M+2*L+1]+=I*xe,X(C,2*M+2*L+1),C[2*M+2*L+2]+=j*xe,X(C,2*M+2*L+2)}for(M=0;M<R;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=R;M<2*R;M++)C[M]=0;return new c(C,0)};function X(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ne(x,R){this.g=x,this.h=R}function fe(x,R){if(D(R))throw Error("division by zero");if(D(x))return new ne(T,T);if(Y(x))return R=fe(U(x),R),new ne(U(R.g),U(R.h));if(Y(R))return R=fe(x,U(R)),new ne(U(R.g),R.h);if(30<x.g.length){if(Y(x)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var C=S,M=R;0>=M.l(x);)C=se(C),M=se(M);var L=k(C,1),j=k(M,1);for(M=k(M,2),C=k(C,2);!D(M);){var I=j.add(M);0>=I.l(x)&&(L=L.add(C),j=I),M=k(M,1),C=k(C,1)}return R=Q(x,L.j(R)),new ne(L,R)}for(L=T;0<=x.l(R);){for(C=Math.max(1,Math.floor(x.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=m(C),I=j.j(R);Y(I)||0<I.l(x);)C-=M,j=m(C),I=j.j(R);D(j)&&(j=S),L=L.add(j),x=Q(x,I)}return new ne(L,x)}r.A=function(x){return fe(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)&x.i(M);return new c(C,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)|x.i(M);return new c(C,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)^x.i(M);return new c(C,this.h^x.h)};function se(x){for(var R=x.g.length+1,C=[],M=0;M<R;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new c(C,x.h)}function k(x,R){var C=R>>5;R%=32;for(var M=x.g.length-C,L=[],j=0;j<M;j++)L[j]=0<R?x.i(j+C)>>>R|x.i(j+C+1)<<32-R:x.i(j+C);return new c(L,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,OS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,Ns=c}).apply(typeof QE<"u"?QE:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MS,au,PS,Rh,lm,VS,LS,kS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function a(h,y){if(y)e:{var _=s;h=h.split(".");for(var w=0;w<h.length-1;w++){var F=h[w];if(!(F in _))break e;_=_[F]}h=h[h.length-1],w=_[h],y=y(w),y!=w&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,w=!1,F={next:function(){if(!w&&_<h.length){var Z=_++;return{value:y(Z,h[Z]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function T(h,y,_){if(!h)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),h.apply(y,F)}}return function(){return h.apply(y,arguments)}}function S(h,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function A(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function D(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(w,F,Z){for(var me=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)me[rt-2]=arguments[rt];return y.prototype[F].apply(w,me)}}function Y(h){const y=h.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=h[w];return _}return[]}function U(h,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const F=h.length||0,Z=w.length||0;h.length=F+Z;for(let me=0;me<Z;me++)h[F+me]=w[me]}else h.push(w)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(h){return/^[\s\xa0]*$/.test(h)}function ne(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function fe(h){return fe[" "](h),h}fe[" "]=function(){};var se=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function k(h,y,_){for(const w in h)y.call(_,h[w],w,h)}function x(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function R(h){const y={};for(const _ in h)y[_]=h[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let _,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(_ in w)h[_]=w[_];for(let Z=0;Z<C.length;Z++)_=C[Z],Object.prototype.hasOwnProperty.call(w,_)&&(h[_]=w[_])}}function L(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function j(h){d.setTimeout(()=>{throw h},0)}function I(){var h=ke;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class xe{constructor(){this.h=this.g=null}add(y,_){const w=Ye.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Ye=new Q(()=>new G,h=>h.reset());class G{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ge=!1,ke=new xe,O=()=>{const h=d.Promise.resolve(void 0);he=()=>{h.then(te)}};var te=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(_){j(_)}var y=Ye;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ge=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Te=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h})();function Fe(h,y){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(se){e:{try{fe(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ne[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Fe.aa.h.call(this)}}D(Fe,ce);var Ne={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),yt=0;function Wn(h,y,_,w,F){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=F,this.key=++yt,this.da=this.fa=!1}function Ct(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function mn(h){this.src=h,this.g={},this.h=0}mn.prototype.add=function(h,y,_,w,F){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var me=li(h,y,w,F);return-1<me?(y=h[me],_||(y.fa=!1)):(y=new Wn(y,this.src,Z,!!w,F),y.fa=_,h.push(y)),y};function Nr(h,y){var _=y.type;if(_ in h.g){var w=h.g[_],F=Array.prototype.indexOf.call(w,y,void 0),Z;(Z=0<=F)&&Array.prototype.splice.call(w,F,1),Z&&(Ct(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function li(h,y,_,w){for(var F=0;F<h.length;++F){var Z=h[F];if(!Z.da&&Z.listener==y&&Z.capture==!!_&&Z.ha==w)return F}return-1}var wn="closure_lm_"+(1e6*Math.random()|0),Gs={};function ka(h,y,_,w,F){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)ka(h,y[Z],_,w,F);return null}return _=Fi(_),h&&h[kt]?h.K(y,_,m(w)?!!w.capture:!1,F):An(h,y,_,!1,w,F)}function An(h,y,_,w,F,Z){if(!y)throw Error("Invalid event type");var me=m(F)?!!F.capture:!!F,rt=Jn(h);if(rt||(h[wn]=rt=new mn(h)),_=rt.add(y,_,w,me,Z),_.proxy)return _;if(w=Zo(),_.proxy=w,w.src=h,w.listener=_,h.addEventListener)Te||(F=me),F===void 0&&(F=!1),h.addEventListener(y.toString(),w,F);else if(h.attachEvent)h.attachEvent(ui(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Zo(){function h(_){return y.call(h.src,h.listener,_)}const y=_r;return h}function $s(h,y,_,w,F){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)$s(h,y[Z],_,w,F);else w=m(w)?!!w.capture:!!w,_=Fi(_),h&&h[kt]?(h=h.i,y=String(y).toString(),y in h.g&&(Z=h.g[y],_=li(Z,_,w,F),-1<_&&(Ct(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete h.g[y],h.h--)))):h&&(h=Jn(h))&&(y=h.g[y.toString()],h=-1,y&&(h=li(y,_,w,F)),(_=-1<h?y[h]:null)&&Bi(_))}function Bi(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[kt])Nr(y.i,h);else{var _=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(_,w,h.capture):y.detachEvent?y.detachEvent(ui(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Jn(y))?(Nr(_,h),_.h==0&&(_.src=null,y[wn]=null)):Ct(h)}}}function ui(h){return h in Gs?Gs[h]:Gs[h]="on"+h}function _r(h,y){if(h.da)h=!0;else{y=new Fe(y,this);var _=h.listener,w=h.ha||h.src;h.fa&&Bi(h),h=_.call(w,y)}return h}function Jn(h){return h=h[wn],h instanceof mn?h:null}var Hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fi(h){return typeof h=="function"?h:(h[Hi]||(h[Hi]=function(y){return h.handleEvent(y)}),h[Hi])}function lt(){pe.call(this),this.i=new mn(this),this.M=this,this.F=null}D(lt,pe),lt.prototype[kt]=!0,lt.prototype.removeEventListener=function(h,y,_,w){$s(this,h,y,_,w)};function $e(h,y){var _,w=h.F;if(w)for(_=[];w;w=w.F)_.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new ce(y,h);else if(y instanceof ce)y.target=y.target||h;else{var F=y;y=new ce(w,h),M(y,F)}if(F=!0,_)for(var Z=_.length-1;0<=Z;Z--){var me=y.g=_[Z];F=gn(me,w,!0,y)&&F}if(me=y.g=h,F=gn(me,w,!0,y)&&F,F=gn(me,w,!1,y)&&F,_)for(Z=0;Z<_.length;Z++)me=y.g=_[Z],F=gn(me,w,!1,y)&&F}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],w=0;w<_.length;w++)Ct(_[w]);delete h.g[y],h.h--}}this.F=null},lt.prototype.K=function(h,y,_,w){return this.i.add(String(h),y,!1,_,w)},lt.prototype.L=function(h,y,_,w){return this.i.add(String(h),y,!0,_,w)};function gn(h,y,_,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,Z=0;Z<y.length;++Z){var me=y[Z];if(me&&!me.da&&me.capture==_){var rt=me.listener,$t=me.ha||me.src;me.fa&&Nr(h.i,me),F=rt.call($t,w)!==!1&&F}}return F&&!w.defaultPrevented}function Ut(h,y,_){if(typeof h=="function")_&&(h=S(h,_));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Ua(h){h.g=Ut(()=>{h.g=null,h.i&&(h.i=!1,Ua(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Zn extends pe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ua(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(h){pe.call(this),this.h=h,this.g={}}D(Or,pe);var Mr=[];function Pr(h){k(h.g,function(y,_){this.g.hasOwnProperty(_)&&Bi(y)},h),h.g={}}Or.prototype.N=function(){Or.aa.N.call(this),Pr(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=d.JSON.stringify,ci=d.JSON.parse,er=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function qi(){}qi.prototype.h=null;function hi(h){return h.h||(h.h=h.i())}function Ks(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Er(){ce.call(this,"d")}D(Er,ce);function Gi(){ce.call(this,"c")}D(Gi,ce);var Rn={},Vr=null;function Lr(){return Vr=Vr||new lt}Rn.La="serverreachability";function $i(h){ce.call(this,Rn.La,h)}D($i,ce);function P(h){const y=Lr();$e(y,new $i(y))}Rn.STAT_EVENT="statevent";function H(h,y){ce.call(this,Rn.STAT_EVENT,h),this.stat=y}D(H,ce);function K(h){const y=Lr();$e(y,new H(y,h))}Rn.Ma="timingevent";function le(h,y){ce.call(this,Rn.Ma,h),this.size=y}D(le,ce);function de(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function ye(){this.g=!0}ye.prototype.xa=function(){this.g=!1};function Re(h,y,_,w,F,Z){h.info(function(){if(h.g)if(Z)for(var me="",rt=Z.split("&"),$t=0;$t<rt.length;$t++){var it=rt[$t].split("=");if(1<it.length){var Zt=it[0];it=it[1];var Kt=Zt.split("_");me=2<=Kt.length&&Kt[1]=="type"?me+(Zt+"="+it+"&"):me+(Zt+"=redacted&")}}else me=null;else me=Z;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+y+`
`+_+`
`+me})}function be(h,y,_,w,F,Z,me){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+y+`
`+_+`
`+Z+" "+me})}function we(h,y,_,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ae(h,_)+(w?" "+w:"")})}function De(h,y){h.info(function(){return"TIMEOUT: "+y})}ye.prototype.info=function(){};function Ae(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var w=_[h];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var Z=F[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var me=1;me<F.length;me++)F[me]=""}}}}return jn(_)}catch{return y}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nt;function pt(){}D(pt,qi),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},nt=new pt;function ut(h,y,_,w){this.j=h,this.i=y,this.l=_,this.R=w||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ze}function ze(){this.i=null,this.g="",this.h=!1}var ct={},Mn={};function an(h,y,_){h.L=1,h.v=Xs(Hn(y)),h.m=_,h.P=!0,Wt(h,null)}function Wt(h,y){h.F=Date.now(),zn(h),h.A=Hn(h.v);var _=h.A,w=h.R;Array.isArray(w)||(w=[String(w)]),il(_.i,"t",w),h.C=0,_=h.j.J,h.h=new ze,h.g=nc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new Zn(S(h.Y,h,h.g),h.O)),y=h.U,_=h.g,w=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(Mr[0]=F.toString()),F=Mr);for(var Z=0;Z<F.length;Z++){var me=ka(_,F[Z],w||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),P(),Re(h.i,h.u,h.A,h.l,h.R,h.m)}ut.prototype.ca=function(h){h=h.target;const y=this.M;y&&ar(h)==3?y.j():this.Y(h)},ut.prototype.Y=function(h){try{if(h==this.g)e:{const Kt=ar(this.g);var y=this.g.Ba();const vi=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||Kt!=4||y==7||(y==8||0>=vi?P(3):P(2)),Bn(this);var _=this.g.Z();this.X=_;t:if(Cn(this)){var w=Yu(this.g);h="";var F=w.length,Z=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),In(this);var me="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,h+=this.h.i.decode(w[y],{stream:!(Z&&y==F-1)});w.length=0,this.h.g+=h,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,be(this.i,this.u,this.A,this.l,this.R,Kt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,$t=this.g;if((rt=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(rt)){var it=rt;break t}}it=null}if(_=it)we(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,It(this,_);else{this.o=!1,this.s=3,K(12),Me(this),In(this);break e}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<me.length;)if(ln=Ki(this,me),ln==Mn){Kt==4&&(this.s=4,K(14),_=!1),we(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==ct){this.s=4,K(15),we(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else we(this.i,this.l,ln,null),It(this,ln);if(Cn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||me.length!=0||this.h.h||(this.s=1,K(16),_=!1),this.o=this.o&&_,!_)we(this.i,this.l,me,"[Invalid Chunked Response]"),Me(this),In(this);else if(0<me.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),ia(Zt),Zt.M=!0,K(11))}}else we(this.i,this.l,me,null),It(this,me);Kt==4&&Me(this),this.o&&!this.J&&(Kt==4?Zu(this.j,this):(this.o=!1,zn(this)))}else Nf(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,K(12)):(this.s=0,K(13)),Me(this),In(this)}}}catch{}finally{}};function Cn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ki(h,y){var _=h.C,w=y.indexOf(`
`,_);return w==-1?Mn:(_=Number(y.substring(_,w)),isNaN(_)?ct:(w+=1,w+_>y.length?Mn:(y=y.slice(w,w+_),h.C=w+_,y)))}ut.prototype.cancel=function(){this.J=!0,Me(this)};function zn(h){h.S=Date.now()+h.I,nr(h,h.I)}function nr(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=de(S(h.ba,h),y)}function Bn(h){h.B&&(d.clearTimeout(h.B),h.B=null)}ut.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(De(this.i,this.A),this.L!=2&&(P(),K(17)),Me(this),this.s=2,In(this)):nr(this,this.S-h)};function In(h){h.j.G==0||h.J||Zu(h.j,h)}function Me(h){Bn(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Pr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function It(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||Yi(_.h,h))){if(!h.K&&Yi(_.h,h)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ka(_),Ga(_);else break e;ul(_),K(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=de(S(_.Za,_),6e3));if(1>=Sr(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else yi(_,11)}else if((h.K||_.g==h)&&Ka(_),!X(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let it=F[y];if(_.T=it[0],it=it[1],_.G==2)if(it[0]=="c"){_.K=it[1],_.ia=it[2];const Zt=it[3];Zt!=null&&(_.la=Zt,_.j.info("VER="+_.la));const Kt=it[4];Kt!=null&&(_.Aa=Kt,_.j.info("SVER="+_.Aa));const vi=it[5];vi!=null&&typeof vi=="number"&&0<vi&&(w=1.5*vi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const ln=h.g;if(ln){const Fr=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var Z=w.h;Z.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Qi(Z,Z.h),Z.h=null))}if(w.D){const hl=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(w.ya=hl,vt(w.I,w.D,hl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var me=h;if(w.qa=tc(w,w.J?w.ia:null,w.W),me.K){xn(w.h,me);var rt=me,$t=w.L;$t&&(rt.I=$t),rt.B&&(Bn(rt),zn(rt)),w.g=me}else Wu(w);0<_.i.length&&$a(_)}else it[0]!="stop"&&it[0]!="close"||yi(_,7);else _.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?yi(_,7):ol(_):it[0]!="noop"&&_.l&&_.l.ta(it),_.v=0)}}P(4)}catch{}}var Tr=class{constructor(h,y){this.g=h,this.map=y}};function on(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bt(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Sr(h){return h.h?1:h.g?h.g.size:0}function Yi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Qi(h,y){h.g?h.g.add(y):h.h=y}function xn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}on.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function el(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return Y(h.i)}function Cf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],_=h.length,w=0;w<_;w++)y.push(h[w]);return y}y=[],_=0;for(w in h)y[_++]=h[w];return y}function ja(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const w in h)y[_++]=w;return y}}}function tl(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=ja(h),w=Cf(h),F=w.length,Z=0;Z<F;Z++)y.call(void 0,w[Z],_&&_[Z],h)}var Ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function If(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var w=h[_].indexOf("="),F=null;if(0<=w){var Z=h[_].substring(0,w);F=h[_].substring(w+1)}else Z=h[_];y(Z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function jt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof jt){this.h=h.h,Qs(this,h.j),this.o=h.o,this.g=h.g,Xi(this,h.s),this.l=h.l;var y=h.i,_=new di;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),fi(this,_),this.m=h.m}else h&&(y=String(h).match(Ys))?(this.h=!1,Qs(this,y[1]||"",!0),this.o=rr(y[2]||""),this.g=rr(y[3]||"",!0),Xi(this,y[4]),this.l=rr(y[5]||"",!0),fi(this,y[6]||"",!0),this.m=rr(y[7]||"")):(this.h=!1,this.i=new di(null,this.h))}jt.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Ws(y,nl,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ws(y,nl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Ws(_,_.charAt(0)=="/"?xf:rl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Ws(_,za)),h.join("")};function Hn(h){return new jt(h)}function Qs(h,y,_){h.j=_?rr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Xi(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function fi(h,y,_){y instanceof di?(h.i=y,$u(h.i,h.h)):(_||(y=Ws(y,Df)),h.i=new di(y,h.h))}function vt(h,y,_){h.i.set(y,_)}function Xs(h){return vt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function rr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ws(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,Gu),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Gu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var nl=/[#\/\?@]/g,rl=/[#\?:]/g,xf=/[#\?]/g,Df=/[#\?@]/g,za=/#/g;function di(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function ir(h){h.g||(h.g=new Map,h.h=0,h.i&&If(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=di.prototype,r.add=function(h,y){ir(this),this.i=null,h=kr(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function pi(h,y){ir(h),y=kr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function mi(h,y){return ir(h),y=kr(h,y),h.g.has(y)}r.forEach=function(h,y){ir(this),this.g.forEach(function(_,w){_.forEach(function(F){h.call(y,F,w,this)},this)},this)},r.na=function(){ir(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const F=h[w];for(let Z=0;Z<F.length;Z++)_.push(y[w])}return _},r.V=function(h){ir(this);let y=[];if(typeof h=="string")mi(this,h)&&(y=y.concat(this.g.get(kr(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},r.set=function(h,y){return ir(this),this.i=null,h=kr(this,h),mi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function il(h,y,_){pi(h,y),0<_.length&&(h.i=null,h.g.set(kr(h,y),Y(_)),h.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const Z=encodeURIComponent(String(w)),me=this.V(w);for(w=0;w<me.length;w++){var F=Z;me[w]!==""&&(F+="="+encodeURIComponent(String(me[w]))),h.push(F)}}return this.i=h.join("&")};function kr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function $u(h,y){y&&!h.j&&(ir(h),h.i=null,h.g.forEach(function(_,w){var F=w.toLowerCase();w!=F&&(pi(this,w),il(this,F,_))},h)),h.j=y}function Js(h,y){const _=new ye;if(d.Image){const w=new Image;w.onload=A(sr,_,"TestLoadImage: loaded",!0,y,w),w.onerror=A(sr,_,"TestLoadImage: error",!1,y,w),w.onabort=A(sr,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=A(sr,_,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function br(h,y){const _=new ye,w=new AbortController,F=setTimeout(()=>{w.abort(),sr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(Z=>{clearTimeout(F),Z.ok?sr(_,"TestPingServer: ok",!0,y):sr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),sr(_,"TestPingServer: error",!1,y)})}function sr(h,y,_,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(_)}catch{}}function Zs(){this.g=new er}function Ur(h,y,_){const w=_||"";try{tl(h,function(F,Z){let me=F;m(F)&&(me=jn(F)),y.push(w+Z+"="+encodeURIComponent(me))})}catch(F){throw y.push(w+"type="+encodeURIComponent("_badmap")),F}}function Wi(h){this.l=h.Ub||null,this.j=h.eb||!1}D(Wi,qi),Wi.prototype.g=function(){return new gi(this.l,this.j)},Wi.prototype.i=(function(h){return function(){return h}})({});function gi(h,y){lt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(gi,lt),r=gi.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,zr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?jr(this):zr(this),this.readyState==3&&sl(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,jr(this))},r.Qa=function(h){this.g&&(this.response=h,jr(this))},r.ga=function(){this.g&&jr(this)};function jr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,zr(h)}r.setRequestHeader=function(h,y){this.u.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function zr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function al(h){let y="";return k(h,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Jt(h,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=al(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):vt(h,y,_))}function ft(h){lt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(ft,lt);var Ba=/^https?$/i,ea=["POST","PUT"];r=ft.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nt.g(),this.v=this.o?hi(this.o):hi(nt),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Z){Ku(this,Z);return}if(h=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)_.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Z of w.keys())_.set(Z,w.get(Z));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),F=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ea,y,void 0))||w||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of _)this.g.setRequestHeader(Z,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ta(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){Ku(this,Z)}};function Ku(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ha(h),Br(h)}function Ha(h){h.A||(h.A=!0,$e(h,"complete"),$e(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,$e(this,"complete"),$e(this,"abort"),Br(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Br(this,!0)),ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},r.bb=function(){Fa(this)};function Fa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ar(h)!=4||h.Z()!=2)){if(h.u&&ar(h)==4)Ut(h.Ea,0,h);else if($e(h,"readystatechange"),ar(h)==4){h.h=!1;try{const me=h.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=me===0){var F=String(h.D).match(Ys)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),w=!Ba.test(F?F.toLowerCase():"")}_=w}if(_)$e(h,"complete"),$e(h,"success");else{h.m=6;try{var Z=2<ar(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",Ha(h)}}finally{Br(h)}}}}function Br(h,y){if(h.g){ta(h);const _=h.g,w=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||$e(h,"ready");try{_.onreadystatechange=w}catch{}}}function ta(h){h.I&&(d.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),ci(y)}};function Yu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Nf(h){const y={};h=(h.g&&2<=ar(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(X(h[w]))continue;var _=L(h[w]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=y[F]||[];y[F]=Z,Z.push(_)}x(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function qa(h){this.Aa=0,this.i=[],this.j=new ye,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,h),this.cb=na("retryDelaySeedMs",1e4,h),this.Wa=na("forwardChannelMaxRetries",2,h),this.wa=na("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new on(h&&h.concurrentRequestLimit),this.Da=new Zs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=qa.prototype,r.la=8,r.G=1,r.connect=function(h,y,_,w){K(0),this.W=h,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=tc(this,null,this.W),$a(this)};function ol(h){if(Qu(h),h.G==3){var y=h.U++,_=Hn(h.I);if(vt(_,"SID",h.K),vt(_,"RID",y),vt(_,"TYPE","terminate"),ra(h,_),y=new ut(h,h.j,y),y.L=2,y.v=Xs(Hn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=nc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),zn(y)}ec(h)}function Ga(h){h.g&&(ia(h),h.g.cancel(),h.g=null)}function Qu(h){Ga(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ka(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function $a(h){if(!bt(h.h)&&!h.s){h.s=!0;var y=h.Ga;he||O(),ge||(he(),ge=!0),ke.add(y,h),h.B=0}}function Of(h,y){return Sr(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=de(S(h.Ga,h,y),cl(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new ut(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=R(Z),M(Z,this.S)):Z=this.S),this.m!==null||this.O||(F.H=Z,Z=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Xu(this,F,y),_=Hn(this.I),vt(_,"RID",h),vt(_,"CVER",22),this.D&&vt(_,"X-HTTP-Session-Id",this.D),ra(this,_),Z&&(this.O?y="headers="+encodeURIComponent(String(al(Z)))+"&"+y:this.m&&Jt(_,this.m,Z)),Qi(this.h,F),this.Ua&&vt(_,"TYPE","init"),this.P?(vt(_,"$req",y),vt(_,"SID","null"),F.T=!0,an(F,_,null)):an(F,_,y),this.G=2}}else this.G==3&&(h?ll(this,h):this.i.length==0||bt(this.h)||ll(this))};function ll(h,y){var _;y?_=y.l:_=h.U++;const w=Hn(h.I);vt(w,"SID",h.K),vt(w,"RID",_),vt(w,"AID",h.T),ra(h,w),h.m&&h.o&&Jt(w,h.m,h.o),_=new ut(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Xu(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Qi(h.h,_),an(_,w,y)}function ra(h,y){h.H&&k(h.H,function(_,w){vt(y,w,_)}),h.l&&tl({},function(_,w){vt(y,w,_)})}function Xu(h,y,_){_=Math.min(h.i.length,_);var w=h.l?S(h.l.Na,h.l,h):null;e:{var F=h.i;let Z=-1;for(;;){const me=["count="+_];Z==-1?0<_?(Z=F[0].g,me.push("ofs="+Z)):Z=0:me.push("ofs="+Z);let rt=!0;for(let $t=0;$t<_;$t++){let it=F[$t].g;const Zt=F[$t].map;if(it-=Z,0>it)Z=Math.max(0,F[$t].g-100),rt=!1;else try{Ur(Zt,me,"req"+it+"_")}catch{w&&w(Zt)}}if(rt){w=me.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,w}function Wu(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;he||O(),ge||(he(),ge=!0),ke.add(y,h),h.v=0}}function ul(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=de(S(h.Fa,h),cl(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,Ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=de(S(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,K(10),Ga(this),Ju(this))};function ia(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Ju(h){h.g=new ut(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Hn(h.qa);vt(y,"RID","rpc"),vt(y,"SID",h.K),vt(y,"AID",h.T),vt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&vt(y,"TO",h.ja),vt(y,"TYPE","xmlhttp"),ra(h,y),h.m&&h.o&&Jt(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Xs(Hn(y)),_.m=null,_.P=!0,Wt(_,h)}r.Za=function(){this.C!=null&&(this.C=null,Ga(this),ul(this),K(19))};function Ka(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Zu(h,y){var _=null;if(h.g==y){Ka(h),ia(h),h.g=null;var w=2}else if(Yi(h.h,y))_=y.D,xn(h.h,y),w=1;else return;if(h.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=h.B;w=Lr(),$e(w,new le(w,_)),$a(h)}else Wu(h);else if(F=y.s,F==3||F==0&&0<y.X||!(w==1&&Of(h,y)||w==2&&ul(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),F){case 1:yi(h,5);break;case 4:yi(h,10);break;case 3:yi(h,6);break;default:yi(h,2)}}}function cl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function yi(h,y){if(h.j.info("Error code "+y),y==2){var _=S(h.fb,h),w=h.Xa;const F=!w;w=new jt(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qs(w,"https"),Xs(w),F?Js(w.toString(),_):br(w.toString(),_)}else K(2);h.G=0,h.l&&h.l.sa(y),ec(h),Qu(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),K(2)):(this.j.info("Failed to ping google.com"),K(1))};function ec(h){if(h.G=0,h.ka=[],h.l){const y=el(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ka,y),U(h.ka,h.i),h.h.i.length=0,Y(h.i),h.i.length=0),h.l.ra()}}function tc(h,y,_){var w=_ instanceof jt?Hn(_):new jt(_);if(w.g!="")y&&(w.g=y+"."+w.g),Xi(w,w.s);else{var F=d.location;w=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var Z=new jt(null);w&&Qs(Z,w),y&&(Z.g=y),F&&Xi(Z,F),_&&(Z.l=_),w=Z}return _=h.D,y=h.ya,_&&y&&vt(w,_,y),vt(w,"VER",h.la),ra(h,w),w}function nc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new ft(new Wi({eb:_})):new ft(h.pa),y.Ha(h.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}r=rc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ya(){}Ya.prototype.g=function(h,y){return new Dn(h,y)};function Dn(h,y){lt.call(this),this.g=new qa(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!X(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Hr(this)}D(Dn,lt),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){ol(this.g)},Dn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=jn(h),h=_);y.i.push(new Tr(y.Ya++,h)),y.G==3&&$a(y)},Dn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Dn.aa.N.call(this)};function ic(h){Er.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}D(ic,Er);function sc(){Gi.call(this),this.status=1}D(sc,Gi);function Hr(h){this.g=h}D(Hr,rc),Hr.prototype.ua=function(){$e(this.g,"a")},Hr.prototype.ta=function(h){$e(this.g,new ic(h))},Hr.prototype.sa=function(h){$e(this.g,new sc)},Hr.prototype.ra=function(){$e(this.g,"b")},Ya.prototype.createWebChannel=Ya.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,kS=function(){return new Ya},LS=function(){return Lr()},VS=Rn,lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Rh=Ee,qe.COMPLETE="complete",PS=qe,Ks.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,au=Ks,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,MS=ft}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const XE="@firebase/firestore",WE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Hm("@firebase/firestore");function Ro(){return xa.logLevel}function ve(r,...e){if(xa.logLevel<=Ze.DEBUG){const t=e.map(Zm);xa.debug(`Firestore (${Yo}): ${r}`,...t)}}function Ui(r,...e){if(xa.logLevel<=Ze.ERROR){const t=e.map(Zm);xa.error(`Firestore (${Yo}): ${r}`,...t)}}function jo(r,...e){if(xa.logLevel<=Ze.WARN){const t=e.map(Zm);xa.warn(`Firestore (${Yo}): ${r}`,...t)}}function Zm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,US(r,s,t)}function US(r,e,t){let s=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ui(s),new Error(s)}function dt(r,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,r||US(e,a,s)}function He(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(En.UNAUTHENTICATED)))}shutdown(){}}class mN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class gN{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dt(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Os,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Os)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(dt(typeof s.accessToken=="string",31837,{l:s}),new jS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class yN{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new yN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class JE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _N{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dt(this.o===void 0,3512);const s=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new JE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(dt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new JE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=EN(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function et(r,e){return r<e?-1:r>e?1:0}function um(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const a=r.charAt(s),l=e.charAt(s);if(a!==l)return Bp(a)===Bp(l)?et(a,l):Bp(a)?1:-1}return et(r.length,e.length)}const TN=55296,SN=57343;function Bp(r){const e=r.charCodeAt(0);return e>=TN&&e<=SN}function zo(r,e,t){return r.length===e.length&&r.every(((s,a)=>t(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="__name__";class Qr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Le(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Le(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Qr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return et(e.length,t.length)}static compareSegments(e,t){const s=Qr.isNumericId(e),a=Qr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):um(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class At extends Qr{construct(e,t,s){return new At(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new At(t)}static emptyPath(){return new At([])}}const bN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Qr{construct(e,t,s){return new dn(e,t,s)}static isValidIdentifier(e){return bN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZE}static keyField(){return new dn([ZE])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new _e(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new _e(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new _e(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(t)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(At.fromString(e))}static fromName(e){return new Ie(At.fromString(e).popFirst(5))}static empty(){return new Ie(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return At.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(r,e,t){if(!t)throw new _e(oe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function wN(r,e,t,s){if(e===!0&&s===!0)throw new _e(oe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function eT(r){if(!Ie.isDocumentKey(r))throw new _e(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function tT(r){if(Ie.isDocumentKey(r))throw new _e(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function BS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ff(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Le(12329,{type:typeof r})}function Fh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ff(r);throw new _e(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(r,e){const t={typeString:r};return e&&(t.value=e),t}function ju(r,e){if(!BS(r))throw new _e(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const c=r[s];if(a&&typeof c!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new _e(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=-62135596800,rT=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*rT);return new Rt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nT)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rT}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ju(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:qt("string",Rt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Rt(0,0))}static max(){return new Be(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=-1;function AN(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(s===1e9?new Rt(t+1,0):new Rt(t,s));return new Vs(a,Ie.empty(),e)}function RN(r){return new Vs(r.readTime,r.key,Su)}class Vs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Vs(Be.min(),Ie.empty(),Su)}static max(){return new Vs(Be.max(),Ie.empty(),Su)}}function CN(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(r.documentKey,e.documentKey),t!==0?t:et(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(r){if(r.code!==oe.FAILED_PRECONDITION||r.message!==IN)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,s)=>{t(e)}))}static reject(e){return new ue(((t,s)=>{s(e)}))}static waitFor(e){return new ue(((t,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(p=>s(p)))})),c=!0,l===a&&t()}))}static or(e){let t=ue.resolve(!1);for(const s of e)t=t.next((a=>a?ue.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new ue(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next((v=>{c[m]=v,++d,d===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new ue(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function DN(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}df.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=-1;function pf(r){return r==null}function qh(r){return r===0&&1/r==-1/0}function NN(r){return typeof r=="number"&&Number.isInteger(r)&&!qh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="";function ON(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=iT(e)),e=MN(r.get(t),e);return iT(e)}function MN(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case HS:t+="";break;default:t+=l}}return t}function iT(r){return r+HS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ma(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function FS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??fn.RED,this.left=a??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new fn(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aT(this.data.getIterator())}getIteratorFrom(e){return new aT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Xt(this.comparator);return t.data=e,t}}class aT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Ir([])}unionWith(e){let t=new Xt(dn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new qS("Invalid base64 string: "+l):l}})(e);return new pn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const PN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(r){if(dt(!!r,39018),typeof r=="string"){let e=0;const t=PN.exec(r);if(dt(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Lt(r.seconds),nanos:Lt(r.nanos)}}function Lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ks(r){return typeof r=="string"?pn.fromBase64String(r):pn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="server_timestamp",$S="__type__",KS="__previous_value__",YS="__local_write_time__";function ng(r){return(r?.mapValue?.fields||{})[$S]?.stringValue===GS}function mf(r){const e=r.mapValue.fields[KS];return ng(e)?mf(e):e}function bu(r){const e=Ls(r.mapValue.fields[YS].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t,s,a,l,c,d,p,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const Gh="(default)";class wu{constructor(e,t){this.projectId=e,this.database=t||Gh}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="__type__",LN="__max__",fh={mapValue:{}},XS="__vector__",$h="value";function Us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ng(r)?4:UN(r)?9007199254740991:kN(r)?10:11:Le(28295,{value:r})}function ii(r,e){if(r===e)return!0;const t=Us(r);if(t!==Us(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return bu(r).isEqual(bu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ls(a.timestampValue),d=Ls(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return ks(a.bytesValue).isEqual(ks(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return Lt(a.geoPointValue.latitude)===Lt(l.geoPointValue.latitude)&&Lt(a.geoPointValue.longitude)===Lt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Lt(a.integerValue)===Lt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Lt(a.doubleValue),d=Lt(l.doubleValue);return c===d?qh(c)===qh(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return zo(r.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(sT(c)!==sT(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ii(c[p],d[p])))return!1;return!0})(r,e);default:return Le(52216,{left:r})}}function Au(r,e){return(r.values||[]).find((t=>ii(t,e)))!==void 0}function Bo(r,e){if(r===e)return 0;const t=Us(r),s=Us(e);if(t!==s)return et(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Lt(l.integerValue||l.doubleValue),p=Lt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,e);case 3:return oT(r.timestampValue,e.timestampValue);case 4:return oT(bu(r),bu(e));case 5:return um(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=ks(l),p=ks(c);return d.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const v=et(d[m],p[m]);if(v!==0)return v}return et(d.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=et(Lt(l.latitude),Lt(c.latitude));return d!==0?d:et(Lt(l.longitude),Lt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return lT(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},m=d[$h]?.arrayValue,v=p[$h]?.arrayValue,T=et(m?.values?.length||0,v?.values?.length||0);return T!==0?T:lT(m,v)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===fh.mapValue&&c===fh.mapValue)return 0;if(l===fh.mapValue)return 1;if(c===fh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=um(p[T],v[T]);if(S!==0)return S;const A=Bo(d[p[T]],m[v[T]]);if(A!==0)return A}return et(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Le(23264,{he:t})}}function oT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return et(r,e);const t=Ls(r),s=Ls(e),a=et(t.seconds,s.seconds);return a!==0?a:et(t.nanos,s.nanos)}function lT(r,e){const t=r.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=Bo(t[a],s[a]);if(l)return l}return et(t.length,s.length)}function Ho(r){return cm(r)}function cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=Ls(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return ks(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ie.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=cm(l);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${cm(t.fields[c])}`;return a+"}"})(r.mapValue):Le(61005,{value:r})}function Ch(r){switch(Us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(r);return e?16+Ch(e):16;case 5:return 2*r.stringValue.length;case 6:return ks(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Ch(l)),0)})(r.arrayValue);case 10:case 11:return(function(s){let a=0;return Ma(s.fields,((l,c)=>{a+=l.length+Ch(c)})),a})(r.mapValue);default:throw Le(13486,{value:r})}}function uT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function hm(r){return!!r&&"integerValue"in r}function rg(r){return!!r&&"arrayValue"in r}function cT(r){return!!r&&"nullValue"in r}function hT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ih(r){return!!r&&"mapValue"in r}function kN(r){return(r?.mapValue?.fields||{})[QS]?.stringValue===XS}function hu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ma(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=hu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hu(r.arrayValue.values[t]);return e}return{...r}}function UN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===LN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(t)}setAll(e){let t=dn.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=hu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Ih(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ma(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new gr(hu(this.value))}}function WS(r){const e=[];return Ma(r.fields,((t,s)=>{const a=new dn([t]);if(Ih(s)){const l=WS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,t,s,a,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Tn(e,0,Be.min(),Be.min(),Be.min(),gr.empty(),0)}static newFoundDocument(e,t,s,a){return new Tn(e,1,t,Be.min(),s,a,0)}static newNoDocument(e,t){return new Tn(e,2,t,Be.min(),Be.min(),gr.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,Be.min(),Be.min(),gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this.position=e,this.inclusive=t}}function fT(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?s=Ie.comparator(Ie.fromName(c.referenceValue),t.key):s=Bo(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function dT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ii(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t="asc"){this.field=e,this.dir=t}}function jN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{}class Ft extends JS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new BN(e,t,s):t==="array-contains"?new qN(e,s):t==="in"?new GN(e,s):t==="not-in"?new $N(e,s):t==="array-contains-any"?new KN(e,s):new Ft(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new HN(e,s):new FN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Bo(t,this.value)):t!==null&&Us(this.value)===Us(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends JS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Dr(e,t)}matches(e){return ZS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZS(r){return r.op==="and"}function eb(r){return zN(r)&&ZS(r)}function zN(r){for(const e of r.filters)if(e instanceof Dr)return!1;return!0}function fm(r){if(r instanceof Ft)return r.field.canonicalString()+r.op.toString()+Ho(r.value);if(eb(r))return r.filters.map((e=>fm(e))).join(",");{const e=r.filters.map((t=>fm(t))).join(",");return`${r.op}(${e})`}}function tb(r,e){return r instanceof Ft?(function(s,a){return a instanceof Ft&&s.op===a.op&&s.field.isEqual(a.field)&&ii(s.value,a.value)})(r,e):r instanceof Dr?(function(s,a){return a instanceof Dr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&tb(c,a.filters[d])),!0):!1})(r,e):void Le(19439)}function nb(r){return r instanceof Ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ho(t.value)}`})(r):r instanceof Dr?(function(t){return t.op.toString()+" {"+t.getFilters().map(nb).join(" ,")+"}"})(r):"Filter"}class BN extends Ft{constructor(e,t,s){super(e,t,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class HN extends Ft{constructor(e,t){super(e,"in",t),this.keys=rb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class FN extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=rb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function rb(r,e){return(e.arrayValue?.values||[]).map((t=>Ie.fromName(t.referenceValue)))}class qN extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rg(t)&&Au(t.arrayValue,this.value)}}class GN extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Au(this.value.arrayValue,t)}}class $N extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Au(this.value.arrayValue,t)}}class KN extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Au(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function pT(r,e=null,t=[],s=[],a=null,l=null,c=null){return new YN(r,e,t,s,a,l,c)}function ig(r){const e=He(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>fm(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Ho(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Ho(s))).join(",")),e.Te=t}return e.Te}function sg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!jN(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!tb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!dT(r.startAt,e.startAt)&&dT(r.endAt,e.endAt)}function dm(r){return Ie.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t=null,s=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QN(r,e,t,s,a,l,c,d){return new zu(r,e,t,s,a,l,c,d)}function ib(r){return new zu(r)}function mT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sb(r){return r.collectionGroup!==null}function fu(r){const e=He(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Xt(dn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Yh(l,s))})),t.has(dn.keyField().canonicalString())||e.Ie.push(new Yh(dn.keyField(),s))}return e.Ie}function ei(r){const e=He(r);return e.Ee||(e.Ee=XN(e,fu(r))),e.Ee}function XN(r,e){if(r.limitType==="F")return pT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Yh(a.field,l)}));const t=r.endAt?new Kh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Kh(r.startAt.position,r.startAt.inclusive):null;return pT(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function pm(r,e){const t=r.filters.concat([e]);return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function mm(r,e,t){return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function gf(r,e){return sg(ei(r),ei(e))&&r.limitType===e.limitType}function ab(r){return`${ig(ei(r))}|lt:${r.limitType}`}function Co(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>nb(a))).join(", ")}]`),pf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>Ho(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>Ho(a))).join(",")),`Target(${s})`})(ei(r))}; limitType=${r.limitType})`}function yf(r,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ie.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(r,e)&&(function(s,a){for(const l of fu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,p){const m=fT(c,d,p);return c.inclusive?m<=0:m<0})(s.startAt,fu(s),a)||s.endAt&&!(function(c,d,p){const m=fT(c,d,p);return c.inclusive?m>=0:m>0})(s.endAt,fu(s),a))})(r,e)}function WN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ob(r){return(e,t)=>{let s=!1;for(const a of fu(r)){const l=JN(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function JN(r,e,t){const s=r.field.isKeyField()?Ie.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?Bo(p,m):Le(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Le(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return FS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Nt(Ie.comparator);function ji(){return ZN}const lb=new Nt(Ie.comparator);function ou(...r){let e=lb;for(const t of r)e=e.insert(t.key,t);return e}function ub(r){let e=lb;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Sa(){return du()}function cb(){return du()}function du(){return new Pa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const eO=new Nt(Ie.comparator),tO=new Xt(Ie.comparator);function tt(...r){let e=tO;for(const t of r)e=e.add(t);return e}const nO=new Xt(et);function rO(){return nO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function hb(r){return{integerValue:""+r}}function iO(r,e){return NN(e)?hb(e):ag(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this._=void 0}}function sO(r,e,t){return r instanceof Qh?(function(a,l){const c={fields:{[$S]:{stringValue:GS},[YS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ng(l)&&(l=mf(l)),l&&(c.fields[KS]=l),{mapValue:c}})(t,e):r instanceof Ru?db(r,e):r instanceof Cu?pb(r,e):(function(a,l){const c=fb(a,l),d=gT(c)+gT(a.Ae);return hm(c)&&hm(a.Ae)?hb(d):ag(a.serializer,d)})(r,e)}function aO(r,e,t){return r instanceof Ru?db(r,e):r instanceof Cu?pb(r,e):t}function fb(r,e){return r instanceof Xh?(function(s){return hm(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Qh extends vf{}class Ru extends vf{constructor(e){super(),this.elements=e}}function db(r,e){const t=mb(e);for(const s of r.elements)t.some((a=>ii(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Cu extends vf{constructor(e){super(),this.elements=e}}function pb(r,e){let t=mb(e);for(const s of r.elements)t=t.filter((a=>!ii(a,s)));return{arrayValue:{values:t}}}class Xh extends vf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function gT(r){return Lt(r.integerValue||r.doubleValue)}function mb(r){return rg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function oO(r,e){return r.field.isEqual(e.field)&&(function(s,a){return s instanceof Ru&&a instanceof Ru||s instanceof Cu&&a instanceof Cu?zo(s.elements,a.elements,ii):s instanceof Xh&&a instanceof Xh?ii(s.Ae,a.Ae):s instanceof Qh&&a instanceof Qh})(r.transform,e.transform)}class lO{constructor(e,t){this.version=e,this.transformResults=t}}class Vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _f{}function gb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new vb(r.key,Vi.none()):new Bu(r.key,r.data,Vi.none());{const t=r.data,s=gr.empty();let a=new Xt(dn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Va(r.key,s,new Ir(a.toArray()),Vi.none())}}function uO(r,e,t){r instanceof Bu?(function(a,l,c){const d=a.value.clone(),p=vT(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Va?(function(a,l,c){if(!xh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=vT(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(yb(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function pu(r,e,t,s){return r instanceof Bu?(function(l,c,d,p){if(!xh(l.precondition,c))return d;const m=l.value.clone(),v=_T(l.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(r,e,t,s):r instanceof Va?(function(l,c,d,p){if(!xh(l.precondition,c))return d;const m=_T(l.fieldTransforms,p,c),v=c.data;return v.setAll(yb(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(r,e,t,s):(function(l,c,d){return xh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function cO(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=fb(s.transform,a||null);l!=null&&(t===null&&(t=gr.empty()),t.set(s.field,l))}return t||null}function yT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&zo(s,a,((l,c)=>oO(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Bu extends _f{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Va extends _f{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function yb(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function vT(r,e,t){const s=new Map;dt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,aO(c,d,t[a]))}return s}function _T(r,e,t){const s=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);s.set(a.field,sO(l,c,e))}return s}class vb extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hO extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&uO(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=pu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=pu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=cb();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=gb(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Be.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),tt())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,((t,s)=>yT(t,s)))&&zo(this.baseMutations,e.baseMutations,((t,s)=>yT(t,s)))}}class og{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){dt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return eO})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new og(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,at;function mO(r){switch(r){case oe.OK:return Le(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Le(15467,{code:r})}}function _b(r){if(r===void 0)return Ui("GRPC error has no .code"),oe.UNKNOWN;switch(r){case Ht.OK:return oe.OK;case Ht.CANCELLED:return oe.CANCELLED;case Ht.UNKNOWN:return oe.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return oe.INTERNAL;case Ht.UNAVAILABLE:return oe.UNAVAILABLE;case Ht.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ht.NOT_FOUND:return oe.NOT_FOUND;case Ht.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ht.ABORTED:return oe.ABORTED;case Ht.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ht.DATA_LOSS:return oe.DATA_LOSS;default:return Le(39323,{code:r})}}(at=Ht||(Ht={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new Ns([4294967295,4294967295],0);function ET(r){const e=gO().encode(r),t=new OS;return t.update(e),new Uint8Array(t.digest())}function TT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ns([t,s],0),new Ns([a,l],0)]}class lg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new lu(`Invalid padding: ${t}`);if(s<0)throw new lu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new lu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ns.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(Ns.fromNumber(s)));return a.compare(yO)===1&&(a=new Ns([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ET(e),[s,a]=TT(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new lg(l,a,t);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=ET(e),[s,a]=TT(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ef(Be.min(),a,new Nt(et),ji(),tt())}}class Hu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Hu(s,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class Eb{constructor(e,t){this.targetId=e,this.Ce=t}}class Tb{constructor(e,t,s=pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class ST{constructor(){this.ve=0,this.Fe=bT(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),t=tt(),s=tt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Le(38017,{changeType:l})}})),new Hu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=bT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vO{constructor(e){this.Ge=e,this.ze=new Map,this.je=ji(),this.Je=dh(),this.He=dh(),this.Ye=new Nt(et)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(dm(l))if(s===0){const c=new Ie(l.path);this.et(t,c,Tn.newNoDocument(c,Be.min()))}else dt(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=ks(s).toUint8Array()}catch(p){if(p instanceof qS)return jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new lg(c,a,l)}catch(p){return jo(p instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&dm(d.target)){const p=new Ie(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Tn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let s=tt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Ef(e,t,this.Ye,this.je,s);return this.je=ji(),this.Je=dh(),this.He=dh(),this.Ye=new Nt(et),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ST,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Xt(et),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Xt(et),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ST),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function dh(){return new Nt(Ie.comparator)}function bT(){return new Nt(Ie.comparator)}const _O={asc:"ASCENDING",desc:"DESCENDING"},EO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TO={and:"AND",or:"OR"};class SO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gm(r,e){return r.useProto3Json||pf(e)?e:{value:e}}function Wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bO(r,e){return Wh(r,e.toTimestamp())}function ti(r){return dt(!!r,49232),Be.fromTimestamp((function(t){const s=Ls(t);return new Rt(s.seconds,s.nanos)})(r))}function ug(r,e){return ym(r,e).canonicalString()}function ym(r,e){const t=(function(a){return new At(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function bb(r){const e=At.fromString(r);return dt(Ib(e),10190,{key:e.toString()}),e}function vm(r,e){return ug(r.databaseId,e.path)}function Hp(r,e){const t=bb(e);if(t.get(1)!==r.databaseId.projectId)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ie(Ab(t))}function wb(r,e){return ug(r.databaseId,e)}function wO(r){const e=bb(r);return e.length===4?At.emptyPath():Ab(e)}function _m(r){return new At(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ab(r){return dt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function wT(r,e,t){return{name:vm(r,e),fields:t.value.mapValue.fields}}function AO(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Le(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,v){return m.useProto3Json?(dt(v===void 0||typeof v=="string",58123),pn.fromBase64String(v||"")):(dt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),pn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const v=m.code===void 0?oe.UNKNOWN:_b(m.code);return new _e(v,m.message||"")})(c);t=new Tb(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Hp(r,s.document.name),l=ti(s.document.updateTime),c=s.document.createTime?ti(s.document.createTime):Be.min(),d=new gr({mapValue:{fields:s.document.fields}}),p=Tn.newFoundDocument(a,l,c,d),m=s.targetIds||[],v=s.removedTargetIds||[];t=new Dh(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Hp(r,s.document),l=s.readTime?ti(s.readTime):Be.min(),c=Tn.newNoDocument(a,l),d=s.removedTargetIds||[];t=new Dh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Hp(r,s.document),l=s.removedTargetIds||[];t=new Dh([],l,a,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new pO(a,l),d=s.targetId;t=new Eb(d,c)}}return t}function RO(r,e){let t;if(e instanceof Bu)t={update:wT(r,e.key,e.value)};else if(e instanceof vb)t={delete:vm(r,e.key)};else if(e instanceof Va)t={update:wT(r,e.key,e.data),updateMask:VO(e.fieldMask)};else{if(!(e instanceof hO))return Le(16599,{Vt:e.type});t={verify:vm(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Qh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Cu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Le(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:bO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Le(27497)})(r,e.precondition)),t}function CO(r,e){return r&&r.length>0?(dt(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?ti(a.updateTime):ti(l);return c.isEqual(Be.min())&&(c=ti(l)),new lO(c,a.transformResults||[])})(t,e)))):[]}function IO(r,e){return{documents:[wb(r,e.path)]}}function xO(r,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=wb(r,a);const l=(function(m){if(m.length!==0)return Cb(Dr.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((v=>(function(S){return{field:Io(S.field),direction:OO(S.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=gm(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function DO(r){let e=wO(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){dt(s===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(T){const S=Rb(T);return S instanceof Dr&&eb(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((S=>(function(D){return new Yh(xo(D.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,pf(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(T){const S=!!T.before,A=T.values||[];return new Kh(A,S)})(t.startAt));let m=null;return t.endAt&&(m=(function(T){const S=!T.before,A=T.values||[];return new Kh(A,S)})(t.endAt)),QN(e,a,c,l,d,"F",p,m)}function NO(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Rb(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=xo(t.unaryFilter.field);return Ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=xo(t.unaryFilter.field);return Ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xo(t.unaryFilter.field);return Ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xo(t.unaryFilter.field);return Ft.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Ft.create(xo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Dr.create(t.compositeFilter.filters.map((s=>Rb(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(t.compositeFilter.op))})(r):Le(30097,{filter:r})}function OO(r){return _O[r]}function MO(r){return EO[r]}function PO(r){return TO[r]}function Io(r){return{fieldPath:r.canonicalString()}}function xo(r){return dn.fromServerFormat(r.fieldPath)}function Cb(r){return r instanceof Ft?(function(t){if(t.op==="=="){if(hT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(cT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(cT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:MO(t.op),value:t.value}}})(r):r instanceof Dr?(function(t){const s=t.getFilters().map((a=>Cb(a)));return s.length===1?s[0]:{compositeFilter:{op:PO(t.op),filters:s}}})(r):Le(54877,{filter:r})}function VO(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Ib(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,t,s,a,l=Be.min(),c=Be.min(),d=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.yt=e}}function kO(r){const e=DO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.Cn=new jO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Vs.min())}updateCollectionGroup(e,t,s){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class jO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Xt(At.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Xt(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xb=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(xb,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fo(0)}static cr(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="LruGarbageCollector",zO=1048576;function CT([r,e],[t,s]){const a=et(r,t);return a===0?et(e,s):a}class BO{constructor(e){this.Ir=e,this.buffer=new Xt(CT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();CT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(RT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xo(t)?ve(RT,"Ignoring IndexedDB error during garbage collection: ",t):await Qo(t)}await this.Vr(3e5)}))}}class FO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(df.ce);const s=new BO(t);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(AT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,l,c,d,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(s=T,d=Date.now(),this.removeTargets(e,s,t)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(m=Date.now(),Ro()<=Ze.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function qO(r,e){return new FO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.changes=new Pa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ue.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&pu(s.mutation,a,Ir.empty(),Rt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,tt()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=tt()){const a=Sa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let c=ou();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Sa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,tt())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,s,a){let l=ji();const c=du(),d=(function(){return du()})();return t.forEach(((p,m)=>{const v=s.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof Va)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),pu(v.mutation,m,v.mutation.getFieldMask(),Rt.now())):c.set(m.key,Ir.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,v)=>c.set(m,v))),t.forEach(((m,v)=>d.set(m,new $O(v,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=du();let a=new Nt(((c,d)=>c-d)),l=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let v=s.get(p)||Ir.empty();v=d.applyToLocalView(m,v),s.set(p,v);const T=(a.get(d.batchId)||tt()).add(p);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,v=p.value,T=cb();v.forEach((S=>{if(!l.has(S)){const A=gb(t.get(S),s.get(S));A!==null&&T.set(S,A),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,T))}return ue.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ue.resolve(Sa());let d=Su,p=l;return c.next((m=>ue.forEach(m,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,tt()))).next((v=>({batchId:d,changes:ub(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((s=>{let a=ou();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=ou();return this.indexManager.getCollectionParents(e,l).next((d=>ue.forEach(d,(p=>{const m=(function(T,S){return new zu(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next((v=>{v.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((c=>{l.forEach(((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,Tn.newInvalidDocument(v)))}));let d=ou();return c.forEach(((p,m)=>{const v=l.get(p);v!==void 0&&pu(v.mutation,m,Ir.empty(),Rt.now()),yf(t,m)&&(d=d.insert(p,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:ti(a.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:kO(a.bundledQuery),readTime:ti(a.readTime)}})(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.overlays=new Nt(Ie.comparator),this.qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Sa();return ue.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.St(e,t,l)})),ue.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ue.resolve()}getOverlaysForCollection(e,t,s){const a=Sa(),l=t.length+1,c=new Ie(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new Nt(((m,v)=>m-v));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>s){let v=l.get(m.largestBatchId);v===null&&(v=Sa(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Sa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,v)=>d.set(m,v))),!(d.size()>=a)););return ue.resolve(d)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new dO(t,s));let l=this.qr.get(t);l===void 0&&(l=tt(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.Qr=new Xt(rn.$r),this.Ur=new Xt(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new rn(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new rn(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Ie(new At([])),s=new rn(t,e),a=new rn(t,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ie(new At([])),s=new rn(t,e),a=new rn(t,e+1);let l=tt();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new rn(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class rn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ie.comparator(e.key,t.key)||et(e.Yr,t.Yr)}static Kr(e,t){return et(e.Yr,t.Yr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(rn.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fO(l,t,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new rn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?tg:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new rn(t,0),a=new rn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Xt(et);return t.forEach((a=>{const l=new rn(a,0),c=new rn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),ue.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Ie.isDocumentKey(l)||(l=l.child(""));const c=new rn(new Ie(l),0);let d=new Xt(et);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.Yr)),!0)}),c),ue.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){dt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ue.forEach(t.mutations,(a=>{const l=new rn(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new rn(t,0),a=this.Zr.firstAfterOrEqual(s);return ue.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.ri=e,this.docs=(function(){return new Nt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ue.resolve(s?s.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let s=ji();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Tn.newInvalidDocument(a))})),ue.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=ji();const c=t.path,d=new Ie(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||CN(RN(v),s)<=0||(a.has(v.key)||yf(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Le(9500)}ii(e,t){return ue.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new ZO(this)}getSize(e){return ue.resolve(this.size)}}class ZO extends GO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.persistence=e,this.si=new Pa((t=>ig(t)),sg),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new cg,this.targetCount=0,this.ai=Fo.ur()}forEachTarget(e,t){return this.si.forEach(((s,a)=>t(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Pr(t),ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ue.waitFor(l).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ue.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ue.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ue.resolve(s)}containsKey(e,t){return ue.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t){this.ui={},this.overlays={},this.ci=new df(0),this.li=!1,this.li=!0,this.hi=new XO,this.referenceDelegate=e(this),this.Pi=new e2(this),this.indexManager=new UO,this.remoteDocumentCache=(function(a){return new JO(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new LO(t),this.Ii=new YO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new WO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ve("MemoryPersistence","Starting transaction:",e);const a=new t2(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ue.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class t2 extends xN{constructor(e){super(),this.currentSequenceNumber=e}}class hg{constructor(e){this.persistence=e,this.Ri=new cg,this.Vi=null}static mi(e){return new hg(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ue.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(s=>{const a=Ie.fromPath(s);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Be.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Jh{constructor(e,t){this.persistence=e,this.pi=new Pa((s=>ON(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=qO(this,t)}static mi(e,t){return new Jh(e,t)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ue.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ue.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(s++,l.removeEntry(c,Be.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ch(e.data.value)),t}br(e,t,s){return ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ue.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=tt(),a=tt();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new fg(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PC()?8:DN(Sn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new n2;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,s,a){return s.documentReadCount<this.fs?(Ro()<=Ze.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(Ro()<=Ze.DEBUG&&ve("QueryEngine","Query:",Co(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Ro()<=Ze.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(t))):ue.resolve())}ys(e,t){if(mT(t))return ue.resolve(null);let s=ei(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=mm(t,null,"F"),s=ei(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=tt(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const m=this.Ds(t,d);return this.Cs(t,m,c,p.readTime)?this.ys(e,mm(t,null,"F")):this.vs(e,m,t,p)}))))})))))}ws(e,t,s,a){return mT(t)||a.isEqual(Be.min())?ue.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,a)?ue.resolve(null):(Ro()<=Ze.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Co(t)),this.vs(e,c,t,AN(a,Su)).next((d=>d)))}))}Ds(e,t){let s=new Xt(ob(e));return t.forEach(((a,l)=>{yf(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return Ro()<=Ze.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Co(t)),this.ps.getDocumentsMatchingQuery(e,t,Vs.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="LocalStore",i2=3e8;class s2{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Nt(et),this.xs=new Pa((l=>ig(l)),sg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function a2(r,e,t,s){return new s2(r,e,t,s)}async function Nb(r,e){const t=He(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let p=tt();for(const m of a){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){d.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function o2(r,e){const t=He(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,v){const T=m.batch,S=T.keys();let A=ue.resolve();return S.forEach((D=>{A=A.next((()=>v.getEntry(p,D))).next((Y=>{const U=m.docVersions.get(D);dt(U!==null,48541),Y.version.compareTo(U)<0&&(T.applyToRemoteDocument(Y,m),Y.isValidDocument()&&(Y.setReadTime(m.commitVersion),v.addEntry(Y)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=tt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function Ob(r){const e=He(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function l2(r,e){const t=He(r),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((v,T)=>{const S=a.get(T);if(!S)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,T))));let A=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?A=A.withResumeToken(pn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,s)),a=a.insert(T,A),(function(Y,U,Q){return Y.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=i2?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(S,A,v)&&d.push(t.Pi.updateTargetData(l,A))}));let p=ji(),m=tt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(u2(l,c,e.documentUpdates).next((v=>{p=v.ks,m=v.qs}))),!s.isEqual(Be.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return ue.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(t.Ms=a,l)))}function u2(r,e,t){let s=tt(),a=tt();return t.forEach((l=>s=s.add(l))),e.getEntries(r,s).next((l=>{let c=ji();return t.forEach(((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Be.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ve(dg,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function c2(r,e){const t=He(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=tg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function h2(r,e){const t=He(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Pi.getTargetData(s,e).next((l=>l?(a=l,ue.resolve(a)):t.Pi.allocateTargetId(s).next((c=>(a=new Cs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Em(r,e,t){const s=He(r),a=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Xo(c))throw c;ve(dg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function IT(r,e,t){const s=He(r);let a=Be.min(),l=tt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,v){const T=He(p),S=T.xs.get(v);return S!==void 0?ue.resolve(T.Ms.get(S)):T.Pi.getTargetData(m,v)})(s,c,ei(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?a:Be.min(),t?l:tt()))).next((d=>(f2(s,WN(e),d),{documents:d,Qs:l})))))}function f2(r,e,t){let s=r.Os.get(e)||Be.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),r.Os.set(e,s)}class xT{constructor(){this.activeTargetIds=rO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d2{constructor(){this.Mo=new xT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="ConnectivityMonitor";class NT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(DT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(DT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function Tm(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="RestConnection",m2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Gh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,l){const c=Tm(),d=this.zo(e,t.toUriEncodedString());ve(Fp,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:m}=new URL(d),v=Go(m);return this.Jo(e,d,p,s,v).then((T=>(ve(Fp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw jo(Fp,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(e,t,s,a,l,c){return this.Go(e,t,s,a,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const s=m2[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class v2 extends g2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const c=Tm();return new Promise(((d,p)=>{const m=new MS;m.setWithCredentials(!0),m.listenOnce(PS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Rh.NO_ERROR:const T=m.getResponseJson();ve(_n,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Rh.TIMEOUT:ve(_n,`RPC '${e}' ${c} timed out`),p(new _e(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const S=m.getStatus();if(ve(_n,`RPC '${e}' ${c} failed with status:`,S,"response text:",m.getResponseText()),S>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const Y=(function(Q){const X=Q.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(X)>=0?X:oe.UNKNOWN})(D.status);p(new _e(Y,D.message))}else p(new _e(oe.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new _e(oe.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ve(_n,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ve(_n,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",v,s,15)}))}T_(e,t,s){const a=Tm(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=kS(),d=LS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=l.join("");ve(_n,`Creating RPC '${e}' stream ${a}: ${v}`,p);const T=c.createWebChannel(v,p);this.I_(T);let S=!1,A=!1;const D=new y2({Yo:U=>{A?ve(_n,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(S||(ve(_n,`Opening RPC '${e}' stream ${a} transport.`),T.open(),S=!0),ve(_n,`RPC '${e}' stream ${a} sending:`,U),T.send(U))},Zo:()=>T.close()}),Y=(U,Q,X)=>{U.listen(Q,(ne=>{try{X(ne)}catch(fe){setTimeout((()=>{throw fe}),0)}}))};return Y(T,au.EventType.OPEN,(()=>{A||(ve(_n,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),Y(T,au.EventType.CLOSE,(()=>{A||(A=!0,ve(_n,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(T))})),Y(T,au.EventType.ERROR,(U=>{A||(A=!0,jo(_n,`RPC '${e}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),D.a_(new _e(oe.UNAVAILABLE,"The operation could not be completed")))})),Y(T,au.EventType.MESSAGE,(U=>{if(!A){const Q=U.data[0];dt(!!Q,16349);const X=Q,ne=X?.error||X[0]?.error;if(ne){ve(_n,`RPC '${e}' stream ${a} received error:`,ne);const fe=ne.status;let se=(function(R){const C=Ht[R];if(C!==void 0)return _b(C)})(fe),k=ne.message;se===void 0&&(se=oe.INTERNAL,k="Unknown error status: "+fe+" with message "+ne.message),A=!0,D.a_(new _e(se,k)),T.close()}else ve(_n,`RPC '${e}' stream ${a} received:`,Q),D.u_(Q)}})),Y(d,VS.STAT_EVENT,(U=>{U.stat===lm.PROXY?ve(_n,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===lm.NOPROXY&&ve(_n,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(r){return new SO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="PersistentStream";class Pb{constructor(e,t,s,a,l,c,d,p){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Mb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new _e(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(OT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ve(OT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _2 extends Pb{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=AO(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?ti(c.readTime):Be.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=_m(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=dm(p)?{documents:IO(l,p)}:{query:xO(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Sb(l,c.resumeToken);const m=gm(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Be.min())>0){d.readTime=Wh(l,c.snapshotVersion.toTimestamp());const m=gm(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const s=NO(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=_m(this.serializer),t.removeTarget=e,this.q_(t)}}class E2 extends Pb{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=CO(e.writeResults,e.commitTime),s=ti(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=_m(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>RO(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{}class S2 extends T2{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,ym(t,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(oe.UNKNOWN,l.toString())}))}Ho(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,ym(t,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class b2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class w2{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{La(this)&&(ve(Da,"Restarting streams for network reachability change."),await(async function(p){const m=He(p);m.Ea.add(4),await Fu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Sf(m)})(this))}))})),this.Ra=new b2(s,a)}}async function Sf(r){if(La(r))for(const e of r.da)await e(!0)}async function Fu(r){for(const e of r.da)await e(!1)}function Vb(r,e){const t=He(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),yg(t)?gg(t):Wo(t).O_()&&mg(t,e))}function pg(r,e){const t=He(r),s=Wo(t);t.Ia.delete(e),s.O_()&&Lb(t,e),t.Ia.size===0&&(s.O_()?s.L_():La(t)&&t.Ra.set("Unknown"))}function mg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wo(r).Y_(e)}function Lb(r,e){r.Va.Ue(e),Wo(r).Z_(e)}function gg(r){r.Va=new vO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Wo(r).start(),r.Ra.ua()}function yg(r){return La(r)&&!Wo(r).x_()&&r.Ia.size>0}function La(r){return He(r).Ea.size===0}function kb(r){r.Va=void 0}async function A2(r){r.Ra.set("Online")}async function R2(r){r.Ia.forEach(((e,t)=>{mg(r,e)}))}async function C2(r,e){kb(r),yg(r)?(r.Ra.ha(e),gg(r)):r.Ra.set("Unknown")}async function I2(r,e,t){if(r.Ra.set("Online"),e instanceof Tb&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(r,e)}catch(s){ve(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zh(r,s)}else if(e instanceof Dh?r.Va.Ze(e):e instanceof Eb?r.Va.st(e):r.Va.tt(e),!t.isEqual(Be.min()))try{const s=await Ob(r.localStore);t.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,m)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(pn.EMPTY_BYTE_STRING,v.snapshotVersion)),Lb(l,p);const T=new Cs(v.target,p,m,v.sequenceNumber);mg(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(s){ve(Da,"Failed to raise snapshot:",s),await Zh(r,s)}}async function Zh(r,e,t){if(!Xo(e))throw e;r.Ea.add(1),await Fu(r),r.Ra.set("Offline"),t||(t=()=>Ob(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ve(Da,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Sf(r)}))}function Ub(r,e){return e().catch((t=>Zh(r,t,e)))}async function bf(r){const e=He(r),t=js(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tg;for(;x2(e);)try{const a=await c2(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,D2(e,a)}catch(a){await Zh(e,a)}jb(e)&&zb(e)}function x2(r){return La(r)&&r.Ta.length<10}function D2(r,e){r.Ta.push(e);const t=js(r);t.O_()&&t.X_&&t.ea(e.mutations)}function jb(r){return La(r)&&!js(r).x_()&&r.Ta.length>0}function zb(r){js(r).start()}async function N2(r){js(r).ra()}async function O2(r){const e=js(r);for(const t of r.Ta)e.ea(t.mutations)}async function M2(r,e,t){const s=r.Ta.shift(),a=og.from(s,e,t);await Ub(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await bf(r)}async function P2(r,e){e&&js(r).X_&&await(async function(s,a){if((function(c){return mO(c)&&c!==oe.ABORTED})(a.code)){const l=s.Ta.shift();js(s).B_(),await Ub(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await bf(s)}})(r,e),jb(r)&&zb(r)}async function MT(r,e){const t=He(r);t.asyncQueue.verifyOperationInProgress(),ve(Da,"RemoteStore received new credentials");const s=La(t);t.Ea.add(3),await Fu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Sf(t)}async function V2(r,e){const t=He(r);e?(t.Ea.delete(2),await Sf(t)):e||(t.Ea.add(2),await Fu(t),t.Ra.set("Unknown"))}function Wo(r){return r.ma||(r.ma=(function(t,s,a){const l=He(t);return l.sa(),new _2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:A2.bind(null,r),t_:R2.bind(null,r),r_:C2.bind(null,r),H_:I2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),yg(r)?gg(r):r.Ra.set("Unknown")):(await r.ma.stop(),kb(r))}))),r.ma}function js(r){return r.fa||(r.fa=(function(t,s,a){const l=He(t);return l.sa(),new E2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:N2.bind(null,r),r_:P2.bind(null,r),ta:O2.bind(null,r),na:M2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await bf(r)):(await r.fa.stop(),r.Ta.length>0&&(ve(Da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,d=new vg(e,t,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),Xo(r))return new _e(oe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ie.comparator(t.key,s.key):(t,s)=>Ie.comparator(t.key,s.key),this.keyedMap=ou(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.ga=new Nt(Ie.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class qo{constructor(e,t,s,a,l,c,d,p,m){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new qo(e,t,Vo.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class k2{constructor(){this.queries=VT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=He(t),l=a.queries;a.queries=VT(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new _e(oe.ABORTED,"Firestore shutting down"))}}function VT(){return new Pa((r=>ab(r)),gf)}async function U2(r,e){const t=He(r);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new L2,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=_g(c,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Eg(t)}async function j2(r,e){const t=He(r),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function z2(r,e){const t=He(r);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&Eg(t)}function B2(r,e,t){const s=He(r),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function Eg(r){r.Ca.forEach((e=>{e.next()}))}var Sm,LT;(LT=Sm||(Sm={})).Ma="default",LT.Cache="cache";class H2{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new qo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.key=e}}class Hb{constructor(e){this.key=e}}class F2{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=ob(e),this.tu=new Vo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new PT,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,T)=>{const S=a.get(v),A=yf(this.query,T)?T:null,D=!!S&&this.mutatedKeys.has(S.key),Y=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let U=!1;S&&A?S.data.isEqual(A.data)?D!==Y&&(s.track({type:3,doc:A}),U=!0):this.su(S,A)||(s.track({type:2,doc:A}),U=!0,(p&&this.eu(A,p)>0||m&&this.eu(A,m)<0)&&(d=!0)):!S&&A?(s.track({type:0,doc:A}),U=!0):S&&!A&&(s.track({type:1,doc:S}),U=!0,(p||m)&&(d=!0)),U&&(A?(c=c.add(A),l=Y?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,T)=>(function(A,D){const Y=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:U})}};return Y(A)-Y(D)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),a=a??!1;const d=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new qo(this.query,e.tu,l,c,e.mutatedKeys,p===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new PT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new Hb(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new Bb(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=tt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tg="SyncEngine";class q2{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class G2{constructor(e){this.key=e,this.hu=!1}}class $2{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Pa((d=>ab(d)),gf),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(Ie.comparator),this.Au=new Map,this.Ru=new cg,this.Vu={},this.mu=new Map,this.fu=Fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function K2(r,e,t=!0){const s=Yb(r);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Fb(s,e,t,!0),a}async function Y2(r,e){const t=Yb(r);await Fb(t,e,!0,!1)}async function Fb(r,e,t,s){const a=await h2(r.localStore,ei(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await Q2(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&Vb(r.remoteStore,a),d}async function Q2(r,e,t,s,a){r.pu=(T,S,A)=>(async function(Y,U,Q,X){let ne=U.view.ru(Q);ne.Cs&&(ne=await IT(Y.localStore,U.query,!1).then((({documents:x})=>U.view.ru(x,ne))));const fe=X&&X.targetChanges.get(U.targetId),se=X&&X.targetMismatches.get(U.targetId)!=null,k=U.view.applyChanges(ne,Y.isPrimaryClient,fe,se);return UT(Y,U.targetId,k.au),k.snapshot})(r,T,S,A);const l=await IT(r.localStore,e,!0),c=new F2(e,l.Qs),d=c.ru(l.documents),p=Hu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",a),m=c.applyChanges(d,r.isPrimaryClient,p);UT(r,t,m.au);const v=new q2(e,t,c);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),m.snapshot}async function X2(r,e,t){const s=He(r),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!gf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Em(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&pg(s.remoteStore,a.targetId),bm(s,a.targetId)})).catch(Qo)):(bm(s,a.targetId),await Em(s.localStore,a.targetId,!0))}async function W2(r,e){const t=He(r),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),pg(t.remoteStore,s.targetId))}async function J2(r,e,t){const s=sM(r);try{const a=await(function(c,d){const p=He(c),m=Rt.now(),v=d.reduce(((A,D)=>A.add(D.key)),tt());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=ji(),Y=tt();return p.Ns.getEntries(A,v).next((U=>{D=U,D.forEach(((Q,X)=>{X.isValidDocument()||(Y=Y.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,D))).next((U=>{T=U;const Q=[];for(const X of d){const ne=cO(X,T.get(X.key).overlayedDocument);ne!=null&&Q.push(new Va(X.key,ne,WS(ne.value.mapValue),Vi.exists(!0)))}return p.mutationQueue.addMutationBatch(A,m,Q,d)})).next((U=>{S=U;const Q=U.applyToLocalDocumentSet(T,Y);return p.documentOverlayCache.saveOverlays(A,U.batchId,Q)}))})).then((()=>({batchId:S.batchId,changes:ub(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new Nt(et)),m=m.insert(d,p),c.Vu[c.currentUser.toKey()]=m})(s,a.batchId,t),await qu(s,a.changes),await bf(s.remoteStore)}catch(a){const l=_g(a,"Failed to persist write");t.reject(l)}}async function qb(r,e){const t=He(r);try{const s=await l2(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(dt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?dt(c.hu,14607):a.removedDocuments.size>0&&(dt(c.hu,42227),c.hu=!1))})),await qu(t,s,e)}catch(s){await Qo(s)}}function kT(r,e,t){const s=He(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=He(c);p.onlineState=d;let m=!1;p.queries.forEach(((v,T)=>{for(const S of T.Sa)S.va(d)&&(m=!0)})),m&&Eg(p)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Z2(r,e,t){const s=He(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new Nt(Ie.comparator);c=c.insert(l,Tn.newNoDocument(l,Be.min()));const d=tt().add(l),p=new Ef(Be.min(),new Map,new Nt(et),c,d);await qb(s,p),s.du=s.du.remove(l),s.Au.delete(e),Sg(s)}else await Em(s.localStore,e,!1).then((()=>bm(s,e,t))).catch(Qo)}async function eM(r,e){const t=He(r),s=e.batch.batchId;try{const a=await o2(t.localStore,e);$b(t,s,null),Gb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await qu(t,a)}catch(a){await Qo(a)}}async function tM(r,e,t){const s=He(r);try{const a=await(function(c,d){const p=He(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return p.mutationQueue.lookupMutationBatch(m,d).next((T=>(dt(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(m,T)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>p.localDocuments.getDocuments(m,v)))}))})(s.localStore,e);$b(s,e,t),Gb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await qu(s,a)}catch(a){await Qo(a)}}function Gb(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function $b(r,e,t){const s=He(r);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function bm(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Kb(r,s)}))}function Kb(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(pg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Sg(r))}function UT(r,e,t){for(const s of t)s instanceof Bb?(r.Ru.addReference(s.key,e),nM(r,s)):s instanceof Hb?(ve(Tg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Kb(r,s.key)):Le(19791,{wu:s})}function nM(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(ve(Tg,"New document in limbo: "+t),r.Eu.add(s),Sg(r))}function Sg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ie(At.fromString(e)),s=r.fu.next();r.Au.set(s,new G2(t)),r.du=r.du.insert(t,s),Vb(r.remoteStore,new Cs(ei(ib(t.path)),s,"TargetPurposeLimboResolution",df.ce))}}async function qu(r,e,t){const s=He(r),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,e,t).then((m=>{if((m||t)&&s.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(m){a.push(m);const v=fg.As(p.targetId,m);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(p,m){const v=He(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ue.forEach(m,(S=>ue.forEach(S.Es,(A=>v.persistence.referenceDelegate.addReference(T,S.targetId,A))).next((()=>ue.forEach(S.ds,(A=>v.persistence.referenceDelegate.removeReference(T,S.targetId,A)))))))))}catch(T){if(!Xo(T))throw T;ve(dg,"Failed to update sequence numbers: "+T)}for(const T of m){const S=T.targetId;if(!T.fromCache){const A=v.Ms.get(S),D=A.snapshotVersion,Y=A.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(S,Y)}}})(s.localStore,l))}async function rM(r,e){const t=He(r);if(!t.currentUser.isEqual(e)){ve(Tg,"User change. New user:",e.toKey());const s=await Nb(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new _e(oe.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await qu(t,s.Ls)}}function iM(r,e){const t=He(r),s=t.Au.get(e);if(s&&s.hu)return tt().add(s.key);{let a=tt();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function Yb(r){const e=He(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z2.bind(null,e),e.Pu.H_=z2.bind(null,e.eventManager),e.Pu.yu=B2.bind(null,e.eventManager),e}function sM(r){const e=He(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tM.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return a2(this.persistence,new r2,e.initialUser,this.serializer)}Cu(e){return new Db(hg.mi,this.serializer)}Du(e){return new d2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class aM extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){dt(this.persistence.referenceDelegate instanceof Jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new HO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new Db((s=>Jh.mi(s,t)),this.serializer)}}class wm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>kT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=rM.bind(null,this.syncEngine),await V2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new k2})()}createDatastore(e){const t=Tf(e.databaseInfo.databaseId),s=(function(l){return new v2(l)})(e.databaseInfo);return(function(l,c,d,p){return new S2(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,c,d){return new w2(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>kT(this.syncEngine,t,0)),(function(){return NT.v()?new NT:new p2})())}createSyncEngine(e,t){return(function(a,l,c,d,p,m,v){const T=new $2(a,l,c,d,p,m);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=He(t);ve(Da,"RemoteStore shutting down."),s.Ea.add(5),await Fu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="FirestoreClient";class lM{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=En.UNAUTHENTICATED,this.clientId=eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ve(zs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ve(zs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=_g(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Gp(r,e){r.asyncQueue.verifyOperationInProgress(),ve(zs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Nb(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function jT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await uM(r);ve(zs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>MT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,a)=>MT(e.remoteStore,a))),r._onlineComponents=e}async function uM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(zs,"Using user provided OfflineComponentProvider");try{await Gp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),await Gp(r,new ef)}}else ve(zs,"Using default OfflineComponentProvider"),await Gp(r,new aM(void 0));return r._offlineComponents}async function Qb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(zs,"Using user provided OnlineComponentProvider"),await jT(r,r._uninitializedComponentsProvider._online)):(ve(zs,"Using default OnlineComponentProvider"),await jT(r,new wm))),r._onlineComponents}function cM(r){return Qb(r).then((e=>e.syncEngine))}async function hM(r){const e=await Qb(r),t=e.eventManager;return t.onListen=K2.bind(null,e.syncEngine),t.onUnlisten=X2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Y2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=W2.bind(null,e.syncEngine),t}function fM(r,e,t={}){const s=new Os;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,m){const v=new oM({next:S=>{v.Nu(),c.enqueueAndForget((()=>j2(l,T))),S.fromCache&&p.source==="server"?m.reject(new _e(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),T=new H2(d,v,{includeMetadataChanges:!0,qa:!0});return U2(l,T)})(await hM(r),r.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="firestore.googleapis.com",BT=!0;class HT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wb,this.ssl=BT}else this.host=e.host,this.ssl=e.ssl??BT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zO)throw new _e(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new pN;switch(s.type){case"firstParty":return new vN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=zT.get(t);s&&(ve("ComponentProvider","Removing Datastore"),zT.delete(t),s.terminate())})(this),Promise.resolve()}}function dM(r,e,t,s={}){r=Fh(r,wf);const a=Go(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(F0(`https://${d}`),q0("Firestore",!0)),l.host!==Wb&&l.host!==d&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:s};if(!Aa(p,c)&&(r._setSettings(p),s.mockUserToken)){let m,v;if(typeof s.mockUserToken=="string")m=s.mockUserToken,v=En.MOCK_USER;else{m=AC(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new _e(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new En(T)}r._authCredentials=new mN(new jS(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class sn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(ju(t,sn._jsonSchema))return new sn(e,s||null,new Ie(At.fromString(t.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:qt("string",sn._jsonSchemaVersion),referencePath:qt("string")};class Ms extends Jo{constructor(e,t,s){super(e,t,ib(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ie(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function Jb(r,e,...t){if(r=On(r),zS("collection","path",e),r instanceof wf){const s=At.fromString(e,...t);return tT(s),new Ms(r,null,s)}{if(!(r instanceof sn||r instanceof Ms))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(At.fromString(e,...t));return tT(s),new Ms(r.firestore,null,s)}}function pM(r,e,...t){if(r=On(r),arguments.length===1&&(e=eg.newId()),zS("doc","path",e),r instanceof wf){const s=At.fromString(e,...t);return eT(s),new sn(r,null,new Ie(s))}{if(!(r instanceof sn||r instanceof Ms))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(At.fromString(e,...t));return eT(s),new sn(r.firestore,r instanceof Ms?r.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="AsyncQueue";class qT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Mb(this,"async_queue_retry"),this._c=()=>{const s=qp();s&&ve(FT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=qp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=qp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xo(e))throw e;ve(FT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",GT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=vg.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Le(47125,{Pc:GT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function GT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class bg extends wf{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new qT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qT(e),this._firestoreClient=void 0,await e}}}function mM(r,e){const t=typeof r=="object"?r:Y0(),s=typeof r=="string"?r:Gh,a=qm(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=bC("firestore");l&&dM(a,...l)}return a}function Zb(r){if(r._terminated)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||gM(r),r._firestoreClient}function gM(r){const e=r._freezeSettings(),t=(function(a,l,c,d){return new VN(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Xb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new lM(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yr(pn.fromBase64String(e))}catch(t){throw new _e(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yr(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ju(e,yr._jsonSchema))return yr.fromBase64String(e.bytes)}}yr._jsonSchemaVersion="firestore/bytes/1.0",yr._jsonSchema={type:qt("string",yr._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ni._jsonSchemaVersion}}static fromJSON(e){if(ju(e,ni._jsonSchema))return new ni(e.latitude,e.longitude)}}ni._jsonSchemaVersion="firestore/geoPoint/1.0",ni._jsonSchema={type:qt("string",ni._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ju(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ri(e.vectorValues);throw new _e(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:qt("string",ri._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=/^__.*__$/;class vM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}function tw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:r})}}class Ag{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ag({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tw(this.Ac)&&yM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _M{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Tf(e)}Cc(e,t,s,a=!1){return new Ag({Ac:e,methodName:t,Dc:s,path:dn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nw(r){const e=r._freezeSettings(),t=Tf(r._databaseId);return new _M(r._databaseId,!!e.ignoreUndefinedProperties,t)}function EM(r,e,t,s,a,l={}){const c=r.Cc(l.merge||l.mergeFields?2:0,e,t,a);sw("Data must be an object, but it was:",c,s);const d=rw(s,c);let p,m;if(l.merge)p=new Ir(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const S=SM(e,T,t);if(!c.contains(S))throw new _e(oe.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);wM(v,S)||v.push(S)}p=new Ir(v),m=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,m=c.fieldTransforms;return new vM(new gr(d),p,m)}function TM(r,e,t,s=!1){return Rg(t,r.Cc(s?4:3,e))}function Rg(r,e){if(iw(r=On(r)))return sw("Unsupported field value:",e,r),rw(r,e);if(r instanceof ew)return(function(s,a){if(!tw(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let p=Rg(d,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(r,e)}return(function(s,a){if((s=On(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Rt.fromDate(s);return{timestampValue:Wh(a.serializer,l)}}if(s instanceof Rt){const l=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(a.serializer,l)}}if(s instanceof ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yr)return{bytesValue:Sb(a.serializer,s._byteString)};if(s instanceof sn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ug(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ri)return(function(c,d){return{mapValue:{fields:{[QS]:{stringValue:XS},[$h]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return ag(d.serializer,m)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${ff(s)}`)})(r,e)}function rw(r,e){const t={};return FS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(r,((s,a)=>{const l=Rg(a,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function iw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof ni||r instanceof yr||r instanceof sn||r instanceof ew||r instanceof ri)}function sw(r,e,t){if(!iw(t)||!BS(t)){const s=ff(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function SM(r,e,t){if((e=On(e))instanceof wg)return e._internalPath;if(typeof e=="string")return aw(r,e);throw tf("Field path arguments must be of type string or ",r,!1,void 0,t)}const bM=new RegExp("[~\\*/\\[\\]]");function aw(r,e,t){if(e.search(bM)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new wg(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function tf(r,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new _e(oe.INVALID_ARGUMENT,d+r+p)}function wM(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AM extends ow{data(){return super.data()}}function Cg(r,e){return typeof e=="string"?aw(r,e):e instanceof wg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new _e(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class CM extends Ig{}function IM(r,e,...t){let s=[];e instanceof Ig&&s.push(e),s=s.concat(t),(function(l){const c=l.filter((p=>p instanceof xg)).length,d=l.filter((p=>p instanceof Af)).length;if(c>1||c>0&&d>0)throw new _e(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)r=a._apply(r);return r}class Af extends CM{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Af(e,t,s)}_apply(e){const t=this._parse(e);return lw(e._query,t),new Jo(e.firestore,e.converter,pm(e._query,t))}_parse(e){const t=nw(e.firestore);return(function(l,c,d,p,m,v,T){let S;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new _e(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){KT(T,v);const D=[];for(const Y of T)D.push($T(p,l,Y));S={arrayValue:{values:D}}}else S=$T(p,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||KT(T,v),S=TM(d,c,T,v==="in"||v==="not-in");return Ft.create(m,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xM(r,e,t){const s=e,a=Cg("where",r);return Af._create(a,s,t)}class xg extends Ig{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)lw(c,p),c=pm(c,p)})(e._query,t),new Jo(e.firestore,e.converter,pm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $T(r,e,t){if(typeof(t=On(t))=="string"){if(t==="")throw new _e(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sb(e)&&t.indexOf("/")!==-1)throw new _e(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(At.fromString(t));if(!Ie.isDocumentKey(s))throw new _e(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return uT(r,new Ie(s))}if(t instanceof sn)return uT(r,t._key);throw new _e(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(t)}.`)}function KT(r,e){if(!Array.isArray(r)||r.length===0)throw new _e(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lw(r,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new _e(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class DM{convertValue(e,t="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ma(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[$h].arrayValue?.values?.map((s=>Lt(s.doubleValue)));return new ri(t)}convertGeoPoint(e){return new ni(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=mf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const t=Ls(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=At.fromString(e);dt(Ib(s),9688,{name:e});const a=new wu(s.get(1),s.get(3)),l=new Ie(s.popFirst(5));return a.isEqual(t)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class mh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lo extends ow{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Cg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Lo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lo._jsonSchema={type:qt("string",Lo._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Nh extends Lo{data(e={}){return super.data(e)}}class ko{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new mh(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Nh(this._firestore,this._userDataWriter,s.key,s,new mh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new Nh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new mh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new Nh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new mh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:OM(d.type),doc:p,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:r})}}ko._jsonSchemaVersion="firestore/querySnapshot/1.0",ko._jsonSchema={type:qt("string",ko._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class MM extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new yr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,t)}}function PM(r){r=Fh(r,Jo);const e=Fh(r.firestore,bg),t=Zb(e),s=new MM(e);return RM(r._query),fM(t,r._query).then((a=>new ko(e,s,r,a)))}function VM(r,e){const t=Fh(r.firestore,bg),s=pM(r),a=NM(r.converter,e);return LM(t,[EM(nw(r.firestore),"addDoc",s._key,a,r.converter!==null,{}).toMutation(s._key,Vi.exists(!1))]).then((()=>s))}function LM(r,e){return(function(s,a){const l=new Os;return s.asyncQueue.enqueueAndForget((async()=>J2(await cM(s),a,l))),l.promise})(Zb(r),e)}(function(e,t=!0){(function(a){Yo=a})($o),Uo(new Ra("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new bg(new gN(s.getProvider("auth-internal")),new _N(c,s.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _e(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(m.options.projectId,v)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ds(XE,WE,e),Ds(XE,WE,"esm2020")})();const kM={apiKey:"AIzaSyDPnoNYJ95g54IE8Dmt3YtKXx3pfB5B4i4",authDomain:"rest-client-app-e010a.firebaseapp.com",projectId:"rest-client-app-e010a",storageBucket:"rest-client-app-e010a.appspot.com",messagingSenderId:"797035696388",appId:"1:797035696388:web:f8451161f4e8bed8794051"},uw=K0(kM),Dg=NS(uw),cw=mM(uw);async function UM(r,e){const t=NS(),s=await Xx(t,r,e);return{id:s.user.uid,email:s.user.email??"",name:s.user.displayName??""}}async function jM(r,e){const t=await Qx(Dg,r,e);return{id:t.user.uid,email:t.user.email??"",name:t.user.displayName??""}}function zM(){eD(Dg)}async function Ng(){return new Promise(r=>{Zx(Dg,e=>{r(e?{id:e.uid,email:e.email??"",name:e.displayName??""}:null)})})}const hw=B.createContext({user:null,login:async()=>{throw new Error("AuthContext not initialized")},logout:()=>{throw new Error("AuthContext not initialized")}}),fw=()=>B.useContext(hw);function BM({children:r}){const[e,t]=B.useState(null);B.useEffect(()=>{Ng().then(t)},[]);const s=async(l,c)=>{const d=await UM(l,c);return t(d),d},a=()=>{zM(),t(null)};return ee.jsx(hw.Provider,{value:{user:e,login:s,logout:a},children:r})}const HM=(r,e,t,s)=>{const a=[t,{code:e,...s||{}}];if(r?.services?.logger?.forward)return r.services.logger.forward(a,"warn","react-i18next::",!0);wa(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),r?.services?.logger?.warn?r.services.logger.warn(...a):console?.warn&&console.warn(...a)},YT={},Am=(r,e,t,s)=>{wa(t)&&YT[t]||(wa(t)&&(YT[t]=new Date),HM(r,e,t,s))},dw=(r,e)=>()=>{if(r.isInitialized)e();else{const t=()=>{setTimeout(()=>{r.off("initialized",t)},0),e()};r.on("initialized",t)}},Rm=(r,e,t)=>{r.loadNamespaces(e,dw(r,t))},QT=(r,e,t,s)=>{if(wa(t)&&(t=[t]),r.options.preload&&r.options.preload.indexOf(e)>-1)return Rm(r,t,s);t.forEach(a=>{r.options.ns.indexOf(a)<0&&r.options.ns.push(a)}),r.loadLanguages(e,dw(r,s))},FM=(r,e,t={})=>!e.languages||!e.languages.length?(Am(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(r,{lng:t.lng,precheck:(s,a)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!a(s.isLanguageChangingTo,r))return!1}}),wa=r=>typeof r=="string",qM=r=>typeof r=="object"&&r!==null,GM=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$M={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},KM=r=>$M[r],YM=r=>r.replace(GM,KM);let Cm={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:YM};const QM=(r={})=>{Cm={...Cm,...r}},XM=()=>Cm;let pw;const WM=r=>{pw=r},JM=()=>pw,ZM={type:"3rdParty",init(r){QM(r.options.react),WM(r)}},eP=B.createContext();class tP{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const nP=(r,e)=>{const t=B.useRef();return B.useEffect(()=>{t.current=r},[r,e]),t.current},mw=(r,e,t,s)=>r.getFixedT(e,t,s),rP=(r,e,t,s)=>B.useCallback(mw(r,e,t,s),[r,e,t,s]),oi=(r,e={})=>{const{i18n:t}=e,{i18n:s,defaultNS:a}=B.useContext(eP)||{},l=t||s||JM();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new tP),!l){Am(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const fe=(k,x)=>wa(x)?x:qM(x)&&wa(x.defaultValue)?x.defaultValue:Array.isArray(k)?k[k.length-1]:k,se=[fe,{},!1];return se.t=fe,se.i18n={},se.ready=!1,se}l.options.react?.wait&&Am(l,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...XM(),...l.options.react,...e},{useSuspense:d,keyPrefix:p}=c;let m=a||l.options?.defaultNS;m=wa(m)?[m]:m||["translation"],l.reportNamespaces.addUsedNamespaces?.(m);const v=(l.isInitialized||l.initializedStoreOnce)&&m.every(fe=>FM(fe,l,c)),T=rP(l,e.lng||null,c.nsMode==="fallback"?m:m[0],p),S=()=>T,A=()=>mw(l,e.lng||null,c.nsMode==="fallback"?m:m[0],p),[D,Y]=B.useState(S);let U=m.join();e.lng&&(U=`${e.lng}${U}`);const Q=nP(U),X=B.useRef(!0);B.useEffect(()=>{const{bindI18n:fe,bindI18nStore:se}=c;X.current=!0,!v&&!d&&(e.lng?QT(l,e.lng,m,()=>{X.current&&Y(A)}):Rm(l,m,()=>{X.current&&Y(A)})),v&&Q&&Q!==U&&X.current&&Y(A);const k=()=>{X.current&&Y(A)};return fe&&l?.on(fe,k),se&&l?.store.on(se,k),()=>{X.current=!1,l&&fe&&fe?.split(" ").forEach(x=>l.off(x,k)),se&&l&&se.split(" ").forEach(x=>l.store.off(x,k))}},[l,U]),B.useEffect(()=>{X.current&&v&&Y(S)},[l,p,v]);const ne=[D,l,v];if(ne.t=D,ne.i18n=l,ne.ready=v,v||!v&&!d)return ne;throw new Promise(fe=>{e.lng?QT(l,e.lng,m,()=>fe()):Rm(l,m,()=>fe())})},iP=[{code:"en",label:"English"},{code:"pl",label:"Polski"}];function sP(){const{i18n:r}=oi(),[e,t]=B.useState(r.language||"en");B.useEffect(()=>{const a=localStorage.getItem("lang");a&&a!==r.language&&(r.changeLanguage(a),t(a))},[r]);const s=a=>{const l=a.target.value;r.changeLanguage(l),localStorage.setItem("lang",l),t(l)};return ee.jsx("div",{className:"language-switcher",children:ee.jsx("select",{style:{width:"80px",height:"24px",padding:0},value:e,onChange:s,className:"rounded px-2 py-1 border border-gray-300 bg-white text-sm",children:iP.map(a=>ee.jsx("option",{value:a.code,children:a.label},a.code))})})}function aP(){const{pathname:r}=Hs(),e=[{path:"/signin",label:"Sign In"},{path:"/signup",label:"Sign Up"},{path:"/rest",label:"REST Client"},{path:"/history",label:"History"},{path:"/variables",label:"Variables"}];let t="No user is signed in";const{user:s,logout:a}=fw();return s?t=s.email:t="No user is signed",ee.jsxs("header",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-md px-6 py-4 flex justify-between items-center",children:[ee.jsx("h1",{className:"text-xl font-bold tracking-wide",children:"REST Client"}),ee.jsxs("nav",{className:"flex gap-4",children:[e.map(({path:l,label:c})=>l==="/signin"||l==="/signup"?s?"":ee.jsx(ba,{to:l,className:`text-sm font-medium hover:underline ${r===l?"underline font-semibold":""}`,children:c},l):ee.jsx(ba,{to:l,className:`text-sm font-medium hover:underline ${r===l?"underline font-semibold":""}`,children:c},l)),ee.jsxs("span",{children:[" ",ee.jsx("b",{children:"User: "})," ",t]}),s?ee.jsxs("span",{onClick:a,style:{color:"red",cursor:"pointer"},children:[" ","logout"," "]}):ee.jsx(ba,{to:"/signin",children:" Login "}),ee.jsx(sP,{})]})]})}function oP(){return ee.jsxs("footer",{className:"p-4 text-center text-sm text-gray-500",children:[" ",ee.jsx(ba,{to:"https://github.com/Dj-Rom",children:"GitHub"})," 2025"," ",ee.jsxs(ba,{to:"https://rs.school/courses/reactjs",children:[ee.jsx("img",{width:10,src:"https://images.ctfassets.net/12phxmr4hjo6/5gsAustpJN1GgYERWk8Hth/2df7c970259f0e01a1a0f567e859bc65/react.svg",alt:"logo react course RS School"}),"React Course Rs"]})]})}function lP(){return ee.jsxs(ee.Fragment,{children:[ee.jsx(aP,{}),ee.jsx("main",{className:"p-4",children:ee.jsx(N1,{})}),ee.jsx(oP,{})]})}function uP(){const{t:r}=oi(),{login:e}=fw(),t=km(),[s,a]=B.useState(""),[l,c]=B.useState(""),[d,p]=B.useState(null),[m,v]=B.useState(!1),T=async S=>{S.preventDefault(),v(!0),p(null);try{const A=await e(s,l);console.log("Signed in as:",A.id),t("/rest")}catch(A){p(A.message||"Login failed")}finally{v(!1)}};return ee.jsxs("div",{className:"max-w-md mx-auto py-6 px-4",children:[ee.jsx("h1",{className:"text-2xl font-bold mb-4",children:r("signin")}),ee.jsxs("form",{onSubmit:T,className:"space-y-4",children:[ee.jsxs("div",{children:[ee.jsx("label",{className:"block mb-1",children:r("email")}),ee.jsx("input",{type:"email",value:s,onChange:S=>a(S.target.value),required:!0,className:"w-full border px-2 py-1 rounded"})]}),ee.jsxs("div",{children:[ee.jsx("label",{className:"block mb-1",children:r("password")}),ee.jsx("input",{type:"password",value:l,onChange:S=>c(S.target.value),required:!0,className:"w-full border px-2 py-1 rounded"})]}),d&&ee.jsx("p",{className:"text-red-600 text-sm",children:d}),ee.jsx("button",{type:"submit",disabled:m,className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:m?"...":r("signin")})]})]})}function cP(){const{t:r}=oi(),e=km(),[t,s]=B.useState(""),[a,l]=B.useState(""),[c,d]=B.useState(null),[p,m]=B.useState(!1),v=async T=>{T.preventDefault(),m(!0),d(null);try{const S=await jM(t,a);console.log("Signed up:",S),e("/rest")}catch(S){d(S.message||"Signup failed")}finally{m(!1)}};return ee.jsxs("div",{className:"max-w-md mx-auto py-6 px-4",children:[ee.jsx("h1",{className:"text-2xl font-bold mb-4",children:r("signup")}),ee.jsxs("form",{onSubmit:v,className:"space-y-4",children:[ee.jsxs("div",{children:[ee.jsx("label",{className:"block mb-1 text-sm font-medium",children:r("email")}),ee.jsx("input",{type:"email",value:t,onChange:T=>s(T.target.value),required:!0,className:"w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ee.jsxs("div",{children:[ee.jsx("label",{className:"block mb-1 text-sm font-medium",children:r("password")}),ee.jsx("input",{type:"password",value:a,onChange:T=>l(T.target.value),required:!0,className:"w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c&&ee.jsx("p",{className:"text-red-600 text-sm",children:c}),ee.jsx("button",{type:"submit",disabled:p,className:"bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 transition",children:p?"...":r("signup")})]})]})}function $p(r,e){return r.replace(/{{(.*?)}}/g,(t,s)=>e[s.trim()]??`{{${s}}}`)}function hP({url:r,headers:e,body:t,variables:s}){const a=$p(r,s),l={};for(const[d,p]of Object.entries(e))l[d]=$p(p,s);const c=$p(t,s);return{url:a,headers:l,body:c}}async function fP({method:r,url:e,headers:t,body:s,variables:a}){try{const{url:l,headers:c,body:d}=hP({url:e,headers:t,body:s,variables:a}),p=performance.now(),m=await fetch(l,{method:r,headers:c,body:["GET","HEAD"].includes(r.toUpperCase())?void 0:d}),v=performance.now()-p;let T;m.headers.get("content-type")?.includes("application/json")?T=await m.json():T=await m.text();const A={};return m.headers.forEach((D,Y)=>{A[Y]=D}),{error:void 0,status:m.status,statusText:m.statusText,duration:Math.round(v),data:T,headers:A}}catch(l){const c=performance.now();return{status:0,statusText:"Network Error",duration:Math.round(c),data:null,headers:{},error:String(l)}}}function Kp(r,e){localStorage.setItem(r,JSON.stringify(e))}function dP(r){const e=localStorage.getItem(r);return e?JSON.parse(e):null}const gh="rest-client-variables",gw=B.createContext({variables:{},addVariable:()=>{},editVariable:()=>{},deleteVariable:()=>{}}),pP=({children:r})=>{const[e,t]=B.useState({});B.useEffect(()=>{const c=dP(gh);c&&t(c)},[]);const s=(c,d)=>{t(p=>{const m={...p,[c]:d};return Kp(gh,m),m})},a=(c,d)=>{t(p=>{if(!p[c])return p;const m={...p,[c]:d};return Kp(gh,m),m})},l=c=>{t(d=>{const p={...d};return delete p[c],Kp(gh,p),p})};return ee.jsx(gw.Provider,{value:{variables:e,addVariable:s,editVariable:a,deleteVariable:l},children:r})},yw=()=>B.useContext(gw);function mP({response:r}){const{t:e}=oi();return ee.jsxs("div",{className:"mt-6 space-y-4",children:[ee.jsx("h2",{className:"text-xl font-bold",children:e("response")}),ee.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[ee.jsxs("div",{children:[ee.jsxs("span",{className:"font-semibold",children:[e("status"),":"]})," ",ee.jsxs("span",{className:r.status>=400?"text-red-600":"text-green-600",children:[r.status," ",r.statusText]})]}),ee.jsxs("div",{children:[ee.jsxs("span",{className:"font-semibold",children:[e("duration"),":"]})," ",r.duration,"ms"]})]}),r.error&&ee.jsxs("div",{className:"text-red-600 text-sm",children:[ee.jsxs("strong",{children:[e("error"),":"]})," ",r.error]}),ee.jsxs("div",{children:[ee.jsx("h3",{className:"font-semibold mb-1",children:"Headers"}),ee.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs overflow-x-auto",children:JSON.stringify(r.headers,null,2)})]}),ee.jsxs("div",{children:[ee.jsx("h3",{className:"font-semibold mb-1",children:"Body"}),ee.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs overflow-x-auto",children:typeof r.data=="object"?JSON.stringify(r.data,null,2):String(r.data)})]})]})}function gP({method:r,url:e,headers:t,body:s}){return{method:r,url:e,header:Object.entries(t).map(([a,l])=>({key:a,value:l})),body:{mode:"raw",raw:s}}}const yP=[{key:"curl",label:"cURL"},{key:"javascript",label:"JavaScript (fetch)"},{key:"python",label:"Python (requests)"}];function vP({method:r,url:e,header:t,body:s}){const{t:a}=oi(),[l,c]=B.useState("curl"),[d,p]=B.useState(""),[m,v]=B.useState(!1);B.useEffect(()=>{const S={};t?.forEach(({key:X,value:ne})=>{X&&(S[X]=ne)});const A=s??"",{url:D,header:Y,body:U}=gP({method:r,url:e,headers:S,body:A});p((()=>{switch(l){case"curl":{const X=Object.entries(Y||{}).map(([k,x])=>`-H "${k}: ${x}"`).join(` \\
  `),ne=X?X+` \\
  `:"",fe=typeof U=="object"?JSON.stringify(U,null,2):U,se=fe&&!["GET","HEAD"].includes(r.toUpperCase())?`--data '${fe}' \\
  `:"";return`curl -X ${r} \\
  ${ne}${se}"${D}"`}case"javascript":return`fetch("${D}", {
  method: "${r}",
  headers: ${JSON.stringify(Y||{},null,2)},
  body: ${U?JSON.stringify(U):"undefined"}
})`;case"python":return`import requests
import json

response = requests.request(
  "${r}",
  "${D}",
  headers=${JSON.stringify(Y||{},null,2)},
  data=${U?`json.dumps(${JSON.stringify(U)})`:"None"}
)

print(response.text)`;default:return"// Unsupported language"}})())},[r,e,t,s,l]);const T=()=>{navigator.clipboard.writeText(d),v(!0),setTimeout(()=>v(!1),2e3)};return ee.jsxs("div",{className:"mt-6",children:[ee.jsx("h2",{className:"text-xl font-bold mb-2",children:a("codeGeneration")}),ee.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ee.jsx("select",{value:l,onChange:S=>c(S.target.value),className:"px-2 py-1 border rounded",children:yP.map(S=>ee.jsx("option",{value:S.key,children:S.label},S.key))}),ee.jsx("button",{onClick:T,className:"bg-gray-800 text-white px-3 py-1 rounded text-sm","aria-live":"polite",children:m?"Copied!":"Copy"})]}),ee.jsx("pre",{className:"bg-gray-100 p-4 rounded overflow-x-auto text-sm",children:ee.jsx("code",{children:d})})]})}async function XT(r,e,t,s,a,l){const c=Jb(cw,"requests");await VM(c,{userId:r,method:e,url:t,status:s,duration:a,error:l??null,timestamp:Rt.now()})}async function _P(r){const e=Jb(cw,"requests"),t=IM(e,xM("userId","==",r));return(await PM(t)).docs.map(a=>{const l=a.data();return{method:l.method,url:l.url,status:l.status,duration:l.duration,error:l.error??void 0,timestamp:l.timestamp.toDate()}})}const EP=["GET","POST","PUT","DELETE","PATCH"];function TP(){const{t:r}=oi(),{variables:e}=yw(),[t,s]=B.useState("GET");let[a,l]=B.useState("");const[c,d]=B.useState({}),[p,m]=B.useState(""),[v,T]=B.useState(null),[S,A]=B.useState(!1),D=(Q,X)=>{d(ne=>({...ne,[Q]:X}))};function Y(Q){const X=JSON.parse(localStorage.getItem("rest-client-variables"));return Object.keys(X).forEach(ne=>{Q=Q.replace(`{{${ne}}}`,X[ne])}),Q}const U=async()=>{if(!a.trim())return;A(!0);const Q=performance.now();let X="";const ne=Y(a);try{const fe=await Ng();if(!fe)throw new Error("Not authenticated");X=fe.id;const se=await fP({method:t,url:ne,headers:c,body:p,variables:e});T(se);const k=Math.round(performance.now()-Q);await XT(X,t,ne,se.status||0,k)}catch(fe){const se=Math.round(performance.now()-Q),k={status:0,statusText:"Error",duration:se,data:null,headers:{},error:fe instanceof Error?fe.message:typeof fe=="string"?fe:"Request failed"};T(k);let x="Request failed";fe instanceof Error?x=fe.message:typeof fe=="string"&&(x=fe),T(k),X&&await XT(X,t,ne,0,se,x)}finally{A(!1)}};return ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs("div",{className:"flex gap-2 items-center",children:[ee.jsx("select",{value:t,onChange:Q=>s(Q.target.value),className:"border px-2 py-1 rounded",children:EP.map(Q=>ee.jsx("option",{value:Q,children:Q},Q))}),ee.jsx("input",{type:"text",placeholder:r("url"),value:a,onChange:Q=>l(Q.target.value),className:"flex-grow border px-2 py-1 rounded"}),ee.jsx("button",{onClick:U,className:"bg-blue-600 text-white px-4 py-1 rounded",disabled:S,children:S?"...":r("send")})]}),ee.jsxs("div",{children:[ee.jsx("h3",{className:"font-semibold mb-2",children:r("headers")}),Object.entries(c).map(([Q,X],ne)=>ee.jsxs("div",{className:"flex gap-2 mb-1",children:[ee.jsx("input",{type:"text",value:Q,onChange:fe=>{const se=fe.target.value,k={...c};delete k[Q],k[se]=X,d(k)},className:"border px-2 py-1 w-1/3"}),ee.jsx("input",{type:"text",value:X,onChange:fe=>D(Q,fe.target.value),className:"border px-2 py-1 w-2/3"})]},ne)),ee.jsx("button",{onClick:()=>D("",""),className:"text-sm text-blue-600 mt-2",children:"+ Add Header"})]}),ee.jsxs("div",{children:[ee.jsx("h3",{className:"font-semibold mb-2",children:r("body")}),ee.jsx("textarea",{value:p,onChange:Q=>m(Q.target.value),rows:6,className:"w-full border px-2 py-1 rounded"})]}),v&&ee.jsx(mP,{response:v}),ee.jsx(vP,{method:t,url:Y(a),header:Object.entries(c).map(([Q,X])=>({key:Q,value:X})),body:p})]})}function SP(){const{t:r}=oi();return ee.jsxs("div",{className:"max-w-5xl mx-auto py-6 px-4",children:[ee.jsx("h1",{className:"text-2xl font-bold mb-4",children:r("appName")}),ee.jsx(TP,{})]})}function bP(){const[r,e]=B.useState([]),[t,s]=B.useState(!0),[a,l]=B.useState(null);B.useEffect(()=>{(async()=>{try{const p=await Ng();if(!p)throw new Error("You must be signed in to view history.");const v=(await _P(p.id)).sort((T,S)=>S.timestamp.getTime()-T.timestamp.getTime());e(v)}catch(p){l(p.message||"Failed to load history.")}finally{s(!1)}})()},[]);const c=d=>{window.open(`http://${d.url}`,"_blank","opener,referrer")};return t?ee.jsx("p",{className:"text-gray-500",children:"Loading history..."}):a?ee.jsx("p",{className:"text-red-500",children:a}):r.length===0?ee.jsx("p",{className:"text-gray-500",children:"No history found."}):ee.jsx("div",{className:"space-y-4",children:r.map((d,p)=>ee.jsxs("div",{className:"history-entry",onClick:()=>c(d),children:[ee.jsxs("div",{className:"history-header",children:[ee.jsx("span",{className:"history-method",children:d.method}),ee.jsx("span",{className:"history-timestamp",children:d.timestamp.toLocaleString()})]}),ee.jsx("div",{className:"history-url",children:d.url}),ee.jsxs("div",{className:"history-meta",children:["Status: ",ee.jsx("span",{className:"status",children:d.status})," | Duration:"," ",d.duration,"ms",d.error&&ee.jsxs("span",{className:"error",children:[" | Error: ",d.error]})]})]},p))})}function wP(){const{t:r}=oi();return ee.jsxs("div",{className:"max-w-4xl mx-auto py-6 px-4",children:[ee.jsx("h1",{className:"text-2xl font-bold mb-4",children:r("history")}),ee.jsx(bP,{})]})}function AP(){const{variables:r,addVariable:e,editVariable:t,deleteVariable:s}=yw(),{t:a}=oi(),[l,c]=B.useState(""),[d,p]=B.useState(""),[m,v]=B.useState(null),T=()=>{l.trim()&&(m?(t(m,d),v(null)):e(l,d),c(""),p(""))},S=D=>{v(D),c(D),p(r[D])},A=()=>{v(null),c(""),p("")};return ee.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[ee.jsx("h2",{className:"text-2xl font-bold",children:a("variables")}),ee.jsxs("div",{className:"flex gap-2",children:[ee.jsx("input",{type:"text",placeholder:a("addVariable")+" name",value:l,onChange:D=>c(D.target.value),className:"border px-2 py-1 w-1/3"}),ee.jsx("input",{type:"text",placeholder:a("addVariable")+" value",value:d,onChange:D=>p(D.target.value),className:"border px-2 py-1 w-1/2"}),ee.jsx("button",{onClick:T,className:"bg-blue-600 text-white px-3 py-1 rounded",children:a(m?"save Variable":"add Variable")}),m&&ee.jsx("button",{onClick:A,className:"bg-gray-400 text-white px-3 py-1 rounded",children:"Cancel"})]}),ee.jsx("ul",{className:"space-y-2",children:Object.entries(r).map(([D,Y])=>ee.jsxs("li",{className:"flex justify-between items-center border p-2 rounded",children:[ee.jsxs("div",{children:[ee.jsx("span",{className:"font-semibold",children:`{{${D}}}`}),"="," ",ee.jsx("span",{children:Y})]}),ee.jsxs("div",{className:"flex gap-2",children:[ee.jsx("button",{onClick:()=>S(D),className:"text-blue-600 hover:underline",children:a("editVariable")}),ee.jsx("button",{onClick:()=>s(D),className:"text-red-600 hover:underline",children:a("deleteVariable")})]})]},D))})]})}function RP(){const{t:r}=oi();return ee.jsxs("div",{className:"max-w-4xl mx-auto py-6 px-4",children:[ee.jsx("h1",{className:"text-2xl font-bold mb-4",children:r("variables")}),ee.jsx(AP,{})]})}const CP=tC([{path:"/",element:ee.jsx(lP,{}),children:[{path:"signin",element:ee.jsx(uP,{})},{path:"signup",element:ee.jsx(cP,{})},{path:"rest",element:ee.jsx(SP,{})},{path:"history",element:ee.jsx(wP,{})},{path:"variables",element:ee.jsx(RP,{})}]}]);class IP extends B.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?this.props.fallback??ee.jsxs("div",{className:"p-4 text-center text-red-600",children:[ee.jsx("h2",{className:"text-xl font-bold",children:"Something went wrong."}),ee.jsx("p",{children:this.state.error?.message})]}):this.props.children}}const je=r=>typeof r=="string",nu=()=>{let r,e;const t=new Promise((s,a)=>{r=s,e=a});return t.resolve=r,t.reject=e,t},WT=r=>r==null?"":""+r,xP=(r,e,t)=>{r.forEach(s=>{e[s]&&(t[s]=e[s])})},DP=/###/g,JT=r=>r&&r.indexOf("###")>-1?r.replace(DP,"."):r,ZT=r=>!r||je(r),mu=(r,e,t)=>{const s=je(e)?e.split("."):e;let a=0;for(;a<s.length-1;){if(ZT(r))return{};const l=JT(s[a]);!r[l]&&t&&(r[l]=new t),Object.prototype.hasOwnProperty.call(r,l)?r=r[l]:r={},++a}return ZT(r)?{}:{obj:r,k:JT(s[a])}},e0=(r,e,t)=>{const{obj:s,k:a}=mu(r,e,Object);if(s!==void 0||e.length===1){s[a]=t;return}let l=e[e.length-1],c=e.slice(0,e.length-1),d=mu(r,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=mu(r,c,Object),d?.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=t},NP=(r,e,t,s)=>{const{obj:a,k:l}=mu(r,e,Object);a[l]=a[l]||[],a[l].push(t)},nf=(r,e)=>{const{obj:t,k:s}=mu(r,e);if(t&&Object.prototype.hasOwnProperty.call(t,s))return t[s]},OP=(r,e,t)=>{const s=nf(r,t);return s!==void 0?s:nf(e,t)},vw=(r,e,t)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in r?je(r[s])||r[s]instanceof String||je(e[s])||e[s]instanceof String?t&&(r[s]=e[s]):vw(r[s],e[s],t):r[s]=e[s]);return r},wo=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var MP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const PP=r=>je(r)?r.replace(/[&<>"'\/]/g,e=>MP[e]):r;class VP{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const LP=[" ",",","?","!",";"],kP=new VP(20),UP=(r,e,t)=>{e=e||"",t=t||"";const s=LP.filter(c=>e.indexOf(c)<0&&t.indexOf(c)<0);if(s.length===0)return!0;const a=kP.getRegExp(`(${s.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!a.test(r);if(!l){const c=r.indexOf(t);c>0&&!a.test(r.substring(0,c))&&(l=!0)}return l},Im=(r,e,t=".")=>{if(!r)return;if(r[e])return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;const s=e.split(t);let a=r;for(let l=0;l<s.length;){if(!a||typeof a!="object")return;let c,d="";for(let p=l;p<s.length;++p)if(p!==l&&(d+=t),d+=s[p],c=a[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&p<s.length-1)continue;l+=p-l+1;break}a=c}return a},Iu=r=>r?.replace("_","-"),jP={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){console?.[r]?.apply?.(console,e)}};class rf{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||jP,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,a){return a&&!this.debug?null:(je(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new rf(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new rf(this.logger,e)}}var Xr=new rf;class Rf{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const a=this.observers[s].get(t)||0;this.observers[s].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a.apply(a,[e,...t])})}}class t0 extends Rf{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s,a={}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],s&&(Array.isArray(s)?d.push(...s):je(s)&&l?d.push(...s.split(l)):d.push(s)));const p=nf(this.data,d);return!p&&!t&&!s&&e.indexOf(".")>-1&&(e=d[0],t=d[1],s=d.slice(2).join(".")),p||!c||!je(s)?p:Im(this.data?.[e]?.[t],s,l)}addResource(e,t,s,a,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,t];s&&(d=d.concat(c?s.split(c):s)),e.indexOf(".")>-1&&(d=e.split("."),a=t,t=d[1]),this.addNamespaces(t),e0(this.data,d,a),l.silent||this.emit("added",e,t,s,a)}addResources(e,t,s,a={silent:!1}){for(const l in s)(je(s[l])||Array.isArray(s[l]))&&this.addResource(e,t,l,s[l],{silent:!0});a.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,a,l,c={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),a=s,s=t,t=d[1]),this.addNamespaces(t);let p=nf(this.data,d)||{};c.skipCopy||(s=JSON.parse(JSON.stringify(s))),a?vw(p,s,l):p={...p,...s},e0(this.data,d,p),c.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var _w={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,t,s,a){return r.forEach(l=>{e=this.processors[l]?.process(e,t,s,a)??e}),e}};const Ew=Symbol("i18next/PATH_KEY");function zP(){const r=[],e=Object.create(null);let t;return e.get=(s,a)=>(t?.revoke?.(),a===Ew?r:(r.push(a),t=Proxy.revocable(s,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function xm(r,e){const{[Ew]:t}=r(zP());return t.join(e?.keySeparator??".")}const n0={},r0=r=>!je(r)&&typeof r!="boolean"&&typeof r!="number";class sf extends Rf{constructor(e,t={}){super(),xP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Xr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const s={...t};return e==null?!1:this.resolve(e,s)?.res!==void 0}extractFromKey(e,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let l=t.ns||this.options.defaultNS||[];const c=s&&e.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!UP(e,s,a);if(c&&!d){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:je(l)?[l]:l};const m=e.split(s);(s!==a||s===a&&this.options.ns.indexOf(m[0])>-1)&&(l=m.shift()),e=m.join(a)}return{key:e,namespaces:je(l)?[l]:l}}translate(e,t,s){let a=typeof t=="object"?{...t}:t;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=xm(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:d,namespaces:p}=this.extractFromKey(e[e.length-1],a),m=p[p.length-1];let v=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;v===void 0&&(v=":");const T=a.lng||this.language,S=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(T?.toLowerCase()==="cimode")return S?l?{res:`${m}${v}${d}`,usedKey:d,exactUsedKey:d,usedLng:T,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:`${m}${v}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:T,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:d;const A=this.resolve(e,a);let D=A?.res;const Y=A?.usedKey||d,U=A?.exactUsedKey||d,Q=["[object Number]","[object Function]","[object RegExp]"],X=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,ne=!this.i18nFormat||this.i18nFormat.handleAsObject,fe=a.count!==void 0&&!je(a.count),se=sf.hasDefaultValue(a),k=fe?this.pluralResolver.getSuffix(T,a.count,a):"",x=a.ordinal&&fe?this.pluralResolver.getSuffix(T,a.count,{ordinal:!1}):"",R=fe&&!a.ordinal&&a.count===0,C=R&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${k}`]||a[`defaultValue${x}`]||a.defaultValue;let M=D;ne&&!D&&se&&(M=C);const L=r0(M),j=Object.prototype.toString.apply(M);if(ne&&M&&L&&Q.indexOf(j)<0&&!(je(X)&&Array.isArray(M))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(Y,M,{...a,ns:p}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(A.res=I,A.usedParams=this.getUsedParamsDetails(a),A):I}if(c){const I=Array.isArray(M),xe=I?[]:{},Ye=I?U:Y;for(const G in M)if(Object.prototype.hasOwnProperty.call(M,G)){const he=`${Ye}${c}${G}`;se&&!D?xe[G]=this.translate(he,{...a,defaultValue:r0(C)?C[G]:void 0,joinArrays:!1,ns:p}):xe[G]=this.translate(he,{...a,joinArrays:!1,ns:p}),xe[G]===he&&(xe[G]=M[G])}D=xe}}else if(ne&&je(X)&&Array.isArray(D))D=D.join(X),D&&(D=this.extendTranslation(D,e,a,s));else{let I=!1,xe=!1;!this.isValidLookup(D)&&se&&(I=!0,D=C),this.isValidLookup(D)||(xe=!0,D=d);const G=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&xe?void 0:D,he=se&&C!==D&&this.options.updateMissing;if(xe||I||he){if(this.logger.log(he?"updateKey":"missingKey",T,m,d,he?C:D),c){const te=this.resolve(d,{...a,keySeparator:!1});te&&te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ge=[];const ke=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ke&&ke[0])for(let te=0;te<ke.length;te++)ge.push(ke[te]);else this.options.saveMissingTo==="all"?ge=this.languageUtils.toResolveHierarchy(a.lng||this.language):ge.push(a.lng||this.language);const O=(te,pe,ce)=>{const Te=se&&ce!==D?ce:G;this.options.missingKeyHandler?this.options.missingKeyHandler(te,m,pe,Te,he,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(te,m,pe,Te,he,a),this.emit("missingKey",te,m,pe,D)};this.options.saveMissing&&(this.options.saveMissingPlurals&&fe?ge.forEach(te=>{const pe=this.pluralResolver.getSuffixes(te,a);R&&a[`defaultValue${this.options.pluralSeparator}zero`]&&pe.indexOf(`${this.options.pluralSeparator}zero`)<0&&pe.push(`${this.options.pluralSeparator}zero`),pe.forEach(ce=>{O([te],d+ce,a[`defaultValue${ce}`]||C)})}):O(ge,d,C))}D=this.extendTranslation(D,e,a,A,s),xe&&D===d&&this.options.appendNamespaceToMissingKey&&(D=`${m}${v}${d}`),(xe||I)&&this.options.parseMissingKeyHandler&&(D=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${v}${d}`:d,I?D:void 0,a))}return l?(A.res=D,A.usedParams=this.getUsedParamsDetails(a),A):D}extendTranslation(e,t,s,a,l){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const p=je(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(p){const T=e.match(this.interpolator.nestingRegexp);m=T&&T.length}let v=s.replace&&!je(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,s.lng||this.language||a.usedLng,s),p){const T=e.match(this.interpolator.nestingRegexp),S=T&&T.length;m<S&&(s.nest=!1)}!s.lng&&a&&a.res&&(s.lng=this.language||a.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>l?.[0]===T[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${t[0]}`),null):this.translate(...T,t),s)),s.interpolation&&this.interpolator.reset()}const c=s.postProcess||this.options.postProcess,d=je(c)?[c]:c;return e!=null&&d?.length&&s.applyPostProcessor!==!1&&(e=_w.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,t={}){let s,a,l,c,d;return je(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(s))return;const m=this.extractFromKey(p,t),v=m.key;a=v;let T=m.namespaces;this.options.fallbackNS&&(T=T.concat(this.options.fallbackNS));const S=t.count!==void 0&&!je(t.count),A=S&&!t.ordinal&&t.count===0,D=t.context!==void 0&&(je(t.context)||typeof t.context=="number")&&t.context!=="",Y=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);T.forEach(U=>{this.isValidLookup(s)||(d=U,!n0[`${Y[0]}-${U}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(n0[`${Y[0]}-${U}`]=!0,this.logger.warn(`key "${a}" for languages "${Y.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Y.forEach(Q=>{if(this.isValidLookup(s))return;c=Q;const X=[v];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(X,v,Q,U,t);else{let fe;S&&(fe=this.pluralResolver.getSuffix(Q,t.count,t));const se=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(S&&(t.ordinal&&fe.indexOf(k)===0&&X.push(v+fe.replace(k,this.options.pluralSeparator)),X.push(v+fe),A&&X.push(v+se)),D){const x=`${v}${this.options.contextSeparator||"_"}${t.context}`;X.push(x),S&&(t.ordinal&&fe.indexOf(k)===0&&X.push(x+fe.replace(k,this.options.pluralSeparator)),X.push(x+fe),A&&X.push(x+se))}}let ne;for(;ne=X.pop();)this.isValidLookup(s)||(l=ne,s=this.getResource(Q,U,ne,t))}))})}),{res:s,usedKey:a,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,s,a):this.resourceStore.getResource(e,t,s,a)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!je(e.replace);let a=s?e.replace:e;if(s&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!s){a={...a};for(const l of t)delete a[l]}return a}static hasDefaultValue(e){const t="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&e[s]!==void 0)return!0;return!1}}class i0{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Xr.create("languageUtils")}getScriptPartFromCode(e){if(e=Iu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Iu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(je(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(s=>{if(t)return;const a=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(s=>{if(t)return;const a=this.getScriptPartFromCode(s);if(this.isSupportedCode(a))return t=a;const l=this.getLanguagePartFromCode(s);if(this.isSupportedCode(l))return t=l;t=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),je(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),a=[],l=c=>{c&&(this.isSupportedCode(c)?a.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return je(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):je(e)&&l(this.formatLanguageCode(e)),s.forEach(c=>{a.indexOf(c)<0&&l(this.formatLanguageCode(c))}),a}}const s0={zero:0,one:1,two:2,few:3,many:4,other:5},a0={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class BP{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Xr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const s=Iu(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:s,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(s,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),a0;if(!e.match(/-|_/))return a0;const p=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(p,t)}return this.pluralRulesCache[l]=c,c}needsPlural(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,s={}){return this.getSuffixes(e,s).map(a=>`${t}${a}`)}getSuffixes(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?s.resolvedOptions().pluralCategories.sort((a,l)=>s0[a]-s0[l]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t,s={}){const a=this.getRule(e,s);return a?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,s))}}const o0=(r,e,t,s=".",a=!0)=>{let l=OP(r,e,t);return!l&&a&&je(t)&&(l=Im(r,t,s),l===void 0&&(l=Im(e,t,s))),l},Yp=r=>r.replace(/\$/g,"$$$$");class HP{constructor(e={}){this.logger=Xr.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:a,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:p,formatSeparator:m,unescapeSuffix:v,unescapePrefix:T,nestingPrefix:S,nestingPrefixEscaped:A,nestingSuffix:D,nestingSuffixEscaped:Y,nestingOptionsSeparator:U,maxReplaces:Q,alwaysFormat:X}=e.interpolation;this.escape=t!==void 0?t:PP,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?wo(l):c||"{{",this.suffix=d?wo(d):p||"}}",this.formatSeparator=m||",",this.unescapePrefix=v?"":T||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=S?wo(S):A||wo("$t("),this.nestingSuffix=D?wo(D):Y||wo(")"),this.nestingOptionsSeparator=U||",",this.maxReplaces=Q||1e3,this.alwaysFormat=X!==void 0?X:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,s)=>t?.source===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,s,a){let l,c,d;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=A=>{if(A.indexOf(this.formatSeparator)<0){const Q=o0(t,p,A,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(Q,void 0,s,{...a,...t,interpolationkey:A}):Q}const D=A.split(this.formatSeparator),Y=D.shift().trim(),U=D.join(this.formatSeparator).trim();return this.format(o0(t,p,Y,this.options.keySeparator,this.options.ignoreJSONStructure),U,s,{...a,...t,interpolationkey:Y})};this.resetRegExp();const v=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,T=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:A=>Yp(A)},{regex:this.regexp,safeValue:A=>this.escapeValue?Yp(this.escape(A)):Yp(A)}].forEach(A=>{for(d=0;l=A.regex.exec(e);){const D=l[1].trim();if(c=m(D),c===void 0)if(typeof v=="function"){const U=v(e,l,a);c=je(U)?U:""}else if(a&&Object.prototype.hasOwnProperty.call(a,D))c="";else if(T){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${D} for interpolating ${e}`),c="";else!je(c)&&!this.useRawValueToEscape&&(c=WT(c));const Y=A.safeValue(c);if(e=e.replace(l[0],Y),T?(A.regex.lastIndex+=c.length,A.regex.lastIndex-=l[0].length):A.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,s={}){let a,l,c;const d=(p,m)=>{const v=this.nestingOptionsSeparator;if(p.indexOf(v)<0)return p;const T=p.split(new RegExp(`${v}[ ]*{`));let S=`{${T[1]}`;p=T[0],S=this.interpolate(S,c);const A=S.match(/'/g),D=S.match(/"/g);((A?.length??0)%2===0&&!D||D.length%2!==0)&&(S=S.replace(/'/g,'"'));try{c=JSON.parse(S),m&&(c={...m,...c})}catch(Y){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,Y),`${p}${v}${S}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,p};for(;a=this.nestingRegexp.exec(e);){let p=[];c={...s},c=c.replace&&!je(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const m=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(m!==-1&&(p=a[1].slice(m).split(this.formatSeparator).map(v=>v.trim()).filter(Boolean),a[1]=a[1].slice(0,m)),l=t(d.call(this,a[1].trim(),c),c),l&&a[0]===e&&!je(l))return l;je(l)||(l=WT(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),p.length&&(l=p.reduce((v,T)=>this.format(v,T,s.lng,{...s,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const FP=r=>{let e=r.toLowerCase().trim();const t={};if(r.indexOf("(")>-1){const s=r.split("(");e=s[0].toLowerCase().trim();const a=s[1].substring(0,s[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(c=>{if(c){const[d,...p]=c.split(":"),m=p.join(":").trim().replace(/^'+|'+$/g,""),v=d.trim();t[v]||(t[v]=m),m==="false"&&(t[v]=!1),m==="true"&&(t[v]=!0),isNaN(m)||(t[v]=parseInt(m,10))}})}return{formatName:e,formatOptions:t}},l0=r=>{const e={};return(t,s,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const c=s+JSON.stringify(l);let d=e[c];return d||(d=r(Iu(s),a),e[c]=d),d(t)}},qP=r=>(e,t,s)=>r(Iu(t),s)(e);class GP{constructor(e={}){this.logger=Xr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const s=t.cacheInBuiltFormats?l0:qP;this.formats={number:s((a,l)=>{const c=new Intl.NumberFormat(a,{...l});return d=>c.format(d)}),currency:s((a,l)=>{const c=new Intl.NumberFormat(a,{...l,style:"currency"});return d=>c.format(d)}),datetime:s((a,l)=>{const c=new Intl.DateTimeFormat(a,{...l});return d=>c.format(d)}),relativetime:s((a,l)=>{const c=new Intl.RelativeTimeFormat(a,{...l});return d=>c.format(d,l.range||"day")}),list:s((a,l)=>{const c=new Intl.ListFormat(a,{...l});return d=>c.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=l0(t)}format(e,t,s,a={}){const l=t.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(p=>p.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,p)=>{const{formatName:m,formatOptions:v}=FP(p);if(this.formats[m]){let T=d;try{const S=a?.formatParams?.[a.interpolationkey]||{},A=S.locale||S.lng||a.locale||a.lng||s;T=this.formats[m](d,A,{...v,...a,...S})}catch(S){this.logger.warn(S)}return T}else this.logger.warn(`there was no format function for ${m}`);return d},e)}}const $P=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class KP extends Rf{constructor(e,t,s,a={}){super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=a,this.logger=Xr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,a.backend,a)}queueLoad(e,t,s,a){const l={},c={},d={},p={};return e.forEach(m=>{let v=!0;t.forEach(T=>{const S=`${m}|${T}`;!s.reload&&this.store.hasResourceBundle(m,T)?this.state[S]=2:this.state[S]<0||(this.state[S]===1?c[S]===void 0&&(c[S]=!0):(this.state[S]=1,v=!1,c[S]===void 0&&(c[S]=!0),l[S]===void 0&&(l[S]=!0),p[T]===void 0&&(p[T]=!0)))}),v||(d[m]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(p)}}loaded(e,t,s){const a=e.split("|"),l=a[0],c=a[1];t&&this.emit("failedLoading",l,c,t),!t&&s&&this.store.addResourceBundle(l,c,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&s&&(this.state[e]=0);const d={};this.queue.forEach(p=>{NP(p.loaded,[l],c),$P(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(m=>{d[m]||(d[m]={});const v=p.loaded[m];v.length&&v.forEach(T=>{d[m][T]===void 0&&(d[m][T]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(p=>!p.done)}read(e,t,s,a=0,l=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:s,tried:a,wait:l,callback:c});return}this.readingCalls++;const d=(m,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const T=this.waitingReads.shift();this.read(T.lng,T.ns,T.fcName,T.tried,T.wait,T.callback)}if(m&&v&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,s,a+1,l*2,c)},l);return}c(m,v)},p=this.backend[s].bind(this.backend);if(p.length===2){try{const m=p(e,t);m&&typeof m.then=="function"?m.then(v=>d(null,v)).catch(d):d(null,m)}catch(m){d(m)}return}return p(e,t,d)}prepareLoading(e,t,s={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();je(e)&&(e=this.languageUtils.toResolveHierarchy(e)),je(t)&&(t=[t]);const l=this.queueLoad(e,t,s,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e,t=""){const s=e.split("|"),a=s[0],l=s[1];this.read(a,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${t}loading namespace ${l} for language ${a} failed`,c),!c&&d&&this.logger.log(`${t}loaded namespace ${l} for language ${a}`,d),this.loaded(e,c,d)})}saveMissing(e,t,s,a,l,c={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const p={...c,isUpdate:l},m=this.backend.create.bind(this.backend);if(m.length<6)try{let v;m.length===5?v=m(e,t,s,a,p):v=m(e,t,s,a),v&&typeof v.then=="function"?v.then(T=>d(null,T)).catch(d):d(null,v)}catch(v){d(v)}else m(e,t,s,a,d,p)}!e||!e[0]||this.store.addResource(e[0],t,s,a)}}}const u0=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),je(r[1])&&(e.defaultValue=r[1]),je(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const t=r[3]||r[2];Object.keys(t).forEach(s=>{e[s]=t[s]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),c0=r=>(je(r.ns)&&(r.ns=[r.ns]),je(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),je(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs?.indexOf?.("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r),yh=()=>{},YP=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(t=>{typeof r[t]=="function"&&(r[t]=r[t].bind(r))})};class xu extends Rf{constructor(e={},t){if(super(),this.options=c0(e),this.services={},this.logger=Xr,this.modules={external:[]},YP(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(je(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=u0();this.options={...s,...this.options,...c0(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?Xr.init(a(this.modules.logger),this.options):Xr.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=GP;const v=new i0(this.options);this.store=new t0(this.options.resources,this.options);const T=this.services;T.logger=Xr,T.resourceStore=this.store,T.languageUtils=v,T.pluralResolver=new BP(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),m&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(T.formatter=a(m),T.formatter.init&&T.formatter.init(T,this.options),this.options.interpolation.format=T.formatter.format.bind(T.formatter)),T.interpolator=new HP(this.options),T.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},T.backendConnector=new KP(a(this.modules.backend),T.resourceStore,T,this.options),T.backendConnector.on("*",(A,...D)=>{this.emit(A,...D)}),this.modules.languageDetector&&(T.languageDetector=a(this.modules.languageDetector),T.languageDetector.init&&T.languageDetector.init(T,this.options.detection,this.options)),this.modules.i18nFormat&&(T.i18nFormat=a(this.modules.i18nFormat),T.i18nFormat.init&&T.i18nFormat.init(this)),this.translator=new sf(this.services,this.options),this.translator.on("*",(A,...D)=>{this.emit(A,...D)}),this.modules.external.forEach(A=>{A.init&&A.init(this)})}if(this.format=this.options.interpolation.format,t||(t=yh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...v)=>this.store[m](...v)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...v)=>(this.store[m](...v),this)});const d=nu(),p=()=>{const m=(v,T)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(T),t(v,T)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),d}loadResources(e,t=yh){let s=t;const a=je(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(m=>{m!=="cimode"&&l.indexOf(m)<0&&l.push(m)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>c(p)),this.options.preload?.forEach?.(d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(d)})}else s(null)}reloadResources(e,t,s){const a=nu();return typeof e=="function"&&(s=e,e=void 0),typeof t=="function"&&(s=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),s||(s=yh),this.services.backendConnector.reload(e,t,l=>{a.resolve(),s(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&_w.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const s=nu();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,p)=>{p?this.isLanguageChangingTo===e&&(a(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,s.resolve((...m)=>this.t(...m)),t&&t(d,(...m)=>this.t(...m))},c=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const p=je(d)?d:d&&d[0],m=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(je(d)?[d]:d);m&&(this.language||a(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector?.cacheUserLanguage?.(m)),this.loadResources(m,v=>{l(v,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),s}getFixedT(e,t,s){const a=(l,c,...d)=>{let p;typeof c!="object"?p=this.options.overloadTranslationOptionHandler([l,c].concat(d)):p={...c},p.lng=p.lng||a.lng,p.lngs=p.lngs||a.lngs,p.ns=p.ns||a.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||s||a.keyPrefix);const m=this.options.keySeparator||".";let v;return p.keyPrefix&&Array.isArray(l)?v=l.map(T=>(typeof T=="function"&&(T=xm(T,{...this.options,...c})),`${p.keyPrefix}${m}${T}`)):(typeof l=="function"&&(l=xm(l,{...this.options,...c})),v=p.keyPrefix?`${p.keyPrefix}${m}${l}`:l),this.t(v,p)};return je(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=s,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const c=(d,p)=>{const m=this.services.backendConnector.state[`${d}|${p}`];return m===-1||m===0||m===2};if(t.precheck){const d=t.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,e)&&(!a||c(l,e)))}loadNamespaces(e,t){const s=nu();return this.options.ns?(je(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{s.resolve(),t&&t(a)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=nu();je(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(c=>a.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=a.concat(l),this.loadResources(c=>{s.resolve(),t&&t(c)}),s):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new i0(u0());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new xu(e,t)}cloneInstance(e={},t=yh){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new xu(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},s){const d=Object.keys(this.store.data).reduce((p,m)=>(p[m]={...this.store.data[m]},p[m]=Object.keys(p[m]).reduce((v,T)=>(v[T]={...p[m][T]},v),p[m]),p),{});l.store=new t0(d,a),l.services.resourceStore=l.store}return l.translator=new sf(l.services,a),l.translator.on("*",(d,...p)=>{l.emit(d,...p)}),l.init(a,t),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const bn=xu.createInstance();bn.createInstance=xu.createInstance;bn.createInstance;bn.dir;bn.init;bn.loadResources;bn.reloadResources;bn.use;bn.changeLanguage;bn.getFixedT;bn.t;bn.exists;bn.setDefaultNamespace;bn.hasLoadedNamespace;bn.loadNamespaces;bn.loadLanguages;const QP="REST Client",XP="Sign In",WP="Sign Up",JP="Sign Out",ZP="Email",eV="Password",tV="Submit",nV="Method",rV="URL",iV="Headers",sV="Body",aV="Send Request",oV="Response",lV="Status",uV="Duration",cV="Code Generation",hV="History",fV="Variables",dV="Add Variable",pV="Edit Variable",mV="Delete Variable",gV="Language",yV="Welcome to REST Client",vV="Something went wrong",_V="Page not found",EV={appName:QP,signin:XP,signup:WP,signout:JP,email:ZP,password:eV,submit:tV,method:nV,url:rV,headers:iV,body:sV,send:aV,response:oV,status:lV,duration:uV,codeGeneration:cV,history:hV,variables:fV,addVariable:dV,editVariable:pV,deleteVariable:mV,language:gV,welcome:yV,error:vV,notFound:_V},TV="Klient REST",SV="Zaloguj si",bV="Zarejestruj si",wV="Wyloguj si",AV="Email",RV="Haso",CV="Wylij",IV="Metoda",xV="Adres URL",DV="Nagwki",NV="Tre",OV="Wylij danie",MV="Odpowied",PV="Status",VV="Czas trwania",LV="Generowanie kodu",kV="Historia",UV="Zmienne",jV="Dodaj zmienn",zV="Edytuj zmienn",BV="Usu zmienn",HV="Jzyk",FV="Witamy w Kliencie REST",qV="Co poszo nie tak",GV="Strona nie zostaa znaleziona",$V={appName:TV,signin:SV,signup:bV,signout:wV,email:AV,password:RV,submit:CV,method:IV,url:xV,headers:DV,body:NV,send:OV,response:MV,status:PV,duration:VV,codeGeneration:LV,history:kV,variables:UV,addVariable:jV,editVariable:zV,deleteVariable:BV,language:HV,welcome:FV,error:qV,notFound:GV};bn.use(ZM).init({resources:{en:{translation:EV},pl:{translation:$V}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});tR.createRoot(document.getElementById("root")).render(ee.jsx(YA.StrictMode,{children:ee.jsx(IP,{children:ee.jsx(BM,{children:ee.jsx(pP,{children:ee.jsx(pC,{router:CP})})})})}));
